<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>MPlayer - Le Lecteur Vidéo</title><link rel="stylesheet" href="default.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="fr" class="book" title="MPlayer - Le Lecteur Vidéo"><div class="titlepage"><div><div><h1 class="title"><a name="index"></a><span class="application">MPlayer</span> - Le Lecteur Vidéo</h1></div><div><h2 class="subtitle"><a class="ulink" href="http://www.mplayerhq.hu" target="_top">http://www.mplayerhq.hu</a></h2></div><div><p class="copyright">Copyright © 2000-2010 MPlayer team</p></div><div><div class="legalnotice" title="License"><a name="id2499749"></a><p class="legalnotice-title"><b>License</b></p><p>MPlayer is free software; you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by the
  Free Software Foundation; either version 2 of the License, or (at your
  option) any later version.</p><p>MPlayer is distributed in the hope that it will be useful, but
  WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
  or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License
  for more details.</p><p>You should have received a copy of the GNU General Public License
  along with MPlayer; if not, write to the Free Software Foundation,
  Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.</p></div></div></div><hr></div><div class="toc"><dl><dt><span class="preface"><a href="#howtoread">Comment lire cette documentation</a></span></dt><dt><span class="chapter"><a href="#intro">1. Introduction</a></span></dt><dt><span class="chapter"><a href="#install">2. Installation</a></span></dt><dd><dl><dt><span class="sect1"><a href="#softreq">2.1. Logiciels nécessaires</a></span></dt><dt><span class="sect1"><a href="#features">2.2. Fonctionalités</a></span></dt><dt><span class="sect1"><a href="#gui">2.3. À propos de l'interface graphique</a></span></dt><dt><span class="sect1"><a href="#fonts-osd">2.4. Polices et OSD</a></span></dt><dd><dl><dt><span class="sect2"><a href="#truetype-fonts">2.4.1. Police TrueType</a></span></dt><dt><span class="sect2"><a href="#bitmap-fonts">2.4.2. Polices Bitmap</a></span></dt><dt><span class="sect2"><a href="#osdmenu">2.4.3. Menu OSD</a></span></dt></dl></dd><dt><span class="sect1"><a href="#codec-installation">2.5. Installation Codec</a></span></dt><dd><dl><dt><span class="sect2"><a href="#xvid">2.5.1. Xvid</a></span></dt><dt><span class="sect2"><a href="#x264">2.5.2. x264</a></span></dt><dt><span class="sect2"><a href="#aac">2.5.3. Codec AAC</a></span></dt><dt><span class="sect2"><a href="#amr">2.5.4. codecs AMR</a></span></dt></dl></dd><dt><span class="sect1"><a href="#rtc">2.6. RTC</a></span></dt></dl></dd><dt><span class="chapter"><a href="#usage">3. Utilisation</a></span></dt><dd><dl><dt><span class="sect1"><a href="#commandline">3.1. Ligne de commande</a></span></dt><dt><span class="sect1"><a href="#subosd">3.2. Sous-titres et OSD</a></span></dt><dt><span class="sect1"><a href="#control">3.3. Contrôles</a></span></dt><dd><dl><dt><span class="sect2"><a href="#ctrl-cfg">3.3.1. Configuration des contrôles</a></span></dt><dt><span class="sect2"><a href="#lirc">3.3.2. Control from LIRC</a></span></dt><dt><span class="sect2"><a href="#slave-mode">3.3.3. Mode esclave</a></span></dt></dl></dd><dt><span class="sect1"><a href="#streaming">3.4. Streaming depuis le réseau ou les pipes</a></span></dt><dd><dl><dt><span class="sect2"><a href="#streaming-save">3.4.1. Sauvegarder du contenu flux</a></span></dt></dl></dd><dt><span class="sect1"><a href="#mpst">3.5. Flux distants</a></span></dt><dd><dl><dt><span class="sect2"><a href="#compile_mpst_server">3.5.1. Compilation du serveur</a></span></dt><dt><span class="sect2"><a href="#use_mpst">3.5.2. Utilisation de flux distants</a></span></dt></dl></dd><dt><span class="sect1"><a href="#edl">3.6. Listes d'Edition de Décision (EDL)</a></span></dt><dd><dl><dt><span class="sect2"><a href="#edl_using">3.6.1. Utiliser un fichier EDL</a></span></dt><dt><span class="sect2"><a href="#edl_making">3.6.2. Faire un fichier EDL</a></span></dt></dl></dd><dt><span class="sect1"><a href="#advaudio">3.7. Audio Avancé</a></span></dt><dd><dl><dt><span class="sect2"><a href="#advaudio-surround">3.7.1. Lecture Surround/Multi-canal</a></span></dt><dd><dl><dt><span class="sect3"><a href="#advaudio-surround-DVD">3.7.1.1. DVDs</a></span></dt><dt><span class="sect3"><a href="#advaudio-surround-stereoinfour">3.7.1.2. Lire des fichiers stéréo sur quatre haut-parleurs</a></span></dt><dt><span class="sect3"><a href="#advaudio-surround-passthrough">3.7.1.3. AC-3/DTS Passthrough</a></span></dt><dt><span class="sect3"><a href="#hwmpa-surround-passthrough">3.7.1.4. PasseBande audio MPEG</a></span></dt><dt><span class="sect3"><a href="#advaudio-surround-matrix">3.7.1.5. Audio à encodage matriciel</a></span></dt><dt><span class="sect3"><a href="#advaudio-surround-hrtf">3.7.1.6. Emulation Surround dans les écouteurs</a></span></dt><dt><span class="sect3"><a href="#advaudio-surround-troubleshooting">3.7.1.7. Dépannage</a></span></dt></dl></dd><dt><span class="sect2"><a href="#advaudio-channels">3.7.2. Manipulation de Canal</a></span></dt><dd><dl><dt><span class="sect3"><a href="#advaudio-channels-general">3.7.2.1. Information Générale</a></span></dt><dt><span class="sect3"><a href="#advaudio-channels-mono">3.7.2.2. Jouer en mono avec deux enceintes</a></span></dt><dt><span class="sect3"><a href="#advaudio-channels-copying">3.7.2.3. Copier/Déplacer le canal</a></span></dt><dt><span class="sect3"><a href="#advaudio-channels-mixing">3.7.2.4. Mixage de canal</a></span></dt></dl></dd><dt><span class="sect2"><a href="#advaudio-volume">3.7.3. Ajustement Logiciel du Volume</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#cd-dvd">4. Utilisation des CD/DVD</a></span></dt><dd><dl><dt><span class="sect1"><a href="#drives">4.1. Lecteurs CD/DVD</a></span></dt><dd><dl><dt><span class="sect2"><a href="#drives_linux">4.1.1. Linux</a></span></dt><dt><span class="sect2"><a href="#drives_freebsd">4.1.2. FreeBSD</a></span></dt></dl></dd><dt><span class="sect1"><a href="#dvd">4.2. Lecture de DVD</a></span></dt><dd><dl><dt><span class="sect2"><a href="#region_code">4.2.1. Code zone</a></span></dt></dl></dd><dt><span class="sect1"><a href="#vcd">4.3. Lecture de VCDs</a></span></dt></dl></dd><dt><span class="chapter"><a href="#tv">5. TV</a></span></dt><dd><dl><dt><span class="sect1"><a href="#tv-input">5.1. Entrée TV</a></span></dt><dd><dl><dt><span class="sect2"><a href="#tv-compilation">5.1.1. Compilation</a></span></dt><dt><span class="sect2"><a href="#tv-tips">5.1.2. Astuces d'utilisation</a></span></dt><dt><span class="sect2"><a href="#tv-examples">5.1.3. Exemples</a></span></dt></dl></dd><dt><span class="sect1"><a href="#tv-teletext">5.2. Télétexte</a></span></dt><dd><dl><dt><span class="sect2"><a href="#tv-teletext-implementation-notes">5.2.1. Notes d'implantation</a></span></dt><dt><span class="sect2"><a href="#tv-teletext-usage">5.2.2. Using teletext</a></span></dt><dt><span class="sect2"><a href="#tv-teletext-hotkeys">5.2.3. Raccourcis clavier pour le Télétexte</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#radio">6. Radio</a></span></dt><dd><dl><dt><span class="sect1"><a href="#radio-input">6.1. Entrée Radio</a></span></dt><dd><dl><dt><span class="sect2"><a href="#radio-compilation">6.1.1. Compilation</a></span></dt><dt><span class="sect2"><a href="#radio-tips">6.1.2. Astuces d'utilisation</a></span></dt><dt><span class="sect2"><a href="#radio-examples">6.1.3. Exemples</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#video">7. Sorties vidéo</a></span></dt><dd><dl><dt><span class="sect1"><a href="#mtrr">7.1. Réglage MTRR</a></span></dt><dt><span class="sect1"><a href="#xv">7.2. Xv</a></span></dt><dd><dl><dt><span class="sect2"><a href="#tdfx">7.2.1.  Cartes 3dfx</a></span></dt><dt><span class="sect2"><a href="#s3">7.2.2. Cartes S3</a></span></dt><dt><span class="sect2"><a href="#nvidia">7.2.3. Cartes nVidia</a></span></dt><dt><span class="sect2"><a href="#ati">7.2.4. Cartes ATI</a></span></dt><dt><span class="sect2"><a href="#neomagic">7.2.5. Cartes NeoMagic</a></span></dt><dt><span class="sect2"><a href="#trident">7.2.6. Cartes Trident</a></span></dt><dt><span class="sect2"><a href="#kyro">7.2.7. Cartes Kyro/PowerVR</a></span></dt><dt><span class="sect2"><a href="#intel">7.2.8. Cartes Intel</a></span></dt></dl></dd><dt><span class="sect1"><a href="#dga">7.3. DGA</a></span></dt><dt><span class="sect1"><a href="#sdl">7.4. SDL</a></span></dt><dt><span class="sect1"><a href="#svgalib">7.5. SVGAlib</a></span></dt><dt><span class="sect1"><a href="#fbdev">7.6. Sortie Framebuffer (FBdev)</a></span></dt><dt><span class="sect1"><a href="#mga_vid">7.7. Framebuffer Matrox (mga_vid)</a></span></dt><dt><span class="sect1"><a href="#tdfxfb">7.8. Support YUV 3Dfx</a></span></dt><dt><span class="sect1"><a href="#tdfx_vid">7.9. tdfx_vid</a></span></dt><dt><span class="sect1"><a href="#opengl">7.10. Sortie OpenGL</a></span></dt><dt><span class="sect1"><a href="#aalib">7.11. AAlib – affichage en mode texte</a></span></dt><dt><span class="sect1"><a href="#caca">7.12. 
  <code class="systemitem">libcaca</code> – Librairie ASCII Art
en couleur</a></span></dt><dt><span class="sect1"><a href="#vesa">7.13. VESA - sortie sur BIOS VESA</a></span></dt><dt><span class="sect1"><a href="#x11">7.14. X11</a></span></dt><dt><span class="sect1"><a href="#vidix">7.15. VIDIX</a></span></dt><dd><dl><dt><span class="sect2"><a href="#svgalib_helper">7.15.1. svgalib_helper</a></span></dt><dt><span class="sect2"><a href="#vidix-ati">7.15.2. Cartes ATI</a></span></dt><dt><span class="sect2"><a href="#vidix-mga">7.15.3. Cartes Matrox</a></span></dt><dt><span class="sect2"><a href="#vidix-trident">7.15.4. Cartes Trident</a></span></dt><dt><span class="sect2"><a href="#vidix-3dlabs">7.15.5. Cartes 3DLabs</a></span></dt><dt><span class="sect2"><a href="#vidix-nvidia">7.15.6. Cartes nVidia</a></span></dt><dt><span class="sect2"><a href="#vidix-sis">7.15.7. Cartes SiS</a></span></dt></dl></dd><dt><span class="sect1"><a href="#directfb">7.16. DirectFB</a></span></dt><dt><span class="sect1"><a href="#dfbmga">7.17. DirectFB/Matrox (dfbmga)</a></span></dt><dt><span class="sect1"><a href="#mpeg_decoders">7.18. Décodeurs MPEG</a></span></dt><dd><dl><dt><span class="sect2"><a href="#dvb">7.18.1. sorties et entrées DVB</a></span></dt><dt><span class="sect2"><a href="#dxr2">7.18.2. DXR2</a></span></dt><dt><span class="sect2"><a href="#dxr3">7.18.3. DXR3/Hollywood+</a></span></dt></dl></dd><dt><span class="sect1"><a href="#other">7.19. Autres matériels de visualisation</a></span></dt><dd><dl><dt><span class="sect2"><a href="#zr">7.19.1. Zr</a></span></dt><dt><span class="sect2"><a href="#blinkenlights">7.19.2. Blinkenlights</a></span></dt></dl></dd><dt><span class="sect1"><a href="#tvout">7.20. Sortie TV</a></span></dt><dd><dl><dt><span class="sect2"><a href="#tvout-mga-g400">7.20.1. Cartes Matrox G400</a></span></dt><dt><span class="sect2"><a href="#tv-out_matrox_g450">7.20.2. Cartes Matrox G450/G550</a></span></dt><dt><span class="sect2"><a href="#tv-out_matrox_cable">7.20.3. Construire un câble de sortie TV Matrox</a></span></dt><dt><span class="sect2"><a href="#tvout-ati">7.20.4. Cartes ATI</a></span></dt><dt><span class="sect2"><a href="#tvout-nvidia">7.20.5. nVidia</a></span></dt><dt><span class="sect2"><a href="#tvout-neomagic">7.20.6. Neomagic</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#ports">8. Ports</a></span></dt><dd><dl><dt><span class="sect1"><a href="#linux">8.1. Linux</a></span></dt><dd><dl><dt><span class="sect2"><a href="#debian">8.1.1. Paquets Debian</a></span></dt><dt><span class="sect2"><a href="#rpm">8.1.2. Paquets RPM</a></span></dt><dt><span class="sect2"><a href="#arm">8.1.3. ARM</a></span></dt></dl></dd><dt><span class="sect1"><a href="#bsd">8.2. *BSD</a></span></dt><dd><dl><dt><span class="sect2"><a href="#freebsd">8.2.1. FreeBSD</a></span></dt><dt><span class="sect2"><a href="#openbsd">8.2.2. OpenBSD</a></span></dt><dt><span class="sect2"><a href="#darwin">8.2.3. Darwin</a></span></dt></dl></dd><dt><span class="sect1"><a href="#unix">8.3. Unix Commercial</a></span></dt><dd><dl><dt><span class="sect2"><a href="#solaris">8.3.1. Solaris</a></span></dt><dt><span class="sect2"><a href="#hp-ux">8.3.2. HP-UX</a></span></dt><dt><span class="sect2"><a href="#aix">8.3.3. AIX</a></span></dt><dt><span class="sect2"><a href="#qnx">8.3.4. QNX</a></span></dt></dl></dd><dt><span class="sect1"><a href="#windows">8.4. Windows</a></span></dt><dd><dl><dt><span class="sect2"><a href="#cygwin">8.4.1. <span class="application">Cygwin</span></a></span></dt><dt><span class="sect2"><a href="#mingw">8.4.2. <span class="application">MinGW</span></a></span></dt></dl></dd><dt><span class="sect1"><a href="#macos">8.5. Mac OS</a></span></dt><dd><dl><dt><span class="sect2"><a href="#osx_gui">8.5.1. MPlayer OS X GUI</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#mencoder">9. Utilisation basique de <span class="application">MEncoder</span></a></span></dt><dd><dl><dt><span class="sect1"><a href="#menc-feat-selecting-codec">9.1. Sélection des codecs et du format du container</a></span></dt><dt><span class="sect1"><a href="#menc-feat-selecting-input">9.2. Sélection d'un fichier d'entrée ou un périphérique</a></span></dt><dt><span class="sect1"><a href="#menc-feat-mpeg4">9.3. Encodage MPEG-4 deux passes ("DivX")</a></span></dt><dt><span class="sect1"><a href="#menc-feat-handheld-psp">9.4. Encodage au format vidéo Sony PSP</a></span></dt><dt><span class="sect1"><a href="#menc-feat-mpeg">9.5. Encodage au format MPEG</a></span></dt><dt><span class="sect1"><a href="#menc-feat-rescale">9.6. Redimensionnement des films</a></span></dt><dt><span class="sect1"><a href="#menc-feat-streamcopy">9.7. Copie de flux</a></span></dt><dt><span class="sect1"><a href="#menc-feat-enc-images">9.8. Encodage à partir de nombreux fichiers Image (JPEG,
PNG, TGA,
SGI)</a></span></dt><dt><span class="sect1"><a href="#menc-feat-extractsub">9.9. Extraction des sous-titres DVD depuis fichier
Vobsub</a></span></dt><dt><span class="sect1"><a href="#aspect">9.10. Préserver le ratio d'aspect</a></span></dt></dl></dd><dt><span class="chapter"><a href="#encoding-guide">10. L'encodage avec <span class="application">MEncoder</span></a></span></dt><dd><dl><dt><span class="sect1"><a href="#menc-feat-dvd-mpeg4">10.1. Faire un MPEG-4 ("DivX") de bonne qualité à partir d'un DVD</a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-preparing-encode">10.1.1. Préparer l'encodage : identifier le matériel source et le nombre
d'images par secondes</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-preparing-encode-fps">10.1.1.1. Identification du nombre d'images par seconde de la source</a></span></dt><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-preparing-encode-material">10.1.1.2. Identification du matériel source</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-2pass">10.1.2. Quantificateur constant contre multipasse</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-constraints">10.1.3. Contraintes pour une compression efficace</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-crop">10.1.4. Découpage et Redimensionnement</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-resolution-bitrate">10.1.5. Choix de la résolution et du débit</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-resolution-bitrate-compute">10.1.5.1. Calcul de la résolution</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-filtering">10.1.6. Les filtres</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-interlacing">10.1.7. Entrelacement et Téléciné</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-encoding-interlaced">10.1.8. Encodage de vidéos entrelacées</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-av-sync">10.1.9. Remarques sur la synchronisation Audio/Vidéo</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-codec">10.1.10. Choisir le codec video</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-audio">10.1.11. Le son</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-muxing">10.1.12. Le multiplexage</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-muxing-filter-issues">10.1.12.1. Améliorer la fiabilité du multiplexage et de la synchronisation Audio/Video</a></span></dt><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-muxing-avi-limitations">10.1.12.2. Limitations du conteneur AVI</a></span></dt><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-muxing-matroska">10.1.12.3. Le multiplexage dans le conteneur Matroska</a></span></dt></dl></dd></dl></dd><dt><span class="sect1"><a href="#menc-feat-telecine">10.2. Comment gérer le téléciné et l'entrelacement des DVDs NTSC</a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-telecine-intro">10.2.1. Introduction</a></span></dt><dt><span class="sect2"><a href="#menc-feat-telecine-ident">10.2.2. Comment savoir quel type de vidéo vous avez ?</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-telecine-ident-progressive">10.2.2.1. Progressive</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-ident-telecined">10.2.2.2. Téléciné</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-ident-interlaced">10.2.2.3. Entrelacée</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-ident-mixedpt">10.2.2.4. Mélange de progressive et télécinée</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-ident-mixedpi">10.2.2.5. Mélange de vidéo progressive et entrelacée</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-telecine-encode">10.2.3. Comment encoder chaque catégorie ?</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-telecine-encode-progressive">10.2.3.1. Progressive</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-encode-telecined">10.2.3.2. Téléciné</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-encode-interlaced">10.2.3.3. Entrelacée</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-encode-mixedpt">10.2.3.4. Mélange de progressive et télécinée</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-encode-mixedpi">10.2.3.5. Mélange de progressive et d'entrelacée</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-telecine-footnotes">10.2.4. Notes de bas de pages</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-enc-libavcodec">10.3. Encodage avec la famille de codec <code class="systemitem">libavcodec</code></a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-enc-libavcodec-video-codecs">10.3.1. Codecs vidéo de <code class="systemitem">libavcodec</code></a></span></dt><dt><span class="sect2"><a href="#menc-feat-enc-libavcodec-audio-codecs">10.3.2. Codecs audio de <code class="systemitem">libavcodec</code></a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-enc-libavcodec-audio-codecs-pcmadpcm">10.3.2.1. tableau complémentaire des formats PCM/ADPCM</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-lavc-encoding-options">10.3.3. Options d'encodage de libavcodec</a></span></dt><dt><span class="sect2"><a href="#menc-feat-mpeg4-lavc-example-settings">10.3.4. Exemples de paramètres d'encodage</a></span></dt><dt><span class="sect2"><a href="#custommatrices">10.3.5. Matrices inter/intra personnalisées</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-example">10.3.6. Exemple</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-xvid">10.4. Encodage avec le codec <code class="systemitem">Xvid</code></a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-xvid-intro">10.4.1. Quelles options devrais-je utiliser pour avoir les meilleurs
résultats ?</a></span></dt><dt><span class="sect2"><a href="#menc-feat-xvid-encoding-options">10.4.2. Options d'encodage de <code class="systemitem">Xvid</code></a></span></dt><dt><span class="sect2"><a href="#menc-feat-xvid-encoding-profiles">10.4.3. Profils d'encodage</a></span></dt><dt><span class="sect2"><a href="#menc-feat-xvid-example-settings">10.4.4. Exemples de paramètres d'encodage</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-x264">10.5. Encodage avec le codec <code class="systemitem">x264</code></a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-x264-encoding-options">10.5.1. Les options d'encodage de x264</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-x264-encoding-options-intro">10.5.1.1. Introduction</a></span></dt><dt><span class="sect3"><a href="#menc-feat-x264-encoding-options-speedvquality">10.5.1.2. Options qui affectent principalement la vitesse et la qualité</a></span></dt><dt><span class="sect3"><a href="#menc-feat-x264-encoding-options-misc-preferences">10.5.1.3. Options relatives à diverses préférences</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-x264-example-settings">10.5.2. Exemples de paramètre d'encodage</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-video-for-windows">10.6. Encoder avec la famille de codecs <code class="systemitem">Video For Windows</code></a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-enc-vfw-video-codecs">10.6.1. Les codecs Video for Windows supportés</a></span></dt><dt><span class="sect2"><a href="#menc-feat-video-for-windows-bitrate-settings">10.6.2. Utilisation de vfw2menc pour créer un fichier de configuration de codec.</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-quicktime-7">10.7. Utiliser <span class="application">MEncoder</span> pour créer
des fichiers compatibles <span class="application">QuickTime</span></a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-quicktime-7-why-use-it">10.7.1. Pourquoi produire des fichiers compatibles
<span class="application">QuickTime</span> ?</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-constraints">10.7.2. Limitations de <span class="application">QuickTime</span></a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-crop">10.7.3. Recadrage</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-scale">10.7.4. Redimensionnement</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-avsync">10.7.5. Synchronisation de l'audio et de la vidéo</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-bitrate">10.7.6. Débit</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-example">10.7.7. Exemple d'encodage</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-remux">10.7.8. Remultiplexage en MP4</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-metadata">10.7.9. Ajouter des tags de méta-données</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-vcd-dvd">10.8. Utiliser <span class="application">MEncoder</span> pour créer des fichiers compatibles VCD/SVCD/DVD.</a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-vcd-dvd-constraints">10.8.1. Contraintes de Format</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-constraints-resolution">10.8.1.1. Contraintes de format</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-constraints-gop">10.8.1.2. Contraintes de Taille GOP</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-constraints-bitrate">10.8.1.3. Contraintes de débit</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-vcd-dvd-output">10.8.2. Options de sortie</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-output-aspect">10.8.2.1. Format d'image</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-a-v-sync">10.8.2.2. Maintient de la synchronisation A/V</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-output-srate">10.8.2.3. Conversion du Taux d'échantillonnage</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-vcd-dvd-lavc">10.8.3. Utiliser libavcodec pour l'encodage VCD/SVCD/DVD</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-lavc-intro">10.8.3.1. Introduction</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-lavc-options">10.8.3.2. lavcopts</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-lavc-examples">10.8.3.3. Exemples</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-lavc-advanced">10.8.3.4. Options Avancées</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-vcd-dvd-audio">10.8.4. Encodage Audio</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-audio-toolame">10.8.4.1. toolame</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-audio-twolame">10.8.4.2. twolame</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-audio-lavc">10.8.4.3. libavcodec</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-vcd-dvd-all">10.8.5. Combiner le tout</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-pal-dvd">10.8.5.1. DVD PAL</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-ntsc-dvd">10.8.5.2. DVD NTSC</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-pal-ac3-copy">10.8.5.3. AVI PAL Contenant Audio AC-3 vers DVD</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-ntsc-ac3-copy">10.8.5.4. AVI NTSC Contenant Audio AC-3 vers DVD</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-pal-svcd">10.8.5.5. SVCD PAL</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-ntsc-svcd">10.8.5.6. SVCD NTSC</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-pal-vcd">10.8.5.7. VCD PAL</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-ntsc-vcd">10.8.5.8. VCD NTSC</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="chapter"><a href="#faq">11. Foire Aux Questions</a></span></dt><dt><span class="appendix"><a href="#bugreports">A. Comment rapporter les bogues</a></span></dt><dd><dl><dt><span class="sect1"><a href="#bugreports_security">A.1. Rapport de sécurité lié aux bogues</a></span></dt><dt><span class="sect1"><a href="#bugreports_fix">A.2. Comment réparer les bogues</a></span></dt><dt><span class="sect1"><a href="#bugreports_regression_test">A.3. Comment faire des tests de regression en utilisant Subversion</a></span></dt><dt><span class="sect1"><a href="#bugreports_report">A.4. Comment rapporter les bogues</a></span></dt><dt><span class="sect1"><a href="#bugreports_where">A.5. Où rapporter les bogues</a></span></dt><dt><span class="sect1"><a href="#bugreports_what">A.6. Que rapporter</a></span></dt><dd><dl><dt><span class="sect2"><a href="#bugreports_system">A.6.1. Information Système</a></span></dt><dt><span class="sect2"><a href="#bugreports_hardware">A.6.2. Matériel et pilotes</a></span></dt><dt><span class="sect2"><a href="#bugreports_configure">A.6.3. Problèmes de configuration</a></span></dt><dt><span class="sect2"><a href="#bugreports_compilation">A.6.4. Problèmes de compilation</a></span></dt><dt><span class="sect2"><a href="#bugreports_playback">A.6.5. Problèmes de lecture</a></span></dt><dt><span class="sect2"><a href="#bugreports_crash">A.6.6. Plantages</a></span></dt><dd><dl><dt><span class="sect3"><a href="#bugreports_debug">A.6.6.1. Comment conserver les informations sur un plantage reproductible</a></span></dt><dt><span class="sect3"><a href="#bugreports_core">A.6.6.2. Comment extraire les informations significatives d'un core dump</a></span></dt></dl></dd></dl></dd><dt><span class="sect1"><a href="#bugreports_advusers">A.7. Je sais ce que je fait...</a></span></dt></dl></dd><dt><span class="appendix"><a href="#skin">B. Format de skins <span class="application">MPlayer</span></a></span></dt><dd><dl><dt><span class="sect1"><a href="#skin-overview">B.1. Aperçu</a></span></dt><dd><dl><dt><span class="sect2"><a href="#skin-overview-directories">B.1.1. Répertoires</a></span></dt><dt><span class="sect2"><a href="#skin-overview-formats">B.1.2. Format d'images</a></span></dt><dt><span class="sect2"><a href="#skin-overview-components">B.1.3. Composants d'une skin</a></span></dt><dt><span class="sect2"><a href="#skin-files">B.1.4. Fichiers</a></span></dt></dl></dd><dt><span class="sect1"><a href="#skin-file">B.2. Le fichier skin</a></span></dt><dd><dl><dt><span class="sect2"><a href="#skin-file-main">B.2.1. Fenêtre principale et barre de lecture</a></span></dt><dt><span class="sect2"><a href="#skin-file-subwindow">B.2.2. Sous-fenêtre</a></span></dt><dt><span class="sect2"><a href="#skin-file-menu">B.2.3. Menu</a></span></dt></dl></dd><dt><span class="sect1"><a href="#skin-fonts">B.3. Polices</a></span></dt><dd><dl><dt><span class="sect2"><a href="#skin-fonts-symbols">B.3.1. Symboles</a></span></dt></dl></dd><dt><span class="sect1"><a href="#skin-gui">B.4. Messages de la GUI</a></span></dt><dt><span class="sect1"><a href="#skin-quality">B.5. Créer des skins de qualité</a></span></dt></dl></dd></dl></div><div class="preface" title="Comment lire cette documentation"><div class="titlepage"><div><div><h2 class="title"><a name="howtoread"></a>Comment lire cette documentation</h2></div></div></div><p>
Si c'est votre première installation, assurez-vous de tout lire d'ici
jusqu'à la fin de la section Installation, et de suivre tous les liens que vous
pourrez trouver. Si vous avez d'autres questions, retournez à la
<a class="link" href="#toc">table des matières</a>, lisez la <a class="xref" href="#faq" title="Chapitre 11. Foire Aux Questions">FAQ</a>
ou faites une recherche dans ces fichiers.
La plupart des questions devraient trouver leur réponse ici et le
reste a probablement déjà été demandé sur nos
<a class="ulink" href="http://www.mplayerhq.hu/design7/info.html#mailing_lists" target="_top">listes de diffusion</a>.
Regardez leurs <a class="ulink" href="https://lists.mplayerhq.hu/mailman/listinfo" target="_top">archives</a>,
il y a beaucoup d'informations intéressantes à y trouver.
</p></div><div class="chapter" title="Chapitre 1. Introduction"><div class="titlepage"><div><div><h2 class="title"><a name="intro"></a>Chapitre 1. Introduction</h2></div></div></div><p>
<span class="application">MPlayer</span> est un lecteur de vidéos pour GNU/Linux
(fonctionne sur de nombreux autres Un*x, et processeurs non-x86, voir la
section <a class="xref" href="#ports" title="Chapitre 8. Ports">Ports</a>).
Il lit la majorité des fichiers MPEG, VOB, AVI, OGG/OGM, VIVO, ASF/WMA/WMV,
QT/MOV/MP4, FLI, RM, NuppelVideo, yuv4mpeg, FILM, RoQ, PVA, Matroska supportés
par de nombreux codecs natifs, XAnim, RealPlayer et les DLLs Win32.
Vous pouvez regarder les VideoCD, SVCD, DVD, 3ivx, RealMedia, Sorenson,
Theora, ainsi que les vidéos au format MPEG-4 (DivX).
L'autre point fort de <span class="application">MPlayer</span> est la grande
variété de pilotes de sortie supportée.
Il fonctionne avec X11, Xv, DGA, OpenGL, SVGAlib, fbdev, AAlib, libcaca,
DirectFB, mais vous pouvez utiliser GGI et SDL (et ainsi tous leurs pilotes)
et également certains pilotes de bas niveau spécifiques à certaines cartes
(pour Matrox, 3Dfx et Radeon, Mach64, Permedia3) !
La plupart d'entre eux supportent le redimmensionnement logiciel ou
matériel, vous pouvez donc apprécier les films en plein écran.
<span class="application">MPlayer</span> supporte la décompression matérielle
fournie par certaines cartes MPEG, telles que la <a class="link" href="#dvb" title="7.18.1. sorties et entrées DVB">DVB</a>
et la <a class="link" href="#dxr3" title="7.18.3. DXR3/Hollywood+">DXR3/Hollywood+</a>.
Et que dire de ces superbes sous-titres ombrés et lissés (14
types supportés) avec des polices européennes/ISO 8859-1,2
(Hongrois, Anglais, Tchèque, etc.), Cyrilliques, Coréennes, ainsi que de
l'Affichage Sur Ecran (ou OSD = On Screen Display) ?
</p><p>
Ce lecteur peut lire les fichiers MPEG endommagés (utile pour certains VCDs),
ainsi que les mauvais fichiers AVI qui ne sont pas lisibles par le célèbre
Windows Media Player.
Même les fichiers AVI sans index sont lisibles, et vous pouvez reconstruire
leurs indexs soit temporairement avec l'option <tt class="option">-idx</tt>,
soit de manière définitive avec <span class="application">MEncoder</span>, autorisant
ainsi l'avance/retour rapide !
Comme vous pouvez le constater, la stabilité et la qualité sont les choses
les plus importantes, mais la vitesse est également formidable.
Il y a également un puissant système de filtres pour faire de la manipulation
vidéo et audio.
</p><p>
<span class="application">MEncoder</span> (Le Movie Encoder de
<span class="application">MPlayer</span>) est un simple encodeur de vidéos, conçu
pour encoder des vidéos jouables par <span class="application">MPlayer</span>
(AVI/ASF/OGG/DVD/VCD/VOB/MPG/MOV/VIV/FLI/RM/NUV/NET/PVA)
dans d'autres formats jouables par <span class="application">MPlayer</span>
(voir plus bas).
Il peut encoder avec des codecs variés comme MPEG-4 (DivX4)
(1 ou 2 passes),<code class="systemitem">libavcodec</code>,
audio PCM/MP3/MP3 VBR.
</p><div class="itemizedlist" title="Fonctionnalités de MEncoder"><p class="title"><b>Fonctionnalités de <span class="application">MEncoder</span></b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>Encodage à partir de la grande variété de formats de fichiers
et de décodeurs de <span class="application">MPlayer</span></p></li><li class="listitem"><p>
  Encodage dans tous les codecs
  <code class="systemitem">libavcodec</code> de FFmpeg
</p></li><li class="listitem"><p>
  Encodage vidéo depuis les tuners TV compatibles V4L
</p></li><li class="listitem"><p>
  Encodage/multiplexage vers fichiers AVI entrelacés avec index propre
</p></li><li class="listitem"><p>
  Création de fichiers à partir de flux audio externes
</p></li><li class="listitem"><p>
  Encodage 1, 2 ou 3 passes
</p></li><li class="listitem"><p>
  MP3 audio VBR
</p></li><li class="listitem"><p>
  PCM audio
</p></li><li class="listitem"><p>
  Copie de flux (stream)
</p></li><li class="listitem"><p>
  Synchronisation A/V de la source (basé sur PTS, peut être désactivé avec l'option
  <tt class="option">-mc 0</tt>)
</p></li><li class="listitem"><p>
  Correction FPS avec l'option <tt class="option">-ofps</tt> (utile
  pour l'encodage d'un VOB 30000/1001 fps en AVI 24000/1001 fps)
</p></li><li class="listitem"><p>
  Utilise notre très puissant système de plugins (crop, expand,
  flip, postprocess, rotate, scale, conversion rgb/yuv)
</p></li><li class="listitem"><p>
  Peut encoder les sous-titres DVD/VOBsub et
  le texte des sous-titres dans le fichier de destination
</p></li><li class="listitem"><p>
  Peut ripper les sous-titres DVD en format VOBsub
</p></li></ul></div><p>
<span class="application">MPlayer</span> et <span class="application">MEncoder</span>
peuvent être distribués selon les termes de la GNU General Public License Version 2.
</p></div><div class="chapter" title="Chapitre 2. Installation"><div class="titlepage"><div><div><h2 class="title"><a name="install"></a>Chapitre 2. Installation</h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="#softreq">2.1. Logiciels nécessaires</a></span></dt><dt><span class="sect1"><a href="#features">2.2. Fonctionalités</a></span></dt><dt><span class="sect1"><a href="#gui">2.3. À propos de l'interface graphique</a></span></dt><dt><span class="sect1"><a href="#fonts-osd">2.4. Polices et OSD</a></span></dt><dd><dl><dt><span class="sect2"><a href="#truetype-fonts">2.4.1. Police TrueType</a></span></dt><dt><span class="sect2"><a href="#bitmap-fonts">2.4.2. Polices Bitmap</a></span></dt><dt><span class="sect2"><a href="#osdmenu">2.4.3. Menu OSD</a></span></dt></dl></dd><dt><span class="sect1"><a href="#codec-installation">2.5. Installation Codec</a></span></dt><dd><dl><dt><span class="sect2"><a href="#xvid">2.5.1. Xvid</a></span></dt><dt><span class="sect2"><a href="#x264">2.5.2. x264</a></span></dt><dt><span class="sect2"><a href="#aac">2.5.3. Codec AAC</a></span></dt><dt><span class="sect2"><a href="#amr">2.5.4. codecs AMR</a></span></dt></dl></dd><dt><span class="sect1"><a href="#rtc">2.6. RTC</a></span></dt></dl></div><p>
Un guide d'installation rapide peut être trouvé dans le fichier <tt class="filename">README</tt>.
Veuillez le lire d'abord et revenir ensuite ici pour le reste des détails.
</p><p>
Dans ce chapitre, vous serez guidé à travers étapes de configuration et de
compilation de <span class="application">MPlayer</span>.
Ce n'est pas facile, mais pas vraiment difficile non plus.
Si vous observez un comportement différent de celui de ces explications,
cherchez dans la doc et vous trouverez les réponses adéquates.
</p><div class="sect1" title="2.1. Logiciels nécessaires"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="softreq"></a>2.1. Logiciels nécessaires</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <span class="bold"><strong>binutils</strong></span> - la version conseillée est la <span class="bold"><strong>2.11.x</strong></span> ou plus récente.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>gcc</strong></span> - les versions conseillées sont les
  versions 2.95 et 3.4 ou plus récentes.
  Les versions 2.96 et 3.0.x sont connues pour générer du code incorrect.
  Des problèmes plus ou moins graves existent avec les versions 3.1, 3.2 et 3.3.
  Sur les plateformes PowerPC, utilisez GCC 4.x.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>Xorg/XFree86</strong></span> - la version conseillée est la 4.3 ou
  plus récente.
  Assurez-vous que ses <span class="bold"><strong>paquets de développement</strong></span>
  sont également installés, sinon cela ne fonctionnera pas.
  Si vous n'avez pas besoin de X, certains pilotes de sortie vidéo fonctionnent
  aussi sans.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>make</strong></span> - version conseillée 3.79.x ou plus
  récente.
  Pour contruire la documentation XML, vous devez utiliser au moins la version 3.80.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>FreeType</strong></span> - version 2.0.9 ou supérieure requise pour l'affichage des
  sous-titres et du OSD (On Screen Display).
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>libjpeg</strong></span> - décodeur JPEG optionnel, utilisé
    par le pilote de sortie vidéo JPEG.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>libpng</strong></span> - Décodeur (M)PNG optionnel,
  requis pour l'interface graphique et le pilote de sortie vidéo PNG.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>lame</strong></span> - La version 3.90 ou plus récente est
  recommandé, requis pour l'encodage MP3 audio avec
  <span class="application">MEncoder</span>.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>zlib</strong></span> - recommandé, nécessaire pour les
  en-têtes MOV compressés et le support PNG.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong><a class="ulink" href="http://www.live555.com/mplayer/" target="_top">LIVE555 Streaming Media</a></strong></span>
  - optionnel, requis pour lire certains flux RTSP/RTP.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>directfb</strong></span> - optionnel, utilisez la version
  0.9.13 ou plus récente.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>cdparanoia</strong></span> - optionnel, pour le support CDDA
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>libxmms</strong></span> - optionnel, pour le support des plugins
  d'entrée de XMMS. Une version supérieure ou égale à 1.2.7 est requise.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>libsmb</strong></span> - optionnel, pour le support réseau smb.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>ALSA</strong></span> - optionnel, pour le support de sortie audio ALSA.
  La version 0.9.0rc4 est le minimum requis.
  </p></li></ul></div></div><div class="sect1" title="2.2. Fonctionalités"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="features"></a>2.2. Fonctionalités</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Si vous souhaitez une interface graphique (GUI), lisez la section <a class="link" href="#gui" title="2.3. À propos de l'interface graphique">GUI</a> avant de compiler.
  </p></li><li class="listitem"><p>
  Si vous voulez installer <span class="application">MEncoder</span> (notre excellent
  encodeur multi-usages), voir la section <a class="link" href="#mencoder" title="Chapitre 9. Utilisation basique de MEncoder"><span class="application">MEncoder</span></a>.
  </p></li><li class="listitem"><p>
  Si vous possédez une carte <span class="bold"><strong>tuner TV</strong></span> compatible
  V4L, et désirez voir/enregistrer et encoder des films avec <span class="application">MPlayer</span>, voyez la section
  <a class="link" href="#tv-input" title="5.1. Entrée TV">Entrée TV</a>.
  </p></li><li class="listitem"><p>
  Si vous possédez un carte <span class="bold"><strong>tuner radio</strong></span> compatible
  V4L, et désirez écouter et capturer du son avec <span class="application">MPlayer</span>,
  lisez la rubrique <a class="link" href="#radio" title="Chapitre 6. Radio">Entrée Radio</a>.
  </p></li><li class="listitem"><p>
  Il y a un élégant <span class="bold"><strong>Menu OSD</strong></span> prêt à être utilisé.
  Regardez la section <a class="link" href="#osdmenu" title="2.4.3. Menu OSD">menu OSD</a>.
  </p></li></ul></div><p>
Ensuite compilez <span class="application">MPlayer</span> :
</p><pre class="screen">
./configure
make
make install</pre><p>
</p><p>
A ce point, <span class="application">MPlayer</span> est prêt à fonctionner.
Le répertoire <tt class="filename">$PREFIX/share/mplayer</tt>
contient le fichier <tt class="filename">codecs.conf</tt>, qui est utilisé pour
donner au programme la liste des codecs et de leurs capacités. Ce fichier n'est requis
que si vous voulez changer ses propriétés, car le binaire principal en contient une
copie interne. Vérifiez si vous avez un <tt class="filename">codecs.conf</tt> dans votre
répertoire personnel (<tt class="filename">~/.mplayer/codecs.conf</tt>) provenant d'une
ancienne installation de <span class="application">MPlayer</span>, et supprimez-le.
</p><p>
Notez que si vous avez un <tt class="filename">codecs.conf</tt> dans
<tt class="filename">~/.mplayer/</tt>, les fichiers <tt class="filename">codecs.conf</tt>
du système ou celui intégré seront complètement ignorés.
Ne faites pas cela à moins de vouloir jouer avec le fonctionnement interne de
<span class="application">MPlayer</span> car cela peut poser des problèmes. Si vous voulez changer l'ordre de
recherche des codecs, utilisez les options <tt class="option">-vc</tt>, <tt class="option">-ac</tt>,
<tt class="option">-vfm</tt>, ou <tt class="option">-afm</tt> soit en ligne de commande soit dans
votre fichier de config (voir la page de man).
</p><p>
Les utilisateurs Debian peuvent construire un paquet .deb pour leur propre usage,
c'est très simple. Exécutez
</p><pre class="screen">fakeroot debian/rules binary</pre><p>
dans le répertoire racine de <span class="application">MPlayer</span>. Voir
<a class="link" href="#debian" title="8.1.1. Paquets Debian">Création de paquets Debian</a> pour de plus amples
instructions.
</p><p>
<span class="bold"><strong>Regardez toujours le listing généré par</strong></span>
<tt class="filename">./configure</tt>, ainsi que le fichier
<tt class="filename">configure.log</tt>, ils contiennent des informations sur
ce qui sera compilé, et ce qui ne le sera pas. Vous pouvez également consulter
les fichiers <tt class="filename">config.h</tt> et <tt class="filename">config.mak</tt>.
Si vous avez quelques librairies installées, mais pas détectées par
<tt class="filename">./configure</tt>, alors vérifiez que vous avez les fichiers
d'en-tête (généralement les paquets -dev) et que leur version correspond. Le fichier
<tt class="filename">configure.log</tt> vous dit généralement ce qui manque.
</p><p>
Bien que n'étant pas indispensables, les polices peuvent être installées pour
l'affichage de l'OSD, et le support des sous-titres. La méthode recommandée est
d'installer un fichier de police TTF et de dire à <span class="application">MPlayer</span> de l'utiliser. Voir la
section <a class="link" href="#osdmenu" title="2.4.3. Menu OSD">Sous-titres et OSD</a> pour les détails.
</p></div><div class="sect1" title="2.3. À propos de l'interface graphique"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gui"></a>2.3. À propos de l'interface graphique</h2></div></div></div><p>
La GUI à besoin de GTK 1.2.x ou GTK 2.0 (elle n'est pas entièrement basée dessus, mais les
menus le sont). Les skins sont stockées au format PNG, donc GTK,
<code class="systemitem">libpng</code> (ainsi que leurs paquets de dev,
généralement nommés <code class="systemitem">gtk-dev</code> et <code class="systemitem">libpng-dev</code>)
doivent être installés. Vous pouver la compiler en spécifiant l'option
<tt class="option">--enable-gui</tt> durant l'étape
<tt class="filename">./configure</tt>. Ensuite, pour l'activer vous devrez exécuter
le binaire <span class="command"><strong>gmplayer</strong></span>.
</p><p>
<span class="application">MPlayer</span> n'ayant pas de skin par défaut, vous
devrez en télécharger si vous voulez utiliser la GUI. Voir la <a class="ulink" href="http://www.mplayerhq.hu/dload.html" target="_top">page des téléchargements</a>.
Ils devront être placés dans le répertoire commun habituel
(<tt class="filename">$PREFIX/share/mplayer/skins</tt>),
 ou dans <tt class="filename">
$HOME/.mplayer/skins</tt>.
Par défaut, <span class="application">MPlayer</span> consulte ces répertoires à la
recherche d'un répertoire nommé <tt class="filename">default</tt>,
mais vous pouvez utiliser l'option <tt class="option">-skin <em class="replaceable"><code>nouveauskin</code></em></tt>,
ou placer <code class="literal">skin=nouveauskin</code> dans votre fichier de configuration
pour utiliser le skin dans le répertoire <tt class="filename">*/skins/nouveauskin</tt>.
</p></div><div class="sect1" title="2.4. Polices et OSD"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="fonts-osd"></a>2.4. Polices et OSD</h2></div></div></div><p>
Vous devez spécifier à <span class="application">MPlayer</span> quelles polices utiliser
pour l'OSD et les sous-titres. N'importe quelle police TrueType ou Bitmap devrait
faire l'affaire. Cependant, les polices TrueType sont recommandés car elles ont
un bien meilleur aspect, peuvent être mises à l'échelle correctement et gèrent mieux
les différents jeux de caractères.
</p><div class="sect2" title="2.4.1. Police TrueType"><div class="titlepage"><div><div><h3 class="title"><a name="truetype-fonts"></a>2.4.1. Police TrueType</h3></div></div></div><p>
Il y a deux façons de rendre les polices TrueType opérationnelles. La première
est de spécifier le nom du fichier de la police TrueType à utiliser grâce à l'option
<tt class="option">-font</tt>. Il peut être intéressant de placer
cette option dans votre fichier de configuration (voir la page de manuel pour plus de détails).
La seconde façon est de créer un lien symbolique (symlink) baptisé <tt class="filename">subfont.ttf</tt> pointant vers le fichier
contenant la police de votre choix. Pour choisir une police commune à tous les utilisateurs, tapez
</p><pre class="screen">ln -s <em class="replaceable"><code>/path/to/sample_font.ttf</code></em> $PREFIX/share/mplayer/subfont.ttf</pre><p>
Pour définir une police propre à chaque utilisateur, tapez
</p><pre class="screen">ln -s <em class="replaceable"><code>/path/to/sample_font.ttf</code></em> ~/.mplayer/subfont.ttf</pre><p>
</p><p>
La compilation de <span class="application">MPlayer</span> avec le support pour
<code class="systemitem">fontconfig</code> rend les méthodes ci-dessus inopérantes.
En effet, <span class="application">MPlayer</span> s'attend à ce que <tt class="option">-font</tt> soit
suivi d'un nom de police compatible avec <code class="systemitem">fontconfig</code>
et utilisera sans-serif par défaut.
Un exemple :
</p><pre class="screen">mplayer -font <em class="replaceable"><code>'Bitstream Vera Sans'</code></em> <em class="replaceable"><code>anime.mkv</code></em></pre><p>
</p><p>
Pour obtenir la liste des polices compatibles avec <code class="systemitem">fontconfig</code>,
executez <span class="command"><strong>fc-list</strong></span> dans la console.
</p></div><div class="sect2" title="2.4.2. Polices Bitmap"><div class="titlepage"><div><div><h3 class="title"><a name="bitmap-fonts"></a>2.4.2. Polices Bitmap</h3></div></div></div><p>
Si pour une raison quelconque vous souhaitez ou devez employer des polices bitmap, téléchargez en un jeu
depuis notre page web. Vous avez les choix entre différentes
<a class="ulink" href="http://www.mplayerhq.hu/MPlayer/releases/fonts/" target="_top">polices ISO</a> et quelques autres
<a class="ulink" href="http://www.mplayerhq.hu/MPlayer/contrib/fonts/" target="_top">polices développées par des utilisateurs</a>
supportant plusieurs encodages.
</p><p>
Décompressez le fichier que vous avez téléchargé dans le répertoire
<tt class="filename">~/.mplayer</tt> ou dans
<tt class="filename">$PREFIX/share/mplayer</tt>.
Ensuite, renommez ou créez un lien symbolique de l'un des répertoires ainsi créés vers
le sous-repertoire
<tt class="filename">font</tt>. Exemple :
</p><pre class="screen">ln -s <em class="replaceable"><code>~/.mplayer/arial-24</code></em> ~/.mplayer/font</pre><p>
</p><pre class="screen">ln -s <em class="replaceable"><code>$PREFIX/share/mplayer/arial-24</code></em> $PREFIX/share/mplayer/font</pre><p>
</p><p>
Les polices doivent disposer d'un fichier <tt class="filename">font.desc</tt>
associant les positions des caractères unicode à l'encodage (NdT: code page) utilisés par le sous-titre.
Une autre solution est d'encoder les sous-titres en UTF-8 et
d'utiliser l'option <tt class="option">-utf8</tt> ou de donner au fichier sous-titre
le même nom qu'au fichier video avec une extension <tt class="filename">.utf</tt> et de le placer
dans le même répertoire que la vidéo.
</p></div><div class="sect2" title="2.4.3. Menu OSD"><div class="titlepage"><div><div><h3 class="title"><a name="osdmenu"></a>2.4.3. Menu OSD</h3></div></div></div><p>
<span class="application">MPlayer</span> possède une interface de menu OSD complètement modulable.
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
Le menu des préférences n'est PAS IMPLÉMENTÉ pour l'instant!
</p></div><div class="orderedlist" title="Installation"><p class="title"><b>Installation</b></p><ol class="orderedlist" type="1"><li class="listitem"><p>
  compilez <span class="application">MPlayer</span> en passant le paramètre <tt class="option">--enable-menu</tt>
  à <tt class="filename">./configure</tt>
  </p></li><li class="listitem"><p>
  assurez-vous que les polices OSD sont installées
  </p></li><li class="listitem"><p>
  copiez <tt class="filename">etc/menu.conf</tt> dans votre répertoire
  <tt class="filename">.mplayer</tt>
  </p></li><li class="listitem"><p>
  copiez <tt class="filename">etc/input.conf</tt> dans votre répertoire
  <tt class="filename">.mplayer</tt>, ou dans le fichier de config globale de
  <span class="application">MPlayer</span> (par défaut: <tt class="filename">/usr/local/etc/mplayer</tt>)
  </p></li><li class="listitem"><p>
  trouvez et éditez <tt class="filename">input.conf</tt> pour activer les touches
  correspondant aux mouvements dans le menu (c'est décrit sur place).
  </p></li><li class="listitem"><p>
  lancez <span class="application">MPlayer</span> avec par exemple :
  </p><pre class="screen">$ mplayer -menu <em class="replaceable"><code>fichier.avi</code></em></pre><p>
  </p></li><li class="listitem"><p>
  pressez n'importe laquelle des touches menu que vous avez définies
  </p></li></ol></div></div></div><div class="sect1" title="2.5. Installation Codec"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="codec-installation"></a>2.5. Installation Codec</h2></div></div></div><div class="sect2" title="2.5.1. Xvid"><div class="titlepage"><div><div><h3 class="title"><a name="xvid"></a>2.5.1. Xvid</h3></div></div></div><p>
<a class="ulink" href="http://www.xvid.org" target="_top">Xvid</a> est un logiciel libre
de codec video conforme au MPEG-4 ASP. Notez qu'Xvid n'est pas nécessaire
pour décoder des vidéos encodée par Xvid.
<code class="systemitem">libavcodec</code> est utilisé par défaut
parce qu'il offre une vitesse supérieure.
</p><div class="procedure" title="Installer Xvid"><a name="id2541134"></a><p class="title"><b>Installer <code class="systemitem">Xvid</code></b></p><p>
  Comme la plupart des logiciels open source, il est disponible en deux
parfums :
  <a class="ulink" href="http://www.xvid.org/downloads.html" target="_top">versions officielle</a>
  et la version CVS.
  La version CVS est habituellement suffisament stable pour être utilisée,
  puisqu'elle bénéficie des corrections de bogues existant dans les versions
  officielles.
  Voici qui doit être fait pour faire fonctionner la version CVS de
  <code class="systemitem">Xvid</code>
  avec <span class="application">MEncoder</span> :
</p><ol class="procedure" type="1"><li class="step" title="Étape 1"><p>
  </p><pre class="screen">cvs -z3 -d:pserver:anonymous@cvs.xvid.org:/xvid login</pre><p>
  </p></li><li class="step" title="Étape 2"><p>
  </p><pre class="screen">cvs -z3 -d:pserver:anonymous@cvs.xvid.org:/xvid co xvidcore</pre><p>
</p></li><li class="step" title="Étape 3"><p>
  </p><pre class="screen">cd xvidcore/build/generic</pre><p>
  </p></li><li class="step" title="Étape 4"><p>
  </p><pre class="screen">./bootstrap.sh</pre><p>
  </p></li><li class="step" title="Étape 5"><p>
  </p><pre class="screen">./configure</pre><p>
  Vous pouvez avoir à ajouter des options (examinez la sortie de
  <span class="command"><strong>./configure --help</strong></span>).
  </p></li><li class="step" title="Étape 6"><p>
  </p><pre class="screen">make &amp;&amp; make install</pre><p>
  </p></li><li class="step" title="Étape 7"><p>
  Si vous avez spécifié <tt class="option">--enable-divxcompat</tt>,
  copiez <tt class="filename">../../src/divx4.h</tt> dans
  <tt class="filename">/usr/local/include/</tt>.
  </p></li><li class="step" title="Étape 8"><p>
  Recompilez <span class="application">MPlayer</span>.
  </p></li></ol></div></div><div class="sect2" title="2.5.2. x264"><div class="titlepage"><div><div><h3 class="title"><a name="x264"></a>2.5.2. x264</h3></div></div></div><p>
<a class="ulink" href="http://developers.videolan.org/x264.html" target="_top"><code class="systemitem">x264</code></a>
is a library for creating H.264 video.
<span class="application">MPlayer</span> sources are updated whenever
an <code class="systemitem">x264</code> API change
occurs, so it is always suggested to use
<span class="application">MPlayer</span> from Subversion.
</p><p>
If you have a GIT client installed, the latest x264
sources can be gotten with this command:
</p><pre class="screen">git clone git://git.videolan.org/x264.git</pre><p>

Then build and install in the standard way:
</p><pre class="screen">./configure &amp;&amp; make &amp;&amp; make install</pre><p>

Now rerun <tt class="filename">./configure</tt> for
<span class="application">MPlayer</span> to pick up
<code class="systemitem">x264</code> support.
</p></div><div class="sect2" title="2.5.3. Codec AAC"><div class="titlepage"><div><div><h3 class="title"><a name="aac"></a>2.5.3. Codec AAC</h3></div></div></div><p>
Un décodeur open source appelé FAAD est disponible sur
<a class="ulink" href="http://www.audiocoding.com/downloads.html" target="_top">http://www.audiocoding.com/downloads.html</a>.
<span class="application">MPlayer</span> inclus une copie, vous n'avez donc pas
à l'obtenir séparemment.
Si vous voulez utiliser une librairie externe, passez
<tt class="option">--enable-faad-external</tt> à <tt class="filename">./configure</tt>.
Vous n'avez pas besoin de tout faad2 pour décoder les fichiers AAC, libfaad suffit.
Construisez comme ceci :
</p><pre class="screen">
cd faad2/
sh bootstrap
./configure
cd libfaad
make
make install
</pre><p>
Les binaires ne sont pas disponibles sur audiocoding.com, mais vous pouvez
obtenir les paquets Debian sur la
<a class="ulink" href="http://www.debian-multimedia.org/" target="_top">page web de Christian Marillat</a>,
les RPMs Mandrake/Mandriva sur le <a class="ulink" href="http://plf.zarb.org" target="_top">P.L.F</a> et les RPMS
Fedora sur <a class="ulink" href="http://rpm.livna.org/" target="_top">Livna</a>.
</p></div><div class="sect2" title="2.5.4. codecs AMR"><div class="titlepage"><div><div><h3 class="title"><a name="amr"></a>2.5.4. codecs AMR</h3></div></div></div><p>
Le codec de voix Adaptive Multi-Rate est utilisé dans les téléphones mobiles de
troisième génération (3G).
L'implémentation de référence est disponible depuis
<a class="ulink" href="http://www.3gpp.org" target="_top">Projet d'Association sur la 3ème Génération</a>
(gratuit pour un usage privé).
</p><p>
  Pour activer le support, téléchargez et installez les bibliothèques pour
  <a class="ulink" href="http://www.penguin.cz/~utx/amr" target="_top">AMR-NB et AMR-WB</a> en
  suivant les instructions de cette page.  Ensuite, recompilez
  <span class="application">MPlayer</span>.
</p></div></div><div class="sect1" title="2.6. RTC"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="rtc"></a>2.6. RTC</h2></div></div></div><p>
Il y a trois méthodes de synchro dans <span class="application">MPlayer</span>.

</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="bold"><strong>Pour utiliser l'ancienne méthode</strong></span>, vous n'avez
rien à faire. Elle utilise <code class="systemitem">usleep()</code> pour régler la
synchro A/V, avec une précision de +/- 10ms. Cependant parfois la synchro doit être
réglée encore plus finement.
  </li><li class="listitem"><p>
<span class="bold"><strong>Le nouveau code de synchro</strong></span> utilise la RTC
(Real Time Clock) du PC pour cette tâche, car elle possède des timers précis à 1ms près.
Utilisez l'option <tt class="option">-rtc</tt> pour l'activer. Notez qu'un noyau correctement
configuré est requis. Si vous executez une version du noyau supérieure ou égale à 2.4.19pre8,
vous pouvez ajuster la fréquence maximale (de la RTC) accessible aux utilisateurs normaux grace au système
de fichiers  <code class="systemitem">/proc </code>. Pour ceci, les commandes suivantes sont à
votre disposition :
</p><pre class="screen">echo 1024 &gt; /proc/sys/dev/rtc/max-user-freq</pre><p>
ou  </p><pre class="screen">sysctl dev/rtc/max-user-freq=1024</pre><p>
Vous pouvez rendre ce réglagle permanant en ajoutant la seconde commande au fichier
<tt class="filename">/etc/sysctl.conf</tt>.
</p><p>
   Vous pouvez voir l'efficacité du nouveau timer sur la ligne d'état.
	Les fonctions de gestion de l'énergie des BIOS des certains portables
	avec des processeurs supportant SpeedStep ne font pas bon ménage avec la RTC.
	Le son et les images risquent d'être désynchronisés. Brancher le portable sur
	le secteur avant de le démarrer semble régler le problème dans la plupart des cas.
	Avec certaines configurations matérielles (confirmé par l'utilisation de lecteurs DVD ne supportant pas
	le DMA avec une carte-mère basée sur le chipset ALi1541), l'utilisation du timer RTC rend la lecture
	saccadée (NdT: skippy). Il est recommandé d'utiliser la troisième méthode dans ce cas.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>La troisième méthode de synchro</strong></span> est activée par l'option
  <tt class="option">-softsleep</tt>. Elle a la précision de la RTC, mais n'utilise pas la RTC.
  D'un autre côté, elle nécessite plus de CPU.
  </p></li></ul></div><p>
</p></div></div><div class="chapter" title="Chapitre 3. Utilisation"><div class="titlepage"><div><div><h2 class="title"><a name="usage"></a>Chapitre 3. Utilisation</h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="#commandline">3.1. Ligne de commande</a></span></dt><dt><span class="sect1"><a href="#subosd">3.2. Sous-titres et OSD</a></span></dt><dt><span class="sect1"><a href="#control">3.3. Contrôles</a></span></dt><dd><dl><dt><span class="sect2"><a href="#ctrl-cfg">3.3.1. Configuration des contrôles</a></span></dt><dt><span class="sect2"><a href="#lirc">3.3.2. Control from LIRC</a></span></dt><dt><span class="sect2"><a href="#slave-mode">3.3.3. Mode esclave</a></span></dt></dl></dd><dt><span class="sect1"><a href="#streaming">3.4. Streaming depuis le réseau ou les pipes</a></span></dt><dd><dl><dt><span class="sect2"><a href="#streaming-save">3.4.1. Sauvegarder du contenu flux</a></span></dt></dl></dd><dt><span class="sect1"><a href="#mpst">3.5. Flux distants</a></span></dt><dd><dl><dt><span class="sect2"><a href="#compile_mpst_server">3.5.1. Compilation du serveur</a></span></dt><dt><span class="sect2"><a href="#use_mpst">3.5.2. Utilisation de flux distants</a></span></dt></dl></dd><dt><span class="sect1"><a href="#edl">3.6. Listes d'Edition de Décision (EDL)</a></span></dt><dd><dl><dt><span class="sect2"><a href="#edl_using">3.6.1. Utiliser un fichier EDL</a></span></dt><dt><span class="sect2"><a href="#edl_making">3.6.2. Faire un fichier EDL</a></span></dt></dl></dd><dt><span class="sect1"><a href="#advaudio">3.7. Audio Avancé</a></span></dt><dd><dl><dt><span class="sect2"><a href="#advaudio-surround">3.7.1. Lecture Surround/Multi-canal</a></span></dt><dd><dl><dt><span class="sect3"><a href="#advaudio-surround-DVD">3.7.1.1. DVDs</a></span></dt><dt><span class="sect3"><a href="#advaudio-surround-stereoinfour">3.7.1.2. Lire des fichiers stéréo sur quatre haut-parleurs</a></span></dt><dt><span class="sect3"><a href="#advaudio-surround-passthrough">3.7.1.3. AC-3/DTS Passthrough</a></span></dt><dt><span class="sect3"><a href="#hwmpa-surround-passthrough">3.7.1.4. PasseBande audio MPEG</a></span></dt><dt><span class="sect3"><a href="#advaudio-surround-matrix">3.7.1.5. Audio à encodage matriciel</a></span></dt><dt><span class="sect3"><a href="#advaudio-surround-hrtf">3.7.1.6. Emulation Surround dans les écouteurs</a></span></dt><dt><span class="sect3"><a href="#advaudio-surround-troubleshooting">3.7.1.7. Dépannage</a></span></dt></dl></dd><dt><span class="sect2"><a href="#advaudio-channels">3.7.2. Manipulation de Canal</a></span></dt><dd><dl><dt><span class="sect3"><a href="#advaudio-channels-general">3.7.2.1. Information Générale</a></span></dt><dt><span class="sect3"><a href="#advaudio-channels-mono">3.7.2.2. Jouer en mono avec deux enceintes</a></span></dt><dt><span class="sect3"><a href="#advaudio-channels-copying">3.7.2.3. Copier/Déplacer le canal</a></span></dt><dt><span class="sect3"><a href="#advaudio-channels-mixing">3.7.2.4. Mixage de canal</a></span></dt></dl></dd><dt><span class="sect2"><a href="#advaudio-volume">3.7.3. Ajustement Logiciel du Volume</a></span></dt></dl></dd></dl></div><div class="sect1" title="3.1. Ligne de commande"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="commandline"></a>3.1. Ligne de commande</h2></div></div></div><p>
<span class="application">MPlayer</span> utilise un ordre de lecture complexe.
Les options globales sont écrites en premier, par exemple

</p><pre class="screen">mplayer -vfm 5</pre><p>

et les options écrites après les noms de fichier s'appliquent
uniquement au nom de fichier/URL/autre donné, par exemple

</p><pre class="screen">mplayer -vfm 5 <em class="replaceable"><code>film1.avi</code></em> <em class="replaceable"><code>film2.avi</code></em> -vfm 4</pre><p>
</p><p>
Vous pouvez regrouper les noms de fichiers/URLs en utilisant <code class="literal">{</code>
et <code class="literal">}</code>. C'est utile avec l'option <tt class="option">-loop</tt>:

</p><pre class="screen">mplayer { 1.avi - loop 2 2.avi } -loop 3</pre><p>

La commande ci-dessus jouera les fichiers dans cet ordre: 1, 1, 2, 1, 1, 2, 1, 1, 2.
</p><p>
Lecture d'un fichier:
</p><pre class="synopsis">
<span class="command"><strong>mplayer</strong></span> [<em class="replaceable"><code>options</code></em>] [<em class="replaceable"><code>chemin</code></em>/]<em class="replaceable"><code>fichier</code></em>
</pre><p>
</p><p>
Autre façon de lire un fichier:
</p><pre class="synopsis">
<span class="command"><strong>mplayer</strong></span> [<em class="replaceable"><code>options</code></em>] <em class="replaceable"><code>file:///chemin-uri-escaped</code></em>
</pre><p>
</p><p>
Lecture de plusieurs fichiers:
</p><pre class="synopsis">
<span class="command"><strong>mplayer</strong></span> [<em class="replaceable"><code>options par défaut</code></em>] [<em class="replaceable"><code>chemin</code></em>/]<em class="replaceable"><code>fichier1</code></em> [<em class="replaceable"><code>options pour fichier1</code></em>] <em class="replaceable"><code>fichier2</code></em> [<em class="replaceable"><code>options pour fichier2</code></em>] ...
</pre><p>
</p><p>
Lecture de VCD:
</p><pre class="synopsis">
<span class="command"><strong>mplayer</strong></span> [<em class="replaceable"><code>options</code></em>] vcd://<em class="replaceable"><code>N°piste</code></em> [-cdrom-device <em class="replaceable"><code>/dev/cdrom</code></em>]
</pre><p>
</p><p>
Lecture de DVD:
</p><pre class="synopsis">
<span class="command"><strong>mplayer</strong></span> [<em class="replaceable"><code>options</code></em>] dvd://<em class="replaceable"><code>N°titre</code></em> [-dvd-device <em class="replaceable"><code>/dev/dvd</code></em>]
</pre><p>
</p><p>
Lecture à partir du web:
</p><pre class="synopsis">
<span class="command"><strong>mplayer</strong></span> [<em class="replaceable"><code>options</code></em>] http://<em class="replaceable"><code>site.com/fichier.asf</code></em>
</pre><p>
(les listes de lecture peuvent également être utilisées)
</p><p>
Lecture à partir de RTSP:
</p><pre class="synopsis">
<span class="command"><strong>mplayer</strong></span> [<em class="replaceable"><code>options</code></em>] rtsp://<em class="replaceable"><code>serveur.exemple.com/nomFlux</code></em>
</pre><p>
</p><p>
Exemples:
</p><pre class="screen">
mplayer -vo x11 <em class="replaceable"><code>/mnt/Films/Contact/contact2.mpg</code></em>
mplayer vcd://<em class="replaceable"><code>2</code></em> -cd-rom-device <em class="replaceable"><code>/dev/hdc</code></em>
mplayer -afm 3 <em class="replaceable"><code>/mnt/DVDtrailers/alien4.vob</code></em>
mplayer dvd://<em class="replaceable"><code>1</code></em> -dvd-device <em class="replaceable"><code>/dev/hdc</code></em>
mplayer -abs 65536 -delay -0.4 -nobps <em class="replaceable"><code>~/films/test.avi</code></em></pre><p>
</p></div><div class="sect1" title="3.2. Sous-titres et OSD"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="subosd"></a>3.2. Sous-titres et OSD</h2></div></div></div><p>
 <span class="application">MPlayer</span> peut afficher des sous-titres durant le film.
 Les formats suivants sont supportés:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>VobSub</p></li><li class="listitem"><p>OGM</p></li><li class="listitem"><p>CC (closed caption)</p></li><li class="listitem"><p>MicroDVD</p></li><li class="listitem"><p>SubRip</p></li><li class="listitem"><p>SubViewer</p></li><li class="listitem"><p>Sami</p></li><li class="listitem"><p>VPlayer</p></li><li class="listitem"><p>RT</p></li><li class="listitem"><p>SSA</p></li><li class="listitem"><p>PJS (Phoenix Japanimation Society)</p></li><li class="listitem"><p>MPsub</p></li><li class="listitem"><p>AQTitle</p></li><li class="listitem"><p><a class="ulink" href="http://unicorn.us.com/jacosub/" target="_top">JACOsub</a></p></li></ul></div><p>
</p><p>
<span class="application">MPlayer</span> peut convertir les formats précédemment listés
(<span class="bold"><strong>excepté les trois premiers</strong></span>)
dans dans les formats de destinations suivants, en utilisant ces options:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>MPsub: <tt class="option">-dumpmpsub</tt></p></li><li class="listitem"><p>SubRip: <tt class="option">-dumpsrtsub</tt></p></li><li class="listitem"><p>MicroDVD: <tt class="option">-dumpmicrodvdsub</tt></p></li><li class="listitem"><p>JACOsub: <tt class="option">-dumpjacosub</tt></p></li><li class="listitem"><p>Sami: <tt class="option">-dumpsami</tt></p></li></ul></div><p>
</p><p>
<span class="application">MEncoder</span> peut convertir les sous-titres DVD au format <a class="link" href="#menc-feat-extractsub" title="9.9. Extraction des sous-titres DVD depuis fichier Vobsub">VOBSub</a>.
</p><p>
Les options en ligne de commande diffèrent légèrement suivant les différents formats:
</p><p title="Sous-titres VOBSub"><b>Sous-titres VOBSub. </b>
Les sous-titres VOBSub consistent en un gros (plusieurs méga-octets) fichier <tt class="filename">.SUB</tt>,
et d'éventuels fichiers <tt class="filename">.IDX</tt> et/ou <tt class="filename">.IFO</tt>.
Si vous avez des fichiers tels que
<tt class="filename"><em class="replaceable"><code>sample.sub</code></em></tt>,
<tt class="filename"><em class="replaceable"><code>sample.ifo</code></em></tt> (optionnel),
<tt class="filename"><em class="replaceable"><code>sample.idx</code></em></tt> -
vous devrez passer à <span class="application">MPlayer</span> l'option
<tt class="option">-vobsub sample [-vobsubid <em class="replaceable"><code>id</code></em>]</tt>
(éventuellement avec le chemin complet). L'option <tt class="option">-vobsubid</tt> est comme l'option
<tt class="option">-sid</tt> pour les DVDs, vous pouvez choisir les pistes de sous-titres (langues) avec.
Au cas où <tt class="option">-vobsubid</tt> est omis, <span class="application">MPLayer</span> essaiera
d'utiliser les langues indiqués par l'option <tt class="option">-slang</tt> et se rabattra sur l'objet
<code class="systemitem">langidx</code> du fichier <tt class="filename">.IDX</tt> pour définir la langue
de sous-titres. Si cela échoue, il n'y aura pas de sous-titres.
</p><p title="Autres sous-titres"><b>Autres sous-titres. </b>
Les autres formats consistent en un seul fichier texte contenant le timing,
  l'emplacement et autres infos du texte. Utilisation: si vous avez un fichier tel que
<tt class="filename"><em class="replaceable"><code>exemple.txt</code></em></tt>, vous devrez passer l'option <tt class="option">-sub
exemple.txt</tt> (éventuellement avec le chemin complet).
</p><div class="variablelist" title="Réglage du timing et de l'emplacement des sous-titres:"><p class="title"><b>Réglage du timing et de l'emplacement des sous-titres:</b></p><dl><dt><span class="term"><tt class="option">-subdelay <em class="replaceable"><code>sec</code></em></tt></span></dt><dd><p>
    Décale les sous-titres de <tt class="option"><em class="replaceable"><code>sec</code></em></tt> secondes.
    Peut être négatif. La valeur est ajouté au compteur d'avancement du film (movie's time position counter).
    </p></dd><dt><span class="term"><tt class="option">-subfps <em class="replaceable"><code>DÉBIT</code></em></tt></span></dt><dd><p>
    Spécifie le rapport trame/sec du fichier de sous-titres (nombre à virgule).
    </p></dd><dt><span class="term"><tt class="option">-subpos <em class="replaceable"><code>0-100</code></em></tt></span></dt><dd><p>
    Spécifie la position des sous-titres sur l'écran.
    </p></dd></dl></div><p>
Si vous constatez un décalage progressif entre le film et les sous-titres en
utilisant un fichier de sous-titres MicroDVD, il est probable que la vitesse
du film et celle des sous-titres soient différentes. Veuillez noter que le format
de sous-titres MicroDVD utilise des numéros de trames absolus pour sa synchronisation,
mais il ne contient pas d'information sur les fps et de ce fait l'option <tt class="option">-subfps</tt> devrait être utilisée avec ce format.
Si vous voulez résoudre ce problème de manière permanente,
vous devez convertir manuellement le débit des trames du fichier de sous-titres.
<span class="application">MPlayer</span> peut faire cette conversion pour vous:

</p><pre class="screen">mplayer -dumpmicrodvdsub -fps <em class="replaceable"><code>subtitles_fps</code></em> -subfps
 <em class="replaceable"><code>avi_fps</code></em> -sub <em class="replaceable"><code>subtitle_filename</code></em>
 <em class="replaceable"><code>dummy.avi</code></em></pre><p>
</p><p>
A propos des sous-titres DVD, voir la section <a class="link" href="#dvd" title="4.2. Lecture de DVD">DVD</a>.
</p></div><div class="sect1" title="3.3. Contrôles"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="control"></a>3.3. Contrôles</h2></div></div></div><p>
<span class="application">MPlayer</span> dispose d'une couche de contrôle pleinement
configurable, qui vous permet de contrôler <span class="application">MPlayer</span>
avec le clavier, la souris, le joystick ou une télécommande (en utilisant LIRC).
Voir la page de man pour une liste complète des contrôles clavier.
</p><div class="sect2" title="3.3.1. Configuration des contrôles"><div class="titlepage"><div><div><h3 class="title"><a name="ctrl-cfg"></a>3.3.1. Configuration des contrôles</h3></div></div></div><p>
<span class="application">MPlayer</span> vous permet d'associer n'importe quel
touche/bouton à n'importe quelle commande <span class="application">MPlayer</span> en
utilisant un simple fichier de configuration.
La syntaxe consiste un nom de touche suivi d'une commande. Le fichier
de config par défaut est <tt class="filename">$HOME/.mplayer/input.conf</tt> mais cela
peut être outrepassé en utilisant l'option <tt class="option">-input <em class="replaceable"><code>conf</code></em></tt>
(les chemins relatifs le sont par rapport à <tt class="filename">$HOME/.mplayer</tt>).
</p><p>
Vous pouvez obtenir une liste complète des touches supportées en tapant
<span class="command"><strong>mplayer -input keylist</strong></span>
et une liste complète des commandes disponibles en tapant
<span class="command"><strong>mplayer -input cmdlist</strong></span>.
</p><div class="example"><a name="input_control_file"></a><p class="title"><b>Exemple 3.1. Un simple fichier de contrôles</b></p><div class="example-contents"><pre class="programlisting">
##
## MPlayer input control file
##

RIGHT seek +10
LEFT seek -10
- audio_delay 0.100
+ audio_delay -0.100
q quit
&gt; pt_step 1
&lt; pt_step -1
ENTER pt_step 1 1</pre></div></div><br class="example-break"></div><div class="sect2" title="3.3.2. Control from LIRC"><div class="titlepage"><div><div><h3 class="title"><a name="lirc"></a>3.3.2. Control from LIRC</h3></div></div></div><p>
Linux Infrared Remote Control - utilisez un récepteur infrarouge fait
maison, une télécommande, et contrôlez votre linux à distance ! Plus d'infos
sur <a class="ulink" href="http://www.lirc.org" target="_top">la page de LIRC</a>.
</p><p>
Si vous avez installé le paquet LIRC, <tt class="filename">configure</tt> le détectera
automatiquement.
Si tout s'est bien passé, <span class="application">MPlayer</span> affichera un
message du genre "<code class="computeroutput">Setting up LIRC support...</code>"
au démarrage. Si une erreur se produit il vous le dira. Si il ne vous dit
rien à propos de LIRC c'est que son support n'est pas compilé. C'est tout :-)
</p><p>
Le nom de l'application à lancer avec <span class="application">MPlayer</span> est
- oh surprise - <tt class="filename">mplayer</tt>. Vous pouvez utiliser n'importe
quelle commande <span class="application">MPlayer</span> et même passer plus d'une commande
en les séparant avec <code class="literal">\n</code>.
N'oubliez pas d'activer le flag repeat dans <tt class="filename">.lircrc</tt> quand cela
est approprié (déplacement, volume, etc).
Voici un extrait d'un fichier d'exemple
<tt class="filename">.lircrc</tt>:
</p><pre class="programlisting">
begin
     button = VOLUME_PLUS
     prog = mplayer
     config = volume 1
     repeat = 1
end

begin
    button = VOLUME_MINUS
    prog = mplayer
    config = volume -1
    repeat = 1
end

begin
    button = CD_PLAY
    prog = mplayer
    config = pause
end

begin
    button = CD_STOP
    prog = mplayer
    config = seek 0 1\npause
end</pre><p>
Si vous n'aimez pas l'emplacement standard du fichier de config de lirc
(<tt class="filename">~/.lircrc</tt>) utilisez <tt class="option">-lircconf
<em class="replaceable"><code>nomfichier</code></em></tt> pour spécifier un autre fichier.
</p></div><div class="sect2" title="3.3.3. Mode esclave"><div class="titlepage"><div><div><h3 class="title"><a name="slave-mode"></a>3.3.3. Mode esclave</h3></div></div></div><p>
Le mode esclave vous permet de construire un frontend à
<span class="application">MPlayer</span>. Quand il est activé (avec
<tt class="option">-slave</tt>) <span class="application">MPlayer</span> lit les commandes
séparées par un saut de ligne (\n) depuis l'entrée par défaut (stdin).
Les commandes sont documentées dans le fichier
<a class="ulink" href="../../tech/slave.txt" target="_top">slave.txt</a>.
</p></div></div><div class="sect1" title="3.4. Streaming depuis le réseau ou les pipes"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="streaming"></a>3.4. Streaming depuis le réseau ou les pipes</h2></div></div></div><p>
<span class="application">MPlayer</span> peut lire des fichiers depuis le réseau, en
utilisant les protocoles HTTP, FTP, MMS ou RTSP/RTP.
</p><p>
La lecture se fait juste en ajoutant l'URL à la ligne de commande.
<span class="application">MPlayer</span> utilise également la variable d'environnement
<code class="envar">http_proxy</code>, et utilise le proxy si disponible. L'utilisation du proxy
peut aussi être forcé:
</p><pre class="screen">mplayer <em class="replaceable"><code>http_proxy://proxy.micorsops.com:3128/http://micorsops.com:80/stream.asf</code></em></pre><p>
</p><p>
<span class="application">MPlayer</span> peut lire depuis stdin
(<span class="emphasis"><em>pas</em></span> depuis les pipes nommés). Cela peut être utilisé par
exemple pour lire depuis le FTP:
</p><pre class="screen">wget <em class="replaceable"><code>ftp://micorsops.com/quelquechose.avi</code></em> -O - | mplayer -</pre><p>
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
Il est également recommandé d'activer <tt class="option">-cache</tt> pour une lecture
depuis le réseau:
</p><pre class="screen">wget <em class="replaceable"><code>ftp://micorsops.com/quelquechose.avi</code></em> -O - | mplayer -cache 8192 -</pre><p>
</p></div><div class="sect2" title="3.4.1. Sauvegarder du contenu flux"><div class="titlepage"><div><div><h3 class="title"><a name="streaming-save"></a>3.4.1. Sauvegarder du contenu flux</h3></div></div></div><p>
Une fois que vous avez réussi à faire lire
votre flux internet favorit par <span class="application">MPlayer</span>, vous pouvez utiliser l'option
<tt class="option">-dumpstream</tt> pour sauvegarder le flux dans un fichier.
Par exemple:
</p><pre class="screen">
mplayer <em class="replaceable"><code>http://217.71.208.37:8006</code></em> -dumpstream -dumpfile <em class="replaceable"><code>stream.asf</code></em>
</pre><p>
sauvegardera le contenu en flux depuis
<em class="replaceable"><code>http://217.71.208.37:8006</code></em> vers
<em class="replaceable"><code>stream.asf</code></em>.
Cela marche avec tous les protocoles supportés par
<span class="application">MPlayer</span>, comme MMS, RSTP, et bien d'autre encore.
</p></div></div><div class="sect1" title="3.5. Flux distants"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mpst"></a>3.5. Flux distants</h2></div></div></div><p>
Les flux distants vous permettent d'accéder à la plupart des types de flux de
<span class="application">MPlayer</span> depuis un hôte distant. Le but de cette fonction
est de rendre possible l'utilisation du lecteur CD ou DVD d'un autre ordinateur
sur le réseau (en supposant que vous ayez une bande passante suffisante). Malheureusement
certains types de flux (pour l'instant TV et MF) ne sont pas utilisables à
distance car ils sont implémentés au niveau du demuxer. C'est triste pour les
flux MF mais les flux TV nécessiteraient une bande passante incensée.
</p><div class="sect2" title="3.5.1. Compilation du serveur"><div class="titlepage"><div><div><h3 class="title"><a name="compile_mpst_server"></a>3.5.1. Compilation du serveur</h3></div></div></div><p>
Après avoir compilé <span class="application">MPlayer</span>, allez dans le répertoire
<tt class="filename">TOOLS/netstream</tt> et tapez
<span class="application">make</span> pour compiler le serveur.
Vous pouvez ensuite copier le binaire <span class="application">netstream</span>
dans l'endroit approprié sur votre système (généralement
<tt class="filename">/usr/local/bin</tt> sous Linux).
</p></div><div class="sect2" title="3.5.2. Utilisation de flux distants"><div class="titlepage"><div><div><h3 class="title"><a name="use_mpst"></a>3.5.2. Utilisation de flux distants</h3></div></div></div><p>
Tout d'abord vous devez lancer le serveur sur l'ordinateur auquel vous souhaitez
accéder à distance. Actuellement le serveur est très basique et n'accepte aucun
argument en ligne de commande, donc tapez juste <tt class="filename">netstream</tt>.
Maintenant vous pouvez par exemple jouer la seconde piste d'un VCD sur le serveur avec:
</p><pre class="screen">
mplayer -cache 5000 <em class="replaceable"><code>mpst://serveur/vcd://2</code></em>
</pre><p>
Vous pouvez aussi accéder aux fichiers de ce serveur:

</p><pre class="screen">
mplayer -cache 5000 <em class="replaceable"><code>mpst://serveur//usr/local/films/lol.avi</code></em>
</pre><p>
Veuillez noter que les chemins qui ne commencent pas par un / seront relatifs
au répertoire dans lequel le serveur fonctionne. L'option <tt class="option">-cache</tt>
n'est pas requise mais vivement recommandée.
</p><p>
Soyez conscient que pour l'instant le serveur n'est pas sécurisé du tout. Donc
ne vous plaignez pas des nombreuses attaques possibles par cette voie. À la place
envoyez-nous quelques (bons) patches pour le rendre meilleur ou écrivez votre propre
serveur.
</p></div></div><div class="sect1" title="3.6. Listes d'Edition de Décision (EDL)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="edl"></a>3.6. Listes d'Edition de Décision (EDL)</h2></div></div></div><p>
Le système de liste d'édition de décision (Edit Decision Lists - EDL) vous
permet de sauter ou rendre muet des sections de vidéos pendant la lecture,
basé sur un fichier de configuration EDL spécifique au film.
</p><p>
Ceci est utile pour ceux qui veulent voir un film en mode "tout public".
Vous pouvez couper toute violence, profanation, Jar-Jar Binks .. d'un film
suivant vos préférences personnelles. A part ça, il y a d'autres
utilisations, comme sauter automatiquement les publicités dans les fichiers vidéos
que vous regardez.
</p><p>
Le format de fichier EDL est plutôt rudimentaire. Il y a une commande par ligne
qui défini ce qui doit être fait (couper ou rétablir le son) et quand il faut le faire.
</p><div class="sect2" title="3.6.1. Utiliser un fichier EDL"><div class="titlepage"><div><div><h3 class="title"><a name="edl_using"></a>3.6.1. Utiliser un fichier EDL</h3></div></div></div><p>
Incluez l'option <tt class="option">-edl &lt;nomfichier&gt;</tt> quand vous lancez
<span class="application">MPlayer</span>, avec le nom du fichier EDL que vous voulez
appliquer à la vidéo.
</p></div><div class="sect2" title="3.6.2. Faire un fichier EDL"><div class="titlepage"><div><div><h3 class="title"><a name="edl_making"></a>3.6.2. Faire un fichier EDL</h3></div></div></div><p>
Le format de fichier actuel EDL est:
</p><pre class="programlisting">
[seconde de départ] [seconde de fin] [action]
</pre><p>
Où les secondes sont des nombres à virgule et l'action est soit
<code class="literal">0</code> pour sauter, soit <code class="literal">1</code> pour couper le son.
Exemple:
</p><pre class="programlisting">
5.3   7.1    0
15    16.7   1
420   422    0
</pre><p>
Cela va sauter de la seconde 5.3 à la seconde 7.1 de la vidéo, puis va couper
le son à 15 secondes, le remettre à 16.7 secondes et sauter de la seconde 420
à la seconde 422 de la vidéo. Ces actions seront appliquées quand le temps de
lecture aura atteint le temps indiqué dans le fichier.
</p><p>
Pour créer un fichier EDL à partir duquel travailler, utilisez l'option
<tt class="option">-edlout &lt;nomfichier&gt;</tt>. Durant la lecture, pressez
la touche <span class="keycap"><b>i</b></span> pour marquer le début et la fin du passage à sauter.
Une entrée correspondante sera ajoutée au fichier pour cette fois-ci. Vous pouvez
ensuite ajuster de manière plus précise le fichier EDL ainsi que changer l'opération
par défaut qui est de sauter le passage décrit par chaque ligne.
</p></div></div><div class="sect1" title="3.7. Audio Avancé"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="advaudio"></a>3.7. Audio Avancé</h2></div></div></div><div class="sect2" title="3.7.1. Lecture Surround/Multi-canal"><div class="titlepage"><div><div><h3 class="title"><a name="advaudio-surround"></a>3.7.1. Lecture Surround/Multi-canal</h3></div></div></div><div class="sect3" title="3.7.1.1. DVDs"><div class="titlepage"><div><div><h4 class="title"><a name="advaudio-surround-DVD"></a>3.7.1.1. DVDs</h4></div></div></div><p>
La plupart des DVDs et beaucoup d'autres fichiers incluent le son surround.
<span class="application">MPlayer</span> supporte la lecture surround mais ne les
activent pas par défaut parce que les équipement stéréos sont de loin plus communs.
Pour jouer un fichier qui ont plus de deux canaux audio utilisez
<tt class="option">-channels</tt>.
Par exemple, pour jouer un DVD avec l'audio 5.1:

</p><pre class="screen">mplayer dvd://1 -channels 6</pre><p>

Notez que en dépit du nom "5.1" il y a couramment six canaux discret.
Si vous avez l'équipement pour le son surround il est de précaution de mettre
l'option <tt class="option">channels</tt> dans votre fichier de configuration de
<span class="application">MPlayer</span> <tt class="filename">~/.mplayer/config</tt>.
Par exemple, pour faire une lecture quadriphonique par défaut, ajoutez cette
ligne:

</p><pre class="programlisting">channels=4</pre><p>

<span class="application">MPlayer</span> sortira alors l'audio en quatre canaux quand
les quatres canaux sont tous disponibles.
</p></div><div class="sect3" title="3.7.1.2. Lire des fichiers stéréo sur quatre haut-parleurs"><div class="titlepage"><div><div><h4 class="title"><a name="advaudio-surround-stereoinfour"></a>3.7.1.2. Lire des fichiers stéréo sur quatre haut-parleurs</h4></div></div></div><p>
<span class="application">MPlayer</span> ne duplique aucun canal par défaut,
et la plupart des pilotes audio ne le font pas non plus. Si vous voulez le faire manuellement:

</p><pre class="screen">mplayer <em class="replaceable"><code>filename</code></em> -af channels=2:2:0:1:0:0</pre><p>

Voir la section sur
<a class="link" href="#advaudio-channels-copying" title="3.7.2.3. Copier/Déplacer le canal">canal en copie</a> pour une
explication.
</p></div><div class="sect3" title="3.7.1.3. AC-3/DTS Passthrough"><div class="titlepage"><div><div><h4 class="title"><a name="advaudio-surround-passthrough"></a>3.7.1.3. AC-3/DTS Passthrough</h4></div></div></div><p>
Les DVDs ont habituellement l'audio surround encodé en format AC-3 (Dolby Digital) ou DTS
(Digital Theater System). Certains équipements audio moderne sont capables de
décoder ces formats de façon interne. <span class="application">MPlayer</span> peut être
configuré pour relayer les données audio sans les décoder. Cela ne marchera que si
vous avez une connectique S/PDIF (Sony/Philips Digital Interface) sur
votre carte son.
</p><p>
Si votre équipement audio peux décoder AC-3 et DTS, vous pouvez sans risque activer
le passthrough pour les deux formats. Autrement, activez le passthrough pour le seul format
que votre équipement supporte.
</p><div class="itemizedlist" title="Pour activer le passthrough en ligne de commande:"><p class="title"><b>Pour activer le passthrough en ligne de commande:</b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
Pour l'AC-3 seul, utilisez <tt class="option">-ac hwac3</tt>
</p></li><li class="listitem"><p>
Pour le DTS seul, utilisez <tt class="option">-ac hwdts</tt>
</p></li><li class="listitem"><p>
Pour l'ensemble AC-3 et DTS, utilisez <tt class="option">-afm hwac3</tt>
</p></li></ul></div><div class="itemizedlist" title="Pour activer le passthrough dans le fichier de configuration de MPlayer:"><p class="title"><b>Pour activer le passthrough dans le fichier de configuration
de <span class="application">MPlayer</span>: </b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
Pour l'AC-3 seul, utilisez <tt class="option">ac=hwac3,</tt>
</p></li><li class="listitem"><p>
Pour le DTS seul, utilisez <tt class="option">ac=hwdts,</tt>
</p></li><li class="listitem"><p>
Pour l'ensemble AC-3 et DTS, utilisez <tt class="option">afm=hwac3</tt>
</p></li></ul></div><p>
Notez qu'il y a une virgule (",") à la fin de
<tt class="option">ac=hwac3,</tt> et <tt class="option">ac=hwdts,</tt>.
Cela permettra à <span class="application">MPlayer</span> de retomber sur les
codecs qu'il utilise normalement lors de la lecture d'un fichier qui n'a
pas l'audio en AC-3 ou DTS.
<tt class="option">afm=hwac3</tt> n'a pas besoin d'une virgule; de toute façon
<span class="application">MPlayer</span> reviendra en arrière lorsqu'une famille
d'audio est spécifiée.
</p></div><div class="sect3" title="3.7.1.4. PasseBande audio MPEG"><div class="titlepage"><div><div><h4 class="title"><a name="hwmpa-surround-passthrough"></a>3.7.1.4. PasseBande audio MPEG</h4></div></div></div><p>
Les transmissions TV numérique (comme DVB et ATSC) et certains DVD ont
habituellement des flux audio MPEG (en particulier MP2).
Certains décodeurs matériels MPEG comme les cartes DVB complètes et les
adaptateurs DXR2 peuvent décoder nativement ce format.
<span class="application">MPlayer</span> peut être configuré pour relayer les
données audio sans les décoder.
</p><p>
Pour utiliser ce codec:
</p><pre class="screen"> mplayer -ac hwmpa </pre><p>
</p></div><div class="sect3" title="3.7.1.5. Audio à encodage matriciel"><div class="titlepage"><div><div><h4 class="title"><a name="advaudio-surround-matrix"></a>3.7.1.5. Audio à encodage matriciel</h4></div></div></div><p>
<span class="emphasis"><em>***TODO***</em></span>
</p><p>
Cette section doit encore être écrite et ne peut être complétée tant que personne ne nous
a fourni des fichiers d'exemple à tester. Si vous avez quelconques fichiers audio à
encodage matriciel en votre possession,que savez où en trouver, ou avez quelconques informations
qui pourraient être utiles, veuillez envoyer un message à la liste de diffusion
<a class="ulink" href="http://lists.mplayerhq.hu/mailman/listinfo/mplayer-docs" target="_top">MPlayer-DOCS</a>.
Mettez "[matrix-encoded audio]" en sujet du mail.
</p><p>
Si aucuns fichiers ou de plus amples informations ne sont reçues cette section sera enlevée.
</p><p>
Liens Bon:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
<a class="ulink" href="http://electronics.howstuffworks.com/surround-sound5.htm" target="_top">http://electronics.howstuffworks.com/surround-sound5.htm</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://www.extremetech.com/article2/0,1697,1016875,00.asp" target="_top">http://www.extremetech.com/article2/0,1697,1016875,00.asp</a>
</p></li></ul></div><p>
</p></div><div class="sect3" title="3.7.1.6. Emulation Surround dans les écouteurs"><div class="titlepage"><div><div><h4 class="title"><a name="advaudio-surround-hrtf"></a>3.7.1.6. Emulation Surround dans les écouteurs</h4></div></div></div><p>
<span class="application">MPlayer</span> inclu un filtre HRTF (Head Related Transfer
Function) basé sur un
<a class="ulink" href="http://sound.media.mit.edu/KEMAR.html" target="_top">projet MIT</a>
où des mesures ont été prises depuis des microphones montés sur une tête humaine factice.
</p><p>
Bien que il ne soit pas possible de reproduire exactement un système surround,
le filtre HRTF de <span class="application">MPlayer</span> fourni une immersion audio
plus spatiale avec les systèmes d'écoute stéréo.
La plupart des techniques de mixage consistent à simplement fusionner tous les
canaux en deux; En plus de cette fusion, <tt class="option">hrtf</tt> génére de
subtils échos, augmente un peu la séparation stéréo, et altère le volume de
certaines fréquences.
Si HRTF sonne mieux gardez à l'esprit que tout ceci est dépendant de la
source audio et est une question de goût personnel, mais cela vaut vraiment le
coup d'essayer.
</p><p>
Pour jouer un DVD avec le HRTF:

</p><pre class="screen">mplayer dvd://1 -channels 6 -af hrtf</pre><p>

</p><p>
<tt class="option">hrtf</tt> ne marche bien que avec 5 ou 6 canaux.
Aussi, <tt class="option">hrtf</tt> requière de l'audio en 48 kHz.
L'audio DVD est déjà en 48 kHz, mais si vous avez un fichier avec un taux
d'échantillonnage différent que celui que vous voulez jouer en utilisant
<tt class="option">hrtf</tt> vous devez le ré-échantillonner:

</p><pre class="screen">mplayer <em class="replaceable"><code>filename</code></em> -channels 6 -af resample=48000,hrtf</pre><p>

</p></div><div class="sect3" title="3.7.1.7. Dépannage"><div class="titlepage"><div><div><h4 class="title"><a name="advaudio-surround-troubleshooting"></a>3.7.1.7. Dépannage</h4></div></div></div><p>
Si vous n'entendez aucun son provenant de vos canaux surround, controler
vos paramètres de mixeur avec un programme de mixeur comme
<span class="application">alsamixer</span>; les sorties audio sont souvent muettes
et le volume réglé à zéro par défaut.
</p></div></div><div class="sect2" title="3.7.2. Manipulation de Canal"><div class="titlepage"><div><div><h3 class="title"><a name="advaudio-channels"></a>3.7.2. Manipulation de Canal</h3></div></div></div><div class="sect3" title="3.7.2.1. Information Générale"><div class="titlepage"><div><div><h4 class="title"><a name="advaudio-channels-general"></a>3.7.2.1. Information Générale</h4></div></div></div><p>
Malheureusement, il n'y a pas de standard qui montrent comment les canaux sont ordonnés.
Les ordres listés ci-dessous sont ceux de l'AC-3 et sont assez typiques;
essayez-les et voyez si votre source correspond.
Les canaux sont numérotés à partir de par 0.

</p><div class="orderedlist" title="mono"><p class="title"><b>mono</b></p><ol class="orderedlist" type="1" compact><li class="listitem" value="0"><p>centre</p></li></ol></div><p>

</p><div class="orderedlist" title="stéréo"><p class="title"><b>stéréo</b></p><ol class="orderedlist" type="1" compact><li class="listitem" value="0"><p>gauche</p></li><li class="listitem"><p>droite</p></li></ol></div><p>

</p><div class="orderedlist" title="quadraphonique"><p class="title"><b>quadraphonique</b></p><ol class="orderedlist" type="1" compact><li class="listitem" value="0"><p>devant gauche</p></li><li class="listitem"><p>devant droite</p></li><li class="listitem"><p>arrière gauche</p></li><li class="listitem"><p>arrière droite</p></li></ol></div><p>

</p><div class="orderedlist" title="surround 4.0"><p class="title"><b>surround 4.0</b></p><ol class="orderedlist" type="1" compact><li class="listitem" value="0"><p>devant gauche</p></li><li class="listitem"><p>devant droite</p></li><li class="listitem"><p>arrière centre</p></li><li class="listitem"><p>devant centre</p></li></ol></div><p>

</p><div class="orderedlist" title="surround 5.0"><p class="title"><b>surround 5.0</b></p><ol class="orderedlist" type="1" compact><li class="listitem" value="0"><p>devant gauche</p></li><li class="listitem"><p>devant droite</p></li><li class="listitem"><p>arrière gauche</p></li><li class="listitem"><p>arrière droite</p></li><li class="listitem"><p>devant centre</p></li></ol></div><p>

</p><div class="orderedlist" title="surround 5.1"><p class="title"><b>surround 5.1</b></p><ol class="orderedlist" type="1" compact><li class="listitem" value="0"><p>devant gauche</p></li><li class="listitem"><p>devant droite</p></li><li class="listitem"><p>arrière gauche</p></li><li class="listitem"><p>arrière droite</p></li><li class="listitem"><p>devant centre</p></li><li class="listitem"><p>caisson de basse</p></li></ol></div><p>

</p><p>
L'option <tt class="option">-channels</tt> est utilisée pour demander le nombre
de canaux depuis le décodeur audio.
Certains codecs audio utilisent le nombre de canaux spécifiés pour décider
si le mixage (downmixing) de la source est nécessaire.
Notez que cela n'affecte pas toujours le nombre de canaux de sortie.
Par exemple, utiliser <tt class="option">-channels 4</tt> pour jouer un fichier
stéréo MP3 résultera quand même en une sortie en 2-canaux à partir du moment
où le codec MP3 ne produira pas de canaux suplémentaires.
</p><p>
Le filtre audio <tt class="option">channels</tt> peut être utilisé pour créer ou enléver
des canaux et, est utile pour contrôler le nombre de canaux envoyés à la carte son.
Voir les sections suivantes pour plus d'informations sur la manipulation de canaux.
</p></div><div class="sect3" title="3.7.2.2. Jouer en mono avec deux enceintes"><div class="titlepage"><div><div><h4 class="title"><a name="advaudio-channels-mono"></a>3.7.2.2. Jouer en mono avec deux enceintes</h4></div></div></div><p>
Mono sonne beaucoup mieux quand il est joué au travers de deux enceintes -
particulièrement quand des écouteurs sont utilisés.
Les fichiers Audio qui ont vraiment un canal sont automatiquement joués
au travers de deux enceintes; malheureusement, la plupart des filtres avec
le son mono sont couramment encodés comme stéréo avec un canal silencieux.
La façon la plus facile et la plus fidèle de faire sortir des enceintes le
même audio est le filtre <tt class="option">extrastereo</tt>:

</p><pre class="screen">mplayer <em class="replaceable"><code>filename</code></em> -af extrastereo=0</pre><p>

</p><p>
Ceci fait la moyenne des deux canaux, ayant pour résultat que les deux canaux ont
leur volume réduit de moitié par rapport à l'original. Les sections suivantes ont
des exemples sur les autres manières de faire ceci sans une diminution du volume,
mais ils sont plus compliqués et requièrent différentes options dépendemment du canal
à garder. Si vous voulez réellement maintenir le volume,
il est peut être plus facile de tester avec le filtre <tt class="option">volume</tt> et
trouver la bonne valeur. Par exemple:

</p><pre class="screen">mplayer <em class="replaceable"><code>nom_fichier</code></em> -af extrastereo=0,volume=5</pre><p>

</p></div><div class="sect3" title="3.7.2.3. Copier/Déplacer le canal"><div class="titlepage"><div><div><h4 class="title"><a name="advaudio-channels-copying"></a>3.7.2.3. Copier/Déplacer le canal</h4></div></div></div><p>
Le filtre <tt class="option">channels</tt> peut déplacer n'importe lequel ou tous les canaux.
Parametrer toutes les sous-options pour le filtre <tt class="option">channels</tt>
peut être compliqué et prend peu d'attention.

</p><div class="orderedlist"><ol class="orderedlist" type="1" compact><li class="listitem"><p>
Décidez combien de canaux de sortie vous avez besoin.
Ceci est la première sous-option.
</p></li><li class="listitem"><p>
Comptez combien de canaux vous devrez déplacer.
Ceci est la seconde sous-option.
Chaque canal peut être déplacé en plusieurs différents canaux en même temps,
mais gardez en tête que quand un canal est déplacé (même si vers une seule
destination) le canal source sera vidé à moins qu'un autre canal ne soit
déplacé dans ce même canal.
Pour copier un canal, en gardant la source intacte, simplement déplacer le
canal dans les deux destination et source. Par exemple:
</p><pre class="programlisting">
canal 2 --&gt; canal 3
canal 2 --&gt; canal 2
</pre><p>
</p></li><li class="listitem"><p>
Écrivez les copies de canal comme paires de sous-options. Notez que  le premier
canal est 0, le second est 1, etc. L'ordre de ces sous-options n'importe pas aussi
longtemps qu'ils sont correctement groupés en
<em class="replaceable"><code>source:destination</code></em> paires.
</p></li></ol></div><p>

</p><h5><a name="id2545675"></a>Exemple: un canal en deux enceintes</h5><p>
Ici un exemple d'une autre manière de jouer un canal sur les deux enceintes. On suppose
pour cette exemple que le canal de gauche devra être joué et le canal de droite annulé.
En suivant les étapes ci-dessus:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
Afin de fournir un canal de sortie pour chacune des deux enceintes, la première
sous-option doit être "2".
</p></li><li class="listitem"><p>
Le canal de gauche a besoin d'être déplacé vers le canal de droite, et doit
aussi être déplacé vers lui-même pour que le canal ne se vide pas.
Cela fait un total de deux déplacements, mettant la deuxième sous-option
aussi à "2".
</p></li><li class="listitem"><p>
Pour déplacer le canal de gauche (canal 0) vers le canal de droite (canal 1), la paire
sous-option est "0:1", "0:0" déplace le canal de gauche vers lui-même.
</p></li></ol></div><p>
En mettant tout ça ensemble cela donne:

</p><pre class="screen">mplayer <em class="replaceable"><code>filename</code></em> -af channels=2:2:0:1:0:0</pre><p>
</p><p>
L'avantage de cette exemple par rapport à <tt class="option">extrastereo</tt> est que le
volume de chaque canal de sortie est le même que le canal d'entrée. Le désavantage
étant que les sous-options doivent être changées à "2:2:1:0:1:1" quand l'audio désirée
est dans le canal de droite. Il est aussi plus difficile de s'en souvenir et de le taper.
</p><h5><a name="id2545755"></a>Exemple: canal gauche vers deux enceintes raccourci</h5><p>
Il y a couramment une façon plus simple d'utiliser le filtre <tt class="option">channels</tt>
pour jouer le canal de gauche vers les deux enceintes:

</p><pre class="screen">mplayer <em class="replaceable"><code>nom_fichier</code></em> -af channels=1</pre><p>

Le second canal est enlevé et, sans plus de sous-options, le seul canal
qui reste est celui de gauche. Les pilotes de carte son jouent automatiquement
l'audio d'un seul canal vers les deux enceintes. cela ne fonctionne que quand
le canal voulu est sur la gauche.
</p><h5><a name="id2545786"></a>Exemple: dupliquer les canaux frontaux sur l'arrière</h5><p>
Une autre opération commune est de dupliquer les canaux frontaux et de leur
faire rejouer sur les enceintes arrière d'un paramètrage quadraphonique.
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
Il devrait y avoir quatre canaux de sortie. La première sous-option est "4".
</p></li><li class="listitem"><p>
Chacun des deux canaux avant a besoin d'être déplacé vers le canal arrière
correspondant et aussi vers lui-même.
Cela fait quatre déplacements, donc la seconde sous-option est "4".
</p></li><li class="listitem"><p>
L'avant gauche (canal 0) a besoin d'être déplacé vers l'arrière gauche (canl 2): "0:2".
L'avant gauche a aussi besoin d'être déplacé vers lui-même: "0:0". L'avant droit (canal
1) est déplacé vers l'arrière droite (canl 3): "1:3", et aussi vers lui- même: "1:1".
</p></li></ol></div><p>
Combinez toutes les sous-options pour obtenir:

</p><pre class="screen">mplayer <em class="replaceable"><code>nom_fichier</code></em> -af channels=4:4:0:2:0:0:1:3:1:1</pre><p>

</p></div><div class="sect3" title="3.7.2.4. Mixage de canal"><div class="titlepage"><div><div><h4 class="title"><a name="advaudio-channels-mixing"></a>3.7.2.4. Mixage de canal</h4></div></div></div><p>
Le filtre <tt class="option">pan</tt> peut mixer les canaux selon des proportions spécifiées
par l'utilisateur. Ceci tient compte de tout que le filtre de <tt class="option">channels</tt>
peut faire et plus. Malheureusement, les sous-options sont beaucoup plus complexes.
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
Décidez avec combien de canaux vous voulez travailler. Vous aurez peut-être besoin
de spécifier cela avec <tt class="option">-channels</tt> et/ou <tt class="option">-af channels</tt>.
Des exemples plus loin montreront quand et laquelle il faut utiliser.
</p></li><li class="listitem"><p>
Décidez combien de canaux à introduire dans <tt class="option">pan</tt> (les canaux suplémentaires
décodés sont rejetés). Ceci est la première sous-option, et elle contrôle aussi combien de
canaux à employer pour la sortie.
</p></li><li class="listitem"><p>
Les sous-options restantes spécifient quelle quantité de chaque canal sont mixés l'un
dans l'autre. Ceci est la partie compliquée. Pour décomposer la tâche, découpez les
sous-options en plusieurs ensembles, un ensemlbe pour chaque canal de sortie. Chaque sous-option
d'un ensemble correspond à un canal d'entrée. Le nombre que vous spécifiez sera le pourcentage
de canal d'entrée qui sont mixés dans le canal de sortie.
</p><p>
<tt class="option">pan</tt> accepte des valeurs de 0 à 512, rendement de 0% à 51200% du volume
original. Faites attention quand en utilisant des valeurs plus grande que 1. Non seulement
cela peut vous donner un volume tres haut, mais si vous dépassez la marge d'échantillon de
votre carte son vous pourriez entendre des pops et clics désagréables. Si vous le voulez vous
pouvez faire suivre <tt class="option">pan</tt> avec <tt class="option">,volume</tt> pour activer la coupure,
mais c'est mieux de garder les valeurs de <tt class="option">pan</tt> suffisamment basses pour que la
coupure ne soit pas nécessaire.
</p></li></ol></div><p>
</p><h5><a name="id2545956"></a>Exemple: un canal dans deux enceintes</h5><p>
Voici encore un autre exemple pour jouer le canal gauche dans deux enceintes. Suivez
les étapes ci-dessus:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
<tt class="option">pan</tt> devrait sortir deux canaux, donc la première
sous-option est "2".
</p></li><li class="listitem"><p>
Puisque nous avons deux canaux d'entrée, il y aura deux ensembles de sous-options.
Puisqu'il y a également deux canaux de sortie,
il y aura deux sous-options par ensemble.
Le canal gauche à partir du fichier devrait aller au volume maxi aux
les nouveaux canaux gauche et droite.
Ainsi le premier ensemble de sous-options est "1:1".
Le canal de droite devrait être rejeté, donc le second serait "0:0".
N'importe quelles valeurs à 0 à la fin peuvent être omises, mais pour une facilité
de compréhension nous les garderons.
</p></li></ol></div><p>
Mettre ces options ensemble donne:

</p><pre class="screen">mplayer <em class="replaceable"><code>nom_fichier</code></em> -af pan=2:1:1:0:0</pre><p>

Si le canal de droite est préféré à la place du gauche, les sous-options pour
<tt class="option">pan</tt> seront "2:0:0:1:1".
</p><h5><a name="id2546015"></a>Exemple: canal de gauche dans deux enceintes raccourci</h5><p>
Comme avec <tt class="option">channels</tt>, il y a un raccourci qui ne fonctionne que avec le
canal de gauche:

</p><pre class="screen">mplayer <em class="replaceable"><code>nom_fichier</code></em> -af pan=1:1</pre><p>

Puisque <tt class="option">pan</tt> a seulement un canal d'entrée (l'autre canal étant
rejeté), il n'y a seulement qu'un ensemble avec une sous-option, qui indique que le
seul canal obtient 100% de lui-même.
</p><h5><a name="id2546044"></a>Exemple: Mixage (downmixing) PCM 6-canaux</h5><p>
Le décodeur de <span class="application">MPlayer</span> pour le PCM 6-canaux
n'est pas capable de le mixer (downmixing).
Voici une façon de mixager (downmixing) PCM en utilisant <tt class="option">pan</tt>:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
Le nombre de canaux de sortie est 2, donc la première sous-option est "2".
</p></li><li class="listitem"><p>
Avec six canaux d'entrée il y aura six ensembles d'options. Heureusement,
puisque nous nous inquiétons seulement de la sortir des deux premiers canaux,
nous devons seulement faire deux ensembles; les quatres ensembles restants peuvent
être omis. Prenez garde que tous les fichiers audio multi-canaux n'aient le même
ordre de canaux! Cette exemple démontre le mixage (downmixing) d'un fichier avec les
même canaux que l'AC-3 5.1:
</p><pre class="programlisting">
0 - avant gauche
1 - avant droit
2 - arrière gauche
3 - arrière droit
4 - avant centre
5 - caisson de basse (subwoofer)
</pre><p>
Le premier ensemble de sous-options liste les pourcentages du volume original, dans
l'ordre, de ce que chaque canal de sortie devrait recevoir du canal gauche avant: "1:0".
Le canal avant droit devrait aller vers la bonne sortie: "0:1".
De même pour les canaux arrières: "1:0" et "0:1".
Le canal centre va vers les deux canaux de sortie avec moitié de volume:
"0.5:0.5", et le caisson de basse (subwoofer) va vers les deux avec le volume maxi: "1:1".
</p></li></ol></div><p>
Mettez tout ça ensemble, pour:

</p><pre class="screen">mplayer <em class="replaceable"><code>6-canaux.wav</code></em> -af pan=2:1:0:0:1:1:0:0:1:0.5:0.5:1:1</pre><p>

Les pourcentages listés ci-dessus sont seulement un exemple approximatif. Vous êtes libres de les ajuster.
</p><h5><a name="id2546134"></a>Exemple: Jouer de l'audio 5.1 sur de grosses enceintes sans un caisson de basse (subwoofer)</h5><p>
Si vous avez une paire d'enceintes frontales énormes, vous ne voudriez pas
gaspiller de l'argent sur l'achat d'un caisson de basse (subwoofer) pour
un système son 5.1 complet.
Si vous utilisez <tt class="option">-channels 5</tt> pour demander que liba52
décode l'audio 5.1 en 5.0, le canal du caisson de basse (subwoofer) est
simplement rejeté.
Si vous voulez distribuer le canal du caisson de basse (subwoofer) vous-même
vous avez besoin de mixer (downmix) manuellement avec <tt class="option">pan</tt>:

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
Puisque <tt class="option">pan</tt> a besoin d'examiner chacun des six canaux, spécifiez
<tt class="option">-channels 6</tt> ainsi liba52 les décode tous.
</p></li><li class="listitem"><p>
<tt class="option">pan</tt> sort vers seulement cinq canaux, la première sous-option est 5.
</p></li><li class="listitem"><p>
Six canaux d'entrées et cinq de sortie signifient six ensembles de cinq sous-options.
  </p><div class="itemizedlist"><ul class="itemizedlist" type="disc" compact><li class="listitem"><p>
  Le canal avant gauche ne se réplique que vers lui-même:
  "1:0:0:0:0"
  </p></li><li class="listitem"><p>
  Pareil pour le canal avant droit:
  "0:1:0:0:0"
  </p></li><li class="listitem"><p>
  Pareil pour le canal arrière gauche:
  "0:0:1:0:0"
  </p></li><li class="listitem"><p>
  et aussi de même pour le canal arrière droit:
  "0:0:0:1:0"
  </p></li><li class="listitem"><p>
  Avant centre, aussi:
  "0:0:0:0:1"
  </p></li><li class="listitem"><p>
  Et maintenant que nous avons décidé quoi faire avec le caisson de basse,
  e.g. moitié vers l'avant droit et l autre vers l'avant gauche:
  "0.5:0.5:0:0:0"
  </p></li></ul></div><p>
</p></li></ol></div><p>
Combinez toutes ces options pour obtenir:

</p><pre class="screen">mplayer <em class="replaceable"><code>dvd://1</code></em> -channels 6 -af pan=5:1:0:0:0:0:0:1:0:0:0:0:0:1:0:0:0:0:0:1:0:0:0:0:0:1:0.5:0.5:0:0:0</pre><p>

</p></div></div><div class="sect2" title="3.7.3. Ajustement Logiciel du Volume"><div class="titlepage"><div><div><h3 class="title"><a name="advaudio-volume"></a>3.7.3. Ajustement Logiciel du Volume</h3></div></div></div><p>
Certaines pistes audio sont trop silencieuses pour être entendues confortablement
sans amplification. Cela devient un problème quand votre équipement audio ne peut
amplifier le signal à votre place. L'option <tt class="option">-softvol</tt> oblige
<span class="application">MPlayer</span> à utiliser un mixeur interne. Vous pouvez alors
utiliser les touches d'ajustement du volume (par défaut <span class="keycap"><b>9</b></span> et
<span class="keycap"><b>0</b></span>) pour atteindre des niveaux de volume plus important.
Notez que cela ne dévie pas votre mixeur de carte son; <span class="application">MPlayer</span>
amplifie seulement le signal avant de l'envoyer vers votre carte son.

L'exemple suivant est un bien pour débuter:

</p><pre class="screen">mplayer <em class="replaceable"><code>quiet-file</code></em> -softvol -softvol-max 300</pre><p>

L'option <tt class="option">-softvol-max</tt> spécifie le volume maximum
de sortie permis en tant que pourcentage du volume original.
Par exemple, <tt class="option">-softvol-max 200</tt> devra permettre
l'ajustement du volume jusqu'à deux fois son niveau d'origine.
Il est sûr d'indiquer une valeur importante avec <tt class="option">-softvol-max</tt>;
un volume plus important ne sera utilisé qu'à partir du moment où
les touches d'ajustement du volume sont utilisées. Le seul désavantage
d'une valeur large est que, puisque <span class="application">MPlayer</span> ajuste
le volume par un pourcentage du maximum, vous n'aurez pas un contrôle aussi précis
en utilisant les touches d'ajustement du volume. Utilisez une valeur plus basse avec
<tt class="option">-softvol-max</tt> et/ou indiquez <tt class="option">-volstep 1</tt> si vous désirez
une précision plus importante.
</p><p>
L'option <tt class="option">-softvol</tt> fonmctionne en contrôlant le filtre audio
<tt class="option">volume</tt>. Si vous voulez jouer un fichier à un certain volume
depuis le début vous pouvez spécifier <tt class="option">volume</tt> manuellement:

</p><pre class="screen">mplayer <em class="replaceable"><code>fichier-tranquil</code></em> -af volume=10</pre><p>

Cela jouera le fichier avec un gain de 10 décibel. Soyez prudent lors de
l'utilisation du filtre <tt class="option">volume</tt> - vous pourriez facilement
abimer votre appareil auditif si vous utilisez un valeur trop grande.
Commencez bas et travaillez de façon graduelle vers le haut jusqu'à être à même
d'apprécier de combien il est nécessaire d'ajuster le volume. Aussi, si vous
indiquez des valeurs excessivement haute, <tt class="option">volume</tt> pourra avoir
besoin de couper le signal pour éviter d'envoyer vos données de carte son qui
sont en dehors de la bande permise; cela résultera en une distorsion de l'audio.
</p></div></div></div><div class="chapter" title="Chapitre 4. Utilisation des CD/DVD"><div class="titlepage"><div><div><h2 class="title"><a name="cd-dvd"></a>Chapitre 4. Utilisation des CD/DVD</h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="#drives">4.1. Lecteurs CD/DVD</a></span></dt><dd><dl><dt><span class="sect2"><a href="#drives_linux">4.1.1. Linux</a></span></dt><dt><span class="sect2"><a href="#drives_freebsd">4.1.2. FreeBSD</a></span></dt></dl></dd><dt><span class="sect1"><a href="#dvd">4.2. Lecture de DVD</a></span></dt><dd><dl><dt><span class="sect2"><a href="#region_code">4.2.1. Code zone</a></span></dt></dl></dd><dt><span class="sect1"><a href="#vcd">4.3. Lecture de VCDs</a></span></dt></dl></div><div class="sect1" title="4.1. Lecteurs CD/DVD"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="drives"></a>4.1. Lecteurs CD/DVD</h2></div></div></div><p>
Les lecteurs modernes de CD-ROM peuvent atteindre de très hautes vitesses de lecture,
bien que certains soient capables de fonctionner à des vitesses réduites.
Il y a plusieurs raisons possibles pour vouloir changer cette vitesse :
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
Il a été signalé que des lecteurs peuvent commettre des erreurs de lecture à
haute vitesse, surtout avec des CD-ROM mal pressés. Réduire la vitesse peut alors
empêcher la perte de données dans ces circonstances.
</p></li><li class="listitem"><p>
Les lecteurs CD-ROM génèrent souvent un bruit assourdissant, qu'une vitesse réduite
peut contribuer à diminuer.
</p></li></ul></div><div class="sect2" title="4.1.1. Linux"><div class="titlepage"><div><div><h3 class="title"><a name="drives_linux"></a>4.1.1. Linux</h3></div></div></div><p>
Vous pouvez réduire la vitesse des lecteurs de CD-ROM IDE avec <span class="command"><strong>hdparm</strong></span>,
<span class="command"><strong>setcd</strong></span> ou <span class="command"><strong>cdctl</strong></span>. Ils fonctionnent comme
suit :
</p><pre class="screen">hdparm -E <em class="replaceable"><code>[vitesse]</code></em> <em class="replaceable"><code>[périph. cdrom]</code></em></pre><p>
</p><pre class="screen">setcd -x <em class="replaceable"><code>[vitesse]</code></em> <em class="replaceable"><code>[périph. cdrom]</code></em></pre><p>
</p><pre class="screen">cdctl -bS <em class="replaceable"><code>[vitesse]</code></em></pre><p>
</p><p>
Si vous utilisez l'émulation SCSI, vous pourriez avoir à appliquer les paramètres au
vrai périphérique IDE, et non au périphérique SCSI émulé.
</p><p>
  Si vous avez les privilèges root, la commande suivante peut également
aider :
</p><pre class="screen">echo file_readahead:2000000 &gt; /proc/ide/<em class="replaceable"><code>[périph. cdrom]</code></em>/settings</pre><p>
</p><p>
Ceci créé un cache de 2 Mo, ce qui est utile pour les CD-ROMs endommagés (rayés).
Si vous lui donnez une valeur trop haute, le lecteur ne va pas cesser de s'arrêter
et de repartir, ce qui va dramatiquement diminuer les performances. Il est
également recommandé d'optimiser votre lecteur de CD-ROM avec
<span class="command"><strong>hdparm</strong></span> :
</p><pre class="screen">hdparm -d1 -a8 -u1 <em class="replaceable"><code>[périph. cdrom]</code></em></pre><p>
</p><p>
Ceci permet l'accès DMA, le cache en lecture, et l'IRQ unmasking (lisez la page de
man de <span class="command"><strong>hdparm</strong></span> pour plus d'explications).
</p><p>
Référez vous à "<tt class="filename">/proc/ide/<em class="replaceable"><code>[périph. cdrom]</code></em>/settings</tt>"
pour optimiser précisément votre lecteur CD-ROM.
</p><p>
Les lecteurs SCSI n'ont pas une manière uniforme de régler ces paramètres
(Vous en connaissez une ? Dites-la nous !). Il y a un outil qui
fonctionne pour les
<a class="ulink" href="http://das.ist.org/~georg/" target="_top">Lecteurs SCSI Plextor</a>.
</p></div><div class="sect2" title="4.1.2. FreeBSD"><div class="titlepage"><div><div><h3 class="title"><a name="drives_freebsd"></a>4.1.2. FreeBSD</h3></div></div></div><p>Vitesse :
</p><pre class="screen">
cdcontrol [-f <em class="replaceable"><code>périphérique</code></em>] speed <em class="replaceable"><code>[vitesse]</code></em>
</pre><p>
</p><p>DMA :
</p><pre class="screen">
sysctl hw.ata.atapi_dma=1
</pre><p>
</p></div></div><div class="sect1" title="4.2. Lecture de DVD"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dvd"></a>4.2. Lecture de DVD</h2></div></div></div><p>
Pour voir la liste complète des options disponibles, veuillez lire la page de man.
La syntaxe pour lire un Digital Versatile Disc (DVD) est la suivante :
</p><pre class="screen">mplayer dvd://<em class="replaceable"><code>&lt;piste&gt;</code></em> [-dvd-device <em class="replaceable"><code>&lt;périphérique&gt;</code></em>]</pre><p>
</p><p>
  Exemple :
  </p><pre class="screen">mplayer dvd://1 -dvd-device /dev/hdc</pre><p>
</p><p>
Si vous avez compilé <span class="application">MPlayer</span> avec la gestion de dvdnav, la
syntaxe est la même, sauf que que vous devrez utiliser dvdnav:// au lieu de dvd://.
</p><p>
Le périphérique DVD par défaut est <tt class="filename">/dev/dvd</tt>. Si votre configuration
est différente, faites un lien symbolique (symlink) ou spécifiez le bon périphérique en
ligne de commande avec l'option <tt class="option">-dvd-device</tt>.
</p><p>
<span class="application">MPlayer</span> utilise <code class="systemitem">libdvdread</code> et
<code class="systemitem">libdvdcss</code> pour le décryptage et la lecture de DVD.
Ces deux bibliothèques sont contenues dans le répertoire
source de <span class="application">MPlayer</span>, vous n'avez donc pas besoin de les
installer séparément. Vous pouvez aussi utiliser les versions de ces deux bibliothèques
qui sont peut-être déjà présentes sur votre système, mais cette solution n'est pas
recommandée, dans la mesure où elle peut provoquer des bogues, des incompatibilités
de bibliothèque et une vitesse réduite.
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
En cas de problème de décodage de DVD, essayez de désactiver supermount, ou
tous les outils de ce genre. Certains lecteurs RPC-2 peuvent aussi nécessiter
le réglage de leur code de région.
</p></div><p title="Décodage DVD"><b>Décodage DVD. </b>
    Le décodage DVD est réalisé par <code class="systemitem">libdvdcss</code>. La
    méthode peut être spécifiée par la variable d'environnement
    <code class="envar">DVDCSS_METHOD</code>. Voir le manuel pour plus de détails.
</p><div class="sect2" title="4.2.1. Code zone"><div class="titlepage"><div><div><h3 class="title"><a name="region_code"></a>4.2.1. Code zone</h3></div></div></div><p>
  Les lecteurs DVD d'aujourd'hui sont équipés d'une restriction sans queue ni
  tête appelée <a class="ulink" href="http://fr.wikipedia.org/wiki/DVD#Protections_commerciales_par_zones" target="_top">
    protection commerciale par zones </a>.
  C'est un système qui oblige les lecteurs DVD à accepter uniquement les DVDs
  produits pour l'une des six zones qui découpent le monde.  Il est
  impensable qu'un groupe de personne se réunisse pour arriver à élaborer une
  telle idée et pense que la Terre entière se pliera à leur volonté.
</p><p>
  Les lecteurs qui appliquent le réglage des zones uniquement via logiciel
  sont connus comme des lecteurs RPC-1, ceux qui le font via matériel comme
  des lecteurs RPC-2.
  Les lecteurs RPC-2 permettent de changer de zone cinq fois avant qu'il ne
  se bloque.
  Sous Linux, vous pouvez utiliser l'outil <a class="ulink" href="http://linvdr.org/projects/regionset/" target="_top">regionset</a> pour modifier
  le code zone de votre lecteur DVD.
</p><p>
  Heureusement, il est possible de convertir les lecteurs RPC-2 en RPC-1 lors
  d'une mise à jours du micrologiciel.
  Saisissez la référence de votre lecteur DVD dans votre moteur de recherche
  favori ou jetez un œil au forum et à la section téléchargement de <a class="ulink" href="http://www.rpc1.org/" target="_top">"The firmware page"</a>.
  Les mises en garde habituelles des mises à jours de micrologiciels restent
  valables mais les expériences de suppressions de restrictions de zones sont
  généralement fructueuses.
</p></div></div><div class="sect1" title="4.3. Lecture de VCDs"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="vcd"></a>4.3. Lecture de VCDs</h2></div></div></div><p>
Pour voir la liste complète des options disponibles, veuillez lire la page de man.
La syntaxe pour lire un Vidéo CD standard (VCD) est la suivante :
</p><pre class="screen">mplayer vcd://<em class="replaceable"><code>&lt;piste&gt;</code></em> [-cdrom-device <em class="replaceable"><code>&lt;périphérique&gt;</code></em>]</pre><p>
Exemple :
</p><pre class="screen">mplayer vcd://2 -cdrom-device /dev/hdc</pre><p>
Le périphérique VCD par défaut est <tt class="filename">/dev/cdrom</tt>. Si votre installation diffère,
faites un lien symbolique (symlink) ou spécifiez le bon périphérique en ligne de commande avec l'option
<tt class="option">-cdrom-device</tt>.
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
Les CD-ROM SCSI Plextor et certains Toshiba, entre autres, ont d'horribles
performances durant la lecture de VCDs.
C'est parce que l'<code class="systemitem">ioctl</code> CDROMREADRAW n'est pas
complètement implémenté pour ces lecteurs.
Si vous avez des connaissances en programmation SCSI, merci de
<a class="ulink" href="../../tech/patches.txt" target="_top">nous aider</a> à implémenter un
support SCSI générique pour les VCDs.
</p></div><p>
En attendant vous pouvez extraire des données d'un VCD avec
<a class="ulink" href="http://ftp.ntut.edu.tw/ftp/OS/Linux/packages/X/viewers/readvcd/" target="_top">readvcd</a>
et lire le fichier obtenu avec <span class="application">MPlayer</span>.
</p><p title="Structure d'un VCD"><b>Structure d'un VCD. </b>
Un CD Video (VCD) est constitué de secteurs CD-ROM XA, c'est-à-dire des
pistes CD-ROM mode 2 forme 1 et 2 :
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
La première piste est en mode 2 forme 2 ce qui signifie qu'elle utilise une
correction d'erreur L2. La piste contient un système de fichiers ISO-9660 avec 2048
octets/secteur. Ce système de fichiers contient des informations VCD meta-donnée, aussi
bien que les images fixes souvent utilisées dans les menus. Les segments MPEG pour les menus
peuvent aussi être stockés dans la première piste, mais les données MPEG doivent être cassées
en séries de bouts de 150 secteurs. Le système de fichiers ISO-9660 peut contenir d'autres
fichiers ou programmes qui ne sont pas essentiels pour les
opérations VCD.
</p></li><li class="listitem"><p>
La seconde piste et les suivantes sont des pistes MPEG brutes (film) à 2324 octets/secteur,
contenant un paquet de données MPEG PS par secteur. Celles-ci sont formatées selon le mode 2 forme 1,
elles stockent donc plus de données par secteur au détriment de la correction d'erreur.
Il est aussi permis d'avoir des pistes CD-DA dans un VCD après la première piste.
Sur certains systèmes d'exploitation, il y a quelques astuces qui permettent de faire
apparaître ces pistes non-ISO-9660 dans un système de fichiers. Sur d'autres systèmes
d'exploitation comme GNU/Linux cela n'est pas le cas (pas encore).
Ici les données MPEG <span class="bold"><strong>ne peuvent être montées</strong></span>.
Comme la plupart des films sont à l'intérieur de ce genre de piste, vous devrez
tout d'abord essayer <tt class="option">vcd://2</tt>.
</p></li><li class="listitem"><p>
Il existe également certains disques VCD sans la première piste (une seule piste et pas de système de
fichier du tout). Ils sont quand même lisibles, mais ne peuvent pas être montés.
</p></li><li class="listitem"><p>La définition du standard Video CD est appelée le
"Livre Blanc" Philips et n'est généralement pas disponible en ligne, étant donné
qu'elle doit être achetée auprès de Philips. Une information plus détaillée sur le Video
CD peut être trouvée dans la
<a class="ulink" href="http://www.vcdimager.org/pub/vcdimager/manuals/0.7/vcdimager.html#SEC4" target="_top">documentation de vcdimager</a>.
</p></li></ul></div><p title="Structure d'un VCD">
</p><p title="À propos des fichiers .DAT :"><b>À propos des fichiers .DAT : </b>
Le fichier de ~600 Mo visible sur la première piste d'un VCD monté n'est
pas un vrai fichier !
C'est ce qu'on appelle une passerelle ISO, créée pour permettre à Windows
de gérer de telles pistes (Windows n'autorise pas du tout l'accès brut au
périphérique).
Sous linux, vous ne pouvez pas copier ou lire de telles pistes (elle
contiennent des informations parasites).
Sous Windows c'est possible car son pilote iso9660 émule la lecture brute
des pistes dans ce fichier.
Pour lire un fichier .DAT vous avez besoin d'un pilote noyau qui peut
être trouvé dans la version Linux de <span class="application">PowerDVD</span>.
Il possède un pilote de système de fichier iso9660 modifié
(<tt class="filename">vcdfs/isofs-2.4.X.o</tt>), qui est capable d'émuler
les pistes brutes au travers de ce fichier .DAT fantôme.
Si vous montez le disque en utilisant leur pilote, vous pouvez
copier et même lire les fichiers .DAT avec <span class="application">MPlayer</span>.
Mais cela ne fonctionnera pas avec le pilote iso9660 standard du
noyau !
Il est recommandé d'utiliser l'option <tt class="option">vcd://</tt>
à la place.
D'autres possibilités pour la copie de VCD sont le nouveau pilote noyau
<a class="ulink" href="http://www.elis.rug.ac.be/~ronsse/cdfs/" target="_top">cdfs</a>
(qui ne fait pas partie du noyau officiel) qui montre les sessions du CD
en temps que fichier image et
<a class="ulink" href="http://cdrdao.sf.net/" target="_top">cdrdao</a>, une application
d'enregistrement/copie bit-à-bit).
</p></div></div><div class="chapter" title="Chapitre 5. TV"><div class="titlepage"><div><div><h2 class="title"><a name="tv"></a>Chapitre 5. TV</h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="#tv-input">5.1. Entrée TV</a></span></dt><dd><dl><dt><span class="sect2"><a href="#tv-compilation">5.1.1. Compilation</a></span></dt><dt><span class="sect2"><a href="#tv-tips">5.1.2. Astuces d'utilisation</a></span></dt><dt><span class="sect2"><a href="#tv-examples">5.1.3. Exemples</a></span></dt></dl></dd><dt><span class="sect1"><a href="#tv-teletext">5.2. Télétexte</a></span></dt><dd><dl><dt><span class="sect2"><a href="#tv-teletext-implementation-notes">5.2.1. Notes d'implantation</a></span></dt><dt><span class="sect2"><a href="#tv-teletext-usage">5.2.2. Using teletext</a></span></dt><dt><span class="sect2"><a href="#tv-teletext-hotkeys">5.2.3. Raccourcis clavier pour le Télétexte</a></span></dt></dl></dd></dl></div><div class="sect1" title="5.1. Entrée TV"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tv-input"></a>5.1. Entrée TV</h2></div></div></div><p>
Cette section concerne l'activation de la <span class="bold"><strong>lecture/enregistrement
à partir d'un tuner TV compatible V4L.</strong></span> Voir la page de man pour une
description des options TV et des contrôles clavier.

</p><div class="sect2" title="5.1.1. Compilation"><div class="titlepage"><div><div><h3 class="title"><a name="tv-compilation"></a>5.1.1. Compilation</h3></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Étape 1"><p>
  D'abord, vous devez recompiler.
  <tt class="filename">./configure</tt> autodétectera les entêtes v4l du noyau et
l'existence des entrées <tt class="filename">/dev/video*</tt>.
Si elles existent, le support TV sera activé
  (voir le résultat de <tt class="filename">./configure</tt>).
  </p></li><li class="step" title="Étape 2"><p>
  Assurez-vous que votre tuner fonctionne avec d'autres logiciels TV pour
Linux.
Par exemple avec <span class="application">XawTV</span>.
  </p></li></ol></div></div><div class="sect2" title="5.1.2. Astuces d'utilisation"><div class="titlepage"><div><div><h3 class="title"><a name="tv-tips"></a>5.1.2. Astuces d'utilisation</h3></div></div></div><p>
La liste complète des options est disponible sur la page de man. Voici juste
quelques astuces :

</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
Utilisez l'option <tt class="option">channels</tt>.
Exemple :
</p><pre class="screen">-tv channels=26-MTV1,23-TV2</pre><p>
Explication :
En utilisant cette option, seuls les canaux 26 et 23 seront
utilisables, et il y a un joli texte OSD lors des changements de canaux
affichant le nom du nouveau.
Les espaces dans le nom du canal doivent être remplacés par le caractère
"_".
</p></li><li class="listitem"><p>
Choisissez des dimensions d'images sensées. Les dimensions de l'image de
destination devraient être divisible par 16.
</p></li><li class="listitem"><p>
Si vous capturez la vidéo avec une résolution verticale supérieure à la
moitié de la pleine résolution (c-a-d. 288 pour PAL ou 240 pour NTSC),
alors les trames que vous obtenez seront en réalité des paires de champs
entrelacées.
En fonction de ce que vous voulez faire avec la vidéo, vous pourriez la laisser
sous cette forme, malheureusement désentrelacé, ou séparer les paires en champs
individuels.
</p><p>
Autrement vous aurez un film qui a des distorsion durant les scènes à
mouvements rapides et le contrôleur de bitrate ne sera probablement
même pas capable de garder le bitrate demandé car les artefacts de
désentrelacement produisent beaucoup de détails et donc consomment
plus de bande passante.
Vous pouvez désactiver l'entrelacement avec
<tt class="option">-vf pp=DEINT_TYPE</tt>.
Généralement <tt class="option">pp=lb</tt> peut faire du bon travail, mais
c'est une histoire de préférence personnelle.
Voyez les autres algorithmes de désentrelacement dans le manuel et
essayez-les.
</p></li><li class="listitem"><p>
Coupez les espaces morts. Quand vous capturez la vidéo, les bords sont
généralement noirs ou contiennent du "bruit".
De nouveau cela consomme de la bande passante inutilement.
Plus précisément ce ne sont pas les zones noires elles-mêmes mais les
transitions nettes entre le noir et la vidéo plus claire qui jouent, mais
ce n'est pas très important pour le moment.
Avant que vous commenciez la capture, ajustez les arguments de l'option
<tt class="option">crop</tt> pour que toutes les saletés des bords soient coupées.
De nouveau, n'oubliez pas de garder des dimensions sensées.
</p></li><li class="listitem"><p>
Regardez la charge CPU.
Elle ne devrait pas dépasser la limite des 90% la plupart du temps.
Si vous avez un gros tampon, <span class="application">MEncoder</span> peut
survivre à une surcharge pendant quelques secondes mais pas plus.
Il vaut mieux désactiver les économiseurs d'écran 3D OpenGL et les trucs
similaires.
</p></li><li class="listitem"><p>
Ne jouez pas avec l'horloge système. <span class="application">MEncoder</span>
l'utilise pour la synchro A/V.
Si vous réglez l'horloge système (surtout en arrière dans le temps),
<span class="application">MEncoder</span> va se sentir perdu et va perdre des
trames.
C'est un problème important lorsque vous êtes en réseau et que vous utilisez
certains logiciels de synchronisation comme NTP.
Vous devrez désactiver NTP pendant le processus de capture si vous voulez
capturer correctement.
</p></li><li class="listitem"><p>
Ne changez pas le <tt class="option">outfmt</tt> à moins que vous sachiez ce que
vous faites ou votre si votre carte/pilote ne supporte pas la valeur par
défaut (palette YV12).
Dans les versions précédentes de <span class="application">MPlayer</span>/
<span class="application">MEncoder</span> il était nécessaire de spécifier le
format de sortie.
Ce problème devrait être résolu dans les versions actuelles et
<tt class="option">outfmt</tt> n'est plus requis, et la valeur par défaut convient
dans la plupart des cas.
Par exemple, si vous capturez en DivX en utilisant
<code class="systemitem">libavcodec</code> et que vous spécifiez
<tt class="option">outfmt=RGB24</tt> de façon à augmenter la qualité de l'image
capturée, l'image capturée sera reconvertie plus tard en YV12; donc la
seule chose que vous obtiendrez est un gaspillage massif de puissance CPU.
</p></li><li class="listitem"><p>
Pour spécifier la palette I420 (<tt class="option">outfmt=i420</tt>), vous devez
ajouter une option <tt class="option">-vc rawi420</tt> à cause d'un conflit de
fourcc avec un codec vidéo Intel Indeo.
</p></li><li class="listitem"><p>
Il y a plusieurs façons de capturer l'audio.
Vous pouvez attraper le son soit avec votre carte son via un câble externe
entre la carte vidéo et l'entrée ligne, soit en utilisant le DAC intégré
à la puce bt878.
Dans ce dernier cas, vous devrez charger le pilote
<span class="bold"><strong>btaudio</strong></span>.
Lisez le fichier <tt class="filename">linux/Documentation/sound/btaudio</tt>
(dans l'arborescence du noyau, pas celle de <span class="application">MPlayer</span>)
pour les instructions d'utilisations de ce pilote.
</p></li><li class="listitem"><p>
Si <span class="application">MEncoder</span> ne peut pas ouvrir le périphérique
audio, assurez-vous qu'il soit réellement disponible.
Il peut y avoir des ennuis avec certains serveurs de son comme aRts (KDE)
ou ESD (GNOME).
Si vous avez une carte son full duplex (presque toutes les cartes décentes
le supportent aujourd'hui), et que vous utilisez KDE, essayez d'activer
l'option "full duplex" dans le menu des préférences du serveur de son.
</p></li></ul></div><p>
</p></div><div class="sect2" title="5.1.3. Exemples"><div class="titlepage"><div><div><h3 class="title"><a name="tv-examples"></a>5.1.3. Exemples</h3></div></div></div><div class="informalexample"><p>
Sortie muette, vers AAlib :)
</p><pre class="screen">
mplayer -tv driver=dummy:width=640:height=480 -vo aa tv://</pre><p>
</p></div><div class="informalexample"><p>
  Entrée depuis V4L standard :
</p><pre class="screen">
mplayer -tv driver=v4l:width=640:height=480:outfmt=i420 -vc rawi420 \
  -vo xv tv://</pre><p>
</p></div><div class="informalexample"><p>
Un exemple plus élaboré.
Ici <span class="application">MEncoder</span> capture l'image PAL entière, coupe
les marges, et désentrelace l'image en utilisant un algorithme de mélange
linéaire.
L'audio est compressée à un débit constant de 64kbps, en utilisant le codec
LAME.
Cette combinaison est adaptée pour capturer des films.
</p><pre class="screen">
mencoder -tv driver=v4l:width=768:height=576 -oac mp3lame -lameopts cbr:br=64\
  -ovc lavc -lavcopts vcodec=mpeg4:vbitrate=900 \
  -vf crop=720:544:24:16,pp=lb \
  -o <em class="replaceable"><code>output.avi</code></em> tv://
</pre><p>
</p></div><div class="informalexample"><p>
Cela dimensionne également l'image en 384x288 et compresse la vidéo avec
un débit de 350kbps en mode haute qualité.
L'option vqmax perd le quantizer et permet au compresseur vidéo d'atteindre
un débit plus bas au détriment de la qualité.
Cela peut être utilisé pour capturer des longues séries TV, quand la qualité
n'est pas très importante.
</p><pre class="screen">
mencoder -tv driver=v4l:width=768:height=576 \
  -ovc lavc -lavcopts vcodec=mpeg4:vbitrate=350:vhq:vqmax=31:keyint=300 \
  -oac mp3lame -lameopts cbr:br=48 -sws 1 \
  -o <em class="replaceable"><code>output.avi</code></em>\
  -vf crop=720:540:24:18,pp=lb,scale=384:288 tv://
</pre><p>
Il est également possible de spécifier des dimensions d'images plus petites
dans l'option <tt class="option">-tv</tt> et d'omettre le zoom logiciel mais cette
approche utilise le maximum d'informations disponibles et, est un peu plus
résistant au bruit.
Les chipsets bt8x8 peuvent faire une moyenne de pixels uniquement dans la
direction horizontale à cause d'une limitation matérielle.
</p></div></div></div><div class="sect1" title="5.2. Télétexte"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tv-teletext"></a>5.2. Télétexte</h2></div></div></div><p>
Le Télétexte n'est actuellement disponible dans
<span class="application">MPlayer</span> que pour les drivers v4l et v4l2.
</p><div class="sect2" title="5.2.1. Notes d'implantation"><div class="titlepage"><div><div><h3 class="title"><a name="tv-teletext-implementation-notes"></a>5.2.1. Notes d'implantation</h3></div></div></div><p>
<span class="application">MPlayer</span> gère les textes, graphiques et
 liens classiquess.
 Malheureusement, les pages colorisées ne sont pas encore complètement
 gérées :  toutes les pages sont affichées en niveau de gris.
 Les sous-titres (dénommés Closed Captions (CC)) sont aussi  supportées.
</p><p>
<span class="application">MPlayer</span> commence à mettre en cache toutes les
pages Télétexte dès qu'il commence à recevoir du signal TV.  Ainsi, vous
n'avez pas besoin d'attendre jusqu'à ce que la page requise soit chargée.
</p><p>
  Note : Utiliser le Télétexte avec l'option <tt class="option">-vo xv</tt>
  génère des couleurs bizarres.
</p></div><div class="sect2" title="5.2.2. Using teletext"><div class="titlepage"><div><div><h3 class="title"><a name="tv-teletext-usage"></a>5.2.2. Using teletext</h3></div></div></div><p>
Pour pouvoir décoder le tététexte, vous devez spécifier le périphérique VBI
d'où vous souhaitez extraire les données (normalement
<tt class="filename">/dev/vbi0</tt> pour Linux).  Ceci peut être fait en
spécifiant <tt class="option">tdevice</tt> dans votre fichier de configuration
comme indiqué ci-dessous :
</p><pre class="screen">tv=tdevice=/dev/vbi0</pre><p>
</p><p>
Vous pouvez avoir besoin de spécifier le code de la langue pour
le Télétexte dans votre pays.  La liste des codes est disponible avec
l'option :
</p><pre class="screen">tv=tdevice=/dev/vbi0:tlang=<em class="replaceable"><code>-1</code></em></pre><p>

Voici un exemple pour du Russe :
</p><pre class="screen">tv=tdevice=/dev/vbi0:tlang=<em class="replaceable"><code>33</code></em></pre><p>
</p></div><div class="sect2" title="5.2.3. Raccourcis clavier pour le Télétexte"><div class="titlepage"><div><div><h3 class="title"><a name="tv-teletext-hotkeys"></a>5.2.3. Raccourcis clavier pour le Télétexte</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Touche</th><th>Description</th></tr></thead><tbody><tr><td>X</td><td>Bascule l'affichage du Télétexte on/off</td></tr><tr><td>C</td><td>Parcourir les modes de rendu du Télétexte (opaque,
transparent, opaque inversé, transparent inversé)</td></tr><tr><td>Gauche/Droite</td><td>Aller à la page Télétexte précédente/suivante</td></tr><tr><td>Bas/Haut</td><td>Aller à la sous-page Télétexte précédente/suivante</td></tr><tr><td>Chiffres</td><td>Numéro de page où aller</td></tr></tbody></table></div></div></div></div><div class="chapter" title="Chapitre 6. Radio"><div class="titlepage"><div><div><h2 class="title"><a name="radio"></a>Chapitre 6. Radio</h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="#radio-input">6.1. Entrée Radio</a></span></dt><dd><dl><dt><span class="sect2"><a href="#radio-compilation">6.1.1. Compilation</a></span></dt><dt><span class="sect2"><a href="#radio-tips">6.1.2. Astuces d'utilisation</a></span></dt><dt><span class="sect2"><a href="#radio-examples">6.1.3. Exemples</a></span></dt></dl></dd></dl></div><div class="sect1" title="6.1. Entrée Radio"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="radio-input"></a>6.1. Entrée Radio</h2></div></div></div><p>
Cette section a pour but de vous expliquer comment écouter la radio
depuis un tuner compatible V4L (Video For Linux). Reportez-vous à la
page de manuel pour la description des options controlant la radio ainsi
que pour la liste des raccourcis clavier.
</p><div class="sect2" title="6.1.1. Compilation"><div class="titlepage"><div><div><h3 class="title"><a name="radio-compilation"></a>6.1.1. Compilation</h3></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Étape 1"><p>
  Tout d'abord, vous devez recompiler <span class="application">MPlayer</span>.
  Invoquez <tt class="filename">./configure</tt> avec l'option
  <tt class="option">--enable-radio</tt> et si vous désirez pouvoir enregister la radio,
  ajoutez  <tt class="option">--enable-radio-capture</tt>.
</p></li><li class="step" title="Étape 2"><p>
  Vérifiez que votre tuner fonctionne avec un autre logiciel d'écoute radio
  comme <span class="application">XawTV</span> par exemple.
</p></li></ol></div></div><div class="sect2" title="6.1.2. Astuces d'utilisation"><div class="titlepage"><div><div><h3 class="title"><a name="radio-tips"></a>6.1.2. Astuces d'utilisation</h3></div></div></div><p>
La liste complète des options est disponible dans la page de manuel.
En voici une sélection des plus pratiques :
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
L'option <tt class="option">channels</tt>. Un exemple :
</p><pre class="screen">-radio channels=104.4-Sibir,103.9-Maximum</pre><p>
Avec cette option, seules les fréquences 104.4 et 103.9
pourront être écoutées. Lors d'un changement de station, le nom de la radio
apparaitra à l'écran (OSD). Les caractères espace " " dans le nom de la
station doivent être remplacés par le caractère underscore "_".
</p></li><li class="listitem"><p>
Il y a plusieurs façons d'enregistrer la radio. Vous pouvez soit utiliser votre
carte son via un cable externe reliant votre carte vidéo et le line-in de la carte son
ou utiliser l'ADC integré à la puce saa7134. Dans le second cas, vous devez charger le
pilote <code class="systemitem">saa7134-alsa</code> ou <code class="systemitem">saa7134-oss</code> selon
votre configuration.
</p></li><li class="listitem"><p>
<span class="application">MEncoder</span> ne peut pas être utilisé pour enregistrer la radio car
il doit necessairement travailler sur un flux vidéo. Vous pouvez soit utiliser le logiciel
<span class="application">arecord</span> du projet ALSA ou utiliser l'option
<tt class="option">-ao pcm:file=fichier.wav</tt>. Dans ce cas, vous n'entenderez rien,
sauf si vous utilisez un cable branché au line-in et que le volume du line-in n'est pas nul).
</p></li></ul></div></div><div class="sect2" title="6.1.3. Exemples"><div class="titlepage"><div><div><h3 class="title"><a name="radio-examples"></a>6.1.3. Exemples</h3></div></div></div><div class="informalexample"><p>
Ecoute depuis un périphérique V4L standard (cable relié au line-in,
enregistrement désactivé) :
</p><pre class="screen">
mplayer radio://104.4
</pre><p>
</p></div><div class="informalexample"><p>
Ecoute depuis un périphérique V4L standard (cable relié au line-in,
enregistrement désactivé, interface V4Lv1) :
</p><pre class="screen">
mplayer -radio driver=v4l radio://104.4
</pre><p>
</p></div><div class="informalexample"><p>
Ecoute de la seconde fréquence dans la liste.
</p><pre class="screen">
mplayer -radio channels=104.4=Sibir,103.9=Maximm radio://2
</pre><p>
</p></div><div class="informalexample"><p>
Transfert du son par le bus PCI depuis l'ADC interne de la carte son.
Dans cet exemple, le tuner radio est utilisé comme une seconde carte son
(périphérique ALSA hw:1,0). Pour les cartes son basées sur la puce
saa7134, le module <code class="systemitem">saa7134-alsa</code> ou
<code class="systemitem">saa7134-oss</code> doit être chargé.
</p><pre class="screen">
mplayer -rawaudio rate=32000 radio://2/capture \
-radio adevice=hw=1.0:arate=32000:channels=104.4=Sibir,103.9=Maximm
</pre><p>
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Dans les noms de périphérique ALSA, les point-virgules
";" doivent être remplacés
par des signes égal "=" et les virgules "," par des points
".".
</p></div><p>
</p></div></div></div></div><div class="chapter" title="Chapitre 7. Sorties vidéo"><div class="titlepage"><div><div><h2 class="title"><a name="video"></a>Chapitre 7. Sorties vidéo</h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="#mtrr">7.1. Réglage MTRR</a></span></dt><dt><span class="sect1"><a href="#xv">7.2. Xv</a></span></dt><dd><dl><dt><span class="sect2"><a href="#tdfx">7.2.1.  Cartes 3dfx</a></span></dt><dt><span class="sect2"><a href="#s3">7.2.2. Cartes S3</a></span></dt><dt><span class="sect2"><a href="#nvidia">7.2.3. Cartes nVidia</a></span></dt><dt><span class="sect2"><a href="#ati">7.2.4. Cartes ATI</a></span></dt><dt><span class="sect2"><a href="#neomagic">7.2.5. Cartes NeoMagic</a></span></dt><dt><span class="sect2"><a href="#trident">7.2.6. Cartes Trident</a></span></dt><dt><span class="sect2"><a href="#kyro">7.2.7. Cartes Kyro/PowerVR</a></span></dt><dt><span class="sect2"><a href="#intel">7.2.8. Cartes Intel</a></span></dt></dl></dd><dt><span class="sect1"><a href="#dga">7.3. DGA</a></span></dt><dt><span class="sect1"><a href="#sdl">7.4. SDL</a></span></dt><dt><span class="sect1"><a href="#svgalib">7.5. SVGAlib</a></span></dt><dt><span class="sect1"><a href="#fbdev">7.6. Sortie Framebuffer (FBdev)</a></span></dt><dt><span class="sect1"><a href="#mga_vid">7.7. Framebuffer Matrox (mga_vid)</a></span></dt><dt><span class="sect1"><a href="#tdfxfb">7.8. Support YUV 3Dfx</a></span></dt><dt><span class="sect1"><a href="#tdfx_vid">7.9. tdfx_vid</a></span></dt><dt><span class="sect1"><a href="#opengl">7.10. Sortie OpenGL</a></span></dt><dt><span class="sect1"><a href="#aalib">7.11. AAlib – affichage en mode texte</a></span></dt><dt><span class="sect1"><a href="#caca">7.12. 
  <code class="systemitem">libcaca</code> – Librairie ASCII Art
en couleur</a></span></dt><dt><span class="sect1"><a href="#vesa">7.13. VESA - sortie sur BIOS VESA</a></span></dt><dt><span class="sect1"><a href="#x11">7.14. X11</a></span></dt><dt><span class="sect1"><a href="#vidix">7.15. VIDIX</a></span></dt><dd><dl><dt><span class="sect2"><a href="#svgalib_helper">7.15.1. svgalib_helper</a></span></dt><dt><span class="sect2"><a href="#vidix-ati">7.15.2. Cartes ATI</a></span></dt><dt><span class="sect2"><a href="#vidix-mga">7.15.3. Cartes Matrox</a></span></dt><dt><span class="sect2"><a href="#vidix-trident">7.15.4. Cartes Trident</a></span></dt><dt><span class="sect2"><a href="#vidix-3dlabs">7.15.5. Cartes 3DLabs</a></span></dt><dt><span class="sect2"><a href="#vidix-nvidia">7.15.6. Cartes nVidia</a></span></dt><dt><span class="sect2"><a href="#vidix-sis">7.15.7. Cartes SiS</a></span></dt></dl></dd><dt><span class="sect1"><a href="#directfb">7.16. DirectFB</a></span></dt><dt><span class="sect1"><a href="#dfbmga">7.17. DirectFB/Matrox (dfbmga)</a></span></dt><dt><span class="sect1"><a href="#mpeg_decoders">7.18. Décodeurs MPEG</a></span></dt><dd><dl><dt><span class="sect2"><a href="#dvb">7.18.1. sorties et entrées DVB</a></span></dt><dt><span class="sect2"><a href="#dxr2">7.18.2. DXR2</a></span></dt><dt><span class="sect2"><a href="#dxr3">7.18.3. DXR3/Hollywood+</a></span></dt></dl></dd><dt><span class="sect1"><a href="#other">7.19. Autres matériels de visualisation</a></span></dt><dd><dl><dt><span class="sect2"><a href="#zr">7.19.1. Zr</a></span></dt><dt><span class="sect2"><a href="#blinkenlights">7.19.2. Blinkenlights</a></span></dt></dl></dd><dt><span class="sect1"><a href="#tvout">7.20. Sortie TV</a></span></dt><dd><dl><dt><span class="sect2"><a href="#tvout-mga-g400">7.20.1. Cartes Matrox G400</a></span></dt><dt><span class="sect2"><a href="#tv-out_matrox_g450">7.20.2. Cartes Matrox G450/G550</a></span></dt><dt><span class="sect2"><a href="#tv-out_matrox_cable">7.20.3. Construire un câble de sortie TV Matrox</a></span></dt><dt><span class="sect2"><a href="#tvout-ati">7.20.4. Cartes ATI</a></span></dt><dt><span class="sect2"><a href="#tvout-nvidia">7.20.5. nVidia</a></span></dt><dt><span class="sect2"><a href="#tvout-neomagic">7.20.6. Neomagic</a></span></dt></dl></dd></dl></div><div class="sect1" title="7.1. Réglage MTRR"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mtrr"></a>7.1. Réglage MTRR</h2></div></div></div><p>
Il est FORTEMENT recommandé de bien ajuster ses registres MTRR, qui apportent
un gain important de performances.
</p><p>
  Faites un <span class="command"><strong>cat /proc/mtrr</strong></span> :
</p><pre class="screen">
<code class="prompt">--($:~)--</code> cat /proc/mtrr
reg00: base=0xe4000000 (3648MB), size=  16MB: write-combining, count=9
reg01: base=0xd8000000 (3456MB), size= 128MB: write-combining, count=1</pre><p>
</p><p>
C'est bon, il montre ma Matrox G400 avec 16Mo de mémoire.
J'ai fais cela avec XFree 4.x.x, qui ajuste les registres MTRR
automatiquement.
</p><p>
Si rien n'a fonctionné, vous devrez procéder manuellement.
D'abord, vous devez trouver l'adresse de base.
Vous pouvez la trouver de trois façons :

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
    à partir des messages au démarrage de X11, par exemple :
  </p><pre class="screen">
(--) SVGA: PCI: Matrox MGA G400 AGP rev 4, Memory @ 0xd8000000, 0xd4000000
(--) SVGA: Linear framebuffer at 0xD8000000</pre><p>
  </p></li><li class="listitem"><p>
  à partir de <tt class="filename">/proc/pci</tt> (utilisez la commande
  <span class="command"><strong>lspci -v</strong></span>) :
  </p><pre class="screen">
01:00.0 VGA compatible controller: Matrox Graphics, Inc.: Unknown device 0525
Memory at d8000000 (32-bit, prefetchable)
  </pre><p>
  </p></li><li class="listitem"><p>
  à partir des messages noyau du pilote mga_vid (utilisez
  <span class="command"><strong>dmesg</strong></span>) :
  </p><pre class="screen">mga_mem_base = d8000000</pre><p>
  </p></li></ol></div><p>
</p><p>
Trouvons maintenant la taille mémoire. Simplement, convertissez la taille de
la
mémoire vidéo en hexadécimal, ou utilisez cette table :
</p><div class="informaltable"><table border="0"><colgroup><col><col></colgroup><tbody><tr><td>1 Mo</td><td>0x100000</td></tr><tr><td>2 Mo</td><td>0x200000</td></tr><tr><td>4 Mo</td><td>0x400000</td></tr><tr><td>8 Mo</td><td>0x800000</td></tr><tr><td>16 Mo</td><td>0x1000000</td></tr><tr><td>32 Mo</td><td>0x2000000</td></tr></tbody></table></div><p>
</p><p>
Vous connaissez l'adresse de base ainsi que la taille, ajustons vos registres
MTRR !
Par exemple, pour la carte Matrox utilisée ci-dessus
(<code class="literal">base=0xd8000000</code>)
avec 32Mo de ram (<code class="literal">size=0x2000000</code>) faites simplement :
</p><pre class="screen">
echo "base=0xd8000000 size=0x2000000 type=write-combining" &gt; /proc/mtrr
</pre><p>
</p><p>
Tous les processeurs ne supportent pas les MTRR. Les anciens K6-2 par exemple
(vers 266Mhz, stepping 0) ne sont pas compatibles avec les MTRR, mais les
stepping 12
le sont
(<span class="command"><strong>cat /proc/cpuinfo</strong></span> pour le vérifier).
</p></div><div class="sect1" title="7.2. Xv"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="xv"></a>7.2. Xv</h2></div></div></div><p>
Sous XFree86 4.0.2 ou plus récent, vous pouvez utiliser les routines YUV
matérielles de votre carte en utilisant l'extension XVideo.
C'est ce qu'utilise l'option <tt class="option">-vo xv</tt>.
De plus, ce pilote supporte le réglage de luminosité/contraste/saturation/etc.
(à moins que vous n'utilisiez le vieux, lent codec Divx DirectShow, qui le
supporte partout), voir la page de man.
</p><p>
Pour que cela fonctionne, vérifiez ceci :

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
  Vous devez utiliser XFree86 4.0.2 ou plus récent (les versions précédentes
  n'ont pas XVideo)
  </p></li><li class="listitem"><p>
  Votre carte supporte l'accélération matérielle (les cartes modernes le font)
  </p></li><li class="listitem"><p>
    X charge l'extension XVideo, qui doit faire apparaître quelque chose
comme :
  </p><pre class="programlisting">(II) Loading extension XVideo</pre><p>
  dans <tt class="filename">/var/log/XFree86.0.log</tt>
  </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
      NOTE : ceci charge seulement l'extension de XFree86.
  Dans une installation correcte, celle ci est toujours chargée, et ne
  signifie pas que le support XVideo spécifique à
  <span class="bold"><strong>votre carte</strong></span> est chargée !
  </p></div><p>
  </p></li><li class="listitem"><p>
  Votre carte a le support Xv sous Linux. Pour le vérifier, essayez
  <span class="command"><strong>xvinfo</strong></span>,
  inclus dans XFree86. Cela doit afficher un long message, similaire à :
  </p><pre class="screen">
X-Video Extension version 2.2
screen #0
  Adaptor #0: "Savage Streams Engine"
    number of ports: 1
    port base: 43
    operations supported: PutImage
    supported visuals:
      depth 16, visualID 0x22
      depth 16, visualID 0x23
    number of attributes: 5
(...)
    Number of image formats: 7
      id: 0x32595559 (YUY2)
	guid: 59555932-0000-0010-8000-00aa00389b71
	bits per pixel: 16
	number of planes: 1
	type: YUV (packed)
      id: 0x32315659 (YV12)
	guid: 59563132-0000-0010-8000-00aa00389b71
	bits per pixel: 12
	number of planes: 3
	type: YUV (planar)
(...etc...)</pre><p>
  Cela doit supporter les formats de pixels YUY2 packed et YV12 planar pour
  pouvoir être utilisés avec <span class="application">MPlayer</span>.
  </p></li><li class="listitem"><p>
  Finalement, vérifiez si <span class="application">MPlayer</span> a été compilé
  avec le support 'xv'.
  Faites un <span class="command"><strong>mplayer -vo help | grep xv</strong></span>
  Si le support 'xv' à été compilé une ligne similaire à celle-ci devrait
  apparaitre :
    </p><pre class="screen">  xv      X11/Xv</pre><p>
  </p></li></ol></div><p>
</p><div class="sect2" title="7.2.1.  Cartes 3dfx"><div class="titlepage"><div><div><h3 class="title"><a name="tdfx"></a>7.2.1.  Cartes 3dfx</h3></div></div></div><p>
Les anciens pilotes 3dfx avaient des problèmes avec l'accélération XVideo,
et ne supportaient ni YUY2 ni YV12.
Vérifiez que vous avez bien XFree86 version 4.2.0 ou plus, il fonctionne
correctement avec YV12 et YUY2.
Les versions précédentes, incluant 4.1.0,
<span class="bold"><strong>plantent avec YV12</strong></span>.
Si des problèmes apparaissent en utilisant <tt class="option">-vo xv</tt>, essayez
SDL (qui utilise également XVideo) et voyez si cela passe mieux.
Lisez la section <a class="link" href="#sdl" title="7.4. SDL">SDL</a> pour plus de détails.
</p><p>
<span class="bold"><strong>OU</strong></span>, essayez le NOUVEAU pilote
<tt class="option">-vo tdfxfb</tt> ! Voir la section <a class="link" href="#tdfxfb" title="7.8. Support YUV 3Dfx">tdfxfb</a>.
</p></div><div class="sect2" title="7.2.2. Cartes S3"><div class="titlepage"><div><div><h3 class="title"><a name="s3"></a>7.2.2. Cartes S3</h3></div></div></div><p>
Les cartes S3 Savage3D doivent fonctionner correctement, mais pour les
Savage4,
utilisez XFree86 version 4.0.3 ou plus (en cas de problèmes d'image, essayez
16bpp).
Comme pour les S3 Virge : il y a un support xv, mais la carte elle-même
est
très lente,
donc vous feriez mieux de la vendre.
</p><p>
Il y a maintenant un pilote framebuffer natif pour les cartes S3 Virge
ou similaires à tdfxfb. Activez votre framebuffer (c-à-d ajoutez
"<tt class="option">vga=792 video=vesa:mtrr</tt>" en paramètre à votre noyau) et utilisez
<tt class="option">-vo s3fb</tt> (<tt class="option">-vf yuy2</tt> et <tt class="option">-dr</tt>
peuvent aider aussi).
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
Il n'est actuellement pas facile de savoir quels modèles de Savage manquent
de support YV12, et de le convertir par un pilote (lent).
Si vous suspectez votre carte, prenez un pilote plus récent, ou demandez
poliment un pilote qui gère MMX/3DNow sur la liste de diffusion MPlayer-users.
</p></div></div><div class="sect2" title="7.2.3. Cartes nVidia"><div class="titlepage"><div><div><h3 class="title"><a name="nvidia"></a>7.2.3. Cartes nVidia</h3></div></div></div><p>
nVidia n'est pas un très bon choix sous Linux ... Les pilotes open-source de
XFree86 supportent la plupart de ces cartes, mais dans certains cas, vous devrez
utiliser les pilotes binaires closed-source de nVidia, disponibles sur le
<a class="ulink" href="http://www.nvidia.com/object/linux.html" target="_top">site web de nVidia</a>.
Vous aurez toujours besoin de ce pilote si vous voulez l'accélération 3D.
</p><p>
Les cartes Riva128 n'ont pas de support XVideo même avec le pilote
nVidia :(
Plaignez-vous en à nVidia.
</p><p>
Cependant, <span class="application">MPlayer</span> contient un pilote
<a class="link" href="#vidix" title="7.15. VIDIX">VIDIX</a> pour la plupart des cartes
nVidia. Actuellement il est en phase béta, et a quelques inconvénients. Pour
plus d'informations, voir la section <a class="link" href="#vidix-nvidia" title="7.15.6. Cartes nVidia">VIDIX
nVidia</a>.
</p></div><div class="sect2" title="7.2.4. Cartes ATI"><div class="titlepage"><div><div><h3 class="title"><a name="ati"></a>7.2.4. Cartes ATI</h3></div></div></div><p>
Le <a class="ulink" href="http://gatos.sf.net" target="_top">pilote GATOS</a>
(que vous devriez utiliser, à moins d'avoir une Rage128 ou une Radeon)
utilise VSYNC par défaut.
Cela signifie que la vitesse de décodage (!) est synchronisée à la vitesse de
rafraîchissement du moniteur. Si la lecture semble lente, essayez d'enlever
VSYNC, ou passez la vitesse de rafraîchissement à n*(fps du film) Hz.
</p><p>
Radeon VE - si vous avez besoin de X, utilisez 4.2.0 ou supérieur pour cette
carte.
Pas de support TV-out.
Bien sûr avec <span class="application">MPlayer</span> vous pouvez heureusement
avoir un affichage <span class="bold"><strong>accéléré</strong></span>, avec ou sans
<span class="bold"><strong>sortie TV</strong></span>, et aucune librairie ou X ne
sont requis. Lire la section <a class="link" href="#vidix" title="7.15. VIDIX">VIDIX</a>.
</p></div><div class="sect2" title="7.2.5. Cartes NeoMagic"><div class="titlepage"><div><div><h3 class="title"><a name="neomagic"></a>7.2.5. Cartes NeoMagic</h3></div></div></div><p>
Ces cartes sont utilisées sur de nombreux portables. Vous devez utiliser
XFree86 4.3.0 ou supérieur, ou utiliser
<a class="ulink" href="http://www.mplayerhq.hu/MPlayer/contrib/NeoMagic-pilote/" target="_top">les
pilotes Xv</a>
de Stefan Seyfried.
Choisissez juste celui qui s'applique à votre version de XFree86.
</p><p>
XFree86 4.3.0 inclut le support Xv, mais Bohdan Horst a envoyé un petit
<a class="ulink" href="http://www.mplayerhq.hu/MPlayer/contrib/NeoMagic-pilote/neo_pilote.patch" target="_top">patch</a>
pour les sources XFree86 qui accélère les opérations framebuffer (et donc
XVideo)
jusqu'à quatre fois.
Ce patch a été inclus dans le CVS de XFree86 et devrait être dans la prochaine
version suivant 4.3.0.
</p><p>
Pour permettre la lecture de contenu de taille DVD changez votre XF86Config
comme ceci :
</p><pre class="programlisting">
Section "Device"
    [...]
    pilote "neomagic"
    <span class="emphasis"><em>Option "OverlayMem" "829440"</em></span>
    [...]
EndSection</pre><p>
</p></div><div class="sect2" title="7.2.6. Cartes Trident"><div class="titlepage"><div><div><h3 class="title"><a name="trident"></a>7.2.6. Cartes Trident</h3></div></div></div><p>
Si vous voulez utiliser Xv avec une carte Trident, puisque son support ne
fonctionne pas avec 4.1.0, installez XFree 4.2.0.
Celui-ci ajoute le support Xv plein-écran avec la carte Cyberblade XP.
</p><p>
<span class="application">MPlayer</span> contient également un pilote
<a class="link" href="#vidix" title="7.15. VIDIX">VIDIX</a> pour la carte Cyberblade/i1.
</p></div><div class="sect2" title="7.2.7. Cartes Kyro/PowerVR"><div class="titlepage"><div><div><h3 class="title"><a name="kyro"></a>7.2.7. Cartes Kyro/PowerVR</h3></div></div></div><p>
Si vous voulez utiliser Xv avec une carte Kyro (par exemple la Hercules
Prophet 4000XT), vous devriez télécharger les pilotes depuis le
<a class="ulink" href="http://www.powervr.com/" target="_top">site de PowerVR</a>.
</p></div><div class="sect2" title="7.2.8. Cartes Intel"><div class="titlepage"><div><div><h3 class="title"><a name="intel"></a>7.2.8. Cartes Intel</h3></div></div></div><p>
    Ces cartes sont présentes sur de nombreux portables.  Un Xorg récent est
recommendé.
  </p><p>
    Pour permettre la lecture de vidéo de la résolution d'un DVD (voir plus),
    modifiez le fichier XF86Config/xorg.conf comme tel :
    </p><pre class="programlisting">
      Section "Device"
      [...]
      pilote "intel"
      <span class="emphasis"><em>Option "LinearAlloc" "6144"</em></span>
      [...]
      EndSection
    </pre><p>
    L'absence de cette option se caractérise généralement par une erreur du
    genre
    </p><pre class="screen">
      X11 error: BadAlloc (insufficient resources for operation)
    </pre><p>
    lorsque l'on tente d'utiliser l'option <tt class="option">-vo xv</tt>.
  </p></div></div><div class="sect1" title="7.3. DGA"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dga"></a>7.3. DGA</h2></div></div></div><p title="PRÉAMBULE"><b>PRÉAMBULE. </b>
Ce document tente d'expliquer en quelques mots ce qu'est le DGA en général et
ce que peut faire le pilote de sortie DGA pour
<span class="application">MPlayer</span>
(et ce qu'il ne peut pas faire).

</p><p title="QU'EST CE QUE LE DGA"><b>QU'EST CE QUE LE DGA. </b>
<acronym class="acronym">DGA</acronym> est l'abréviation de <span class="emphasis"><em>Direct Graphics
Access</em></span> et permet aux programmes de passer outre le serveur X et de
modifier directement la mémoire dans le framebuffer. Techniquement parlant,
cela
fonctionne en mappant la mémoire du framebuffer dans les adresses mémoire de
votre
process. Cela est autorisé par le noyau uniquement si vous avez les privilèges
super-utilisateur. Vous pouvez les obtenir soit en vous loggant en <code class="systemitem">root</code> ou en plaçant le bit suid sur l'exécutable
<span class="application">MPlayer</span> (<span class="bold"><strong>non
recommandé</strong></span>).
</p><p>
  Il existe deux versions de DGA : DGA1 est utilisé par XFree 3.x.x et
DGA2 a été introduit par XFree 4.0.1.
</p><p>
DGA1 propose uniquement un accès direct au framebuffer comme décrit ci-dessus.
Pour changer la résolution de votre signal vidéo vous devez utiliser les
extensions XVidMode.
</p><p>
DGA2 incorpore les fonctions de XVidMode et permet également de changer le
nombre de
couleurs de l'affichage. Donc vous pouvez, en exécutant depuis un serveur X 32
bits,
passer en 15 bits et vice-versa.
</p><p>
Cependant DGA a quelques défauts. Il semble qu'il reste dépendant de la
carte graphique utilisée et de la mise en place du pilote de votre serveur
X contrôlant cette carte.
Cela peut donc ne pas fonctionner sur tous les systèmes...
</p><p title="INSTALLER LE SUPPORT DGA POUR MPLAYER"><b>INSTALLER LE SUPPORT DGA POUR MPLAYER. </b>
Assurez vous d'abord que X charge l'extension DGA, regardez dans
<tt class="filename">/var/log/XFree86.0.log</tt> :

</p><pre class="programlisting">(II) Loading extension XFree86-DGA</pre><p title="INSTALLER LE SUPPORT DGA POUR MPLAYER">

XFree86 4.0.x ou plus est <span class="bold"><strong>hautement
recommandé</strong></span> !
Le pilote DGA de <span class="application">MPlayer</span> est automatiquement
détecté par <tt class="filename">./configure</tt>, ou vous pouvez le forcer avec
l'option <tt class="option">--enable-dga</tt>.
</p><p>
Si le pilote ne peut pas passer en résolution inférieure, essayez les options
<tt class="option">-vm</tt> (uniquement avec X 3.3.x), <tt class="option">-fs</tt>,
<tt class="option">-bpp</tt>, <tt class="option">-zoom</tt> pour trouver un mode vidéo qui
convienne
à la vidéo. Il n'existe pas de convertisseur actuellement :(
</p><p>
Passez en <code class="systemitem">root</code>.
DGA nécessite un accès root pour écrire directement dans la mémoire vidéo.
Si vous voulez rester en utilisateur, installez
<span class="application">MPlayer</span> SUID root :

</p><pre class="screen">
chown root <em class="replaceable"><code>/usr/local/bin/mplayer</code></em>
chmod 750 <em class="replaceable"><code>/usr/local/bin/mplayer</code></em>
chmod +s <em class="replaceable"><code>/usr/local/bin/mplayer</code></em>
</pre><p>

Maintenant cela fonctionne aussi avec les droits d'un simple utilisateur.
</p><div class="caution" title="Faille de sécurité" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Faille de sécurité</h3><p>
Cela présente une <span class="bold"><strong>grosse</strong></span> faille de
sécurité !
Ne faites <span class="bold"><strong>jamais</strong></span> ceci sur un serveur ou un
ordinateur accessible par d'autres personnes que vous, ils pourraient obtenir
les privilèges root par l'exécutable <span class="application">MPlayer</span>.
</p></div><p>
Utilisez maintenant l'option <tt class="option">-vo dga</tt> et c'est parti !
(Enfin on peut l'espérer :)) Vous pouvez alors essayer l'option
<tt class="option">-vo sdl:pilote=dga</tt> !
C'est beaucoup plus rapide !
</p><p title="CHANGEMENT DE RÉSOLUTION"><a name="dga-modelines"></a><b>CHANGEMENT DE RÉSOLUTION. </b>
Le pilote DGA vous permet de changer la résolution du signal de sortie. Cela
permet
d'éviter un redimensionnement logiciel, beaucoup plus lent, et offre une image
plein
écran. Idéalement il doit passer à la résolution exacte de la vidéo (excepté
pour
respecter le rapport hauteur/largeur), mais le serveur X permet uniquement le
passage
à des résolutions définies dans <tt class="filename">/etc/X11/XF86Config</tt>
(<tt class="filename">/etc/X11/XF86Config-4</tt> pour XFree 4.X.X respectivement).
Ceux-ci sont définis par des modelines dépendantes des capacités de votre
matériel.
Le serveur X scanne ce fichier de configuration au démarrage et élimine les
modelines
ne correspondant pas au matériel. Vous pouvez retrouver dans les logs de X
quelles
modelines sont acceptables. Elles peuvent être trouvées dans :
<tt class="filename">/var/log/XFree86.0.log</tt>.
</p><p>
Ces entrées doivent fonctionner correctement avec un chip Riva128, en
utilisant le
module pilote nv.o du serveur X.
</p><pre class="programlisting">
Section "Modes"
  Identifier "Modes[0]"
  Modeline "800x600"  40     800 840 968 1056  600 601 605 628
  Modeline "712x600"  35.0   712 740 850 900   400 410 412 425
  Modeline "640x480"  25.175 640 664 760 800   480 491 493 525
  Modeline "400x300"  20     400 416 480 528   300 301 303 314 Doublescan
  Modeline "352x288"  25.10  352 368 416 432   288 296 290 310
  Modeline "352x240"  15.750 352 368 416 432   240 244 246 262 Doublescan
  Modeline "320x240"  12.588 320 336 384 400   240 245 246 262 Doublescan
EndSection
</pre><p title="DGA &amp; MPLAYER"><b>DGA &amp; MPLAYER. </b>
  DGA est utilisé en deux endroits par
<span class="application">MPlayer</span> : Le pilote SDL peut se compiler pour
en faire usage (<tt class="option">-vo sdl:pilote=dga</tt>) et dans le pilote DGA
(<tt class="option">-vo dga</tt>). Dans les sections suivantes je vous expliquerai
comment fonctionne le pilote DGA pour <span class="application">MPlayer</span>.
</p><p title="FONCTIONNALITÉS"><b>FONCTIONNALITÉS. </b>
Le pilote DGA s'invoque en spécifiant <tt class="option">-vo dga</tt> en ligne de
commande.
L'action par défaut consiste à passer dans une résolution s'approchant au
mieux de la
résolution de la vidéo. Il ignore volontairement les options
<tt class="option">-vm</tt> et
<tt class="option">-fs</tt> (autorisant le changement de résolution et le plein
écran) - il
essaie toujours de couvrir le plus large espace possible de votre écran en
changeant
les modes vidéo, tout en utilisant un seul cycle CPU additionnel pour agrandir
l'image.
Si vous voulez utiliser un autre mode que celui qu'il a choisi, vous pouvez le
forcer
par les options <tt class="option">-x</tt> et <tt class="option">-y</tt>. Avec l'option
<tt class="option">-v</tt>,
le pilote DGA affichera, entre autres choses, une liste de toutes les
résolutions
supportées par votre fichier <tt class="filename">XF86Config</tt>. Avec DGA2 vous
pouvez
également le forcer a utiliser un certain nombre de couleurs en utilisant
l'option
<tt class="option">-bpp</tt>. Les nombres de couleurs autorisées sont 15, 16, 24 et
32. Cela
dépend de votre matériel, soit ces modes sont nativement supportés, ou si une
conversion logicielle doit être appliquée (ce qui peut ralentir la lecture).
</p><p>
Si par chance vous avez assez de mémoire vidéo libre pour y placer une image
entière,
le pilote DGA utilisera le double buffering, qui améliore considérablement la
qualité
de lecture. Il doit vous afficher si le double buffering est utilisé ou non.
</p><p>
Double buffering signifie que la prochaine trame de votre vidéo est dessinée
dans une
partie non affichée de la mémoire graphique tandis que s'affiche la trame en
cours.
Quand la trame suivante est prête, la puce graphique reçoit simplement
l'adresse de
celle-ci et récupère les données a afficher depuis cette partie de la mémoire.
Pendant
ce temps l'autre buffer se remplit avec l'image suivante.
</p><p>
Le double buffering peut s'activer avec l'option <tt class="option">-double</tt>
et se désactiver avec <tt class="option">-nodouble</tt>.
Actuellement l'option par défaut est de désactiver le double buffering.
En utilisant le pilote DGA, l'on-screen display (OSD) fonctionne uniquement
avec le doublebuffering activé.
Cependant, activer le double buffering peut demander des calculs
supplémentaires
au processeur (sur mon K6-II+ 525 il utilisait 20% de temps CPU en
plus !),
ceci dépendant de l'implémentation du DGA pour votre matériel.
</p><p title="PROBLÈMES DE VITESSE"><b>PROBLÈMES DE VITESSE. </b>
Généralement, l'accès au framebuffer DGA peut s'avérer aussi rapide que le
pilote X11,
apportant en plus l'avantage de bénéficier d'une image plein écran. Les
pourcentages
affichés par <span class="application">MPlayer</span> doivent être interprétés avec
précaution, comme par exemple avec le pilote X11 où ils n'incluent pas le
temps utilisé
par le serveur X pour l'affichage. Pour des résultats exacts, branchez un
terminal sur
le port série de votre machine et lancez un <span class="command"><strong>top</strong></span> pour savoir
ce qui
se passe réellement lors de la lecture...
</p><p>
D'une manière générale, l'accélération acquise en utilisant le DGA au lieu de
l'affichage X11 classique dépend fortement de votre carte graphique et des
optimisations effectuées sur le module DGA du serveur X.
</p><p>
Si votre système s'avère trop lent, utilisez plutôt une profondeur de couleurs
de 15 or
16bits, qui ne demandent que la moitié de la bande passante d'un affichage 32
bits.
</p><p>
Utiliser une profondeur de 24 bits peut s'avérer une bonne solution si votre
carte ne
supporte nativement que le 32 bits, le transfert se réduisant de 25% par
rapport à un
mode 32/32.
</p><p>
J'ai vu certains fichiers AVI passer sur des Pentium MMX 266. Les processeurs
AMD K6-2
s'avèrent utilisables à partir de 400 MHz.
</p><p title="BOGUES CONNUS"><b>BOGUES CONNUS. </b>
A vrai dire, selon certains développeurs de XFree, DGA est une usine à gaz.
Ils
recommandent d'éviter son utilisation. Son implémentation n'est pas parfaite
avec
chaque chipset pour XFree.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Avec XFree 4.0.3 et <tt class="filename">nv.o</tt> un bogue affiche des couleurs
étranges.
  </p></li><li class="listitem"><p>
  Les pilotes ATI requièrent de changer plusieurs fois de mode après
l'utilisation
  du DGA.
  </p></li><li class="listitem"><p>
  Certains pilotes échouent à revenir à la résolution normale (utilisez
  <span class="keycap"><b>Ctrl</b></span>+<span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>Keypad +</b></span>
  et <span class="keycap"><b>Ctrl</b></span>+<span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>Keypad -</b></span> pour y retourner manuellement).
  </p></li><li class="listitem"><p>
  Certains pilotes affichent simplement des couleurs étranges.
  </p></li><li class="listitem"><p>
  Certains pilotes mentent a propos de la quantité de mémoire allouée dans
l'espace
  d'adressage du processus, empêchant vo_dga d'utiliser le doublebuffering
(SIS ?)
  </p></li><li class="listitem"><p>
  Certains pilotes semblent ne pas pouvoir reporter ne serait-ce qu'un seul
mode valide.
  Dans ce cas le pilote DGA plantera en vous affichant un mode 100000x100000
ou
  quelque chose comme ça.
  </p></li><li class="listitem"><p>
  L'OSD fonctionne uniquement avec le doublebuffering activé (sinon il
clignote).
  </p></li></ul></div></div><div class="sect1" title="7.4. SDL"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="sdl"></a>7.4. SDL</h2></div></div></div><p>
<acronym class="acronym">SDL</acronym> (Simple Directmedia Layer) est fondamentalement une
interface
vidéo/audio unifiée. Les programmes qui l'utilisent connaissent uniquement
SDL, et pas
quels pilotes vidéo ou audio SDL utilise lui-même. Par exemple, un portage de
Doom
utilisant SDL peut tourner avec svgalib, aalib, X, fbdev et autres, vous devez
seulement
spécifier (par exemple) le pilote vidéo à utiliser avec la variable
d'environnement
<code class="envar">SDL_VIDEOpilote</code>. Enfin, en théorie.
</p><p>
Avec <span class="application">MPlayer</span>, nous avons utilisé le
redimensionnement
logiciel de ses pilotes X11 pour les cartes qui ne supportent pas XVideo,
jusqu'à ce
que nous fassions notre propre "dimensionneur" logiciel (plus rapide, plus
agréable).
Nous avons également utilisé sa sortie aalib, mais maintenant nous avons la
nôtre qui
est plus confortable. Son support DGA était meilleur que le nôtre, jusqu'à
récemment.
Vous comprenez maintenant? :)
</p><p>
Cela aide également avec certains pilotes/cartes boguées si la vidéo est
saccadée
(pas de problème de lenteur du système), ou si l'audio est retardé.
</p><p>
La sortie vidéo de SDL supporte l'affichage des sous-titres sous le film, dans
les
bandes noires (si elles sont présentes).
</p></div><div class="sect1" title="7.5. SVGAlib"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="svgalib"></a>7.5. SVGAlib</h2></div></div></div><p title="INSTALLATION"><b>INSTALLATION. </b>
Vous devrez installer svgalib et ses paquets de développement afin que
<span class="application">MPlayer</span> construise son pilote SVGAlib (autodetecté,
mais peut être forcé), et n'oubliez pas d'éditer
<tt class="filename">/etc/vga/libvga.config</tt>
pour l'ajuster à votre carte et votre moniteur.
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
Assurez-vous de ne pas utiliser l'option <tt class="option">-fs</tt>, car elle active
l'utilisation du redimensionneur logiciel, et c'est lent. Si vous en avez
réellement
besoin, utilisez l'option <tt class="option">-sws 4</tt> qui donnera une qualité
mauvaise,
mais qui est un peu plus rapide.
</p></div><p title="SUPPORT EGA (4BPP)"><b>SUPPORT EGA (4BPP). </b>
SVGAlib incorpore EGAlib, et <span class="application">MPlayer</span> a la
possibilité
d'afficher n'importe quel film en 16 couleurs, donc utilisable avec les
configurations suivantes :
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  carte EGA avec moniteur EGA: 320x200x4bpp, 640x200x4bpp, 640x350x4bpp
  </p></li><li class="listitem"><p>
  carte EGA avec moniteur CGA: 320x200x4bpp, 640x200x4bpp
  </p></li></ul></div><p>
  La valeur des bpp (bits par pixel) doit être fixé à 4 manuellement :
<tt class="option">-bpp 4</tt>
</p><p>
  Le film doit probablement être redimensionné pour tenir dans le mode
EGA :
</p><pre class="screen">-vf scale=640:350</pre><p>
ou
</p><pre class="screen">-vf scale=320:200</pre><p>
</p><p>
Pour cela nous avons besoin de la routine de redimensionnement rapide mais de
mauvaise qualité :
</p><pre class="screen">-sws 4</pre><p>
</p><p>
  Peut-être que la correction d'aspect automatique doit être coupée :
</p><pre class="screen">-noaspect</pre><p>
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
D'après mon expérience, la meilleur qualité d'image sur les écrans EGA peut
être
obtenue en diminuant légèrement la luminosité :
<tt class="option">-vf eq=-20:0</tt>.
J'ai également besoin de diminuer la fréquence d'échantillonnage sur ma
machine, car le son est endommagé en 44kHz : <tt class="option">-srate
22050</tt>.
</p></div><p>
Vous pouvez activer l'OSD et les sous-titres uniquement avec le filtre
<tt class="option">expand</tt>, voir la page de man pour les paramètres exacts.

</p></div><div class="sect1" title="7.6. Sortie Framebuffer (FBdev)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="fbdev"></a>7.6. Sortie Framebuffer (FBdev)</h2></div></div></div><p>
La compilation de le sortie FBdev est autodétectée durant
<tt class="filename">./configure</tt>.
Lisez la documentation sur le framebuffer dans le sources du noyau
(<tt class="filename">Documentation/fb/*</tt>) pour avoir plus d'infos.
</p><p>
Si votre carte ne supporte pas le standard VBE 2.0 (anciennes cartes ISA/PCI,
comme les S3 Trio64), et uniquement VBE 1.2 (ou plus ancien ?) : Dans ce
cas, VESAfb reste disponible, mais vous devrez charger SciTech Display Doctor
(anciennement nommé UniVBE) avant de booter Linux. Utilisez une disquette de
boot DOS ou similaire. Et n'oubliez pas d'enregistrer votre copie d'UniVBE ;))
</p><p>
  La sortie FBdev accepte certains paramètres additionnels :
</p><div class="variablelist"><dl><dt><span class="term"><tt class="option">-fb</tt></span></dt><dd><p>
    spécifie le device framebuffer a utiliser (par défaut :
<tt class="filename">/dev/fb0</tt>)
    </p></dd><dt><span class="term"><tt class="option">-fbmode</tt></span></dt><dd><p>
    mode a utiliser (d'après le fichier <tt class="filename">/etc/fb.modes</tt>)
    </p></dd><dt><span class="term"><tt class="option">-fbmodeconfig</tt></span></dt><dd><p>
    fichier de configuration des modes (par défaut :
<tt class="filename">/etc/fb.modes</tt>)
    </p></dd><dt><span class="term"><tt class="option">-monitor-hfreq</tt>, </span><span class="term"><tt class="option">-monitor-vfreq</tt>, </span><span class="term"><tt class="option">-monitor-dotclock</tt></span></dt><dd><p>
    valeurs <span class="bold"><strong>importantes</strong></span>, voir
    <tt class="filename">example.conf</tt>
    </p></dd></dl></div><p>
Si vous désirez passer dans un mode particulier, alors utilisez
</p><pre class="screen">mplayer -vm -fbmode <em class="replaceable"><code>nom_du_mode</code></em>
<em class="replaceable"><code>nomfichier</code></em></pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <tt class="option">-vm</tt> seul choisira le mode le mieux adapté dans votre
fichier
  <tt class="filename">/etc/fb.modes</tt>. Peut s'utiliser avec les options
  <tt class="option">-x</tt> et <tt class="option">-y</tt>. L'option <tt class="option">-flip</tt>
est
  supportée uniquement si le format de pixels de la vidéo correspond au format
de
  pixel du mode framebuffer.
  Faites attention à la valeur bpp, le pilote fbdev essaie par défaut
d'utiliser
  la valeur courante, ou bien celle spécifiée par l'option
<tt class="option">-bpp</tt>.
  </p></li><li class="listitem"><p>
  l'option <tt class="option">-zoom</tt> n'est pas supportée (Utilisez l'option
  <tt class="option">-fs</tt>). Vous ne pouvez pas utiliser de modes 8bpp (ou moins).
  </p></li><li class="listitem"><p>
    vous pouvez vouloir désactiver le curseur :
  </p><pre class="screen">echo -e '\033[?25l'</pre><p>
  ou
  </p><pre class="screen">setterm -cursor off</pre><p>
  et l'économiseur d'écran :
  </p><pre class="screen">setterm -blank 0</pre><p>
  Pour afficher de nouveau le curseur :
  </p><pre class="screen">echo -e '\033[?25h'</pre><p>
  ou
  </p><pre class="screen">setterm -cursor on</pre><p>
  </p></li></ul></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
Le changement de mode vidéo avec FBdev <span class="emphasis"><em>ne fonctionne pas</em></span>
avec le framebuffer VESA, et ne nous le demandez pas, il ne s'agit pas d'une
limitation de <span class="application">MPlayer</span>.
</p></div></div><div class="sect1" title="7.7. Framebuffer Matrox (mga_vid)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mga_vid"></a>7.7. Framebuffer Matrox (mga_vid)</h2></div></div></div><p>
<code class="systemitem">mga_vid</code> est la combinaison d'un pilote de sortie
vidéo et d'un module du noyau Linux qui utilise le module vidéo de mise à
l'échelle et de sur-impression des Matrox G200/G400/G450/G550. pour effectuer
la conversion YUV-&gt;RGB et le redimentionnement arbitraire de la vidéo.
</p><p>
  Pour le pilote compatible avec les noyaux Linux 2.6.x, allez sur
  +<a class="ulink" href="http://attila.kinali.ch/mga/" target="_top">http://attila.kinali.ch/mga/</a> ou regardez sur le dépot
  externe Subversion de mga_vid qui peut être consulté avec
  </p><pre class="screen">
    svn checkout svn://svn.mplayerhq.hu/mga_vid
  </pre><p>
</p><div class="procedure" title="Installation :"><a name="id2554518"></a><p class="title"><b>Installation :</b></p><ol class="procedure" type="1"><li class="step" title="Étape 1"><p>
    Pour l'utiliser, vous devez au préalable compiler
    <tt class="filename">pilotes/mga_vid.o</tt> :
  </p><pre class="screen">
make pilotes</pre><p>
  </p></li><li class="step" title="Étape 2"><p>
  Puis lancez (sous le compte <code class="systemitem">root</code>)
  </p><pre class="screen">make install-pilotes</pre><p>
  qui devrait installer le module et créer le noeud de périphérique pour vous.
  Chargez le pilote avec
  </p><pre class="screen">insmod mga_vid.o</pre><p>
  </p></li><li class="step" title="Étape 3"><p>
  Vous pouvez vérifier si la détection de la taille mémoire est correcte en
utilisant
  la commande <span class="command"><strong>dmesg</strong></span>. Si elle s'avère incorrecte, utilisez
l'option
  <tt class="option">mga_ram_size</tt> (<span class="command"><strong>rmmod mga_vid</strong></span> avant), en
  spécifiant la mémoire de la carte en Mo :
  </p><pre class="screen">insmod mga_vid.o mga_ram_size=16</pre><p>
  </p></li><li class="step" title="Étape 4"><p>
  Pour le charger/décharger automatiquement, insérez d'abord cette ligne a la
  fin du fichier <tt class="filename">/etc/modules.conf</tt> :

  </p><pre class="programlisting">alias char-major-178 mga_vid</pre><p>
</p></li><li class="step" title="Étape 5"><p>
  Vous devez ensuite (re)compiler <span class="application">MPlayer</span>,
  <span class="command"><strong>./configure</strong></span> détectera <tt class="filename">/dev/mga_vid</tt>
et
  construira le pilote 'mga'. Pour l'utiliser dans
<span class="application">MPlayer</span>,
  lancez-le avec l'option <tt class="option">-vo mga</tt> si vous êtes en console
  matroxfb, ou <tt class="option">-vo xmga</tt> sous XFree86 3.x.x ou 4.x.x.
  </p></li></ol></div><p>
Le pilote mga_vid coopère avec Xv.
</p><p>
Le périphérique <tt class="filename">/dev/mga_vid</tt> peut être lu (par exemple
par </p><pre class="screen">cat /dev/mga_vid</pre><p>) pour avoir des infos, et écrit pour
changer la luminosité :

</p><pre class="screen">echo "brightness=120" &gt; /dev/mga_vid</pre><p>
</p><p>
  Une application de test appelée <span class="command"><strong>mga_vid_test</strong></span>est présente
  dans le même répertoire.  Elle devrait afficher des images 256x256 sur
  l'écran si tout fonctionne bien.
</p></div><div class="sect1" title="7.8. Support YUV 3Dfx"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tdfxfb"></a>7.8. Support YUV 3Dfx</h2></div></div></div><p>
Ce pilote utilise le pilote framebuffer tdfx du noyau pour lire des films avec
accélération YUV. Vous aurez besoin d'un noyau avec support tdfxfb, et de
recompiler
avec
</p><pre class="screen">./configure --enable-tdfxfb</pre><p>
</p></div><div class="sect1" title="7.9. tdfx_vid"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tdfx_vid"></a>7.9. tdfx_vid</h2></div></div></div><p>
    Il s'agit de la combinaison d'un module du noyau Linux et d'un pilote de
    sortie vidéo similaire à <a class="link" href="#mga_vid" title="7.7. Framebuffer Matrox (mga_vid)">mga_vid</a>.
    Vous aurez besoin d'un noyau 2.4.x avec le pilote
    <code class="systemitem">agpgart</code> puisque <code class="systemitem">tdfx_vid</code>
    utilise AGP.
    Ajoutez l'option <tt class="option">--enable-tdfxfb</tt> lors du
    <span class="command"><strong>configure</strong></span> pour compiler le pilote de la sortie vidéo
    puis compilez le module noyau avec les instructions suivantes.
  </p><div class="procedure" title="Installation du module noyau tdfx_vid.o :"><a name="id2554802"></a><p class="title"><b>Installation du module noyau tdfx_vid.o :</b></p><ol class="procedure" type="1"><li class="step" title="Étape 1"><p>
        Compilez <tt class="filename">pilotes/tdfx_vid.o</tt> :
        </p><pre class="screen">
          make pilotes</pre><p>
      </p></li><li class="step" title="Étape 2"><p>
        Puis lancez (avec le compte <code class="systemitem">root</code>)
        </p><pre class="screen">make install-pilotes</pre><p>
        qui devrait installer le module et créer le noeud de périphérique pour
        vous.
        Chargez le pilote avec
        </p><pre class="screen">insmod tdfx_vid.o</pre><p>
      </p></li><li class="step" title="Étape 3"><p>
        Pour automatiser le chargement/déchargement quand nécessaire,
        commencez par inclure la ligne suivante à la fin du fichier
        <tt class="filename">/etc/modules.conf</tt> :
        </p><pre class="programlisting">alias char-major-178 tdfx_vid</pre><p>
      </p></li></ol></div><p>
    Une application de test appelée <span class="command"><strong>tdfx_vid_test</strong></span> est
disponible dans le même répertoire  Elle devrait afficher des informations
utiles si tout fonctionne bien.
  </p></div><div class="sect1" title="7.10. Sortie OpenGL"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="opengl"></a>7.10. Sortie OpenGL</h2></div></div></div><p>
<span class="application">MPlayer</span> supporte l'affichage de films en utilisant
OpenGL,
mais si votre plateforme/pilote supporte xv comme ça devrait être le cas sur
un PC avec Linux, utilisez xv à la place, les performances d'OpenGL sont bien
pires.
Si vous avez une implémentation X11 sans support xv, OpenGL est alors une
alternative viable.
</p><p>
Malheureusement tous les pilotes ne supportent pas cette fonction. Le pilote
Utah-GLX
(pour XFree86 3.3.6) le supporte pour toutes les cartes. Voir
<a class="ulink" href="http://utah-glx.sf.net" target="_top">http://utah-glx.sf.net</a> pour son téléchargement et les infos
d'installation.
</p><p>
XFree86(DRI) 4.0.3 et supérieur supporte OpenGL avec les cartes Matrox et
Radeon, 4.2.0 ou supérieur supporte la Rage128.
Voir <a class="ulink" href="http://dri.sf.net" target="_top">http://dri.sf.net</a> pour son téléchargement et les infos
d'installation.
</p><p>
  Une astuce d'un de nos utilisateurs : la sortie vidéo GL peut être
utilisée pour obtenir une sortie TV synchronisée verticalement. Vous devrez
définir une variable d'environnement (au moins sur nVidia) :
<span class="command"><strong>export __GL_SYNC_TO_VBLANK=1</strong></span>
</p></div><div class="sect1" title="7.11. AAlib – affichage en mode texte"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="aalib"></a>7.11. AAlib – affichage en mode texte</h2></div></div></div><p>
AAlib est une librairie affichant des graphismes en mode texte, en utilisant
un
puissant moteur de rendu ASCII. De <span class="emphasis"><em>nombreux</em></span> programmes le
supportent déjà, comme Doom, Quake, etc. <span class="application">MPlayer</span>
possède
pour cela un pilote parfaitement utilisable. Si
<tt class="filename">./configure</tt>
détecte une installation de aalib, le pilote aalib libvo sera compilé.

</p><p>
Vous pouvez utiliser certains raccourcis clavier dans le fenêtre AA pour
changer les options de rendu :
</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Touche</th><th>Action</th></tr></thead><tbody><tr><td><span class="keycap"><b>1</b></span></td><td>
  diminue le contraste
  </td></tr><tr><td><span class="keycap"><b>2</b></span></td><td>
  augmente le contraste
  </td></tr><tr><td><span class="keycap"><b>3</b></span></td><td>
  diminue la luminosité
  </td></tr><tr><td><span class="keycap"><b>4</b></span></td><td>
  augmente la luminosité
  </td></tr><tr><td><span class="keycap"><b>5</b></span></td><td>
  active/désactive le rendu rapide
  </td></tr><tr><td><span class="keycap"><b>6</b></span></td><td>
  change le mode de dithering (none, error distribution, Floyd Steinberg)
  </td></tr><tr><td><span class="keycap"><b>7</b></span></td><td>
  inverse l'image
  </td></tr><tr><td><span class="keycap"><b>8</b></span></td><td>
   passe des contrôles de aa vers ceux de <span class="application">MPlayer</span>
   et vice-versa
  </td></tr></tbody></table></div><div class="variablelist" title="Vous pouvez utiliser les lignes de commande suivantes :"><p class="title"><b>Vous pouvez utiliser les lignes de commande suivantes :</b></p><dl><dt><span class="term"><tt class="option">-aaosdcolor=<em class="replaceable"><code>V</code></em></tt></span></dt><dd><p>
    change la couleur de l'OSD
    </p></dd><dt><span class="term"><tt class="option">-aasubcolor=<em class="replaceable"><code>V</code></em></tt></span></dt><dd><p>
    Change la couleur des sous-titres
    </p><p>
      where <em class="replaceable"><code>V</code></em> peut être :
    <code class="literal">0</code> (normal),
    <code class="literal">1</code> (noir),
    <code class="literal">2</code> (gras),
    <code class="literal">3</code> (fontes grasses),
    <code class="literal">4</code> (inversé),
    <code class="literal">5</code> (spécial).
    </p></dd></dl></div><div class="variablelist" title="AAlib elle-même propose de nombreuses options. En voici les principales :"><p class="title"><b>AAlib elle-même propose de nombreuses options. En voici les
  principales :</b></p><dl><dt><span class="term"><tt class="option">-aapilote</tt></span></dt><dd><p>
    Choisit le pilote aa (X11, curses, Linux)
    </p></dd><dt><span class="term"><tt class="option">-aaextended</tt></span></dt><dd><p>
    Utilise les 256 caractères
    </p></dd><dt><span class="term"><tt class="option">-aaeight</tt></span></dt><dd><p>
   Utilise l'ASCII 8 bits
    </p></dd><dt><span class="term"><tt class="option">-aahelp</tt></span></dt><dd><p>
    Affiche toutes les options de AAlib
    </p></dd></dl></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
Le rendu prend beaucoup de temps CPU, spécialement en utilisant AA-on-X (AAlib
sur X), et prend moins de CPU sur une console standard, sans framebuffer.
Utilisez SVGATextMode pour passer en mode texte large, et appréciez !
(une
carte hercules en second écran, c'est génial :)) (mais à mon humble avis vous
pouvez utiliser l'option <tt class="option">-vf 1bpp</tt> pour avoir des graphismes
sur hgafb :)).
</p></div><p>
Utilisez l'option <tt class="option">-framedrop</tt> si votre machine n'est pas
suffisamment rapide pour afficher toutes les trames !
</p><p>
Sur un terminal vous obtiendrez de meilleures performances en utilisant le
pilote
linux, et pas curses (<tt class="option">-aapilote linux</tt>). Cependant vous devez
avoir
un accès en écriture sur
<tt class="filename">/dev/vcsa<em class="replaceable"><code>&lt;terminal&gt;</code></em></tt>. Ce
n'est
pas autodétecté par aalib, mais vo_aa essaie de déterminer le meilleur mode.
Voir
<a class="ulink" href="http://aa-project.sf.net/tune" target="_top">http://aa-project.sf.net/tune</a> pour une meilleure optimisation.
</p></div><div class="sect1" title="7.12.  libcaca – Librairie ASCII Art en couleur"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="caca"></a>7.12. 
  <code class="systemitem">libcaca</code> – Librairie ASCII Art
en couleur</h2></div></div></div><p>
La <a class="ulink" href="http://sam.zoy.org/projects/libcaca/" target="_top"><code class="systemitem">libcaca</code></a>
est une librairie graphique qui affiche du text à la place des pixels, et qui
peut
donc fonctionner sur des cartes graphiques anciennes ou sur des terminaux
texte. Elle
n'est pas très différente de la célèbre librairie
<code class="systemitem">AAlib</code>.
<code class="systemitem">libcaca</code> nécessite un terminal pour
fonctionner, et devrait ainsi fonctionner sur tous les systèmes Unix (dont Mac
OS X)
en utilisant soit la librairie
<code class="systemitem">slang</code> soit la librairie
<code class="systemitem">ncurses</code>, sous DOS en utilisant la
librairie
<code class="systemitem">conio.h</code>, et sous les systèmes Windows
en utilisant soit <code class="systemitem">slang</code>, soit
<code class="systemitem">ncurses</code> (via émulation Cygwin), ou
soit
<code class="systemitem">conio.h</code>. Si
<tt class="filename">./configure</tt>
détecte <code class="systemitem">libcaca</code>, le pilote libvo caca
sera compilé.
</p><div class="itemizedlist" title="Les différences avec AAlib sont les suivantes :"><p class="title"><b>Les différences avec <code class="systemitem">AAlib</code>
sont
les suivantes :</b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
   16 couleurs disponible pour l'affichage des caractères (256 paires de
couleur)
  </p></li><li class="listitem"><p>
   tramage des images en couleur
  </p></li></ul></div><div class="itemizedlist" title="Mais libcaca à également les limitations suivantes :"><p class="title"><b>Mais <code class="systemitem">libcaca</code> à également les
  limitations suivantes :</b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
   aucun support pour la luminosité, le contraste, le gamma
  </p></li></ul></div><p>
Vous pouvez utiliser certaines touches dans la fenêtre caca pour changer les
options de rendu :
</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td><span class="keycap"><b>d</b></span></td><td>
  Change de méthode de tramage.
  </td></tr><tr><td><span class="keycap"><b>a</b></span></td><td>
  Change de méthode d'anticrénelage.
  </td></tr><tr><td><span class="keycap"><b>b</b></span></td><td>
  Change le fond.
  </td></tr></tbody></table></div><div class="variablelist" title="libcaca regarde également la présence de certaines variables d'environnement :"><p class="title"><b><code class="systemitem">libcaca</code> regarde également la
  présence de certaines variables d'environnement :</b></p><dl><dt><span class="term"><tt class="option">CACA_pilote</tt></span></dt><dd><p>
    Définie le pilote caca recommandé, c-a-d. ncurses, slang, x11.
    </p></dd><dt><span class="term"><tt class="option">CACA_GEOMETRY (X11 uniquement)</tt></span></dt><dd><p>
    Spécifie le nombre de lignes de collones. par ex. 128x50.
    </p></dd><dt><span class="term"><tt class="option">CACA_FONT (X11 uniquement)</tt></span></dt><dd><p>
    Spécifie la police à utiliser. par ex. fixed, nexus.
    </p></dd></dl></div><p>
Use the <tt class="option">-framedrop</tt> option if your computer is not fast
enough to render all frames.
</p></div><div class="sect1" title="7.13. VESA - sortie sur BIOS VESA"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="vesa"></a>7.13. VESA - sortie sur BIOS VESA</h2></div></div></div><p>
Ce pilote à été conçu et présenté comme un <span class="bold"><strong>pilote
générique</strong></span>
pour n'importe quelle carte ayant un BIOS compatible VESA VBE 2.0. Un autre
avantage de ce pilote est qu'il force l'ouverture de la sortie TV.
dixit <em class="citetitle">VESA BIOS EXTENSION (VBE) Version 3.0 Date: September 16,
  1998</em> (Page 70) :
</p><div class="blockquote"><blockquote class="blockquote"><p title="Conceptions des contrôleurs doubles"><b>Conceptions des contrôleurs doubles. </b>
VBE 3.0 supporte la conception de contrôleur double en assumant que comme les
deux
contrôleurs sont typiquement fournis par le même OEM, sous le contrôle d'un
seul
ROM BIOS sur la même carte graphique, il est possible de cacher le fait que
deux
contrôleurs sont présent dans l'application.
Cela a la limitation d'interdire l'utilisation simultanée de chacun des
contrôleurs, mais permet aux applications avant VBE 3.0 de fonctionner
normalement.
La fonction VBE 00h (Return Controller Information) retourne l'information
combinée des deux contrôleurs, incluant la liste combinée des modes
disponibles.
Quand une application sélectionne un mode, le contrôleur approprié est
activé. Chacune des fonctions VBE restantes s'appliquent ensuite sur le
contrôleur
actif.
</p></blockquote></div><p>
Donc vous avez des chances de faire fonctionner la sortie TV avec ce pilote
(Je suppose que la sortie TV est souvent un affichage indépendant ou au moins
une sortie indépendante).
</p><div class="itemizedlist" title="AVANTAGES"><p class="title"><b>AVANTAGES</b></p><ul class="itemizedlist" type="disc" compact><li class="listitem"><p>
  Vous avez la possibilité de voir des films <span class="bold"><strong>même si
Linux ne
  connaît pas</strong></span> votre matériel vidéo.
  </p></li><li class="listitem"><p>
  Vous n'avez pas besoin d'avoir de logiciels graphiques installés sur votre
Linux
  (comme X11 (alias XFree86), fbdev et autres). Ce pilote peut fonctionner en
  <span class="bold"><strong>mode texte</strong></span>.
  </p></li><li class="listitem"><p>
  Vous avez des chances de faire <span class="bold"><strong>fonctionner la sortie
TV</strong></span>
  (C'est le cas au moins pour les cartes ATI).
  </p></li><li class="listitem"><p>
  Ce pilote appelle le gestionnaire <code class="function">int 10h</code> ainsi ce
n'est pas un
  émulateur - il appelle des choses <span class="bold"><strong>réelles</strong></span>
dans le BIOS
  <span class="emphasis"><em>réel</em></span> en <span class="emphasis"><em>mode réel</em></span> (pour l'instant
en mode vm86).
  </p></li><li class="listitem"><p>
  Vous pouvez l'utiliser avec VIDIX, accélérant ainsi l'affichage vidéo
  <span class="bold"><strong>et</strong></span> la sortie TV en même temps (recommandé
pour les cartes ATI) !
  </p></li><li class="listitem"><p>
  si vous avez un BIOS VESA VBE 3.0+, et que vous avez spécifié
  <code class="systemitem">monitor-hfreq, monitor-vfreq, monitor-dotclock</code>
quelque part
  (fichier de config, ou ligne de commande) vous aurez le plus haut taux de
  rafraîchissement possible (en utilisant la Formule Générale de Timing).
  Pour activer cette fonctionnalité vous devrez spécifier
  <span class="bold"><strong>toutes</strong></span> les options de votre moniteur.
  </p></li></ul></div><div class="itemizedlist" title="DÉSAVANTAGES"><p class="title"><b>DÉSAVANTAGES</b></p><ul class="itemizedlist" type="disc" compact><li class="listitem"><p>
  Il ne fonctionne que sur les <span class="bold"><strong>systèmes x86</strong></span>.
  </p></li><li class="listitem"><p>
  Il ne peut être utilisé qu'en <code class="systemitem">root</code>.
  </p></li><li class="listitem"><p>
  Pour l'instant il n'est disponible que pour <span class="bold"><strong>Linux</strong></span>.
  </p></li></ul></div><div class="important" title="Important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
N'utilisez pas ce pilote avec <span class="bold"><strong>GCC
2.96</strong></span> !
Cela ne fonctionnera pas !
</p></div><div class="variablelist" title="OPTIONS EN LIGNE DE COMMANDE POUR VESA"><p class="title"><b>OPTIONS EN LIGNE DE COMMANDE POUR VESA</b></p><dl><dt><span class="term"><tt class="option">-vo vesa:<em class="replaceable"><code>opts</code></em></tt></span></dt><dd><p>
      actuellement reconnu : <code class="literal">dga</code> pour forcer le mode
dga et <code class="literal">nodga</code>pour le désactiver. En mode dga vous pouvez
activer le double buffering via l'option <tt class="option">-double</tt>.
Note :
vous pouvez omettre ces paramètres pour activer l'
<span class="bold"><strong>autodétection</strong></span> du mode dga.
    </p></dd></dl></div><div class="itemizedlist" title="PROBLÈMES CONNUS ET CONTOURNEMENTS"><p class="title"><b>PROBLÈMES CONNUS ET CONTOURNEMENTS</b></p><ul class="itemizedlist" type="disc" compact><li class="listitem"><p>
  Si vous avez installé des polices <span class="bold"><strong>NLS</strong></span> sur
votre
  Linux box et que vous lancez le pilote VESA depuis le mode texte alors après
la
  fermeture de <span class="application">MPlayer</span> vous aurez la
  <span class="bold"><strong>police de la ROM</strong></span> chargée à la place de la
nationale.
  Vous pouvez recharger la police nationale en utilisant l'utilitaire
  <span class="command"><strong>setsysfont</strong></span> de la distribution Mandrake/Mandriva par
exemple.
(<span class="bold"><strong>Astuce</strong></span> : Le même utilitaire peut être
utilisé pour la localisation de fbdev).
  </p></li><li class="listitem"><p>
  Certains <span class="bold"><strong>pilotes graphiques Linux</strong></span> de
mettent pas à
  jour le <span class="bold"><strong>mode BIOS</strong></span> actif en mémoire DOS.
  Donc si vous avez un tel problème - utilisez toujours le pilote VESA
uniquement
  depuis le <span class="bold"><strong>mode texte</strong></span>.
  Sinon le mode texte (#03) sera activé de toute façon et vous devrez
redémarrer
  votre ordinateur.
  </p></li><li class="listitem"><p>
  Souvent après la fin du pilote VESA vous avez un
  <span class="bold"><strong>écran noir</strong></span>.
  Pour retourner à l'état original de votre écran - passez simplement sur une
autre
  console (en tapant
  <span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>F&lt;x&gt;</b></span>) et
  revenez à la première de la même façon.
  </p></li><li class="listitem"><p>
  Pour faire <span class="bold"><strong>fonctionner la sortie TV</strong></span> vous
  devez avoir branché le connecteur TV avant le démarrage de votre PC car
  le BIOS vidéo s'initialise uniquement à ce moment-là.
  </p></li></ul></div></div><div class="sect1" title="7.14. X11"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="x11"></a>7.14. X11</h2></div></div></div><p>
À éviter si possible. Sort sur X11 (utilise l'extension de mémoire partagée),
sans
aucune accélération matérielle du tout. Supporte le redimensionnement logiciel
(accéléré par MMX/3DNow/SSE, mais toujours lent), utilisez les options
<tt class="option">-fs -zoom</tt>. La plupart des cartes possèdent un
redimensionnement
matériel, pour elles utilisez la sortie <tt class="option">-vo xv</tt> ou
<tt class="option">-vo xmga</tt> pour les Matrox.
</p><p>
Le problème est que la plupart des pilotes de carte ne supportent pas
l'accélération
sur la seconde tête/TV. Dans ce cas, vous voyez une fenêtre verte/bleue à la
place du
film. C'est ici que ce pilote entre en jeu, mais vous aurez besoin d'un CPU
puissant
pour utiliser le redimensionnement logiciel. N'utilisez pas le pilote SDL de
sortie+dimensionnement logiciel, la qualité d'image est pire !
</p><p>
Le redimensionnement logiciel est très lent, vous devriez essayer de changer
de mode
vidéo à la place. C'est très simple. Voyez la <a class="link" href="#dga-modelines" title="CHANGEMENT DE RÉSOLUTION">section
des modelines DGA</a>, et insérez-les dans votre
<tt class="filename">XF86Config</tt>.

</p><div class="itemizedlist"><ul class="itemizedlist" type="disc" compact><li class="listitem"><p>
    Si vous avez XFree86 4.x.x : utilisez l'option <tt class="option">-vm</tt>.
    Elle changera de résolution pour s'adapter à celle de votre film. Si
non :
  </p></li><li class="listitem"><p>
    Avec XFree86 3.x.x : Vous devrez parcourir les résolutions possibles
avec les touches
  <span class="keycap"><b>Ctrl</b></span>+<span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>Keypad
+</b></span>
  et
  <span class="keycap"><b>Ctrl</b></span>+<span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>Keypad
-</b></span>.
  </p></li></ul></div><p>
</p><p>
Si vous n'arrivez pas à trouver les mode que vous avez inséré, regardez dans
la sortie
de XFree86. Certains pilotes ne peuvent utiliser les pixelclocks bas qui sont
requis
pour les basses résolutions.
</p></div><div class="sect1" title="7.15. VIDIX"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="vidix"></a>7.15. VIDIX</h2></div></div></div><p title="PRÉAMBULE"><b>PRÉAMBULE. </b>
<acronym class="acronym">VIDIX</acronym> est l'abréviation de
<span class="bold"><strong>VID</strong></span>éo
<span class="bold"><strong>I</strong></span>nterface
for *ni<span class="bold"><strong>X</strong></span>.
VIDIX a été conçu et présenté comme une interface pour les pilotes
espace-utilisateur rapides fournissant des performances égales à celles de
mga_vid pour les cartes Matrox.
Il est aussi très portable.
</p><p>
Cette interface à été conçue comme une tentative de regrouper les interfaces
d'accélération existantes (connues sous les noms mga_vid, rage128_vid,
radeon_vid,
pm3_vid) dans un schéma uniforme. Il fournit une interface de haut niveau aux
chipsets
connus sous les noms de BES (BackEnd scalers) ou OV (Video Overlays).
Il ne fournit pas une interface de bas niveau pour les choses connues sous
le nom de serveurs graphiques.
(Je ne veux pas concourir avec l'équipe X11 en changement de mode graphique).
C'est à dire que le but principal de cette interface est de maximiser la
vitesse de la lecture vidéo.
</p><div class="itemizedlist" title="UTILISATION"><p class="title"><b>UTILISATION</b></p><ul class="itemizedlist" type="disc" compact><li class="listitem"><p>
    Vous pouvez utiliser le pilote de sortie vidéo autonome : <tt class="option">-vo
xvidix</tt>.
  Ce pilote à été développé comme un front end X11 pour la technologie VIDIX.
Il
  requiert un serveur X et ne peut fonctionner que sous X. Notez que, comme il
accède
  directement au matériel et contourne le pilote X, les pixmaps mis en cache
dans la
  mémoire de la carte graphique peuvent être corrompus. Vous pouvez éviter
cela en
  limitant la quantité de mémoire utilisée par X avec l'option "VideoRam"
  dans la section "device" de XFree86Config.
  Vous devriez fixer cette valeur avec la quantité de mémoire installée sur
  votre carte moins 4Mo.
  Si vous avez moins de 8Mo de mémoire vidéo, vous pouvez utiliser l'option
  "XaaNoPixmapCache" dans la section "screen" à la place.
  </p></li><li class="listitem"><p>
    Il existe un pilote console VIDIX : <tt class="option">-vo cvidix</tt>.
  Celui-ci requiert un framebuffer fonctionnel et initialisé pour la plupart
  des cartes (ou sinon vous brouillerez simplement l'écran), et vous aurez un
  effet similaire à <tt class="option">-vo mga</tt> ou <tt class="option">-vo fbdev</tt>.
  Les cartes nVidia par contre sont capables d'afficher de la vidéo graphique
  dans une console texte. Voir la section
  <a class="link" href="#vidix-nvidia" title="7.15.6. Cartes nVidia">nvidia_vid</a> pour plus d'informations.
  Pour vous débarrasser du texte sur les bords et du curseur clignotant
  essayez
</p><pre class="screen">setterm -cursor off &gt; /dev/tty9</pre><p>
  (en supposant que le terminal <code class="systemitem">tty9</code>n'est pas
  utilisé), puis basculez sur <code class="systemitem">tty9</code>.
  Sinon, l'option <tt class="option">-colorkey 0</tt>devrait lire la vidéo en
  arrière-plan, un tant soit peu que la fonctionnalité de
<tt class="option">-colorkey</tt> soit opérationelle.
</p></li><li class="listitem"><p>
  Vous pouvez utiliser le sous-périphérique VIDIX qui à été appliqué à de
  nombreux pilotes de sortie vidéo, tels que :
  <tt class="option">-vo vesa:vidix</tt>
  (<span class="bold"><strong>Linux uniquement</strong></span>) et
  <tt class="option">-vo fbdev:vidix</tt>.
  </p></li></ul></div><p>
De plus le pilote de sortie vidéo utilisé avec <span class="bold"><strong>VIDIX</strong></span>
n'a pas d'importance.
</p><div class="itemizedlist" title="BESOINS"><p class="title"><b>BESOINS</b></p><ul class="itemizedlist" type="disc" compact><li class="listitem"><p>
  La carte graphique devrait être en mode graphique (excepté les cartes nVidia
  avec le pilote <tt class="option">-vo cvidix</tt>).
  </p></li><li class="listitem"><p>
  Le pilote de sortie vidéo de <span class="application">MPlayer</span> devrait
  connaître les modes vidéos actifs et être capable de donner au
sous-périphérique
  VIDIX quelques caractéristiques du serveur.
  </p></li></ul></div><p title="MÉTHODES D'UTILISATION"><b>MÉTHODES D'UTILISATION. </b>
Quand VIDIX est utilisé en temps que <span class="bold"><strong>sous-périphérique</strong></span>
(<tt class="option">-vo vesa:vidix</tt>), alors la configuration du mode vidéo est
faite par
le périphérique de sortie vidéo (<span class="bold"><strong>vo_server</strong></span> en
bref).
Par conséquent vous pouvez passer en ligne de commande les mêmes touches que
pour
vo_server. De plus il comprends l'option <tt class="option">-double</tt> comme un
paramètre
global (je recommande l'utilisation de cette option au moins pour les cartes
ATI).
Comme pour <tt class="option">-vo xvidix</tt>, il reconnaît actuellement les options
suivantes :
<tt class="option">-fs -zoom -x -y -double</tt>.
</p><p>
Vous pouvez aussi spécifier le pilote VIDIX directement en troisième
sous-argument en ligne de commande :


</p><pre class="screen">
mplayer -vo xvidix:mga_vid.so -fs -zoom -double
<em class="replaceable"><code>fichier.avi</code></em>
</pre><p>
ou
</p><pre class="screen">
  mplayer -vo vesa:vidix:radeon_vid.so -fs -zoom -double -bpp 32
<em class="replaceable"><code>fichier.avi</code></em>
</pre><p>


Mais c'est dangereux, et vous ne devriez pas faire ça. Dans ce cas le
pilote indiqué sera forcé et le résultat sera imprévisible (cela peut
<span class="bold"><strong>bloquer</strong></span> votre ordinateur).
Vous ne devriez le faire UNIQUEMENT si vous êtes absolument sûr que
cela va fonctionner, et <span class="application">MPlayer</span> ne le fait pas
automatiquement.
Dites-le aux développeurs, SVP. La bonne façon est d'utiliser VIDIX
sans argument pour activer l'autodétection du pilote.
</p><div class="sect2" title="7.15.1. svgalib_helper"><div class="titlepage"><div><div><h3 class="title"><a name="svgalib_helper"></a>7.15.1. svgalib_helper</h3></div></div></div><p>
Comme VIDIX requiert l'accès direct au matériel, vous avez le choix entre le
lançer
en tant que root ou définir le bit SUID du binaire
<span class="application">MPlayer</span>
(<span class="bold"><strong>Attention : c'est une faille de sécurité
!</strong></span>).
Sinon, si vous utilisez un noyau Linux 2.4.x, vous pouvez utiliser un module
noyau spécial, comme ceci :
</p><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Étape 1"><p>
  Téléchargez la <a class="ulink" href="http://www.arava.co.il/matan/svgalib/" target="_top">version de
développement</a>
  de svgalib (par exemple 1.9.17), <span class="bold"><strong>OU</strong></span>
  téléchargez une version faite par Alex spécialement pour utilisation avec
  <span class="application">MPlayer</span> (elle ne nécessite pas les sources de
svgalib pour
  compiler)
  <a class="ulink" href="http://www.mplayerhq.hu/MPlayer/contrib/svgalib/svgalib_helper-1.9.17-%20mplayer.tar.bz2" target="_top">ici</a>.
  </p></li><li class="step" title="Étape 2"><p>
  Compilez le module dans le répertoire <tt class="filename">svgalib_helper</tt>
  (il peut être trouvé à l'intérieur du répertoire
  <tt class="filename">svgalib-1.9.17/kernel/</tt> si vous avez
téléchargé
  les sources depuis le site de svgalib) et faire un insmod.
  </p></li><li class="step" title="Étape 3"><p>
  Pour créer les périphériques nécessaires dans le répertoire
  <tt class="filename">/dev</tt>, faites un
  </p><pre class="screen">make device</pre><p> dans le répertoire
  <tt class="filename">svgalib_helper</tt>, en root.
  </p></li><li class="step" title="Étape 4"><p>
  Puis lancez de nouveau <tt class="filename">configure</tt> en passant les
  paramètres <tt class="option">--enable-svgalib_helper</tt> et
  <tt class="option">--with-extraincdir=/path/to/svgalib_helper/sources</tt>,
  ajustés à l'emplacement où vous avez décompressé les sources.
  </p></li><li class="step" title="Étape 5"><p>
  Recompilez.
  </p></li></ol></div></div><div class="sect2" title="7.15.2. Cartes ATI"><div class="titlepage"><div><div><h3 class="title"><a name="vidix-ati"></a>7.15.2. Cartes ATI</h3></div></div></div><p>
Actuellement la plupart des cartes ATI sont supportés nativement, de la Mach64
jusqu'aux nouvelles Radeons.
</p><p>
  Il y a deux binaires compilés : <tt class="filename">radeon_vid</tt> pour
les cartes Radeon et <tt class="filename">rage128_vid</tt> pour les Rage 128. Vous
pouvez en forcer un ou laisser le système VIDIX le détecter parmis les pilotes
disponibles.
</p></div><div class="sect2" title="7.15.3. Cartes Matrox"><div class="titlepage"><div><div><h3 class="title"><a name="vidix-mga"></a>7.15.3. Cartes Matrox</h3></div></div></div><p>
Les Matrox G200, G400, G450 et G550 doivent normalement fonctionner.
</p><p>
Le pilote supporte les égaliseurs vidéo et devrait être presque aussi rapide
que le
<a class="link" href="#mga_vid" title="7.7. Framebuffer Matrox (mga_vid)">framebuffer Matrox</a>
</p></div><div class="sect2" title="7.15.4. Cartes Trident"><div class="titlepage"><div><div><h3 class="title"><a name="vidix-trident"></a>7.15.4. Cartes Trident</h3></div></div></div><p>
Il y a un pilote disponible pour les chipsets Trident Cyberblade/i1, qui
peuvent être
trouvés sur les cartes-mère VIA Epia.
</p><p>
Le pilote a été écrit et est maintenu par
<a class="ulink" href="http://www.blackfiveservices.co.uk/EPIAVidix.shtml" target="_top">Alastair M.
Robinson</a>.
</p></div><div class="sect2" title="7.15.5. Cartes 3DLabs"><div class="titlepage"><div><div><h3 class="title"><a name="vidix-3dlabs"></a>7.15.5. Cartes 3DLabs</h3></div></div></div><p>
Bien qu'il y ai un pilote pour les chips 3DLabs GLINT R3 et Permedia3,
personne ne l'a testé, donc les rapports sont les bienvenus.
</p></div><div class="sect2" title="7.15.6. Cartes nVidia"><div class="titlepage"><div><div><h3 class="title"><a name="vidix-nvidia"></a>7.15.6. Cartes nVidia</h3></div></div></div><p>
  Une fonction unique du pilote nvidia_vid est la capacité d'afficher de la
  vidéo dans un <span class="bold"><strong>console uniquemnent textuelle</strong></span>
  - avec aucun framebuffer ou X. Pour ce faire, nous aurons besoin d'utiliser
  la sortie <tt class="option">cvidix</tt>, comme le montre l'exemple suivant :
  </p><pre class="screen">
    mplayer -vo cvidix <em class="replaceable"><code>exemple.avi</code></em>
  </pre><p>
</p></div><div class="sect2" title="7.15.7. Cartes SiS"><div class="titlepage"><div><div><h3 class="title"><a name="vidix-sis"></a>7.15.7. Cartes SiS</h3></div></div></div><p>
C'est du code très expérimental, comme nvidia_vid.
</p><p>
Testé sur SiS 650/651/740 (les chipsets les plus couramment utilisés dans les
versions SiS des barebones "Shuttle XPC")
</p><p>
Rapports attendus !
</p></div></div><div class="sect1" title="7.16. DirectFB"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="directfb"></a>7.16. DirectFB</h2></div></div></div><div class="blockquote"><blockquote class="blockquote"><p>
"DirectFB est une librairie graphique conçue pour les systèmes embarqués. Il
offre
des performances d'accélération matérielle maximum pour un minimum
d'utilisation des
ressources et de charge." - citation de <a class="ulink" href="http://www.directfb.org" target="_top">http://www.directfb.org</a>
</p></blockquote></div><p>J'exclurai les fonctionnalités de DirectFB dans cette section.</p><p>
Bien que <span class="application">MPlayer</span> ne soit pas supporté en tant que
"fournisseur vidéo" dans DirectFB, ce pilote de sortie activera la lecture
vidéo au travers de DirectFB. Il sera - bien sûr - accéléré, sur ma Matrox
G400 la
vitesse de DirectFB était la même que celle de XVideo.
</p><p>
Essayez toujours d'utiliser la dernière version de DirectFB. Vous pouvez
utiliser les
options DirectFB en ligne de commande, en utilisant l'option
<tt class="option">-dfbopts</tt>.
La sélection de couche peut être faite par la méthode sous-périphérique, par
exemple : <tt class="option">-vo directfb:2</tt>
(couche -1 par défaut : autodétection)
</p></div><div class="sect1" title="7.17. DirectFB/Matrox (dfbmga)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dfbmga"></a>7.17. DirectFB/Matrox (dfbmga)</h2></div></div></div><p>
Veuillez lire la section <a class="link" href="#directfb" title="7.16. DirectFB">DirectFB principale</a>
pour
avoir les informations générales.
</p><p>
Ce pilote de sortie vidéo activera CRTC2 (sur la seconde tête) sur les cartes
Matrox
G400/G450/G550, affichant la vidéo <span class="bold"><strong>indépendemment</strong></span>
de la première tête.
</p><p>
Ville Syrjala a un fichier
<a class="ulink" href="http://www.sci.fi/~syrjala/directfb/Matrox_TV-out_README.txt" target="_top">
  README
</a>
et un
<a class="ulink" href="http://www.sci.fi/~syrjala/directfb/matrox-tv-out-howto" target="_top">
  HOWTO
</a>
sur sa page web qui explique comment faire fonctionner la sortie TV DirectFB
avec les cartes Matrox.
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
La première version de DirectFB que nous avons pu faire fonctionner était la
0.9.17. (elle est boguée, nécessite le patch
<code class="systemitem">surfacemanager</code>
disponible sur l'URL ci-dessus). Le portage du code CRTC2 dans
<span class="bold"><strong>mga_vid</strong></span> est prévu depuis des années, les
 <a class="ulink" href="../../tech/patches.txt" target="_top">patches</a> sont les bienvenus.
</p></div></div><div class="sect1" title="7.18. Décodeurs MPEG"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mpeg_decoders"></a>7.18. Décodeurs MPEG</h2></div></div></div><div class="sect2" title="7.18.1. sorties et entrées DVB"><div class="titlepage"><div><div><h3 class="title"><a name="dvb"></a>7.18.1. sorties et entrées DVB</h3></div></div></div><p>
<span class="application">MPlayer</span> supporte les cartes équipées du chipset DVB
Siemens
des vendeurs tels que Siemens, Technotrend, Galaxis ou Hauppauge. Les derniers
pilotes
DVB sont disponibles sur le site <a class="ulink" href="http://www.linuxtv.org" target="_top">Linux
TV</a>.
Si vous voulez faire du transcodage logiciel vous aurez besoin d'un CPU d'au
moins 1Ghz.
</p><p>
Configure devrait détecter votre carte DVB. Si ce n'est pas le cas, forcez la
détection
avec
</p><pre class="screen">./configure --enable-dvb</pre><p>
Si vous avez des entêtes ost dans un chemin non-standard, corrigez
ce chemin avec
</p><pre class="screen">
./configure --with-extraincdir=
<em class="replaceable"><code>répertoire source DVB</code></em>/ost/include
</pre><p>
Ensuite compilez et installez comme d'habitude.</p><p title="UTILISATION"><b>UTILISATION. </b>
Le décodage matériel de flux contenants des vidéos MPEG-1/2 et/ou du son MPEG
peut être fait avec cette commande :
</p><pre class="screen">mplayer -ao mpegpes -vo mpegpes
<em class="replaceable"><code>fichier.mpg|vob</code></em>
</pre><p title="UTILISATION">
</p><p>
  Décoder n'importe quel autre type de flux vidéo nécessite le recodage en
MPEG-1, donc c'est lent et peut ne pas valoir la chandelle, surtout si votre
ordinateur est lent.
Cela peut être obtenu en utilisant une commande comme celle-ci :
</p><pre class="screen">
mplayer -ao mpegpes -vo mpegpes <em class="replaceable"><code>votrefichier.ext</code></em>
mplayer -ao mpegpes -vo mpegpes -vf expand
<em class="replaceable"><code>votrefichier.ext</code></em>
</pre><p>
Notez que les cartes DVB ne supportent que les tailles 288 par 576 pour le PAL
ou 240
par 480 pour le NTSC. Vous <span class="bold"><strong>devez</strong></span>
redimensionner vers
d'autres tailles en ajoutant <tt class="option">scale=largeur:hauteur</tt> avec la
largeur et la
hauteur que vous voulez à l'option <tt class="option">-vf</tt>. Les cartes DVB
acceptent des
largeurs variées, comme 720, 704, 640, 512, 480, 352 etc et font un
redimensionnement
matériel dans le sens horizontal, vous n'avez donc pas besoin de
redimensionner
horizontalement dans la plupart des cas. Pour un DivX en 512x384 (aspect 4:3)
essayez :
</p><pre class="screen">mplayer -ao mpegpes -vo mpegpes -vf scale=512:576</pre><p>
Si vous avez un film plein-écran et que vous ne voulez pas l'afficher à sa
taille
complète, vous pouvez utiliser le filtre <tt class="option">expand=l:h</tt> pour
ajouter des
bandes noires. Pour voir un MPEG-4 (DivX) en 640x384, essayez :
</p><pre class="screen">mplayer -ao mpegpes -vo mpegpes -vf expand=640:576
<em class="replaceable"><code>fichier.avi</code></em>
</pre><p>
</p><p>Si votre CPU est trop lent pour un MPEG-4 (DivX) en taille complète
720x576, essayez de
diminuer la taille :
</p><pre class="screen">mplayer -ao mpegpes -vo mpegpes -vf scale=352:576
<em class="replaceable"><code>fichier.avi</code></em>
</pre><p>
</p><p>Si la vitesse ne s'améliore pas, essayez également la diminution
verticale :
</p><pre class="screen">mplayer -ao mpegpes -vo mpegpes -vf scale=352:288
<em class="replaceable"><code>fichier.avi</code></em>
</pre><p>
</p><p>
Pour l'OSD et les sous-titres utilisez la fonction expand du plugin OSD. Donc,
au lieu
de <tt class="option">expand=l:h</tt> ou <tt class="option">expand=l:h:x:y</tt>, utilisez
<tt class="option">expand=l:h:x:y:1</tt> (le 5ème paramètre <tt class="option">:1</tt> à la
fin
activera le rendu OSD). Vous pouvez aussi vouloir monter un peu l'image pour
obtenir
plus de surface noire pour les sous-titres. Vous pouvez aussi monter les
sous-titres ,
si ils sont en dehors de l'écran, utilisez l'option <tt class="option">-subpos
&lt;0-100&gt;</tt>
pour l'ajuster (<tt class="option">-subpos 80</tt> est un bon choix).
</p><p>
Pour pouvoir lire des films non-25fps sur une TV PAL ou avec un CPU lent,
ajoutez
l'option <tt class="option">-framedrop</tt>.
</p><p>
Pour garder les dimensions des fichiers MPEG-4 (DivX) et obtenir les
paramètres de zoom optimaux
(zoom matériel horizontal et zoom logiciel vertical en gardant l'aspect
original),
utilisez le nouveau filtre dvbscale :
</p><pre class="screen">
pour une TV 4:3:  -vf dvbscale,scale=-1:0,expand=-1:576:-1:-1:1
pour une TV 16:9: -vf dvbscale=1024,scale=-1:0,expand=-1:576:-1:-1:1
</pre><p>
</p><p title="TV numérique (module d'entrée DVB)"><b>TV numérique (module d'entrée DVB). </b>Vous pouvez utiliser votre carte DVB pour regarder la TV numérique.
</p><p>
  Vous devriez également avoir les programmes <span class="command"><strong>scan</strong></span> et
  <span class="command"><strong>szap/tzap/czap/azap</strong></span> installés; ils sont inclus dans le
paquet
  de pilotes.
</p><p>
  Vérifiez que vos pilotes fonctionnent correctement avec un programme tel que
  <a class="ulink" href="http://sf.net/projects/dvbtools/" target="_top"><span class="command"><strong>dvbstream</strong></span></a>
  (c'est la base du module d'entrée DVB).
</p><p>
  Maintenant vous devriez compiler un fichier
  <tt class="filename">~/.mplayer/channels.conf</tt>, avec la syntaxe acceptée par
  <span class="command"><strong>szap/tzap/czap/azap</strong></span>, ou le faire compiler par
  <span class="command"><strong>scan</strong></span>.
</p><p>
  Si vous avez plus d'un type de carte (c-a-d. Satellite, Terrestre, Cable et
ATSC)
  vous pouvez sauvegarder vos fichiers de canaux en tant que
  <tt class="filename">~/.mplayer/channels.conf.sat</tt>,
  <tt class="filename">~/.mplayer/channels.conf.ter</tt>,
  <tt class="filename">~/.mplayer/channels.conf.cbl</tt>,
  et <tt class="filename">~/.mplayer/channels.conf.atsc</tt>,
  respectivement, pour qu'implicitement <span class="application">MPlayer</span>
  les utilise à la place de <tt class="filename">~/.mplayer/channels.conf</tt>,
  et vous n'avez qu'à spécifier la carte à utiliser.
</p><p>
  Assurez-vous de n'avoir <span class="emphasis"><em>que</em></span> des canaux réellement
  disponibles dans votre fichier <tt class="filename">channels.conf</tt>, ou
<span class="application">MPlayer</span> attendra pour un programme non-cryptée.
</p><p>
  Dans vos champs audio et vidéo vous pouvez utiliser la syntaxe
  suivante :
  <tt class="option">...:pid[+pid]:...</tt> (avec un maximum de 6 pids pour chaque);
  dans ce cas <span class="application">MPlayer</span> inclura dans le flux les pids
  indiqués, plus le pid 0 (qui contient le PAT).
  Vous devriez toujours inclure dans chaque ligne le pid PMT et PCR du canal
  correspondant (si vous le connaissez).
  Vous pouvez aussi mettre 8192, ce qui sélectionnera tous les pids de cette
  fréquence, puis vous pourrez basculer entre les programmes avec TAB.
  Ceci risque de nécessiter plus de bande passante bien que les cartes à bas
  coût transfèrent toujours tous les canaux au moins vers le noyau si bien
  que cela ne fait pas beaucoup de différence pour elles.
  Autres utilisations possibles : pid televideo, seconde piste audio,...
</p><p>
  Si <span class="application">MPlayer</span> se plain souvent avec le message
  suivant :
  </p><pre class="screen">Too many video/audio packets in the buffer</pre><p> ou si vous
remarquez
  une désynchronisation grandissante entre le son et la vidéo, vérifiez la
  présence du pid PCR dans votre flux (nécessaire pour se conformer au model
  de tampon de votre émetteur) et/ou essayez d'utiliser le démultiplexeur
  MPEG-TS de libavformat en ajoutant à votre ligne de commande :
  <tt class="option">-demuxer lavf -lavfdopts probesize=128</tt> .
</p><p>
Pour afficher le premier des canaux présents dans votre liste, tapez
</p><pre class="screen">mplayer dvb://</pre><p>
</p><p>
  Si vous voulez regarder un canal spécifique, tel que R1, tapez
  </p><pre class="screen">mplayer dvb://<em class="replaceable"><code>R1</code></em></pre><p>
</p><p>
  Si vous avez plus d'une carte vous pouvez aussi spécifier le numéro de la
carte
où le canal est visible (par ex. 2) avec la syntaxe :
</p><pre class="screen">mplayer dvb://2@R1</pre><p>
</p><p>
  Pour changer de canal tapez sur les touches <span class="keycap"><b>h</b></span> (suivant) et
  <span class="keycap"><b>k</b></span> (précédent), ou utilisez le
  <a class="link" href="#subosd" title="3.2. Sous-titres et OSD">menu OSD</a>.
</p><p>
  Pour désactiver temporairement un flus audio ou vidéo, copiez les lignes
  suivantes dans le fichier <tt class="filename">~/.mplayer/input.conf</tt> :
  </p><pre class="screen">
    % set_property  switch_video -2
    &amp; step_property switch_video
    ? set_property  switch_audio -2
    ^ step_property switch_audio
  </pre><p>
  (Ceci modifie les préférences des raccourcis claviers)
  En appuyant sur la touche correspondant à </p><pre class="screen">switch_x -2</pre><p>, le
  flux associé sera fermé.
  En appuyant sur la touche correspondant à </p><pre class="screen">step_x</pre><p>, le flux
  sera réouvert.
  Notez que ce mécanisme ne fonctionnera pas comme attendu si il y a de
  multiples flux audio et vidéo dans le média.
</p><p>
  Pour éviter les saccadements et les messages d'erreurs comme "Votre système
  est trop LENT pour jouer ce fichier !" lors de la lecture (pas en
  enregistrement), il est conseillé d'ajouter
  </p><pre class="screen">-mc 10 -speed 0.97 -af scaletempo</pre><p>
  sur la ligne de commande, en ajustant le paramètre
  <tt class="option">scaletempo</tt> à vos resources.
</p><p>
  Si votre <tt class="filename">~/.mplayer/menu.conf</tt> contient une entrée
  <code class="literal">&lt;dvbsel&gt;</code>, comme celle du fichier d'exemple
  <tt class="filename">etc/dvb-menu.conf</tt> (que vous pouvez utiliser pour
  outrepasser <tt class="filename">~/.mplayer/menu.conf</tt>), le menu principal
  affichera un sous-menu qui vous permettra de choisir les canaux présents
dans
  votre <tt class="filename">channels.conf</tt>, peut-être précédé d'un menu des
cartes
  disponibles si il y en a plus d'une utilisable par
<span class="application">MPlayer</span>.
</p><p>
  Si vous voulez sauvegarder un programme sur le disque vous pouvez utiliser
</p><pre class="screen">
  mplayer -dumpfile r1.ts -dumpstream dvb://R1
</pre><p>
</p><p>
  Si vous voulez l'enregistrer dans un format différent (le ré-enregistrer)
  vous pouvez lancer une commande comme
</p><pre class="screen">
  mencoder -o <em class="replaceable"><code>r1.avi</code></em> -ovc xvid -xvidencopts
bitrate=800 \
    -oac mp3lame -lameopts cbr:br=128 -pp=ci
dvb://<em class="replaceable"><code>R1</code></em>
</pre><p>
</p><p>
  Lisez la page de man pour avoir une liste des options que vous pouvez passer
  au module d'entrée DVB.
</p><p title="FUTUR"><b>FUTUR. </b>
Si vous avez des questions ou voulez entendre les annonces de fonctionnalités
et
participer aux discussions sur ce sujet, rejoignez notre liste de diffusion
<a class="ulink" href="http://lists.mplayerhq.hu/mailman/listinfo/mplayer-dvb" target="_top">
  MPlayer-DVB
</a>.
SVP, rappelez-vous que la langue de la liste est l'anglais.
</p><p>
Dans le futur vous pouvez vous attendre à pouvoir afficher l'OSD et les
sous-titres en utilisant la fonction OSD native des cartes DVB.
</p></div><div class="sect2" title="7.18.2. DXR2"><div class="titlepage"><div><div><h3 class="title"><a name="dxr2"></a>7.18.2. DXR2</h3></div></div></div><p>
<span class="application">MPlayer</span> supporte l'affichage accéléré avec la
carte Creative DXR2.</p><p>
Tout d'abord vous devrez avoir les pilotes correctement installés. Vous pouvez
trouver les pilotes et les instructions d'installation sur le site
<a class="ulink" href="http://dxr2.sf.net/" target="_top">DXR2 Resource Center</a>.
</p><div class="variablelist" title="UTILISATION"><p class="title"><b>UTILISATION</b></p><dl><dt><span class="term"><tt class="option">-vo dxr2</tt></span></dt><dd><p>Active la sortie TV</p></dd><dt><span class="term"><tt class="option">-vo dxr2:x11</tt> ou <tt class="option">-vo dxr2:xv</tt></span></dt><dd><p>Active la sortie Overlay sous X11</p></dd><dt><span class="term"><tt class="option">-dxr2 &lt;option1:option2:...&gt;</tt></span></dt><dd><p>Cette option est utilisée pour contrôler le pilote
  DXR2.</p></dd></dl></div><p>
Le chipset overlay utilisé sur la DXR2 est d'assez mauvaise qualité mais les
paramètres
par défaut devraient suffire pour tout le monde. L'OSD peut être utilisable
avec
l'overlay (pas sur une télé) en la dessinant avec une couleur-clé. Avec les
paramètres
de couleur-clé par défaut vous obtiendrez des résultats variables,
généralement vous
vérez la couleur-clé autour des personnages et autres effets amusants. Mais si
vous
ajustez correctement les paramètres de couleur-clé vous devriez pouvoir
obtenir des
résultats acceptables.
</p><p>Veuillez lire la page de man pour les options disponibles.</p></div><div class="sect2" title="7.18.3. DXR3/Hollywood+"><div class="titlepage"><div><div><h3 class="title"><a name="dxr3"></a>7.18.3. DXR3/Hollywood+</h3></div></div></div><p>
<span class="application">MPlayer</span> supporte l'accélération matérielle avec les
cartes
Creative DXR3 et Sigma Designs Hollywood Plus. Ces cartes ont toutes deux le
chip de
décodage MPEG em8300 de Sigma Designs.
</p><p>
Tout d'abord vous aurez besoin de pilotes DXR3/H+ correctement installés,
version
0.12.0 ou supérieure. Vous pouvez trouver les pilotes et les instructions
d'installation sur le site
<a class="ulink" href="http://dxr3.sf.net/" target="_top">DXR3 &amp; Hollywood Plus for Linux</a>.
<tt class="filename">configure</tt> devrait détecter votre carte automatiquement,
la compilation devrait se
faire sans problèmes.
</p><div class="variablelist" title="UTILISATION"><p class="title"><b>UTILISATION</b></p><dl><dt><span class="term"><tt class="option">-vo
dxr3:prebuf:sync:norm=x:<em class="replaceable"><code>périph.</code></em></tt></span></dt><dd><p>
<tt class="option">overlay</tt> active l'overlay à la place de TV-Out. Cela requiert
que vous ayez correctement configuré l'overlay. La manière la plus facile de
configurer l'overlay est de d'abord lancer autocal. Ensuite lancez
<span class="application">MPlayer</span> avec la sortie dxr3 et
sans overlay activé, lancez dxr3view. Dans dxr3view vous pouvez régler
les paramètres overlay et en voir les effets en temps réel, peut-être cette
fonction sera supporté par la GUI de <span class="application">MPlayer</span> dans
le futur.
Quand l'overlay est correctement configuré, vous n'avez plus besoin
d'utiliser dxr3view.

<tt class="option">prebuf</tt> active le prebuffering. C'est une fonction du chip
em8300 qui
l'active pour garder plus d'une trame de vidéo à la fois. Cela signifie que
quand vous
utilisez le prebuffering <span class="application">MPlayer</span> essaiera de garder
le buffer vidéo rempli de données
à tout moment. Si vous êtes sur une machine lente
<span class="application">MPlayer</span> utilisera près de, voir
exactement 100% du CPU. C'est particulièrement courant si vous lisez de purs
flux MPEG
(comme les DVDs, SVCDs et ainsi de suite) car comme
<span class="application">MPlayer</span> n'aura pas besoin de le
ré-encoder en MPEG, il remplira le buffer très rapidement.

Avec le prebuffering la lecture est <span class="bold"><strong>beaucoup</strong></span>
moins
sensible aux autres programmes monopolisant le CPU, il ne sautera pas d'images
à moins
que des programmes monopolisent le CPU pour une longue durée.

En l'utilisant sans doublebuffering, l'em8300 est bien plus sensible à la
charge CPU,
il est donc hautement recommandé d'activer l'option
<tt class="option">-framedrop</tt> pour
éviter les éventuelles pertes de synchro.

<tt class="option">sync</tt> activera le nouveau moteur de synchro. C'est
actuellement une
fonction expérimentale. Avec la fonction sync activé l'horloge interne de
l'em8300
sera contrôlée à tout moment, si elle commence à dévier de l'horloge de
<span class="application">MPlayer</span> elle
sera réajustée, obligeant l'em8300 à sauter les éventuelles trames en retard.

<tt class="option">norm=x</tt> fixera la norme TV de la carte DXR3 sans avoir besoin
d'utiliser des outils externes comme em8300setup. Les normes valides sont 5 =
NTSC,
4 = PAL-60, 3 = PAL. Les normes spéciales sont 2 (ajustement auto utilisant
PAL/PAL-60)
et 1 (ajustement auto utilisant PAL/NTSC) parce qu'elles décident quelle norme
utiliser
en regardant le frame rate du film. norm = 0 (par défaut) ne change pas la
norme
courante.

<tt class="option"><em class="replaceable"><code>périph.</code></em></tt> = numéro de périphérique à
utiliser
si vous avez plus d'une carte em8300.

Chacune de ces options peut être laissé de côté.

<tt class="option">:prebuf:sync</tt> semble fonctionner à merveille en lisant des
DivX.
Des gens ont signalé des problèmes en utilisant l'option prebuf pendant la
lecture de
fichiers MPEG1/2. Vous pourriez vouloir essayer sans aucune option en premier,
si vous
avez des problèmes de synchro, ou des problèmes de sous-titres avec les DVDs,
essayez
avec <tt class="option">:sync</tt>.
</p></dd><dt><span class="term"><tt class="option">-ao
oss:/dev/em8300_ma-<em class="replaceable"><code>X</code></em></tt></span></dt><dd><p>
Pour la sortie audio, où <em class="replaceable"><code>X</code></em> est le numéro de
périphérique
(0 si une carte).
</p></dd><dt><span class="term"><tt class="option">-af resample=<em class="replaceable"><code>xxxxx</code></em></tt></span></dt><dd><p>
L'em8300 ne peut jouer de taux d'échantillonage inférieur à 44100 Hz. Si le
taux
d'échantillonage est en dessous de 44100Hz, sélectionnez soit 44100Hz, soit
48000Hz en
fonction de ce qui est le plus proche. C-a-d si le film utilise 22050 utilisez
44100Hz
car 44100 / 2 = 22050, si c'est 24000Hz utilisez 48000Hhz car 48000 / 2 =
24000 et
ainsi de suite. Cela ne fonctionne pas avec la sortie audio numérique
(<tt class="option">-ac hwac3</tt>).
</p></dd><dt><span class="term"><tt class="option">-vf lavc/fame</tt></span></dt><dd><p>
Pour voir du contenu non-MPEG sur l'em8300 (c-a-d. MPEG-4 (DivX) ou
RealVideo),
vous devrez spécifier un filtre vidéo MPEG-1 tel que <code class="systemitem">libavcodec</code>
(lavc).
Voir le manuel pour de plus amples infos à propos de <tt class="option">-vf
lavc/fame</tt>.
Actuellement il n'est pas possible de régler les fps
de l'em8300 ce qui veut dire qu'il est fixé à 30000/1001 fps.
À cause de cela il est hautement recommandé d'utiliser <tt class="option">-vf
lavc=<em class="replaceable"><code>qualité</code></em>:25</tt>,
surtout si vous utilisez le prebuffering. Alors pourquoi 25 et pas 30000/1001?
Hé bien, le truc est que si vous utilisez 30000/1001, l'image devient un
peu sautante.
Nous n'en connaissons pas la raison. Si vous le réglez quelque part entre 25
et 27 l'image devient stable.
Pour l'instant tous ce que nous pouvons faire est de l'accepter.
</p></dd><dt><span class="term"><tt class="option">-vf expand=-1:-1:-1:-1:1</tt></span></dt><dd><p>
Bien que le pilote DXR3 puisse placer quelques OSD sur de la vidéo MPEG1/2/4,
il est de
bien plus basse qualité que l'OSD traditionnel de MPlayer, et de plus soufre
de
nombreux problèmes de rafraîchissement. La ligne de commande ci-dessus va
d'abord
convertir l'entrée vidéo en MPEG4 (c'est obligatoire, désolé), ensuite
appliquer un
filtre expand qui ne va rien étendre du tout (-1: défaut), mais afficher l'OSD
dans
l'image (c'est ce que fait le "1" à la fin).
</p></dd><dt><span class="term"><tt class="option">-ac hwac3</tt></span></dt><dd><p>
L'em8300 supporte la lecture audio AC-3 (son surround) au travers de la sortie
audio
numérique de la carte. Voir l'option <tt class="option">-ao oss</tt> plus haut, elle
doit
être utilisé pour spécifier la sortie DXR3 au lieu d'une carte son.
</p></dd></dl></div></div></div><div class="sect1" title="7.19. Autres matériels de visualisation"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="other"></a>7.19. Autres matériels de visualisation</h2></div></div></div><div class="sect2" title="7.19.1. Zr"><div class="titlepage"><div><div><h3 class="title"><a name="zr"></a>7.19.1. Zr</h3></div></div></div><p>
C'est un pilote d'affichage (<tt class="option">-vo zr</tt>) pour certaines cartes de
capture/lecture (testé pour DC10+ et Buz, et cela devrait fonctionner pour la
LML33 et
la DC10). Ce pilote fonctionne en encodant la trame en JPEG et en l'envoyant
à la carte. Pour l'encodage JPEG <code class="systemitem">libavcodec</code> est utilisé, et
requis. Avec le mode spécial <span class="emphasis"><em>cinerama</em></span>, vous pouvez voir
les films
en vrai écran large si vous avez deux moniteurs et deux cartes MJPEG.
Selon la résolution et les réglages, ce pilote requiert beaucoup de puissance
CPU, rappelez-vous de spécifier <tt class="option">-framedrop</tt> si votre machine
est trop lente. Note : Mon AMD K6-2 350Mhz est (avec
<tt class="option">-framedrop</tt>)
très adapté pour voir des vidéos de taille VCD et les films dont la taille est
réduite.
</p><p>
Ce pilote parle au module noyau disponible sur
<a class="ulink" href="http://mjpeg.sf.net" target="_top">http://mjpeg.sf.net</a>, donc vous devez d'abord faire fonctionner
ce dernier. la présence d'une carte MJPEG est autodétectée par le script
<tt class="filename">configure</tt>, si l'autodétection échoue, forcez la détection
avec
</p><pre class="screen">./configure --enable-zr</pre><p>
</p><p>
La sortie peut être contrôlée par de nombreuses options, une longue
description des
options peut être trouvée sur la page de man, une courte liste des options
peut être
obtenue en exécutant
</p><pre class="screen">mplayer -zrhelp</pre><p>
</p><p>
Les choses comme le zoom ou l'OSD (on screen display) ne sont pas gérés par ce
pilote
mais peuvent être obtenus en utilisant les filtres vidéo. Par exemple,
supposons que
vos avez un film d'une résolution de 512x272 et que vous voulez le voir en
plein-écran
sur votre DC10+. Il y a trois possibilités principales, vous pouvez
redimmensionner le
film à une largeur de 768, 384 ou 192. Pour des raisons de performances et de
qualité,
vous pouvez choisir de redimmensionner le film en 384x204 en utilisant le zoom
logiciel bilinéaire rapide.
La ligne de commande est
</p><pre class="screen">mplayer -vo zr -sws 0 -vf scale=384:204
<em class="replaceable"><code>film.avi</code></em></pre><p>
</p><p>
Le découpage peut être fait avec le filtre <tt class="option">crop</tt> et par ce
pilote lui-même. Supposons qu'un film soit trop large pour s'afficher sur
votre Buz et
que vous vouliez utiliser <tt class="option">-zrcrop</tt> pour rendre le film moins
large,
alors vous taperez la commande suivante
</p><pre class="screen">mplayer -vo zr -zrcrop 720x320+80+0
<em class="replaceable"><code>benhur.avi</code></em></pre><p>
</p><p>
Si vous voulez utiliser le filtre <tt class="option">crop</tt>, vous feriez
</p><pre class="screen">mplayer -vo zr -vf crop=720:320:80:0
<em class="replaceable"><code>benhur.avi</code></em></pre><p>
</p><p>
Des occurrences supplémentaires de <tt class="option">-zrcrop</tt> invoquent le mode
<span class="emphasis"><em>cinerama</em></span>, c-a-d. que vous pouvez distribuer l'affichage
sur
plusieurs TV ou moniteurs pour créer un écran plus large. Supposons que vous
ayez deux
moniteurs. Celui de gauche est connecté à votre Buz sur
<tt class="filename">/dev/video1</tt>
et celui de droite est connecté à votre DC10+ sur
<tt class="filename">/dev/video0</tt>.
Le film a une résolution de 704x288. Supposons maintenant que vous voulez le
moniteur
de droite en noir et blanc et que le moniteur de gauche ait des trames jpeg de
qualité
10, alors vous taperez la commande suivante
</p><pre class="screen">
mplayer -vo zr -zrdev /dev/video0 -zrcrop 352x288+352+0 -zrxdoff 0 -zrbw \
	-zrcrop 352x288+0+0 -zrdev /dev/video1 -zrquality 10
<em class="replaceable"><code>film.avi</code></em>
</pre><p>
</p><p>
Vous voyez que les options apparaissant avant le second
<tt class="option">-zrcrop</tt> ne
s'appliquent qu'a la DC10+ et que les options après le second
<tt class="option">-zrcrop</tt>
s'appliquent à la Buz. Le nombre maximum de cartes MJPEG participant au
<span class="emphasis"><em>cinerama</em></span> est quatre, vous pouvez donc construire un mur
vidéo de 2x2.
</p><p>
  Pour finir une remarque importante : Ne lancez ou n'arrêtez pas
<span class="application">XawTV</span> sur le
périphérique en cours de lecture, cela planterait votre ordinateur. Il est,
cependant,
sans risque de lancer <span class="bold"><strong>D'ABORD</strong></span>
<span class="application">XawTV</span>,
<span class="bold"><strong>ENSUITE</strong></span> de lancer
<span class="application">MPlayer</span>, d'attendre que
<span class="application">MPlayer</span> se
termine et <span class="bold"><strong>ENSUITE</strong></span> de stopper
<span class="application">XawTV</span>.
</p></div><div class="sect2" title="7.19.2. Blinkenlights"><div class="titlepage"><div><div><h3 class="title"><a name="blinkenlights"></a>7.19.2. Blinkenlights</h3></div></div></div><p>
Ce pilote est capable de lire en utilisant le protocole UPD Blinkenlights. Si
vous ne
savez pas ce qu'est <a class="ulink" href="http://www.blinkenlights.de/" target="_top">Blinkenlights</a>,
vous n'avez pas besoin de ce pilote.

</p></div></div><div class="sect1" title="7.20. Sortie TV"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tvout"></a>7.20. Sortie TV</h2></div></div></div><div class="sect2" title="7.20.1. Cartes Matrox G400"><div class="titlepage"><div><div><h3 class="title"><a name="tvout-mga-g400"></a>7.20.1. Cartes Matrox G400</h3></div></div></div><p>
  Sous Linux vous avez 2 méthodes pour faire fonctionner la sortie TV :
</p><div class="important" title="Important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
pour les instructions sur la sortie TV des Matrox G450/G550, voir la prochaine
section SVP !
</p></div><div class="variablelist"><dl><dt><span class="term">XFree86</span></dt><dd><p>
    en utilisant le pilote et le module HAL, disponible sur le
    <a class="ulink" href="http://www.matrox.com" target="_top">site de Matrox</a>. Cela vous
donnera X sur
    la TV.
    </p><p>
    <span class="bold"><strong>Cette méthode ne vous donne pas la lecture
accélérée</strong></span> comme sous Windows ! La seconde tête n'a qu'un
framebuffer YUV, le <span class="emphasis"><em>BES</em></span> (Back End Scaler, le
redimensionneur YUV des cartes G200/G400/G450/G550) ne fonctionne pas
dessus ! Le pilote Windows contourne cela, probablement en utilisant le
moteur 3D pour zoomer, et le framebuffer YUV pour afficher l'image zoomée.
Si vous voulez vraiment utiliser X, utilisez les options
    <tt class="option">-vo x11 -fs -zoom</tt>, mais ce sera
    <span class="bold"><strong>LENT</strong></span>, et aura la protection anticopie
    <span class="bold"><strong>Macrovision</strong></span> activée
    (vous pouvez "contourner" Macrovision en utilisant ce
    <a class="ulink" href="http://avifile.sf.net/mgamacro.pl" target="_top">script perl</a>).
    </p></dd><dt><span class="term">Framebuffer</span></dt><dd><p>
    En utilisant les <span class="bold"><strong>modules matroxfb</strong></span> dans
    les noyaux 2.4. Les noyaux 2.2 n'ont pas de fonction TV-out incluse, et
    sont donc inutilisables pour cela.
    Vous devez activer TOUTES les fonctions spécifiques à matroxfb durant
    la compilation (excepté MultiHead), et les compiler en
    <span class="bold"><strong>modules</strong></span> !
    Vous aurez également besoin que I2C soit activé et mettre les outils
    <span class="application">matroxset</span>, <span class="application">fbset</span>
    et <span class="application">con2fb</span> dans votre path.
    </p><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Étape 1"><p>
      Puis chargez les modules <code class="systemitem">matroxfb_Ti3026, matroxfb_maven,
      i2c-matroxfb,matroxfb_crtc2</code> dans votre noyau.
      Votre console en mode texte va entrer en mode framebuffer (sans retour
      possible !).
    </p></li><li class="step" title="Étape 2"><p>
      Ensuite, réglez votre moniteur et votre TV à votre convenance avec
      les outils ci-dessus.
    </p></li><li class="step" title="Étape 3"><p>
      Yoh. La prochaine tâche est de faire disparaître le curseur sur tty1
      (ou n'importe quelle autre), et de désactiver l'économiseur d'écran.
      Exécutez les commandes suivantes :

      </p><pre class="screen">
echo -e '\033[?25l'
setterm -blank 0</pre><p>
      ou
      </p><pre class="screen">
setterm -cursor off
setterm -blank 0</pre><p>

      Vous pouvez mettre ceci dans un script, et également effacer
      l'écran.
      Pour réactiver le curseur :
      </p><pre class="screen">echo -e '\033[?25h'</pre><p> ou
      </p><pre class="screen">setterm -cursor on</pre><p>
      </p></li><li class="step" title="Étape 4"><p>
      Yeah kewl. Démarrez le film avec
      </p><pre class="screen">
mplayer -vo mga -fs -screenw 640 -screenh 512
<em class="replaceable"><code>nomfichier</code></em></pre><p>

       (si vous utilisez X, maintenant changez pour matroxfb avec par exemple
      <span class="keycap"><b>Ctrl</b></span>+<span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>F1</b></span>.)
      Changez <code class="literal">640</code> et <code class="literal">512</code> si vous voulez
      spécifier une résolution différente...
      </p></li><li class="step" title="Étape 5"><p>
      <span class="bold"><strong>Appréciez la sortie TV Matrox ultra-rapide
      ultra-fonctionnelle (meilleure que Xv) !</strong></span>
      </p></li></ol></div></dd></dl></div></div><div class="sect2" title="7.20.2. Cartes Matrox G450/G550"><div class="titlepage"><div><div><h3 class="title"><a name="tv-out_matrox_g450"></a>7.20.2. Cartes Matrox G450/G550</h3></div></div></div><p>
Le support de la sortie TV pour ces cartes n'a été introduit que récemment, et
n'est
pas encore dans le noyau officiel. Actuellement le module <span class="bold"><strong>mga_vid</strong></span>
ne peut être utilisé à ma connaissance, parce que le pilote G450/G550 ne
fonctionne que dans une configuration : le premier chip CRTC (qui a le
plus de fonctions) sur le premier affichage (sur le moniteur), et le second
CRTC (pas de <span class="bold"><strong>BES</strong></span>,
veuillez voir la section G400 plus haut) sur la TV. Vous ne pouvez donc
utiliser que le
pilote de sortie <span class="emphasis"><em>fbdev</em></span> de
<span class="application">MPlayer</span> pour
le moment.
</p><p>
Le premier CRTC ne peut pas être relié à la seconde tête actuellement.
L'auteur du
pilote noyau matroxfb - Petr Vandrovec - fera certainement un support pour
cela, en
affichant la sortie du premier CRTC sur les deux têtes à la fois, comme
actuellement
recommandé pour la G400, voir la section ci-dessus.
</p><p>
Le patch noyau nécessaire et le HOWTO détaillé sont téléchargeables sur
<a class="ulink" href="http://www.bglug.ca/matrox_tvout/" target="_top">http://www.bglug.ca/matrox_tvout/</a>
</p></div><div class="sect2" title="7.20.3. Construire un câble de sortie TV Matrox"><div class="titlepage"><div><div><h3 class="title"><a name="tv-out_matrox_cable"></a>7.20.3. Construire un câble de sortie TV Matrox</h3></div></div></div><p>
    Personne ne prends de responsabilités, ni n'offre de garanties quant aux
    éventuels dommages causés par cette documentation.
  </p><p title="Cable pour G400"><b>Cable pour G400. </b>
    La quatrième broche du connecteur CRTC2 transmet le signal vidéo
    composite. La terre (ground) est sur les sixième, septième et huitième
    broches (info donnée par Balázs Rácz).
  </p><p title="Cable pour G450"><b>Cable pour G450. </b>
    La première broche du connecteur CRTC2 transmet le signal vidéo composite.
    La terre (ground) est sur les cinquième, sixième, septième, et
    quinzième (5, 6, 7, 15) broches (info donnée par Balázs Kerekes).
</p></div><div class="sect2" title="7.20.4. Cartes ATI"><div class="titlepage"><div><div><h3 class="title"><a name="tvout-ati"></a>7.20.4. Cartes ATI</h3></div></div></div><p title="PRÉAMBULE"><b>PRÉAMBULE. </b>
Actuellement ATI ne veut supporter aucun de ces chips TV-out sous Linux, à
cause de
leur technologie Macrovision sous licence.
</p><div class="itemizedlist" title="ÉTAT DE LA SORTIE TV ATI SUR LINUX"><p class="title"><b>ÉTAT DE LA SORTIE TV ATI SUR LINUX</b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
    <span class="bold"><strong>ATI Mach64</strong></span> :
  supporté par <a class="ulink" href="http://gatos.sf.net" target="_top">GATOS</a>.
  </p></li><li class="listitem"><p>
    <span class="bold"><strong>ASIC Radeon VIVO</strong></span> :
  supporté par <a class="ulink" href="http://gatos.sf.net" target="_top">GATOS</a>.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>Radeon</strong></span> et
  <span class="bold"><strong>Rage128</strong></span> :
  supporté par <span class="application">MPlayer</span> !
  Vérifiez les sections <a class="link" href="#vesa" title="7.13. VESA - sortie sur BIOS VESA">pilote VESA</a> et
  <a class="link" href="#vidix" title="7.15. VIDIX">VIDIX</a>.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>Rage Mobility P/M, Radeon, Rage 128, Mobility
    M3/M4</strong></span> :
  supporté par <a class="ulink" href="http://www.stud.uni-hamburg.de/users/lennart/projects/atitvout/" target="_top">atitvout
</a>.
  </p></li></ul></div><p>
Sur les autres cartes, utilisez juste le pilote <a class="link" href="#vesa" title="7.13. VESA - sortie sur BIOS VESA">VESA</a>,
sans VIDIX. Un CPU puissant est cependant requis.
</p><p>
La seule chose que vous ayez à faire - <span class="bold"><strong>avoir le
connecteur TV
branché avant de booter votre PC</strong></span> car le BIOS vidéo s'initialise
uniquement durant cette phase.
</p></div><div class="sect2" title="7.20.5. nVidia"><div class="titlepage"><div><div><h3 class="title"><a name="tvout-nvidia"></a>7.20.5. nVidia</h3></div></div></div><p>
D'abord, vous DEVEZ télécharger les pilotes closed-source depuis <a class="ulink" href="http://nvidia.com" target="_top">http://nvidia.com</a>.
Je ne décrirai pas le processus d'installation et de configuration car il sort
du cadre
de cette documentation.
</p><p>
Après que l'accélération XFree86, XVideo, et 3D fonctionnent correctement,
éditez la
section Device de votre carte dans le fichier <tt class="filename">XF86Config</tt>,
selon
l'exemple suivant (adaptez à votre carte/TV) :

</p><pre class="programlisting">
Section "Device"
	Identifier      "GeForce"
	VendorName      "ASUS"
	BoardName       "nVidia GeForce2/MX 400"
	pilote          "nvidia"
	#Option         "NvAGP" "1"
	Option          "NoLogo"
	Option          "CursorShadow"  "on"

	Option          "TwinView"
	Option          "TwinViewOrientation" "Clone"
	Option          "MetaModes" "1024x768,640x480"
	Option          "ConnectedMonitor" "CRT, TV"
	Option          "TVStandard" "PAL-B"
	Option          "TVOutFormat" "Composite"

EndSection
</pre><p>
</p><p>
Bien sûr l'élément le plus important est la partie TwinView.
</p></div><div class="sect2" title="7.20.6. Neomagic"><div class="titlepage"><div><div><h3 class="title"><a name="tvout-neomagic"></a>7.20.6. Neomagic</h3></div></div></div><p>
Le chip NeoMagic peut être trouvé sur de nombreux portables, certains équipés
d'un encodeur TV analogique simple, certains en ont un plus avancé.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
    <span class="bold"><strong>Analog encoder chip</strong></span> :
  Il a été reporté qu'une sortie TV fiable pouvait être obtenue en utilisant
  <tt class="option">-vo fbdev</tt> ou <tt class="option">-vo fbdev2</tt>.
  Vous avez besoin d'avoir vesafb compilé dans votre noyau et de passer les
  paramètres suivants sur la ligne de commande du noyau :
  <tt class="option">append="video=vesafb:ywrap,mtrr" vga=791</tt>.
  Vous devriez lancer <span class="application">X</span>, puis passer en mode
  console avec par exemple
  <span class="keycap"><b>CTRL</b></span>+<span class="keycap"><b>ALT</b></span>+<span class="keycap"><b>F1</b></span>.
  Si vous échouez en lancant <span class="application">X</span> depuis la console,
la vidéo
  devient lente et saccadé (toute explication de ce phénomène est bienvenue).
  Identifiez-vous dans votre console, puis lancez la commande suivante :
  </p><pre class="screen">clear; mplayer -vo fbdev -zoom -cache 8192 dvd://</pre><p>
  Maintenant vous devriez voir le film lancé en mode console remplir
  à peu près la moitié de votre écran LCD de portable.
  Pour switcher vers la TV tapez
  <span class="keycap"><b>Fn</b></span>+<span class="keycap"><b>F5</b></span> trois fois.
  Testé sur un Tecra 8000, noyau 2.6.15 avec vesafb, ALSA v1.0.10.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>chip Chrontel 70xx encoder</strong></span> :
  Présent dans l'IBM Thinkpad 390E et probablement dans d'autres Thinkpads ou portables.
  </p><p>
  Vous devez utiliser <tt class="option">-vo vesa:neotv_pal</tt> pour PAL ou
  <tt class="option">-vo vesa:neotv_ntsc</tt> pour NTSC.
  Cela fournira la sortie TV dans les modes 16 bpp et 8 bpp suivants :
  </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>NTSC 320x240, 640x480 et peut être aussi 800x600.</p></li><li class="listitem"><p>PAL  320x240, 400x300, 640x480, 800x600.</p></li></ul></div><p>le mode 512x384 n'est pas supporté par le BIOS. Vous devez redimmensionner
  l'image à une résolution différente pour activer la sortie TV. Si vous voyez
  une image sur l'écran en 640x480 ou en 800x600 mais pas en 320x240 ou autre
  résolution plus faible, vous devez remplacer deux tables dans <tt class="filename">vbelib.c</tt>.
  Voir la fonction vbeSetTV pour plus de détails. Veuillez contacter l'auteur dans
  ce cas.
  </p><p>
    Problèmes connus : VESA uniquement, aucun autre contrôle tel que
luminosité, contraste, blacklevel, flickfilter n'est implémenté.
  </p></li></ul></div><p>
</p></div></div></div><div class="chapter" title="Chapitre 8. Ports"><div class="titlepage"><div><div><h2 class="title"><a name="ports"></a>Chapitre 8. Ports</h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="#linux">8.1. Linux</a></span></dt><dd><dl><dt><span class="sect2"><a href="#debian">8.1.1. Paquets Debian</a></span></dt><dt><span class="sect2"><a href="#rpm">8.1.2. Paquets RPM</a></span></dt><dt><span class="sect2"><a href="#arm">8.1.3. ARM</a></span></dt></dl></dd><dt><span class="sect1"><a href="#bsd">8.2. *BSD</a></span></dt><dd><dl><dt><span class="sect2"><a href="#freebsd">8.2.1. FreeBSD</a></span></dt><dt><span class="sect2"><a href="#openbsd">8.2.2. OpenBSD</a></span></dt><dt><span class="sect2"><a href="#darwin">8.2.3. Darwin</a></span></dt></dl></dd><dt><span class="sect1"><a href="#unix">8.3. Unix Commercial</a></span></dt><dd><dl><dt><span class="sect2"><a href="#solaris">8.3.1. Solaris</a></span></dt><dt><span class="sect2"><a href="#hp-ux">8.3.2. HP-UX</a></span></dt><dt><span class="sect2"><a href="#aix">8.3.3. AIX</a></span></dt><dt><span class="sect2"><a href="#qnx">8.3.4. QNX</a></span></dt></dl></dd><dt><span class="sect1"><a href="#windows">8.4. Windows</a></span></dt><dd><dl><dt><span class="sect2"><a href="#cygwin">8.4.1. <span class="application">Cygwin</span></a></span></dt><dt><span class="sect2"><a href="#mingw">8.4.2. <span class="application">MinGW</span></a></span></dt></dl></dd><dt><span class="sect1"><a href="#macos">8.5. Mac OS</a></span></dt><dd><dl><dt><span class="sect2"><a href="#osx_gui">8.5.1. MPlayer OS X GUI</a></span></dt></dl></dd></dl></div><div class="sect1" title="8.1. Linux"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="linux"></a>8.1. Linux</h2></div></div></div><p>
La plateforme principale de développement est Linux sur x86, bien que
<span class="application">MPlayer</span> fonctionne sur de nombreux autres ports
Linux.
Des binaires de <span class="application">MPlayer</span> sont disponibles depuis
de nombreuses sources.  Par contre, <span class="bold"><strong>aucun de ces paquets n'est supporté</strong></span>.
Rapportez les problèmes à leurs auteurs, pas à nous.
</p><div class="sect2" title="8.1.1. Paquets Debian"><div class="titlepage"><div><div><h3 class="title"><a name="debian"></a>8.1.1. Paquets Debian</h3></div></div></div><p>
Pour construire le paquet Debian, lancez la commande suivante dans le
répertoire source de <span class="application">MPlayer</span> :

</p><pre class="screen">fakeroot debian/rules binary</pre><p>

Si vous voulez passer des options particulières à configure, vous pouvez
définir la variable d'environnement <code class="envar">DEB_BUILD_OPTIONS</code>.
Par exemple, si vous voulez le support de la GUI et de l'OSD, faites :

</p><pre class="screen">DEB_BUILD_OPTIONS="--enable-gui --enable-menu" fakeroot debian/rules binary</pre><p>

Vous pouvez aussi passer quelques variables au Makefile. Par exemple, si
vous voulez compiler avec gcc 3.4 même si ce n'est pas celui par défaut :

</p><pre class="screen">CC=gcc-3.4 DEB_BUILD_OPTIONS="--enable-gui" fakeroot debian/rules binary</pre><p>

Pour nettoyer l'arborescence des sources, exécutez la commande suivante :

</p><pre class="screen">fakeroot debian/rules clean</pre><p>

En tant que root installez le paquet <tt class="filename">.deb</tt> comme d'habitude :

</p><pre class="screen">dpkg -i ../mplayer_<em class="replaceable"><code>version</code></em>.deb</pre><p>
</p><p>
Christian Marillat a construit des paquets Debian non-officiels pour
<span class="application">MPlayer</span>, <span class="application">MEncoder</span>
et les polices depuis un certain temps, vous pouvez les obtenir (apt-get)
depuis sa <a class="ulink" href="http://www.debian-multimedia.org/" target="_top">page web</a>.
</p></div><div class="sect2" title="8.1.2. Paquets RPM"><div class="titlepage"><div><div><h3 class="title"><a name="rpm"></a>8.1.2. Paquets RPM</h3></div></div></div><p>
Dominik Mierzejewski maintient les paquets RPM officiels de
<span class="application">MPlayer</span> pour Fedora Core.
Ils sont disponibles sur le <a class="ulink" href="http://rpm.greysector.net/mplayer/" target="_top">dépôt Livna</a>.
</p><p>
Les paquets RPM pour Mandrake/Mandriva sont disponibles sur le
<a class="ulink" href="http://plf.zarb.org/" target="_top">P.L.F.</a>,
SuSE incluait une version limitée de <span class="application">MPlayer</span>
dans sa distribution.
Ils l'ont retiré dans leurs dernières versions.
Vous pouvez obtenir des RPMs fonctionnels sur
<a class="ulink" href="http://packman.links2linux.de/?action=128" target="_top">links2linux.de</a>.
</p></div><div class="sect2" title="8.1.3. ARM"><div class="titlepage"><div><div><h3 class="title"><a name="arm"></a>8.1.3. ARM</h3></div></div></div><p>
<span class="application">MPlayer</span> fonctionne sur les PDAs Linux avec un
CPU ARM c-a-d Sharp Zaurus, Compaq Ipaq. La manière
la plus facile d'obtenir <span class="application">MPlayer</span> est de récupérer
un des paquets
<a class="ulink" href="http://www.openzaurus.org" target="_top">OpenZaurus</a>.
Si vous voulez le compiler vous-même, vous devriez regarder les répertoires
<a class="ulink" href="http://openzaurus.bkbits.net:8080/buildroot/src/packages/mplayer?nav=index.html%7Csrc/.%7Csrc/packages" target="_top">mplayer</a>
et
<a class="ulink" href="http://openzaurus.bkbits.net:8080/buildroot/src/packages/libavcodec?nav=index.html%7Csrc/.%7Csrc/packages" target="_top">libavcodec</a>
du répertoire raçine de la distribution OpenZaurus.
Ils ont toujours les derniers Makefile et patchs utilisés pour contruire
la version SVN de <span class="application">MPlayer</span>.
Si vous avez besoin d'une GUI, vous pouvez utiliser xmms-embedded.
</p></div></div><div class="sect1" title="8.2. *BSD"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="bsd"></a>8.2. *BSD</h2></div></div></div><p>
<span class="application">MPlayer</span> fonctionne sur toutes les variations
de BSD connues.
Il y a des versions ports/pkgsrc/fink/etc de <span class="application">MPlayer</span>
disponibles qui sont probablement plus faciles à utiliser que nos
sources brutes.
</p><p>
Pour construire <span class="application">MPlayer</span> vous aurez besoin de GNU
make (gmake - le make natif de BSD ne fonctionnera pas) et une version
récente des binutils.
</p><p>
Si <span class="application">MPlayer</span> se plaint de ne pas trouver
<tt class="filename">/dev/cdrom</tt> ou <tt class="filename">/dev/dvd</tt>, créez
le lien symbolique approprié :
</p><pre class="screen">ln -s /dev/<em class="replaceable"><code>votre_périphérique_cdrom</code></em> /dev/cdrom</pre><p>
</p><p>
Pour utiliser les DLLs Win32 avec <span class="application">MPlayer</span>
vous devrez recompiler le noyau avec "<code class="envar">option USER_LDT</code>"
(à moins d'utiliser FreeBSD-CURRENT, où c'est le cas par défaut).
</p><div class="sect2" title="8.2.1. FreeBSD"><div class="titlepage"><div><div><h3 class="title"><a name="freebsd"></a>8.2.1. FreeBSD</h3></div></div></div><p>
Si votre CPU à SSE, recompilez votre noyau avec
"<code class="envar">options CPU_ENABLE_SSE</code>" (FreeBSD-STABLE ou patches noyau
requis).
</p></div><div class="sect2" title="8.2.2. OpenBSD"><div class="titlepage"><div><div><h3 class="title"><a name="openbsd"></a>8.2.2. OpenBSD</h3></div></div></div><p>
À cause des limitations dans les différentes versions de gas (relocation
contre MMX), vous aurez besoin de compiler en deux étapes :
D'abord assurez-vous que le non-natif est en premier dans votre
<code class="envar">$PATH</code> et faites un <span class="command"><strong>gmake -k</strong></span>, ensuite
assurez-vous que la version native est utilisée et faites
<span class="command"><strong>gmake</strong></span>.
</p><p>
Depuis OpenBSD 3.4 le hack ci-dessus n'est plus nécessaire.
</p></div><div class="sect2" title="8.2.3. Darwin"><div class="titlepage"><div><div><h3 class="title"><a name="darwin"></a>8.2.3. Darwin</h3></div></div></div><p>
Voir la section <a class="link" href="#macos" title="8.5. Mac OS">Mac OS</a>.
</p></div></div><div class="sect1" title="8.3. Unix Commercial"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="unix"></a>8.3. Unix Commercial</h2></div></div></div><p>
<span class="application">MPlayer</span> a été porté sur un grand nombre d'Unix
commerciaux.
Étant donné que les environements de dévelopement sur ces systèmes
ont tendances à être différent de ceux trouvé sur les Unix libres, vous devrez
peut-être faire quelques ajustements manuels pour que le build fonctionne.
</p><div class="sect2" title="8.3.1. Solaris"><div class="titlepage"><div><div><h3 class="title"><a name="solaris"></a>8.3.1. Solaris</h3></div></div></div><p>
<span class="application">MPlayer</span> devrait fonctionner sous Solaris 2.6
ou supérieur.
Utilisez le pilote audio de SUN avec l'option <tt class="option">-ao sun</tt>
pour le son.
</p><p>
Sur les <span class="bold"><strong>UltraSPARCs</strong></span>, <span class="application">MPlayer</span>
profite des avantages de leurs extensions
<span class="bold"><strong>VIS</strong></span> (équivalentes au MMX), actuellement
uniquement dans <code class="systemitem">libmpeg2</code>,
<code class="systemitem">libvo</code>
et <code class="systemitem">libavcodec</code>, mais pas
dans <code class="systemitem">mp3lib</code>. Vous pouvez regarder
un fichier VOB sur un CPU à 400MHz. Vous aurez besoin d'avoir
<a class="ulink" href="http://www.sun.com/sparc/vis/mediaLib.html" target="_top"><code class="systemitem">mLib</code></a>
installé.
</p><p><span class="bold"><strong>Attention :</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
   <span class="bold"><strong>mediaLib</strong></span> est
   <span class="bold"><strong>actuellement désactivé</strong></span> par défaut dans
   <span class="application">MPlayer</span> pour cause d'inconsistance. Les utilisateurs SPARC
 qui ont construit MPlayer avec le support mediaLib ont reporté une
 forte coloration verte sur les vidéo encodées et décodées avec
 libavcodec.
 Si vous le désirez, vous pouvez activer mediaLib avec :
 </p><pre class="screen">./configure --enable-mlib</pre><p>
 Ceci est à vos risques et périls. Les utilisateurs x86 ne doivent
 <span class="bold"><strong>jamais</strong></span> utiliser mediaLib, puisque cela
 déteriorerait les performances de MPlayer de manière importante.
 </p></li></ul></div><p>
Pour construire ce paquetage vous aurez besoin de GNU <span class="application">make</span>
(<tt class="filename">gmake</tt>, <tt class="filename">/opt/sfw/gmake</tt>), le
make natif de Solaris ne fonctionnera pas.
Message d'erreur typique si vous utilisez le make de Solaris au lieu de
celui de GNU :
</p><pre class="screen">
% /usr/ccs/bin/make
make: Fatal error in reader: Makefile, line 25: Unexpected end of line seen
</pre><p>
</p><p>
Sur Solaris SPARC, vous aurez besoin du compilateur C/C++ GNU; cela n'a
pas d'importance que le compilateur C/C++ GNU soit configuré avec ou sans
l'assembleur GNU.
</p><p>
Sur Solaris x86,vous aurez besoin de l'assembleur GNU et du compilateur
C/C++ GNU, configuré pour l'utilisation de l'assembleur GNU ! Le code
de <span class="application">MPlayer</span> sur la plateforme x86 fait un usage
intensif des instructions MMX, SSE et 3DNOW! qui ne peuvent pas être
assemblées en utilisant l'assembleur de Sun
<tt class="filename">/usr/ccs/bin/as</tt>.
</p><p>Le script <tt class="filename">configure</tt> essaie de trouver quel
assembleur est utilisé par votre commande "gcc" (au cas ou
l'autodétection échoue, utilisez l'option
<tt class="option">--as=<em class="replaceable"><code>/endroit/ou/vous/avez/installe/gnu-as</code></em></tt>
pour indiquer au script <tt class="filename">configure</tt> où il peut trouver
GNU "as" sur votre système).
</p><p>Solutions aux problèmes courants :</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
Message d'erreur de <tt class="filename">configure</tt> sur un système Solaris
x86 en utilisant GCC sans assembleur GNU :
</p><pre class="screen">
   % configure
   ...
   Checking assembler (/usr/ccs/bin/as) ... , failed
   Please upgrade(downgrade) binutils to 2.10.1...
</pre><p>
(Solution : Installez et utilisez un gcc configuré avec <tt class="option">--with-as=gas</tt>)
</p><p>
Erreur typique obtenue en construisant avec un compilateur C GNU qui n'utilise
pas GNU as :
</p><pre class="screen">
   % gmake
   ...
   gcc -c -Iloader -Ilibvo -O4 -march=i686 -mcpu=i686 -pipe -ffast-math
	-fomit-frame-pointer  -I/usr/local/include   -o mplayer.o mplayer.c
   Assembler: mplayer.c
   "(stdin)", line 3567 : Illegal mnemonic
   "(stdin)", line 3567 : Syntax error
   ... more "Illegal mnemonic" and "Syntax error" errors ...
</pre><p>
</p></li><li class="listitem"><p>
<span class="application">MPlayer</span> est susceptible de renvoyer une
erreur de segmentation (segfault) à l'encodage ou au décodage de vidéos utilisant
win32codecs :
</p><pre class="screen">
...
Trying to force audio codec driver family acm...
Opening audio decoder: [acm] Win32/ACM decoders
sysi86(SI86DSCR): Invalid argument
Couldn't install fs segment, expect segfault


MPlayer interrupted by signal 11 in module: init_audio_codec
...
</pre><p>
Ceci est du à une modification de sysi86() dans Solaris 10 et dans les versions
antérieures à Solaris Nevada b31. Ceci a été réparé par Sun pour
Solaris Nevada b32 mais pas encore pour Solaris 10. Le Projet MPlayer
a averti Sun de ce problème. Un patch pour Solaris 10 est actuellement en
développement. Plus d'information sont disponibles à l'adresse
suivante : <a class="ulink" href="http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6308413" target="_top">http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6308413</a>.
 </p></li><li class="listitem"><p>
A cause de bogues dans Solaris 8, il se peut que vous ne puissiez pas lire
de disques DVD plus gros que 4 Go :
</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>
Le pilote sd(7D) de Solaris 8 x86 a un bogue quand on accède à un bloc disque
&gt;4Go sur un périphérique en utilisant une taille de bloc logique
!= DEV_BSIZE (c-a-d. CD-ROM et DVD).
A cause d'un dépassement des entiers 32Bit, on accède à une adresse disque
modulo 4 Go.
(<a class="ulink" href="http://groups.yahoo.com/group/solarisonintel/message/22516" target="_top">http://groups.yahoo.com/group/solarisonintel/message/22516</a>).
Ce problème n'existe pas sur la version SPARC de Solaris 8.
</p></li><li class="listitem"><p>
Un bogue similaire est présent dans le code du système de fichier hsfs(7FS)
(alias ISO9660), il se peut
que hsfs ne supporte pas les partitions/disques plus gros(ses) que 4GB,
toutes les données sont accédées modulo 4Go.
(<a class="ulink" href="http://groups.yahoo.com/group/solarisonintel/message/22592" target="_top">http://groups.yahoo.com/group/solarisonintel/message/22592</a>).
Le problème hsfs peut être résolu en installant le patch 109764-04 (sparc)
/ 109765-04 (x86).
</p></li></ul></div></li></ul></div></div><div class="sect2" title="8.3.2. HP-UX"><div class="titlepage"><div><div><h3 class="title"><a name="hp-ux"></a>8.3.2. HP-UX</h3></div></div></div><p>
Joe Page héberge un
<a class="ulink" href="http://users.rcn.com/joepage/mplayer_on_hpux11.htm" target="_top">HOWTO</a>
<span class="application">MPlayer</span> sous HP-UX écrit par Martin Gansser sur
sa page web. Avec ses instructions la compilation devrait fonctionner sans
modifications. L'information qui suit a été récupéré depuis ce HOWTO.
</p><p>
Vous avez besoin de GCC 3.4.0 ou supérieur, GNU make 3.80 ou supérieur et
SDL 1.2.7 ou supérieur.
HP cc ne fournira pas un programme qui marche, les versions précedentes de
GCC sont boguées.
Pour la fonctionnalité OpenGL vous aurez besoin d'installer Mesa et les
pilotes de sortie vidéo gl et gl2 devraient marcher, la vitesse pouvant en
être très affecté, dépendamment de la vitesse du CPU.
Une bonne alternative au pauvre système son natif de HP-UX est GNU esound.
</p><p>
Créer le périphérique DVD
scanne le bus SCSI avec :
</p><pre class="screen">
# ioscan -fn

Class          I            H/W   Path          Driver    S/W State    H/W Type        Description
...
ext_bus 1    8/16/5      c720  CLAIMED INTERFACE  Built-in SCSI
target  3    8/16/5.2    tgt   CLAIMED DEVICE
disk    4    8/16/5.<span class="bold"><strong>2</strong></span>.<span class="bold"><strong>0</strong></span>  sdisk CLAIMED DEVICE
					<span class="bold"><strong>PIONEER DVD-ROM DVD-305</strong></span> /dev/dsk/c1t2d0
					<span class="bold"><strong>/dev/rdsk/c1t2d0</strong></span>
target  4    8/16/5.7    tgt   CLAIMED DEVICE
ctl     <span class="bold"><strong>1</strong></span>    8/16/5.7.0  sctl  CLAIMED DEVICE     Initiator
			/dev/rscsi/c1t7d0 /dev/rscsi/c1t7l0 /dev/scsi/c1t7l0
...
</pre><p>

La sortie d'écran montre un lecteur DVD-ROM Pioneer à l'adresse SCSI 2.
L'instance de la carte pour le chemin hardware 8/16 est 1.
</p><p>
Créer un lien depuis le prériphérique brut vers le périphérique DVD.
</p><pre class="screen">
ln -s /dev/rdsk/c<em class="replaceable"><code>&lt;SCSI bus instance&gt;</code></em>t<em class="replaceable"><code>&lt;SCSI target ID&gt;</code></em>d<em class="replaceable"><code>&lt;LUN&gt;</code></em> /dev/<em class="replaceable"><code>&lt;device&gt;</code></em>
</pre><p>
Exemple :
</p><pre class="screen">ln -s /dev/rdsk/c1t2d0 /dev/dvd</pre><p>
</p><p>
Ci-dessous sont exposées les solutions pour certains problèmes communs :
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
Plante au démarrage avec le message d'erreur suivant :
</p><pre class="screen">
/usr/lib/dld.sl: Unresolved symbol: finite (code) from /usr/local/lib/gcc-lib/hppa2.0n-hp-hpux11.00/3.2/../../../libGL.sl
</pre><p>
</p><p>
Cela signifie que la fonction <code class="systemitem">.finite().</code> n'est pas
disponible dans la librairie standard math de HP-UX.
A la place, il y a <code class="systemitem">.isfinite().</code>.
Solution : Utiliser le dernier fichier dépôt Mesa.
</p></li><li class="listitem"><p>
Plante à la lecture avec le message d'erreur suivant :
</p><pre class="screen">
/usr/lib/dld.sl: Unresolved symbol: sem_init (code) from /usr/local/lib/libSDL-1.2.sl.0
</pre><p>
</p><p>
Solution : Utiliser l'option extralibdir lors de configure
<tt class="option">--with-extralibdir="/usr/lib -lrt"</tt>
</p></li><li class="listitem"><p>
MPlayer segfaults avec un message comme celui-ci :
</p><pre class="screen">
Pid 10166 received a SIGSEGV for stack growth failure.
Possible causes : insufficient memory or swap space, or stack size exceeded maxssiz.
Segmentation fault
</pre><p>
</p><p>
Solution :
Le noyau HP-UX a une taille de pile par défaut de 8MO(?) par processus.
(des patches 11.0 et de plus récent 10.20 vous permettront d'augmenter
<code class="systemitem">maxssiz</code> jusqu'à 350MB pour les programmes
32-bit).
Vous aurez besoin d'étendre <code class="systemitem">maxssiz</code>
et de recompiler le noyau (et redémarrer).
Vous pouvez utiliser SAM pour ce faire.
(Pendant ce temps, aller voir le paramètre <code class="systemitem">maxdsiz</code>
pour le montant maximum de données qu'un programme peut utiliser.
Cela dépend de vos applications, si la valeur par défaut de 64MO est
suffisante ou non.)
</p></li></ul></div></div><div class="sect2" title="8.3.3. AIX"><div class="titlepage"><div><div><h3 class="title"><a name="aix"></a>8.3.3. AIX</h3></div></div></div><p>
<span class="application">MPlayer</span> se compile parfaitement sous AIX 5.1,
5.2 et 5.3, en utilisant GCC 3.3 ou plus.
La compilation de <span class="application">MPlayer</span> sous AIX 4.3.3
et inférieur n'a pas été testé.
Il est hautement recommandé que vous compiliez
<span class="application">MPlayer</span> en utilisant GCC 3.4 ou plus, ou si
vous êtes sous POWERS, GCC 4.0 est requis.
</p><p>
Assurez vous d'utiliser GNU make (<tt class="filename">/opt/freeware/bin/gmake</tt>)
pour construire <span class="application">MPlayer</span>, autrement vous rencontreriez
des problèmes si vous utilisez <tt class="filename">/usr/ccs/bin/make</tt>.
</p><p>
La détection CPU est toujours un travail en cours.
Les architectures suivantes ont été testé :
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>604e</p></li><li class="listitem"><p>POWER3</p></li><li class="listitem"><p>POWER4</p></li></ul></div><p>
Les architectures suivantes n'ont pas été testé, mais devraient quand
même marcher :
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>POWER</p></li><li class="listitem"><p>POWER2</p></li><li class="listitem"><p>POWER5</p></li></ul></div><p>
</p><p>
Le son à travers les Services Ultimedia n'est pas supporté, comme Ultimedia a
été abondonné dans AIX 5.1; , la seule option est d'utiliser les pilotes AIX OSS
de 4Front Technologies depuis
<a class="ulink" href="http://www.opensound.com/aix.html" target="_top">http://www/opensound.com/aix/html</a>.
4Front Technologies fourni librement les pilotes OSS pour AIX 5.1 pour
un usage personnel et non-commercial. Cependant, il n'y a actuellement
pas de pilote de son pour AIX 5.2 ou 5.3. Cela signifie qu'à l'heure actuelle <span class="bold"><strong>MPlayer ne produit pas de son sous AIX 5.2 et 5.3.</strong></span>
</p><p>Solutions aux problèmes courants :</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
Si vous rencontrez ce message d'erreur de <tt class="filename">configure</tt> :
</p><pre class="screen">
$ ./configure
...
Checking for iconv program ... no
No working iconv program found, use
--charset=US-ASCII to continue anyway.
Messages in the GTK-2 interface will be broken then.
</pre><p>
Ceci est du au fait que AIX utilise un jeu de caractÃ¨re (charset) non
standards. En conséquence, la conversion d'une sortie MPlayer en un
autre character set et n'est pas suporté pour l'instant. La solution
est d'utiliser :
</p><pre class="screen">
$ ./configure --charset=noconv
</pre><p>
</p></li></ul></div></div><div class="sect2" title="8.3.4. QNX"><div class="titlepage"><div><div><h3 class="title"><a name="qnx"></a>8.3.4. QNX</h3></div></div></div><p>
Vous aurez besoin de télécharger et installer SDL pour QNX. Puis de lancer
<span class="application">MPlayer</span> avec les options <tt class="option">-vo sdl:driver=photon</tt> et
<tt class="option">-ao sdl:nto</tt>, cela devrait être rapide.
</p><p>
La sortie de <tt class="option">-vo x11</tt> sera encore plus lente que sous Linux,
étant donné que QNX n'a qu'une <span class="emphasis"><em>émulation</em></span> X, qui est
très lente.
</p></div></div><div class="sect1" title="8.4. Windows"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="windows"></a>8.4. Windows</h2></div></div></div><p>Oui, MPlayer tourne sous Windows via
  <a class="ulink" href="http://www.cygwin.com/" target="_top">Cygwin</a> et
  <a class="ulink" href="http://www.mingw.org/" target="_top">MinGW</a>.
  Il n'a pas encore de GUI, mais la version en ligne de commande est
  complètement opérationnelle. Vous devriez jeter un oeil à la liste de diffusion
  <a class="ulink" href="http://lists.mplayerhq.hu/mailman/listinfo/mplayer-cygwin/" target="_top">Mplayer-cygwin</a>
  pour obtenir de l'aide et les dernières informations.
  Les binaires officiels de Windows peuvent être récupérés sur la
  <a class="ulink" href="http://www.mplayerhq.hu/design7/dload.html" target="_top">page de téléchargement</a>.
  Les paquetages d'installation et de simple frontends GUI sont disponibles à partir de sources
  externe, nous avons collecté ensuite dans la section Windows de notre
  <a class="ulink" href="http://www.mplayerhq.hu/design7/projects.html#windows" target="_top">page de projets</a>.
</p><p>
Si vous souhaitez éviter d'utiliser la commande en ligne, une astuce
toute simple est de mettre un raccourci sur votre bureau qui contient
quelque chose comme ce qui suit dans la section d'execution :
</p><pre class="screen"><em class="replaceable"><code>c:\chemin\vers\</code></em>mplayer.exe %1</pre><p>
Cela va faire lire à <span class="application">MPlayer</span> n'importe quel
film qui est laché sur le raccourci.
Ajoutez <tt class="option">-fs</tt> pour le mode plein écran.
</p><p>
  Les meilleurs résultats sont obtenus avec le codec vidéo DirectX natif
  (<tt class="option">-vo directx</tt>). Vous pouvez aussi utiliser OpenGL et SDL,
  mais les performances d'OpenGL sont très variables suivant les systèmes
  et SDL est connu pour distordre l'image ou planter sur certains systèmes.
  Si l'image est distordue, essayez de désactiver l'accélération matérielle avec
  <tt class="option">-vo directx:noaccel</tt>. Téléchargez les
  <a class="ulink" href="http://www.mplayerhq.hu/MPlayer/releases/win32/contrib/dx7headers.tgz" target="_top">fichiers d'entête DirectX 7</a>
  pour compiler le pilote de sortie vidéo DirectX. De plus vous devez
  avoir DirectX 7 ou supérieur pour que ce pilote fonctionne.</p><p>
<a class="link" href="#vidix" title="7.15. VIDIX">VIDIX</a> fonctionne maintenant sous Windows avec
<tt class="option">-vo winvidix</tt>, bien que ce soit toujours expérimental
et que cela requiert une configuration manuelle. Téléchargez
  <a class="ulink" href="http://www.mplayerhq.hu/MPlayer/releases/win32/dhahelperwin/dhahelper.sys" target="_top">dhahelper.sys</a> ou
  <a class="ulink" href="http://www.mplayerhq.hu/MPlayer/releases/win32/dhahelperwin/withmtrr/dhahelper.sys" target="_top">dhahelper.sys (avec support des MTRR)</a>
  et copiez le dans le répertoire
  <tt class="filename">libdha/dhahelperwin</tt> de votre arborescence
  <span class="application">MPlayer</span>.
  Ouvrez une console et tapez
  </p><pre class="screen">make install-dhahelperwin</pre><p>
  en tant qu'Administrateur. Ensuite vous devez rebooter.
</p><p>Pour de meilleurs résultats <span class="application">MPlayer</span> devrait
utiliser une palette que votre carte graphique supporte de façon matérielle.
Malheureusement, de nombreux pilotes graphiques Windows renvoient certaines palettes alors que la carte ne le supporte pas. Pour le vérifier, essayez
</p><pre class="screen">
mplayer -benchmark -nosound -frames 100 -vf format=<em class="replaceable"><code>palette</code></em> <em class="replaceable"><code>film</code></em>
</pre><p>

  où <em class="replaceable"><code>palette</code></em> peut être n'importe quelle palette
  affichée par l'option <tt class="option">-vf format=fmt=help</tt>. Si vous
  trouvez une palette que votre carte gère particulièrement mal,
  <tt class="option">-vf noformat=<em class="replaceable"><code>palette</code></em></tt>
  l'empèchera d'être utilisée. Ajouter cela à votre fichier de conf pour
  ne plus l'utiliser de façon permanente.
</p><p>
Il y a des paquetages de codec spécial pour Windows disponible sur notre
<a class="ulink" href="http://www.mplayerhq.hu/design7/codecs.html" target="_top">page de codecs</a>
pour permettre de jouer les formats qui ne sont pas encore nativement
supportés.
Placez les codecs quelque part dans votre path ou passez
<tt class="option">--codecsdir=<em class="replaceable"><code>c:/chemin/de/vos/codecs</code></em></tt>
(éventuellement
<tt class="option">--codecsdir=<em class="replaceable"><code>/chemin/de/vos/codecs</code></em></tt>
uniquement sous <span class="application">Cygwin</span>) à <tt class="filename">configure</tt>.
Nous avons eu quelques retours indiquant que les DLLs Real doivent être
accessibles en écriture pour l'utilisateur ayant lancé
<span class="application">MPlayer</span>, mais seulement sur certains systèmes
(NT4).
Essayez de les rendre accessibles en écriture si vous avez des problèmes.
</p><p>
  Vous pouvez lire des VCDs en jouant les fichiers
  <tt class="filename">.DAT</tt> ou <tt class="filename">.MPG</tt> que Windows affiche
  sur les VCDs. Cela fonctionne tout simplement comme cela (changez la lettre
  de votre lecteur de CD-ROM) :
</p><pre class="screen">mplayer <em class="replaceable"><code>d:/mpegav/avseq01.dat</code></em></pre><p>
Vous pouvez aussi lire une piste VCD directement en utilisant :
</p><pre class="screen"> mplayer vcd://<em class="replaceable"><code>&lt;track&gt;</code></em> -cdrom-device <em class="replaceable"><code>d:</code></em></pre><p>
Les DVDs fonctionnent également, ajustez <tt class="option">-dvd-device</tt> à la lettre de votre lecteur DVD-ROM :
</p><pre class="screen">mplayer dvd://<em class="replaceable"><code>&lt;titre&gt;</code></em> -dvd-device <em class="replaceable"><code>d</code></em>:</pre><p>
La console <span class="application">Cygwin</span>/<span class="application">MinGW</span>
est plutôt lente. Il semble que rediriger la sortie ou utiliser l'option
<tt class="option">-quiet</tt> améliore les performances. Le rendu direct
(<tt class="option">-dr</tt>) peut également aider.  Si la lecture est erratique,
essayez <tt class="option">-autosync 100</tt>. Si certaines de ces options vous sont
utiles, vous pouvez les placer dans votre fichier de config.
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Si vous avez un Pentium 4 et que vous expériencez un plantage lors de l'utilisation
des codecs RealPlayer vous pourriez vouloir désactiver le support hyperthreading.
</p></div><div class="sect2" title="8.4.1. Cygwin"><div class="titlepage"><div><div><h3 class="title"><a name="cygwin"></a>8.4.1. <span class="application">Cygwin</span></h3></div></div></div><p>
Vous devez utiliser <span class="application">Cygwin</span> 1.5.0 ou supérieur
pour pouvoir compiler <span class="application">MPlayer</span>.</p><p>
Les fichiers d'entête DirectX doivent être décompressés dans
<tt class="filename">/usr/include/</tt> ou dans
<tt class="filename">/usr/local/include/</tt>.
</p><p>
Les instructions et les fichiers pour faire tourner SDL sous Cygwin
peuvent être trouvés sur le
<a class="ulink" href="http://www.libsdl.org/extras/win32/cygwin/" target="_top">site de libsdl</a>.
</p></div><div class="sect2" title="8.4.2. MinGW"><div class="titlepage"><div><div><h3 class="title"><a name="mingw"></a>8.4.2. <span class="application">MinGW</span></h3></div></div></div><p>Installer une version de <span class="application">MinGW</span> qui puisse
  compiler <span class="application">MPlayer</span> était considéré comme compliqué,
  mais fonctionne désormais sans modifications. Installez simplement
  <span class="application">MinGW</span> 3.1.0 ou plus récent et MSYS 1.0.9 ou plus
  récent et dites au postinstall de MSYS que <span class="application">MinGW</span>
  est installé.</p><p>Décompressez les fichiers d'entête de DirectX dans <tt class="filename">/mingw/include/</tt>.</p><p>Le support des entêtes compressées MOV requiert
  <a class="ulink" href="http://www.gzip.org/zlib/" target="_top">zlib</a>, que
  <span class="application">MinGW</span> ne fournit pas par défaut.
  Configurez-le avec <tt class="option">--prefix=/mingw</tt> et installez-le
  avant de compiler <span class="application">MPlayer</span>.</p><p>De complètes instructions pour compiler <span class="application">MPlayer</span>
et les librairies nécessaires sont disponibles sur
<a class="ulink" href="http://www.mplayerhq.hu/MPlayer/releases/win32/contrib/MPlayer-MinGW-Howto.txt" target="_top">MPlayer
MinGW HOWTO</a>.</p></div></div><div class="sect1" title="8.5. Mac OS"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="macos"></a>8.5. Mac OS</h2></div></div></div><p>
<span class="application">MPlayer</span> ne fonctionne pas sur des versions ultérieures
à Mac OS 10, mais devrait compiler sans changement sur Mac OS X 10.2 et supérieur.
Le compilateur préféré étant la version Apple de GCC 3.x ou supérieure.
Vous pouvez obtenir l'environement de compilation de base en
installant <a class="ulink" href="http://developer.apple.com/tools/download/" target="_top">Xcode</a> de Apple.
Si vous avez Mac OS X 10.3.9 ou supérieur et QuickTime 7
vous pouvez utiliser le pilote corevideo de sortie vidéo.
</p><p>
Malheureusement, cet environement de base ne vous autorise pas à
profiter de toute les fonctionalités de
<span class="application">MPlayer</span>.
Par exemple, pour compiler le support OSD, vous devez avoir les
librairies fontconfig
et freetype installées sur votre machine.
Contrairement à d'autres Unix comme la plupart des Linux et des BSDs,
OSX n'a pas un seul système de package installé par défault.
</p><p>
Il y en a au moins deux au choix :
<a class="ulink" href="http://fink.sourceforge.net/" target="_top">Fink</a> et
<a class="ulink" href="http://www.macports.org/" target="_top">MacPorts</a>.
Les deux fournissent approximativement les même services
(i.e. beaucoup de packages au choix, la résolution des dépendances, la
possibilité d'ajouter/mêtre à jour/supprimer simplement des packages,
etc...).
Fink offre à la fois des packages binaires précompilés ou la
possibilité de compiler tout à partir des sources, alors que
MacPorts offre seulement la possibilité de compilé les sources.
L'auteur de ce guide a choisi MacPorts pour la simple raison que
son installation minimale occupe moins d'espace disque.
Les exemples à suivre sont basés sur MacPorts.
</p><p>
Par exemple, pour compiler <span class="application">MPlayer</span> avec le
support OSD :
</p><pre class="screen">sudo port install pkgconfig</pre><p>
Ceci va installer <span class="application">pkg-config</span>, le système de
gestion des flags de compilation/linking des librairies.
Le script <code class="systemitem">configure</code> de
<span class="application">MPlayer</span> l'utilise pour détecter les
librairies proprement.
Vous pouvez ensuite installer <span class="application">fontconfig</span> de
la même manière :
</p><pre class="screen">sudo port install fontconfig</pre><p>
Vous pouvez ensuite lancer le script
<code class="systemitem">configure</code> de
<span class="application">MPlayer</span> (notez les variables d'environement
<code class="systemitem">PKG_CONFIG_PATH</code> et
<code class="systemitem">PATH</code> pour que
<code class="systemitem">configure</code> trouve les librairies installées
avec MacPorts) :
</p><pre class="screen">PKG_CONFIG_PATH=/opt/local/lib/pkgconfig/ PATH=$PATH:/opt/local/bin/ ./configure</pre><p>
</p><div class="sect2" title="8.5.1. MPlayer OS X GUI"><div class="titlepage"><div><div><h3 class="title"><a name="osx_gui"></a>8.5.1. MPlayer OS X GUI</h3></div></div></div><p>
Vous pouvez obtenir un GUI natif et un binaire pré-compilé de
<span class="application">MPlayer</span> pour Mac OS X depuis le projet
<a class="ulink" href="http://mplayerosx.sf.net/" target="_top">MPlayerOSX</a>, mais soyez averti :
ce projet n'est plus du tout actif.
</p><p>
Heureusement, <span class="application">MPlayerOSX</span> a été repris en main
par un membre de l'équipe de <span class="application">MPlayer</span>.
Des versions preview sont disponibles sur notre
<a class="ulink" href="http://mplayerhq.hu/dload.html" target="_top">page de téléchargement</a>
et une version officielle ne devrait pas tarder.
</p><p>
Afin de compiler <span class="application">MPlayerOSX</span> depuis le source
vous-même, vous avez besoin du module <code class="systemitem">mplayerosx</code>,
du module <code class="systemitem">main</code> et d'une copie du module SVN
<code class="systemitem">main</code> renommé en <code class="systemitem">main_noaltivec</code>.
<code class="systemitem">mplayerosx</code> est le frontend GUI,
<code class="systemitem">main</code> est un MPlayer et
<code class="systemitem">main_noaltivec</code> est le MPlayer compilé sans le support
AltiVec.
</p><p>
Pour récupérer les modules SVN utilisez :
</p><pre class="screen">
svn checkout svn://svn.mplayerhq.hu/mplayerosx/trunk/ mplayerosx
svn checkout svn://svn.mplayerhq.hu/mplayer/trunk/ main
</pre><p>
</p><p>
Pour compiler <span class="application">MPlayerOSX</span> vous aurez besoin de
mettre en place quelque chose comme ceci :

</p><pre class="screen">
MPlayer_repertoire_source
   |
   |---&gt;main           (source SVN de MPlayer)
   |
   |---&gt;main_noaltivec (source SVN de MPlayer configuré avec --disable-altivec)
   |
   \---&gt;mplayerosx     (source SVN MPlayerOSX)
</pre><p>
Premièrement vous avez besoin de compiler main et main_noaltivec.
</p><p>
  Pour assurer une rétro compatibilité maximum, commencez par créer la variable d'environnement suivante :
</p><pre class="screen">export MACOSX_DEPLOYMENT_TARGET=10.3</pre><p>
</p><p>
Et, configurez :
</p><p>
Si vous configurez pour un CPU G4 (ou plus récent) avec le support AltiVec,
faites comme suit :
</p><pre class="screen">
./configure --disable-gl --disable-x11
</pre><p>
Si vous configurez pour un G3 sans le support AltiVec, faites comme suit :
</p><pre class="screen">
./configure --disable-gl --disable-x11 --disable-altivec
</pre><p>
Vous pourriez avoir besoin d'éditer <tt class="filename">config.mak</tt> et
changer le
<code class="systemitem">-mcpu</code> et <code class="systemitem">-mtune</code> de
<code class="systemitem">74XX</code> à <code class="systemitem">G3</code>.
</p><p>
Continuez avec
</p><pre class="screen">make</pre><p>
ensuite placez vous dans le répertoire mplayerosx et tapez
</p><pre class="screen">make dist</pre><p>
Cela créera une archive compressée <code class="systemitem">.dmg</code> avec le binaire
prêt à l'emploi.
</p><p>
Vous pouvez aussi utiliser le projet <span class="application">Xcode</span> 2.1;
le vieux projet pour <span class="application">Xcode</span> 1.x n'étant plus
du tout en fonction.
</p></div></div></div><div class="chapter" title="Chapitre 9. Utilisation basique de MEncoder"><div class="titlepage"><div><div><h2 class="title"><a name="mencoder"></a>Chapitre 9. Utilisation basique de <span class="application">MEncoder</span></h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="#menc-feat-selecting-codec">9.1. Sélection des codecs et du format du container</a></span></dt><dt><span class="sect1"><a href="#menc-feat-selecting-input">9.2. Sélection d'un fichier d'entrée ou un périphérique</a></span></dt><dt><span class="sect1"><a href="#menc-feat-mpeg4">9.3. Encodage MPEG-4 deux passes ("DivX")</a></span></dt><dt><span class="sect1"><a href="#menc-feat-handheld-psp">9.4. Encodage au format vidéo Sony PSP</a></span></dt><dt><span class="sect1"><a href="#menc-feat-mpeg">9.5. Encodage au format MPEG</a></span></dt><dt><span class="sect1"><a href="#menc-feat-rescale">9.6. Redimensionnement des films</a></span></dt><dt><span class="sect1"><a href="#menc-feat-streamcopy">9.7. Copie de flux</a></span></dt><dt><span class="sect1"><a href="#menc-feat-enc-images">9.8. Encodage à partir de nombreux fichiers Image (JPEG,
PNG, TGA,
SGI)</a></span></dt><dt><span class="sect1"><a href="#menc-feat-extractsub">9.9. Extraction des sous-titres DVD depuis fichier
Vobsub</a></span></dt><dt><span class="sect1"><a href="#aspect">9.10. Préserver le ratio d'aspect</a></span></dt></dl></div><p>
Pour avoir la liste complète des options disponibles de
<span class="application">MEncoder</span>
et des exemples, voir la page du man. Pour une série d'exemples
pratiques et de guides détaillés sur l'utilisation des nombreux
paramètres d'encodage, lisez les
<a class="ulink" href="../../tech/encoding-tips.txt" target="_top">encoding-tips</a> (en
anglais) qui ont été collectés d'après de nombreux sujets de la
liste de diffusion mplayer-users.
Cherchez dans les
<a class="ulink" href="http://lists.mplayerhq.hu/pipermail/mplayer-users/" target="_top">archives</a>
pour trouver les discussions à propos de tous les aspects et
problèmes relatifs à l'encodage avec <span class="application">MEncoder</span>.
</p><div class="sect1" title="9.1. Sélection des codecs et du format du container"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-selecting-codec"></a>9.1. Sélection des codecs et du format du container</h2></div></div></div><p>
Les codecs sonores et vidéos sont sélectionnés respectivement
avec l'option
<tt class="option">-oac</tt> et l'option <tt class="option">-ovc</tt>.
Par exemple :
</p><pre class="screen">mencoder -ovc help</pre><p>
permettra de lister tous les codecs vidéo supportés par la version
de <span class="application">MEncoder</span> sur votre machine.
Les choix disponibles sont :
</p><p>
Codecs Audio:

</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Noms des codecs
Audio</th><th>Description</th></tr></thead><tbody><tr><td>mp3lame</td><td>Encode en VBR, ABR ou CBR MP3 avec LAME</td></tr><tr><td>lavc</td><td>Utilise un des <a class="link" href="#menc-feat-enc-libavcodec-audio-codecs" title="10.3.2. Codecs audio de libavcodec">codecs audio
<code class="systemitem">libavcodec</code></a>.
</td></tr><tr><td>faac</td><td>L'encodeur audio AAC FAAC</td></tr><tr><td>toolame</td><td>Encodeur Audio MPEG Layer 2 </td></tr><tr><td>twolame</td><td>L'encodeur Audio MPEG Layer 2 basé sur tooLAME</td></tr><tr><td>pcm</td><td>Format PCM audio non compressé</td></tr><tr><td>copy</td><td>Ne réencode pas, copie simplement les trames (déjà) compressées</td></tr></tbody></table></div><p>
</p><p>
Codecs Vidéo :
</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Noms des codecs
Vidéo</th><th>Description</th></tr></thead><tbody><tr><td>lavc</td><td>Utilise un des <a class="link" href="#menc-feat-enc-libavcodec-video-codecs" title="10.3.1. Codecs vidéo de libavcodec">codecs vidéo
<code class="systemitem">libavcodec</code></a>.
</td></tr><tr><td>xvid</td><td>Le Xvid, un codec ASP MPEG-4 (Advanced Simple
Profile)</td></tr><tr><td>x264</td><td>Le x264, un codec MPEG-4 AVC (Advanced Video Coding), aussi connu sous le nom de  H.264</td></tr><tr><td>nuv</td><td>Le format vidéo nuppel, utilisé pour certaines applications
temps réel.</td></tr><tr><td>raw</td><td>Frames vidéos non compressées</td></tr><tr><td>copy</td><td>Ne réencode pas, copie simplement les trames (déjà) compressées</td></tr><tr><td>frameno</td><td>Utilisé pour l'encodage en 3 passes, (non recommandé)</td></tr></tbody></table></div><p>
</p><p>
Les options de sorties pour le type de container sont
sélectionnées
grâce à l'option <tt class="option">-of</tt>.
Tapez:
</p><pre class="screen">mencoder -of help</pre><p>
permettra de lister tous les codecs vidéo supportés par la version
de <span class="application">MEncoder</span> sur votre machine.
Les choix disponibles sont :
</p><p>
Container formats:
</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Nom du format du
Container</th><th>Description</th></tr></thead><tbody><tr><td>lavf</td><td>Un des containers supporté par
<code class="systemitem">libavformat</code>.</td></tr><tr><td>avi</td><td>Audio-Vidéo Interleaved</td></tr><tr><td>mpeg</td><td>MPEG-1 and MPEG-2 PS</td></tr><tr><td>rawvideo</td><td>Flux vidéo brut (un seul flux vidéo, pas de
multiplexage)</td></tr><tr><td>rawaudio</td><td>Flux audio brut (un seul flux audio, pas de
multiplexage)</td></tr></tbody></table></div><p>
Le container AVI est le container natif de
<span class="application">MEncoder</span>,
ce qui veut dire que c'est le mieux supporté et que
<span class="application">MEncoder</span>
a été conçu pour cela.
Comme mentionné ci-dessus, d'autres formats de containers sont utilisables, mais
vous risquez d'avoir certains problèmes à les utiliser.
</p><p>
Containers <code class="systemitem">libavformat</code> :
</p><p>
Si vous avez sélectionné <code class="systemitem">libavformat</code>
pour le multiplexage du fichier de sortie (en utilisant l'option
<tt class="option">-of lavf</tt>),
le choix du format du container sera déterminé en fonction de
l'extention du fichier de sortie.
Mais vous pouvez toujours forcer le format du container avec les
options du <tt class="option">format</tt> de <code class="systemitem">libavformat</code>.

</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Container <code class="systemitem">libavformat</code>
name</th><th>Description</th></tr></thead><tbody><tr><td>mpg</td><td>MPEG-1 and MPEG-2 PS</td></tr><tr><td>asf</td><td>Advanced Streaming Format : Format évolué pour le
streaming</td></tr><tr><td>avi</td><td>Audio-Video Interleaved</td></tr><tr><td>wav</td><td>Pour l'Audio</td></tr><tr><td>swf</td><td>Macromedia Flash</td></tr><tr><td>flv</td><td>vidéo Macromedia Flash</td></tr><tr><td>rm</td><td>RealMedia</td></tr><tr><td>au</td><td>SUN AU</td></tr><tr><td>nut</td><td>le container libre NUT (expérimental et ne respectant
pas encore les spécifications)</td></tr><tr><td>mov</td><td>QuickTime</td></tr><tr><td>mp4</td><td>Format MPEG-4</td></tr><tr><td>dv</td><td>Container numérique des vidéos Sony (Digital Video)</td></tr></tbody></table></div><p>
Comme vous pouvez le voir, le <code class="systemitem">libavformat</code>
permet à <span class="application">MEncoder</span> de multiplexer un
grand
nombre de
containers différents.
Malheureusement, comme <span class="application">MEncoder</span> n'a pas
été originalement crée pour le support de format de containers
autre que l'AVI, vous devez vérifier à deux fois que le résultat
est correct. Pensez ben à vérifier la synchronisation de
l'audio avec la vidéo et que le fichier est lisible par un autre
lecteur que <span class="application">MPlayer</span>.
</p><div class="example"><a name="encode_to_macromedia_flash_format"></a><p class="title"><b>Exemple 9.1. Encoder au format Macromedia Flash</b></p><div class="example-contents"><p>Exemple :</p><p>
Création d'une vidéo Macromedia Flash afin de la lire dans un
navigateur internet ayant le plugin Macromedia Flash :
</p><pre class="screen">
mencoder <em class="replaceable"><code>input.avi</code></em> -o
<em class="replaceable"><code>output.flv</code></em> -of lavf -oac mp3lame
-lameopts abr:br=56 -ovc lavc \
-lavcopts vcodec=flv:vbitrate=500:mbd=2:mv0:trell:v4mv:cbp:last_pred=3 \
-srate 22050
</pre><p>
</p></div></div><br class="example-break"></div><div class="sect1" title="9.2. Sélection d'un fichier d'entrée ou un périphérique"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-selecting-input"></a>9.2. Sélection d'un fichier d'entrée ou un périphérique</h2></div></div></div><p>
<span class="application">MEncoder</span> peut encoder depuis un fichier
ou directement depuis un DVD ou VCD.
Il suffit simplement d'inclure le nom du fichier dans la ligne de
commande pour encoder depuis un fichier ou avec l'option
<tt class="option">dvd://</tt><em class="replaceable"><code>numerochapitre</code></em>
ou
<tt class="option">vcd://</tt><em class="replaceable"><code>numéropiste</code></em> pour
encoder depuis un chapitre DVD ou une piste VCD.

Si vous avez déjà copié le DVD sur votre disque dur (en
utilisant par exemple un logiciel comme
<span class="application">dvdbackup</span>,
généralement disponible sur la plupart des systèmes), et que vous souhaitez
encoder depuis cette copie, vous devrez quand même utiliser la
syntaxe <tt class="option">dvd://</tt>, avec l'option
<tt class="option">-dvd-device</tt> pointant vers la racine du répertoire
où se trouve le DVD copié
Les options <tt class="option">-dvd-device</tt> et
<tt class="option">-cdrom-device</tt>
peuvent être aussi utilisées pour forcer le chemin vers le
périphérique utilisé (ceux utilisés par défaut sont
<tt class="filename">/dev/dvd</tt> et
<tt class="filename">/dev/cdrom</tt>).
</p><p>
Pour un encodage depuis un DVD, il est souvent préférable de
selectionner un ou plusieurs chapitres à encoder.
Vous pouvez utiliser l'option <tt class="option">-chapter</tt> prévu
à cet effet.
Par exemple, <tt class="option">-chapter</tt>
<em class="replaceable"><code>1-4</code></em>
encodera seulement les chapitres 1 à 4 du DVD.
Ceci est particulièrement utile si vous voulez faire un encodage
sur 2 Cds soit 1400Mo.
Ceci permettant de couper votre film sur un chapitre et non au
milieu d'une scène.
</p><p>
Si vous disposez d'une carte d'acquisition TV,
vous pouvez sans soucis encoder le signal d'entrée.
Utilisez l'option
<tt class="option">tv://</tt><em class="replaceable"><code>NuméroChaine</code></em>
comme nom de fichier et l'option <tt class="option">-tv</tt> afin de
configurer les nombreux paramètres de captures.
Les entrées DVB marchent sur le même principe.
</p></div><div class="sect1" title='9.3. Encodage MPEG-4 deux passes ("DivX")'><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-mpeg4"></a>9.3. Encodage MPEG-4 deux passes ("DivX")</h2></div></div></div><p>
Le nom vient du fait que cette méthode encode le fichier
<span class="emphasis"><em>deux fois</em></span>.
Le premier encodage (du mode deux passes) crée quelques
fichiers temporaires (<tt class="filename">*.log</tt>) avec
une taille de quelques méga-octets, ne les détruisez pas
tout de suite (vous pouvez effacer l'AVI ou rediriger le
flux vidéo vers <tt class="filename">/dev/null</tt>).
Lors de la seconde passe, le fichier de sortie est créé, en
utilisant les données bitrate des fichiers temporaires.
Le fichier résultant aura une image de bien meilleure
qualité. Si c'est la première fois que vous entendez
parler de ça, vous devriez consulter les guides disponibles
sur Internet.
</p><div class="example"><a name="copy_audio_track"></a><p class="title"><b>Exemple 9.2. Copie de la piste audio</b></p><div class="example-contents"><p>
Encodage deux passes du second chapitre d'un DVD vers de l'AVI
MPEG-4 ("DivX") avec la simple copie de la piste audio.
</p><pre class="screen">
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:vpass=1 -oac copy -o
<em class="replaceable"><code>sortie.avi</code></em>
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell:vpass=2 \
	-oac copy -o <em class="replaceable"><code>sortie.avi</code></em>
</pre><p>
</p></div></div><br class="example-break"><div class="example"><a name="encode_audio_track"></a><p class="title"><b>Exemple 9.3. Encodage de la piste audio</b></p><div class="example-contents"><p>
Encodage deux passes d'un DVD en AVI MPEG-4 ("DivX") avec la
conversion
de la piste audio en MP3.
Soyez prudent en utilisant cette méthode car elle peut mener, dans certains cas,
à des désynchronisation audio/vidéo.
</p><pre class="screen">
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:vpass=1 \
	-oac mp3lame -lameopts vbr=3 -o /dev/null
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell:vpass=2 \
	-oac mp3lame -lameopts vbr=3 -o <em class="replaceable"><code>sortie.avi</code></em>
</pre><p>
</p></div></div><br class="example-break"></div><div class="sect1" title="9.4. Encodage au format vidéo Sony PSP"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-handheld-psp"></a>9.4. Encodage au format vidéo Sony PSP</h2></div></div></div><p>
   <span class="application">MEncoder</span> supporte l'encodage au format
   Sony PSP.
   Cependant les contraintes peuvent différer suivant la version
   actuelle du logiciel PSP.
   Le respect des contraintes suivantes devrait vous permettre
   d'encoder sans problème :
 </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
   <span class="bold"><strong>Débit vidéo</strong></span>: il ne devrait pas être
   supérieur à 1500kbps. Cependant, les dernières versions supportent
   presque tous les débits tant que l'en-tête rapporte une
   valeur raisonable.
 </p></li><li class="listitem"><p>
   <span class="bold"><strong>Dimensions</strong></span>: la largeur et la
   hauteur de la video PSP doivent être multiples de 16 et le produit
   largeur * hauteur doit être &lt;= 64000.
   Dans certaines circonstances, la PSP est capable de lire des
   résolutions supérieures.
 </p></li><li class="listitem"><p>
   <span class="bold"><strong>Audio</strong></span>: le taux d'échantillonage
   doit être fixé à 24kHz pour les vidéos MPEG-4 et à 48kHz pour les H.264.
 </p></li></ul></div><p>
 </p><div class="example"><a name="encode_for_psp"></a><p class="title"><b>Exemple 9.4. Encodage pour PSP</b></p><div class="example-contents"><p>
 </p><pre class="screen">
mencoder -ofps 30000/1001 -af lavcresample=24000 -vf harddup -of lavf \
    -oac lavc -ovc lavc -lavcopts aglobal=1:vglobal=1:vcodec=mpeg4:acodec=aac \
    -lavfopts format=psp \
    <em class="replaceable"><code>entree.video</code></em> -o <em class="replaceable"><code>sortie.psp</code></em>
 </pre><p>
   Vous pouvez définir le titre de la vidéo avec
   <tt class="option">-info name=<em class="replaceable"><code>TitreDuFilm</code></em></tt>.
 </p></div></div><br class="example-break"></div><div class="sect1" title="9.5. Encodage au format MPEG"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-mpeg"></a>9.5. Encodage au format MPEG</h2></div></div></div><p>
<span class="application">MEncoder</span> peut créer des fichiers au
format MPEG (MPEG-PS).
Habituellement, vous utilisez des formats vidéos comme le
MPEG-1 ou MPEG-2 pour l'encodage vers des formats avec des contraintes spécifiques
comme le SVCD, VCD, ou encore le DVD.
Les exigences particulières de ces formats sont expliqués dans
la section du
<a class="link" href="#menc-feat-vcd-dvd" title="10.8. Utiliser MEncoder pour créer des fichiers compatibles VCD/SVCD/DVD.">guide de création d'un VCD ou DVD</a>.
</p><p>
Pour changer le format du fichier final produit par
<span class="application">MEncoder</span>
utilisez l'option <tt class="option">-of mpeg</tt>.
</p><div class="informalexample"><p>
Exemple :
</p><pre class="screen">
mencoder <em class="replaceable"><code>input.avi</code></em> -of mpeg -ovc lavc
-lavcopts vcodec=mpeg1video -oac copy
<em class="replaceable"><code>autres_options</code></em> -o
<em class="replaceable"><code>sortie.mpg</code></em>
</pre><p>
Création d'un fichier MPEG-1 lisible sur un système basique
comme peu l'être un MS Windows fraîchement installé :
</p><pre class="screen">
mencoder <em class="replaceable"><code>entree.avi</code></em> -of mpeg -mpegopts
format=mpeg1:tsaf:muxrate=2000 -o
<em class="replaceable"><code>output.mpg</code></em> -oac lavc -ovc lavc \
-lavcopts acodec=mp2:abitrate=224:vcodec=mpeg1video:vbitrate=1152:keyint=15:mbd=2:aspect=4/3
</pre><p>
Le même encodage, mais en utilisant le multiplexeur MPEG <code class="systemitem">libavformat</code> :
</p><pre class="screen">
mencoder <em class="replaceable"><code>entree.avi</code></em> -o <em class="replaceable"><code>VCD.mpg</code></em> -ofps 25 -vf scale=352:288,harddup -of lavf \
    -lavfopts format=mpg -oac lavc -lavcopts acodec=mp2:abitrate=224 -ovc lavc \
    -lavcopts vcodec=mpeg1video:vrc_buf_size=327:keyint=15:vrc_maxrate=1152:vbitrate=1152:vmax_b_frames=0
</pre><p>
</p></div><div class="note" title="Astuce:" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Astuce:</h3><p>
Si, pour quelques raisons, la qualité vidéo de la seconde passe
n'est pas satisfaisante, vous pouvez recommencer l'encodage avec
un débit cible différent, à condition que vous ayez sauvegardé
le fichier de statistiques de la passe précédente.
Ceci est possible car le rôle premier du fichier de statistiques
est d'enregistrer la compléxité de chaque trame, ce qui ne dépend pas
fortement du débit. Cependant, if faut noter que vous obtiendrez de meilleurs
résultats si toutes les passes utilisent un débit cible similaire.
</p></div></div><div class="sect1" title="9.6. Redimensionnement des films"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-rescale"></a>9.6. Redimensionnement des films</h2></div></div></div><p>
Souvent le besoin de redimensionner les images d'un film se fait
sentir.
Les raisons peuvent être multiples: diminuer la taille du fichier,
la bande passante du réseau, etc.
La plupart des gens redimensionnent même en convertissant des DVDs
ou SVCDs en AVI DivX.
Si vous désirez redimensionner, lisez la section
<a class="link" href="#aspect" title="9.10. Préserver le ratio d'aspect">Préserver le ratio d'aspect</a>.
</p><p>
Le processus de zoom est géré par le filtre vidéo
<code class="literal">scale</code>:
<tt class="option">-vf scale=<em class="replaceable"><code>largeur</code></em>:<em class="replaceable"><code>hauteur</code></em></tt>.
Sa qualité peut être réglée avec l'option <tt class="option">-sws</tt>.
Si elle n'est pas spécifiée, <span class="application">MEncoder</span>
utilisera 2: bicubique.
</p><p>
Utilisation :
</p><pre class="screen">
mencoder <em class="replaceable"><code>entree.mpg</code></em> -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell \
	-vf scale=640:480 -o <em class="replaceable"><code>sortie.avi</code></em>
</pre><p>
</p></div><div class="sect1" title="9.7. Copie de flux"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-streamcopy"></a>9.7. Copie de flux</h2></div></div></div><p>
<span class="application">MEncoder</span> peut gérer les flux entrant de
deux façons: les
<span class="bold"><strong>encoder</strong></span> ou les <span class="bold"><strong>copier</strong></span>
Cette section parle de la <span class="bold"><strong>copie</strong></span>.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
<span class="bold"><strong>Flux vidéo</strong></span> (option <tt class="option">-ovc
copy</tt>) :
on peut faire des choses sympa :) comme, placer (pas convertir) de
la vidéo FLI
ou VIVO ou MPEG1 dans un fichier AVI ! Bien sûr seul
<span class="application">MPlayer</span>
peut lire de tels fichiers :) et ça n'a probablement aucun
intérêt.
Concrètement: copier des flux vidéos peut être utile par exemple
quand seul le flux audio doit être encodé (comme du PCM
non-compressé en MP3).
</p></li><li class="listitem"><p>
<span class="bold"><strong>Flux audio</strong></span> (option <tt class="option">-oac
copy</tt>):
très simple. Il est possible de prendre un fichier audio
externe (MP3, WAV) et de le multiplexer dans le flux
sortant.
Utilisez l'option <tt class="option">-audiofile
<em class="replaceable"><code>nomfichier</code></em></tt> pour cela.
</p></li></ul></div><p>
En utilisant l'option <tt class="option">-oac copy</tt> pour copier d'un
format de container vers un autre format, il faudrait utiliser
l'option <tt class="option">-fafmttag</tt> pour préserver les marqueurs
originaux du format du fichier audio.
Par exemple, si vous convertissez un fichier NSV avec de
l'audio en ACC vers un container AVI, le format du marqueur
audio sera incorrect et devra être changé.
Pour visualiser la liste des marqueurs des formats audio,
jetez un coup d'oeil à <tt class="filename">codecs.conf</tt>.
</p><p>
Exemple:
</p><pre class="screen">
mencoder <em class="replaceable"><code>entree.nsv</code></em> -oac copy -fafmttag 0x706D \
	-ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell -o <em class="replaceable"><code>sortie.avi</code></em>
</pre><p>
</p></div><div class="sect1" title="9.8. Encodage à partir de nombreux fichiers Image (JPEG, PNG, TGA, SGI)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-enc-images"></a>9.8. Encodage à partir de nombreux fichiers Image (JPEG,
PNG, TGA,
SGI)</h2></div></div></div><p>
<span class="application">MEncoder</span> est capable de créer des
fichiers
à partir de un ou plusieurs fichiers JPEG, PNG ou TGA.
Avec une simple copie de trame il peut créer
des fichiers MJPEG (Motion JPEG), MPNG (Motion PNG) ou MTGA
(Motion TGA).
</p><div class="orderedlist" title="Explication du fonctionnement :"><p class="title"><b>Explication du fonctionnement :</b></p><ol class="orderedlist" type="1"><li class="listitem"><p>
<span class="application">MEncoder</span>
<span class="emphasis"><em>décode</em></span> le(s) image(s)
d'origine(s) avec <code class="systemitem">libjpeg</code>
(pour décoder
des PNGs, il utilisera <code class="systemitem">libpng</code>).
</p></li><li class="listitem"><p>
<span class="application">MEncoder</span> envoie alors l'image
décodée au
compresseur
vidéo choisi (DivX4, Xvid, ffmpeg msmpeg4, etc.).
</p></li></ol></div><p title="Exemples"><b>Exemples. </b>
Une explication de l'option <tt class="option">-mf</tt> peut être trouvée
dans la page de man.

</p><div class="informalexample"><p>
Créer un fichier Mpeg-4 à partir de tous les fichiers JPEG du
répertoire courant:
</p><pre class="screen">
mencoder -mf://*.jpg -mf w=800:h=600:fps=25:type=jpg -ovc lavc
-lavcopts vcodec=mpeg4 -oac copy -o
<em class="replaceable"><code>sortie.avi</code></em>
</pre><p>
</p></div><p title="Exemples">

</p><div class="informalexample"><p>
Créer un fichier MPEG-4 à partir de quelques fichiers JPEG du
répertoire courant:
</p><pre class="screen">
mencoder
mf://<em class="replaceable"><code>trame001.jpg,trame002.jpg</code></em> -mf
w=800:h=600:fps=25:type=jpg -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell
-oac copy -o <em class="replaceable"><code>sortie.avi</code></em>
</pre><p>
</p></div><p title="Exemples">

</p><div class="informalexample"><p>
Création d'un fichier MPEG4 depuis une liste de fichiers JPEG (le fichier list.txt contenu
dans le répertoire courant, liste les fichiers utilisés comme source, un par ligne):
</p><pre class="screen">
mencoder mf://<em class="replaceable"><code>@list.txt</code></em> -mf w=800:h=600:fps=25:type=jpg \
    -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell -oac copy -o <em class="replaceable"><code>sortie.avi</code></em>
</pre><p>
</p></div><p title="Exemples">

Il est possible de mélanger différents types d'images, quelque soit
la méthode utilisée — fichiers individuels, joker( i.e * )
ou fichier avec liste — à condition que, bien sûr, elles soient de même dimension.
De fait, vous pouvez par exemple, prendre une image de type PNG
comme titre, et ensuite faire un diaporama de vos photos JPEG.

</p><div class="informalexample"><p>
Créer un fichier Motion JPEG (MJPEG) à partir de tous les fichiers
JPEG du répertoire courant:
</p><pre class="screen">
mencoder mf://*.jpg -mf w=800:h=600:fps=25:type=jpg -ovc copy -oac copy -o <em class="replaceable"><code>sortie.avi</code></em>
</pre><p>
</p></div><p title="Exemples">

</p><div class="informalexample"><p>
Créer un fichier non-compressé à partir de tous les fichiers
PNG du répertoire courant:
</p><pre class="screen">
mencoder mf://*.png -mf w=800:h=600:fps=25:type=png -ovc raw -oac copy -o <em class="replaceable"><code>sortie.avi</code></em>
</pre><p>
</p></div><p title="Exemples">

</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
La largeur doit être un entier multiple de 4, c'est une
limitation du
format AVI RGB brut.
</p></div><p title="Exemples">

</p><div class="informalexample"><p>
Créer un fichier Motion PNG (MPNG) à partir de tous les
fichiers PNG du répertoire courant:
</p><pre class="screen">
mencoder mf://*.png -mf w=800:h=600:fps=25:type=png -ovc copy -oac copy -o <em class="replaceable"><code>sortie.avi</code></em>
</pre><p>
</p></div><p title="Exemples">

</p><div class="informalexample"><p>
Créer un fichier Motion TGA (MTGA) à partir de tous les fichiers TGA
du répertoire courant:
</p><pre class="screen">
mencoder mf://*.tga -mf w=800:h=600:fps=25:type=tga -ovc copy -oac
copy -o <em class="replaceable"><code>sortie.avi</code></em>
</pre><p>
</p></div><p title="Exemples">

</p></div><div class="sect1" title="9.9. Extraction des sous-titres DVD depuis fichier Vobsub"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-extractsub"></a>9.9. Extraction des sous-titres DVD depuis fichier
Vobsub</h2></div></div></div><p>
<span class="application">MEncoder</span> est capable d'extraire les
sous-titres d'un DVD dans des fichiers au format VOBsub.
Ils se composent de quelques fichiers ayant pour extension
<tt class="filename">.idx</tt> et <tt class="filename">.sub</tt> et sont
généralement compressés dans une seule archive
<tt class="filename">.rar</tt>.
<span class="application">MPlayer</span>
peut les lire avec les options <tt class="option">-vobsub</tt> et
<tt class="option">-vobsubid</tt>.
</p><p>
Vous spécifiez le nom de base (c-à-d. sans extension
<tt class="filename">.idx</tt> ou <tt class="filename">.sub</tt>)
des fichiers de sortie avec <tt class="option">-vobsubout</tt>
et l'index pour ces sous-titres dans le fichier final avec
<tt class="option">-vobsuboutindex</tt>.
</p><p>
Si l'entrée n'est pas un DVD vous pouvez utiliser
<tt class="option">-ifo</tt> pour indiquer le fichier
<tt class="filename">.ifo</tt> requis pour construire le
fichier <tt class="filename">.idx</tt> final.
</p><p>
Si l'entrée n'est pas un DVD et que vous n'avez pas de fichier
<tt class="filename">.ifo</tt> vous aurez besoin d'utiliser
l'option <tt class="option">-vobsubid</tt> pour lui permettre de
savoir quelle langue placer dans le fichier
<tt class="filename">.idx</tt>.
</p><p>
Chaque étape ajoutera les sous-titres actifs dans les fichiers
<tt class="filename">.idx</tt>
et <tt class="filename">.sub</tt> déjà existants. Vous devrez donc les
enlever tous avant de commencer.
</p><div class="example"><a name="copying_two_subtitles_from_a_dvd_while_doing_two_pass_encoding"></a><p class="title"><b>Exemple 9.5. Copier deux sous-titres d'un DVD pendant l'encodage
deux passes</b></p><div class="example-contents"><pre class="screen">
rm <em class="replaceable"><code>soustitres.idx</code></em> <em class="replaceable"><code>soustitres.sub</code></em>
mencoder dvd://1 -oac copy -ovc lavc -lavcopts vcodec=mpeg4:vpass=1 \
	-vobsubout <em class="replaceable"><code>soustitres</code></em> -vobsuboutindex 0 -sid 2
mencoder dvd://1 -oac copy -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell:vpass=2 \
	-vobsubout <em class="replaceable"><code>soustitres</code></em> -vobsuboutindex 1 -sid 5
</pre></div></div><br class="example-break"><div class="example"><a name="copying_a_french_subtitle_from_an_mpeg_file"></a><p class="title"><b>Exemple 9.6. Copier les sous-titres français depuis un fichier MPEG</b></p><div class="example-contents"><pre class="screen">
rm <em class="replaceable"><code>soustitres.idx</code></em> <em class="replaceable"><code>soustitres.sub</code></em>
mencoder <em class="replaceable"><code>film.mpg</code></em> -ifo <em class="replaceable"><code>film.ifo</code></em> -vobsubout <em class="replaceable"><code>soustitres</code></em> -vobsuboutindex 0  \
	-vobsuboutid fr -sid 1 -nosound -ovc copy
</pre></div></div><br class="example-break"></div><div class="sect1" title="9.10. Préserver le ratio d'aspect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="aspect"></a>9.10. Préserver le ratio d'aspect</h2></div></div></div><p>
Les fichiers des DVDs et des SVCDs (c-à-d MPEG1/2) contiennent une
valeur de ratio d'aspect, qui décrit comment le lecteur devrait
dimensionner le flux vidéo, pour que les personnages n'aient pas
des "têtes d'oeuf" (ex. 480x480 + 4:3 = 640x480).
Cependant, quand vous encodez un fichier AVI (DivX), vous devez être conscients
que les entêtes AVI ne stockent pas cette valeur. Redimensionner le film est assez
infâme et coûteux en temps, il doit y avoir une meilleure solution !
</p><p>Il y en a une.</p><p>
MPEG-4 a une fonction spécifique: le flux vidéo peut contenir
le ratio d'aspect requis.
Oui, tout comme les fichiers MPEG-1/2 (DVD, SVCD) et H.263.
Malheureusement, très peu de lecteurs vidéos
en dehors de <span class="application">MPlayer</span> supportent cet attribut MPEG-4.
Excepté <span class="application">MPlayer</span>.
</p><p>
Cette fonction ne peut être utilisée qu'avec le codec
<code class="systemitem">mpeg4</code> de
<code class="systemitem">libavcodec</code>.
Gardez bien à l'esprit que même si
<span class="application">MPlayer</span>
lit correctement le fichier créé, les autres lecteurs sont susceptibles d'utiliser un mauvais ratio.
</p><p>
Vous devriez vraiment couper les bandes noires au dessus et en
dessous de l'image.
Voir la page de man pour l'utilisation des filtres
<code class="systemitem">cropdetect</code>
et <code class="systemitem">crop</code>.
</p><p>
Utilisation
</p><pre class="screen">mencoder <em class="replaceable"><code>echantillon-svcd.mpg</code></em> -vf crop=714:548:0:14 -oac copy -ovc lavc \
    -lavcopts vcodec=mpeg4:mbd=2:trell:autoaspect -o <em class="replaceable"><code>sortie.avi</code></em></pre><p>
</p></div></div><div class="chapter" title="Chapitre 10. L'encodage avec MEncoder"><div class="titlepage"><div><div><h2 class="title"><a name="encoding-guide"></a>Chapitre 10. L'encodage avec <span class="application">MEncoder</span></h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="#menc-feat-dvd-mpeg4">10.1. Faire un MPEG-4 ("DivX") de bonne qualité à partir d'un DVD</a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-preparing-encode">10.1.1. Préparer l'encodage : identifier le matériel source et le nombre
d'images par secondes</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-preparing-encode-fps">10.1.1.1. Identification du nombre d'images par seconde de la source</a></span></dt><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-preparing-encode-material">10.1.1.2. Identification du matériel source</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-2pass">10.1.2. Quantificateur constant contre multipasse</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-constraints">10.1.3. Contraintes pour une compression efficace</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-crop">10.1.4. Découpage et Redimensionnement</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-resolution-bitrate">10.1.5. Choix de la résolution et du débit</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-resolution-bitrate-compute">10.1.5.1. Calcul de la résolution</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-filtering">10.1.6. Les filtres</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-interlacing">10.1.7. Entrelacement et Téléciné</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-encoding-interlaced">10.1.8. Encodage de vidéos entrelacées</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-av-sync">10.1.9. Remarques sur la synchronisation Audio/Vidéo</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-codec">10.1.10. Choisir le codec video</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-audio">10.1.11. Le son</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-muxing">10.1.12. Le multiplexage</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-muxing-filter-issues">10.1.12.1. Améliorer la fiabilité du multiplexage et de la synchronisation Audio/Video</a></span></dt><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-muxing-avi-limitations">10.1.12.2. Limitations du conteneur AVI</a></span></dt><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-muxing-matroska">10.1.12.3. Le multiplexage dans le conteneur Matroska</a></span></dt></dl></dd></dl></dd><dt><span class="sect1"><a href="#menc-feat-telecine">10.2. Comment gérer le téléciné et l'entrelacement des DVDs NTSC</a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-telecine-intro">10.2.1. Introduction</a></span></dt><dt><span class="sect2"><a href="#menc-feat-telecine-ident">10.2.2. Comment savoir quel type de vidéo vous avez ?</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-telecine-ident-progressive">10.2.2.1. Progressive</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-ident-telecined">10.2.2.2. Téléciné</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-ident-interlaced">10.2.2.3. Entrelacée</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-ident-mixedpt">10.2.2.4. Mélange de progressive et télécinée</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-ident-mixedpi">10.2.2.5. Mélange de vidéo progressive et entrelacée</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-telecine-encode">10.2.3. Comment encoder chaque catégorie ?</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-telecine-encode-progressive">10.2.3.1. Progressive</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-encode-telecined">10.2.3.2. Téléciné</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-encode-interlaced">10.2.3.3. Entrelacée</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-encode-mixedpt">10.2.3.4. Mélange de progressive et télécinée</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-encode-mixedpi">10.2.3.5. Mélange de progressive et d'entrelacée</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-telecine-footnotes">10.2.4. Notes de bas de pages</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-enc-libavcodec">10.3. Encodage avec la famille de codec <code class="systemitem">libavcodec</code></a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-enc-libavcodec-video-codecs">10.3.1. Codecs vidéo de <code class="systemitem">libavcodec</code></a></span></dt><dt><span class="sect2"><a href="#menc-feat-enc-libavcodec-audio-codecs">10.3.2. Codecs audio de <code class="systemitem">libavcodec</code></a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-enc-libavcodec-audio-codecs-pcmadpcm">10.3.2.1. tableau complémentaire des formats PCM/ADPCM</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-lavc-encoding-options">10.3.3. Options d'encodage de libavcodec</a></span></dt><dt><span class="sect2"><a href="#menc-feat-mpeg4-lavc-example-settings">10.3.4. Exemples de paramètres d'encodage</a></span></dt><dt><span class="sect2"><a href="#custommatrices">10.3.5. Matrices inter/intra personnalisées</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-example">10.3.6. Exemple</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-xvid">10.4. Encodage avec le codec <code class="systemitem">Xvid</code></a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-xvid-intro">10.4.1. Quelles options devrais-je utiliser pour avoir les meilleurs
résultats ?</a></span></dt><dt><span class="sect2"><a href="#menc-feat-xvid-encoding-options">10.4.2. Options d'encodage de <code class="systemitem">Xvid</code></a></span></dt><dt><span class="sect2"><a href="#menc-feat-xvid-encoding-profiles">10.4.3. Profils d'encodage</a></span></dt><dt><span class="sect2"><a href="#menc-feat-xvid-example-settings">10.4.4. Exemples de paramètres d'encodage</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-x264">10.5. Encodage avec le codec <code class="systemitem">x264</code></a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-x264-encoding-options">10.5.1. Les options d'encodage de x264</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-x264-encoding-options-intro">10.5.1.1. Introduction</a></span></dt><dt><span class="sect3"><a href="#menc-feat-x264-encoding-options-speedvquality">10.5.1.2. Options qui affectent principalement la vitesse et la qualité</a></span></dt><dt><span class="sect3"><a href="#menc-feat-x264-encoding-options-misc-preferences">10.5.1.3. Options relatives à diverses préférences</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-x264-example-settings">10.5.2. Exemples de paramètre d'encodage</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-video-for-windows">10.6. Encoder avec la famille de codecs <code class="systemitem">Video For Windows</code></a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-enc-vfw-video-codecs">10.6.1. Les codecs Video for Windows supportés</a></span></dt><dt><span class="sect2"><a href="#menc-feat-video-for-windows-bitrate-settings">10.6.2. Utilisation de vfw2menc pour créer un fichier de configuration de codec.</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-quicktime-7">10.7. Utiliser <span class="application">MEncoder</span> pour créer
des fichiers compatibles <span class="application">QuickTime</span></a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-quicktime-7-why-use-it">10.7.1. Pourquoi produire des fichiers compatibles
<span class="application">QuickTime</span> ?</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-constraints">10.7.2. Limitations de <span class="application">QuickTime</span></a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-crop">10.7.3. Recadrage</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-scale">10.7.4. Redimensionnement</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-avsync">10.7.5. Synchronisation de l'audio et de la vidéo</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-bitrate">10.7.6. Débit</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-example">10.7.7. Exemple d'encodage</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-remux">10.7.8. Remultiplexage en MP4</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-metadata">10.7.9. Ajouter des tags de méta-données</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-vcd-dvd">10.8. Utiliser <span class="application">MEncoder</span> pour créer des fichiers compatibles VCD/SVCD/DVD.</a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-vcd-dvd-constraints">10.8.1. Contraintes de Format</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-constraints-resolution">10.8.1.1. Contraintes de format</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-constraints-gop">10.8.1.2. Contraintes de Taille GOP</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-constraints-bitrate">10.8.1.3. Contraintes de débit</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-vcd-dvd-output">10.8.2. Options de sortie</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-output-aspect">10.8.2.1. Format d'image</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-a-v-sync">10.8.2.2. Maintient de la synchronisation A/V</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-output-srate">10.8.2.3. Conversion du Taux d'échantillonnage</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-vcd-dvd-lavc">10.8.3. Utiliser libavcodec pour l'encodage VCD/SVCD/DVD</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-lavc-intro">10.8.3.1. Introduction</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-lavc-options">10.8.3.2. lavcopts</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-lavc-examples">10.8.3.3. Exemples</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-lavc-advanced">10.8.3.4. Options Avancées</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-vcd-dvd-audio">10.8.4. Encodage Audio</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-audio-toolame">10.8.4.1. toolame</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-audio-twolame">10.8.4.2. twolame</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-audio-lavc">10.8.4.3. libavcodec</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-vcd-dvd-all">10.8.5. Combiner le tout</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-pal-dvd">10.8.5.1. DVD PAL</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-ntsc-dvd">10.8.5.2. DVD NTSC</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-pal-ac3-copy">10.8.5.3. AVI PAL Contenant Audio AC-3 vers DVD</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-ntsc-ac3-copy">10.8.5.4. AVI NTSC Contenant Audio AC-3 vers DVD</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-pal-svcd">10.8.5.5. SVCD PAL</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-ntsc-svcd">10.8.5.6. SVCD NTSC</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-pal-vcd">10.8.5.7. VCD PAL</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-ntsc-vcd">10.8.5.8. VCD NTSC</a></span></dt></dl></dd></dl></dd></dl></div><div class="sect1" title="10.1. Faire un MPEG-4 (&quot;DivX&quot;) de bonne qualité à partir d'un DVD"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-dvd-mpeg4"></a>10.1. Faire un MPEG-4 ("DivX") de bonne qualité à partir d'un DVD</h2></div></div></div><p>
  Il y a une question qui revient souvent :"Comment puis-je recopier un DVD avec la
  meilleure qualité possible pour une taille donnée ?". Ou encore :
  "Comment puis-je recopier un DVD sur mon disque dur avec la meilleure qualité
  possible ? je m'en fiche de la taille du fichier, je veux la meilleure
  qualité."
</p><p>
  Cette dernière question est peut-être un peu mal posée. Après tout, si vous ne vous
  souciez pas de la taille du fichier, pourquoi ne pas simplement copier le
  flux MPEG-2 du DVD en entier ? Bien sûr, votre AVI finira par faire 5Gb,
  mais si vous voulez la meilleure qualité, sans vous soucier de la
  taille, ceci est probablement votre meilleure option.
</p><p>
  En fait, la raison pour laquelle vous voulez convertir un DVD en MPEG-4
  est que vous tenez <span class="bold"><strong>réellement</strong></span> compte
  de la taille du fichier.
</p><p>
  Il est difficile de proposer une recette sur la façon de créer des MPEG-4
  de très haute qualité à partir de DVD. Il y a plusieurs facteurs à prendre en compte, et vous
  devriez comprendre ces détails ou vous serez déçus par les résultats. Ci-dessous
  nous allons examiner quelques-uns de ces problèmes, et voir un exemple. Nous
  supposerons que vous utilisez <code class="systemitem">libavcodec</code> pour encoder
  la vidéo, bien que la théorie s'applique également à d'autres codecs.
</p><p>
  Si vous ne vous sentez pas de taille, vous devriez utiliser une des
  interfaces graphiques listées sur la page de notre projet dans
  <a class="ulink" href="http://www.mplayerhq.hu/design7/projects.html#mencoder_frontends" target="_top">Section
  MEncoder</a>.
  Ainsi, vous devriez être capable de faire de encodages de DVD de haute qualité
  sans trop réfléchir, ces outils sont faits pour prendre les bonnes décisions à votre place.
</p><div class="sect2" title="10.1.1. Préparer l'encodage : identifier le matériel source et le nombre d'images par secondes"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-preparing-encode"></a>10.1.1. Préparer l'encodage : identifier le matériel source et le nombre
d'images par secondes</h3></div></div></div><p>
  Avant même de penser à encoder un film, il est nécessaire de passer par quelques étapes
  préliminaires.
</p><p>
  La première et plus importante étape avant l'encodage sera la détermination du
  type de contenu utilisé. Si votre matériel source provient d'un DVD ou de la télévision
  hertzienne/câble/satellite, il sera stocké sous l'un de ces 2 formats :
  NTSC pour l'Amérique du nord et le Japon, et PAL pour l'Europe, etc.
  Il est important de réaliser que ceci est uniquement un format adapté pour
  la télévision et cela ne correspond souvent <span class="bold"><strong>pas</strong></span>
  au format original du film.
  L'expérience montre que le NTSC est bien plus dur à encoder car il y a plus
  d'éléments à identifier dans la source.
  Afin de produire un encodage acceptable, vous devez connaître le format original.
  Négliger cette étape créera divers défauts dans votre encodage, dont de hideux effets
  de peigne et des images dupliquées ou même perdues. De plus, ces artefacts
  sont mauvais pour l'efficacité d'encodage : vous obtiendriez une moins
bonne qualité
  pour le même débit.
</p><div class="sect3" title="10.1.1.1. Identification du nombre d'images par seconde de la source"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-dvd-mpeg4-preparing-encode-fps"></a>10.1.1.1. Identification du nombre d'images par seconde de la source</h4></div></div></div><p>
  Voici une liste de types de matériel source courants, où vous devriez les trouver et
  leurs propriétés :
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
    <span class="bold"><strong>Film standard</strong></span> : produit pour une
  diffusion cinématographique en 24 images par secondes.
</p></li><li class="listitem"><p>
    <span class="bold"><strong>Vidéo PAL</strong></span> : Enregistrée par une
  caméra à 50 trames par secondes.
  Une trame consiste en l'ensemble des lignes paires (ou impaires) d'une
  image.
  La télévision a été créée de façon à afficher alternativement l'une ou
  l'autre de ces trames créant ainsi une forme de compression analogique bon
  marché.
  L'oeil humain est censé compenser cette alternance de trames mais dès lors
  que vous
  comprenez l'entrelacement, vous apprendrez à le voir sur la télévision et vous ne la regarderez
  plus de la même façon. Deux trames ne font <span class="bold"><strong>pas</strong></span> une image
  complète, car elles sont capturées avec un décalage d'1/50e de seconde et donc, à moins
  qu'il n'y ait pas de mouvement, elles ne s'alignent pas parfaitement.
</p></li><li class="listitem"><p>
    <span class="bold"><strong>Vidéo NTSC</strong></span> : Enregistré par une
  caméra à 60000/1001 trames par secondes, ou 60 trames par secondes dans
  l'ère noir/blanc.
  A part cela, similaire au PAL.
</p></li><li class="listitem"><p>
    <span class="bold"><strong>Dessins animés</strong></span> : Habituellement
  dessiné en 24 images par secondes, peut exister en mélange variés de
  nombre d'images par secondes.
</p></li><li class="listitem"><p>
    <span class="bold"><strong>Infographie</strong></span> : peut être de
  n'importe quel nombre d'images par secondes mais certains sont plus communs que d'autres;
  24 et 30 sont typiques du NTSC et 25 du PAL.
</p></li><li class="listitem"><p>
    <span class="bold"><strong>Vieux films</strong></span> : nombre d'images par
  secondes généralement plus bas.
</p></li></ul></div></div><div class="sect3" title="10.1.1.2. Identification du matériel source"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-dvd-mpeg4-preparing-encode-material"></a>10.1.1.2. Identification du matériel source</h4></div></div></div><p>
  Les films composés d'images entières sont dits progressifs,
  alors que ceux composés de trames indépendantes sont appelés
  soit entrelacés soit vidéo - bien que ce dernier terme soit plutôt ambigu.
</p><p>
  Pour compliquer le tout, certains films sont un mélange des 2.
</p><p>
  La distinction la plus importante qui doit être faite entre ces formats
  est que certains utilisent des images entières alors que d'autres, des trames.
  Avant d'être visionnable sur un téléviseur,
  <span class="bold"><strong>tout</strong></span>
  film (DVD inclus) doit être converti dans un
  format basé sur des trames. Les diverses méthodes par lesquelles ceci peut être fait
  peuvent être rassemblées sous le terme anglais "telecine", parmi lesquels l'infâme
  NTSC "3:2 pulldown" en est une variété.
  A moins que la vidéo source ne soit déjà basée sur des trames (et avec le bon nombre de trames par seconde),
  vous avez un film dans un format autre que celui d'origine.
</p><div class="itemizedlist" title="Plusieurs variétés communes de pulldown :"><p class="title"><b>Plusieurs variétés communes de pulldown :</b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
    <span class="bold"><strong>Pulldown PAL 2:2 </strong></span> : Le plus joli de
  tous.
  Chaque image est affichée pour la durée de deux trames par extraction des lignes
  paires et impaires, puis en les affichant par alternance.
  Si l'original est à 24 images par secondes, ce procédé accélère le film de 4%.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>pulldown PAL 2:2:2:2:2:2:2:2:2:2:2:3</strong></span> :
  Toutes les 12 images, une image est affichées pour la durée de 3 trames au
  lieu de deux. Cela
  permet d'éviter le problème de l'accélération de 4% mais rend le processus bien plus
  difficile à inverser. Cette technique est généralement utilisée dans les productions
  musicales où l'accélération de 4% endommagerait sérieusement la qualité musicale.
</p></li><li class="listitem"><p>
    <span class="bold"><strong>Téléciné NTSC 3:2</strong></span> : Les images sont
  alternativement
  affichées pendant une durée de 3 ou 2 trames. Cela donne un nombre de trames par seconde
  de 2,5 fois le nombre d'images par seconde de l'original.
  Le résultat est aussi très légèrement ralenti de 60 trames par secondes à 60000/1001
  trames par seconde pour maintenir la vitesse d'affichage NTSC.
</p></li><li class="listitem"><p>
    <span class="bold"><strong>Pulldown NTSC 2:2</strong></span> : Utilisé pour
  montrer du 30 images par secondes sur du NTSC. Joli, comme le pulldown PAL
  2:2.
</p></li></ul></div><p>
  Il y aussi des méthodes de conversion entre vidéos NTSC et PAL
  mais cela sort du cadre de ce guide.
  Au cas où vous rencontriez un film au format NTSC ou PAL et vouliez l'encodez,
  le mieux serait de trouver une copie du film dans le format original.
  La conversion entre ces deux formats est hautement destructrice et ne peut
  être inversee proprement, votre encodage en souffrirait grandement s'il était
  fait à partir d'une source déja convertie (en NTSC ou PAL).
</p><p>
  Quand des vidéos sont stockées sur un DVD, les paires de trames
  consécutives sont rassemblées en une image même si elles ne sont pas censées
  être affichées au même moment.
  Le standard MPEG-2 utilisé dans les DVDs et la télévision numérique fournit
  un moyen à la fois d'encoder les images progressives originales et de stocker le
  numéro des trames auxquelles une image doit être montrée dans l'en-tête de cette image.
  Si cette méthode est utilisée, on dit que le film est "soft-téléciné"
  puisque le procédé impose uniquement au lecteur DVD d'appliquer le pulldown sur le film
  plutôt que d'altérer le film lui-même.
  Ce cas est de loin préférable puisqu'il peut être facilement inversé
  (en fait, ignoré) par l'encodeur et puisqu'il préserve la qualité au maximum.
  Malgré cela, beaucoup de studios de production de DVD et d'émission n'utilisent pas
  les techniques d'encodage correctes, au lieu de cela, elles produisent des films en "hard telecine"
  dans lesquels des trames sont dupliquées dans l'encodage MPEG-2.
</p><p>
  Les étapes pour gérer correctement ce genre de cas seront évoquées <a class="link" href="#menc-feat-telecine" title="10.2. Comment gérer le téléciné et l'entrelacement des DVDs NTSC">plus tard dans ce guide</a>.
  Pour l'instant, nous allons vous donner quelques indications pour définir à quel type
  source vous avez à faire :
</p><div class="itemizedlist" title="Régions NTSC :"><p class="title"><b>Régions NTSC :</b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Si <span class="application">MPlayer</span> affiche que le nombre d'image a changé en
  24000/1001 quand vous regardez votre film et qu'il ne change plus après cela, c'est
  presque certainement un contenu progressif qui a été "soft téléciné".
</p></li><li class="listitem"><p>
  Si <span class="application">MPlayer</span> affiche un nombre d'images par seconde alternant
  entre 24000/1001 et 30000/1001 et que vous voyez un effet de peigne par moment, alors
  il y a plusieurs possibilités.
  Les segments en 24000/1001 images par seconde sont très certainement un contenu progressif,
  "soft teleciné" mais les parties en 30000/1001 images par secondes peuvent être soit
  un contenu en 24000/1001 images par seconde "hard-telecinées", soit une vidéo NTSC en
  60000/1001 trames par seconde.
  Utilisez les mêmes conseils que ceux pour les deux cas qui suivent pour savoir lequel.
</p></li><li class="listitem"><p>
  Si <span class="application">MPlayer</span> montre un nombre d'images par seconde constant
  et que chacune des images des scènes de mouvement souffre d'un effet de peigne, alors
  votre film est une vidéo NTSC à 60000/1001 trames par seconde.
</p></li><li class="listitem"><p>
  Si <span class="application">MPlayer</span> montre un nombre d'images par seconde constant
  et que deux images sur cinq souffrent d'un effet de peigne, votre film est "hard téléciné"
  en 24000/1001 images par seconde.
</p></li></ul></div><div class="itemizedlist" title="Régions PAL :"><p class="title"><b>Régions PAL :</b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Si vous ne voyez jamais d'effet de peigne, le film est en pulldown 2:2.
</p></li><li class="listitem"><p>
  Si vous voyez un effet de peigne apparaissant et disparaissant
  toutes les demi-secondes, alors le film a subi un pulldown 2:2:2:2:2:2:2:2:2:2:2:3.
</p></li><li class="listitem"><p>
  Si vous voyez toujours un effet de peigne dans les scènes de mouvement,
  alors le film est en PAL à 50 trames par secondes.
</p></li></ul></div><div class="note" title="Astuce:" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Astuce:</h3><p>
  <span class="application">MPlayer</span> peut ralentir la lecture d'un film en utilisant
  l'option <tt class="option">-speed</tt> ou le jouer image par image.
  Essayer <tt class="option">-speed 0.2</tt> afin de regarder le film
  très lentement ou presser la touche "<span class="keycap"><b>.</b></span>" répététivement pour avancer
  image par image et ainsi identifier la "signature" du pulldown si
  celle-ci n'est pas visible à vitesse normale.
</p></div></div></div><div class="sect2" title="10.1.2. Quantificateur constant contre multipasse"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-2pass"></a>10.1.2. Quantificateur constant contre multipasse</h3></div></div></div><p>
  Il est possible d'encoder votre film à de très différentes qualités.
  Avec un encodeurs vidéo modernes et quelques compression pré-codec
  (antibruit et redimensionnement) il est possible d'obtenir une
  trés bonne qualité pour un film grand écran de 90-110 minutes sur 700Mb.
  De plus, à part les plus longs, tous les films peuvent être encodés
  à une qualité presque parfaite sur 1400Mb.
</p><p>
  Il y a trois approches possibles pour encoder une vidéo : débit
  constant (CBR), quantification constante, et multipasse (ABR pour average
  bitrate ou débit moyen).
</p><p>
  La complexité des images d'un film et donc le nombre de bits requis pour
  les compresser peut varier grandement d'une scène à l'autre.
  Les encodeurs vidéos modernes peuvent s'ajuster à ces besoins en faisant
  varier le débit.
  Cependant, dans des modes simples comme le CBR, le compresseur ne connaît
  pas le besoin en débit pour les scènes à venir et ne peut donc pas excéder
  le débit moyen requis pour de longues portions du film.
  Des modes plus avancés, comme l'encodage multipasse peuvent prendre
  en compte les statistiques des passes précédentes, ce qui règle le
  problème ci-dessus.
</p><div class="note" title="Note :" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note :</h3><p>
  La plupart des codecs qui supportent la compression ABR supportent seulement deux
  passages alors que d'autres comme le <code class="systemitem">x264</code>,
  le <code class="systemitem">Xvid</code> et le
  <code class="systemitem">libavcodec</code> supportent le multipasse
  ce qui améliore légèrement la qualité à chaque passe même si ces améliorations
  ne sont plus visibles ou mesurables après environ la quatrième passe.
  Ainsi, dans cette section, deux passes et multipasse seront utilisés indifféremment.
</p></div><p>
  Dans chacun de ces modes, le codec vidéo (tel que
  <code class="systemitem">libavcodec</code>)
  sépare les images vidéo en macroblocs de 16x16 pixels et applique ensuite
  un quantificateur sur chaque macrobloc. Plus le quantificateur est bas, meilleure
  est la qualité et plus le débit est grand. La méthode utilisée par
  l'encodeur pour déterminer quel quantificateur utiliser pour un macrobloc donné
  varie et est très configurable. (ceci est une simplification
  à l'extrême du processus, mais il est utile de comprendre le principe de base).
</p><p>
  Lorsque vous spécifiez un débit constant, le codec vidéo encode la vidéo
  en excluant les détails autant qu'il le faut et aussi peu que possible
  de façon à rester en dessous du débit spécifié.
  Si la taille du fichier vous est vraiment égale, vous pourriez aussi bien
  fixer un débit constant infini (en pratique, dela signifie une valeur assez
  haute pour ne pas poser de limites, tel que 10000Kbit). Sans réelle
  restriction de débit, le codec utilisera le plus
  bas quantificateur possible pour chaque macrobloc (tel que spécifié par
  <tt class="option">vqmin</tt> pour <code class="systemitem">libavcodec</code>,
  qui vaut 2 par défaut). Dès que vous spécifiez un débit suffisament bas pour
  que le codec soit forcé d'utiliser un quantificateur plus grand, vous ruinez
  très certainement la qualité votre vidéo. Pour éviter ça, vous devriez probablement
  réduire la résolution de votre vidéo en suivant la méthode décrite plus tard
  dans ce guide.En général, vous devriez éviter le CBR si vous vous souciez de
  la qualité.
</p><p>
  Avec un quantificateur constant, le codec utilise
  le même quantificateur (spécifié par l'option <tt class="option">vqscale</tt> pour
  <code class="systemitem">libavcodec</code>) sur chaque macrobloc.
  Si vous voulez un encodage de la meilleure qualité possible, cette fois encore
  en ignorant le débit, vous pouvez utiliser <tt class="option">vqscale=2</tt>. Cela
  donnera le même débit et le même PSNR (Peak Signal-to-Noise Ratio, rapport signal
  sur bruit de crête) que le CBR avec <tt class="option">vbitrate</tt>=infini et la valeur
  par défaut de <tt class="option">vqmin</tt> : 2.
</p><p>
  Le problème avec la quantification constante est que cela utilise le quantificateur
  spécifié que le macrobloc en ait besoin ou non. En fait, il doit être possible
  d'utiliser un quantificateur plus haut sur un macrobloc sans sacrifier la
  qualité visuelle. Pourquoi gaspiller les bits avec un quantificateur inutilement
  bas ? Votre microprocesseur est sûrement a largement assez puissant,
  tandis que votre disque lui, a une taille limitée.
</p><p>
  Avec l'encodage deux passes, la première passe va encoder le film comme
  en CBR, mais va garder un journal des propriétés de chaque image. Ces données
  sont ensuite utilisées pendant la seconde passe de façon à choisir intelligemment
  quels quantificateurs utiliser. Lors des scènes d'action rapide ou celles ayant
  beaucoup de détails, des quantificateurs plus élevés seront probablement utilisés.
  Pendant les scènes avec peu de mouvements ou avec peu de détails, ce seront
  des quantificateurs plus bas. Normalement, la quantité de mouvement est bien plus
  importante que la quantité de détail.
</p><p>
  Si vous utilisez <tt class="option">vqscale=2</tt>, alors vous gaspillez des bits.
  Si vous utilisez <tt class="option">vqscale=3</tt>, vous n'avez pas la meilleure
  qualité d'encodage. Supposez que vous encodez un DVD avec
  <tt class="option">vqscale=3</tt>, et que le résultat est 1800Kbit/s. Si vous faites
  un encodage en deux passes avec <tt class="option">vbitrate=1800</tt>, la vidéo produite
  aura une <span class="bold"><strong>meilleure qualité</strong></span> pour le
  <span class="bold"><strong>même débit</strong></span>.
</p><p>
  Maintenant que vous êtes convaincu que l'encodage deux passes est la bonne méthode,
  la vraie question est maintenant de savoir quel débit utiliser. Il n'y a pas de
  réponse toute faite. Idéalement, vous devriez choisir un débit offrant un compromis
  entre qualité et taille de fichier. Cette valeur varie selon la vidéo source.
</p><p>
  Si la taille ne compte pas, un bon point de départ pour un encodage de très haute
  qualité est environ 2000kbit/s plus ou moins 200kbit/s.
  Pour les vidéos comportant beaucoup d'actions ou de détails ou si vous avez
  de très bon yeux, vous pouvez choisir 2400 ou 2600.
  Pour certains DVDs, vous pourriez ne pas voir de différence à 1400kbps. C'est une
  bonne idée que d'essayer sur des scènes avec différents débits pour se rendre
  compte.
</p><p>
  Si vous avez fixé une taille limite, alors il faudra d'une certaine façon calculer
  le débit.  Mais avant cela, il faudra définir l'espace que
  vous réservez aux piste(s) audio et vous devrez <a class="link" href="#menc-feat-dvd-mpeg4-audio" title="10.1.11. Le son">
  les encoder</a> en premier.
  Vous pourrez alors calculer le débit souhaité avec l'équation
  suivante :
  <code class="systemitem">Débit = (taille_fichier_final_en_Mo - taille_fichier_son_en_Mo) *
  1024 * 1024 / durée_en_secondes * 8 / 1000</code>
  Par exemple, pour ramener deux heures de films sur un CD de 702Mo avec une piste
  son de 60Mo, le débit vidéo sera alors de :
  <code class="systemitem">(702 - 60) * 1024 * 1024 / (120*60) * 8 / 1000 = 740kbit/s</code>
</p></div><div class="sect2" title="10.1.3. Contraintes pour une compression efficace"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-constraints"></a>10.1.3. Contraintes pour une compression efficace</h3></div></div></div><p>
  De par la nature intrinsèque de la compression MPEG, de nombreux
  paramètres entrent en jeu afin d'obtenir une qualité maximale.
  Le MPEG découpe la vidéo en carré de 16x16 appelé macroblocs. Chacun
  d'entre eux est composé de 4 petits (8x8) blocs contenant des informations sur
  la luminosité (intensité) ainsi que de 2 blocs (donc à résolution moitié)
  contenant des informations chromatiques (pour les teintes rouge-cyan et bleu-jaune).
  Même si la longueur et la largeur du film ne sont pas des multiples de 16,
  l'encodeur utilisera des macroblocs de 16x16 pour couvrir l'image entière,
  l'espace restant sera alors perdu.
  Si votre intérêt est de conserver une très bonne qualité, utiliser des résolutions
  non multiples de 16 n'est pas une bonne idée.
</p><p>
  La plupart des DVDs ont aussi des bandes noires sur les bords. Négliger
  ces parties peut <span class="bold"><strong>grandement</strong></span> altérer la qualité de plusieurs manières.
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
  La compression MPEG est aussi dépendante du domaine de transformation des
  fréquences, en particulier du "Discrete Cosine Transform (DCT)" (similaire à une
  transformée de Fourier). Ce type d'encodage est efficace pour les
  formes et les transitions douces, mais fonctionne moins bien avec les contours
  acérés. Afin d'encoder correctement, il demandera plus de bits, sinon des
  artefacts de compression apparaîtront, aussi connus sous le nom de "ringing".
</p><p>
  La transformation en fréquence (DCT) prend place séparément dans chaque
  macrobloc (en fait, dans chaque bloc), donc le problème n'apparaîtra
  que si un bord franc se situe dans ce bloc. Si vos bordures noires commencent
  exactement sur un multiple de 16, ce ne sera pas un problème. En pratique,
  les bordures ne sont jamais bien alignées, et il sera certainement
  nécessaire de les couper pour éviter ces défauts.
</p></li></ol></div><p>
  En plus des transformations au niveau des fréquences, la compression MPEG
  utilise des vecteurs de mouvements représentant les changements d'une image
  à la suivante. Ces vecteurs de mouvements voient leur utilité grandement
  réduite quand la prochaine image à un contenu totalement différent. Quand
  il y a un mouvement qui sort de la région encodée, cela ne pose pas de problème
  aux vecteurs. En revanche, cela peut poser des problèmes avec les bandes
  noires :
</p><div class="orderedlist"><ol class="orderedlist" start="2" type="1"><li class="listitem"><p>
  Pour chaque macrobloc, la compression MPEG stocke un vecteur identifiant
  quelle partie de l'image précédente devrait être copiée dans les macroblocs
  de l'image suivante. Seules les différences devront alors être encodées.
  Si le macrobloc s'étend et prend en compte une des bordures noire de l'image,
  alors le vecteur de mouvement écrasera la bordure noire. Cela veut dire que de
  nombreux bits sont gaspillés pour re-noircir la bande noire ou alors (plus probable) que le vecteur
  de mouvement ne sera pas du tout utilisé et que tout le macrobloc
  devra alors être ré-encodé. Dans tous les cas, l'efficacité de l'encodage en est
  grandement améliorée.
</p><p>
  Une fois encore, ce problème n'existe que si les lignes des bordures noires
  ne sont pas un multiple de 16.
</p></li><li class="listitem"><p>
  Enfin, supposons que l'on ait un macrobloc à l'intérieur d'une image et qu'un
  objet se déplace dans ce bloc proche d'un bord de l'image. Malheureusement, le
  MPEG ne sait pas faire "copier juste la partie qui dans l'image et laisser tomber
  la partie noire". Donc la partie noire sera alors aussi copiée, ce qui fait encore gaspiller
  beaucoup de bits pour compresser un morceau d'image qui n'est pas sensé être là.
</p><p>
  Si l'objet en mouvement parcourt depuis le bord noir jusque dans la zone encodée,
  le MPEG dispose d'optimisation spéciales pour copier en répétition des pixels
  depuis le bord de l'image lorsque celui vient de l'extérieur de la partie encodée.
  Ces optimisations deviennent inutiles quand le film à des bandes noires. Contrairement
  aux problèmes 1 et 2, même les bordures noires multiples de 16 n'aident pas dans ce cas.
</p></li><li class="listitem"><p>
  Malgré le fait que les bordures soient entièrement noires et quelles ne changent jamais,
  elles impliquent un léger surplus dû au plus grand nombre macroblocs à coder.
</p></li></ol></div><p>
  Pour toutes ces raisons, il est préférable de couper entièrement ces bandes
  noires. Dans la même optique, s'il y a une partie contenant du bruit ou de la
  distorsion d'image près d'une bordure, la coupure l'enlèvera et permettra d'avoir
  une amélioration significative de la qualité de l'encodage. Les puristes parmi les vidéophiles
  souhaiteront préserver l'encodage le plus proche possible de
  l'original, à moins qu'ils n'encodent avec un quantificateur constant, la qualité
  gagnée après la suppression des bandes noires améliorera grandement la qualité
  finale de l'encodage au regard des quelques informations perdues.
</p></div><div class="sect2" title="10.1.4. Découpage et Redimensionnement"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-crop"></a>10.1.4. Découpage et Redimensionnement</h3></div></div></div><p>
  Vous vous souvenez de la section précédente que les dimensions (à la fois largeur et hauteur)
  de l'image finale doivent être des
  multiples de 16. Cela peut être réalisé par recadrage (découpe),
  redimensionnement ou une combinaison des deux.
</p><p>
  Lors du recadrage, il y a quelques règles qui doivent être respectées pour éviter
  d'endommager votre film.
  Le format YUV normal, 4:2:0, stocke la chrominance (la couleur) de manière
  sous-échantillonnée, c'est à dire que la chrominance est échantillonnée moitié moins
  souvent que la luminance (intensité). Sur le schéma suivant, L indique l'échantillonage en luminance et C en chrominance.
</p><div class="informaltable"><table border="1" width="40%"><colgroup><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"></colgroup><tbody><tr><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td></tr><tr><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td></tr><tr><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td></tr><tr><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td></tr><tr><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td></tr><tr><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td></tr></tbody></table></div><p>
  Comme vous pouvez le voir, les lignes et colonnes de l'image viennent naturellement par deux.
  Ainsi, les dimensions de votre recadrage ainsi que ses distances au bords d'origine
  <span class="emphasis"><em>doivent</em></span> être paires. Si elles ne
  l'étaient pas, les chrominances et luminances ne seraient plus alignées.
  En théorie, il est possible d'avoir des dimensions impaires, mais cela
  requière un nouvel échantillonage de la chrominance, ce qui
  engendre potentiellement des pertes d'information et n'est pas supporté par
  le filtre de recadrage.
</p><p>
  Ensuite, la vidéo entrelacée est échantillonnée de la façon suivante :
</p><div class="informaltable"><table border="1" width="80%"><colgroup><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"></colgroup><tbody><tr><td colspan="8" align="center">Trame impaire</td><td colspan="8" align="center">Trame paire</td></tr><tr><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td></tr><tr><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td></tr><tr><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td></tr><tr><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td></tr><tr><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td></tr><tr><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td></tr><tr><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td></tr><tr><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td></tr><tr><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td></tr><tr><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td></tr><tr><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td></tr><tr><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td></tr></tbody></table></div><p>
  Comme vous pouvez le voir, le plus petit motif à se répéter est sur 4 lignes.
  Donc, pour la vidéo entrelacée, la hauteur de votre recadrage et sa distance
  verticale aux bords doivent être des multiples de 4.
</p><p>
  La résolution native pour un DVD NTSC est 720x480 et 720x576 pour un
  PAL, mais il y a un indicateur d'aspect qui spécifie que le mode est
  plein-écran (full-screen  4:3) ou bien écran large (wide-screen  16:9).
  Un grand nombre de DVDs (pas tous) en wide-screen ne respecte pas
  strictement le format 16:9, mais est plutôt en 1,85:1 ou 2,35:1 (cinémascope).
  Ceci signifie qu'il y aura des bandes noires à enlever sur la vidéo.
</p><p>
  <span class="application">MPlayer</span> fournit un filtre de détection
  qui détermine le rectangle de recadrage (<tt class="option">-vf cropdetect</tt>).
  Lancer l'application <span class="application">MPlayer</span> avec l'option
  <tt class="option">-vf cropdetect</tt> et il affichera les options de recadrage pour enlever les bandes.
  Vous devez laisser tourner le film suffisamment longtemps pour que toute la zone de l'image soit vue
  de façon à obtenir des valeurs précises.
</p><p>
  Ensuite, testez les valeurs obtenues avec <span class="application">MPlayer</span> en utilisant
  la ligne de commande fournie par <tt class="option">cropdetect</tt>,
  et éventuellement ajustez le rectangle de recadrage.
  Ce filtre <tt class="option">rectangle</tt> offre la possibilité de le positionner
  de façon interactive pendant le film. N'oubliez pas de suivre les
  recommandations précédentes sur la divisibilité des dimensions de l'image afin de ne pas
  désaligner les plans de chrominance.
</p><p>
  Dans certain cas, le redimensionnement n'est pas souhaitable. Il est délicat
  dans le sens vertical avec des vidéos entrelacées, si vous désirez
  conserver l'entrelacement, vous devrez vous abstenir de redimensionner.
  Sans redimensionner, pour utiliser des dimensions multiples de 16,
  il vous faudra recadrer plus petit que l'image. Ne pas recadrer plus grand que l'image
  parce que les bandes noires sont nuisibles à la compression.
</p><p>
  Le MPEG-4 utilisant des macroblocs de 16x16, assurez-vous que les dimensions
  de la vidéo que vous encodez sont des multiples de 16, sinon vous dégraderez la
  qualité, surtout à de faibles débits. Pour ce faire, vous pouvez
  arrondir les dimensions du rectangle de recadrage au multiple de 16 inférieur.
  Comme expliqué plus haut, durant le recadrage, vous devrez augmenter le
  décalage en Y de la moitié de la différence entre l'ancienne et la nouvelle
  hauteur pour que l'image résultante se situe au milieu de l'ancienne. Et à cause
  de la façon dont les vidéos DVD sont échantillonnées, assurez-vous que ce décalage en Y
  est un nombre pair. (En fait, c'est une règle : n'utilisez jamais une
  valeur impaire lors d'un recadrage ou d'un redimensionnement de vidéo).
  Si vous ne vous faites pas à l'idée de perdre quelques pixels,
  alors vous devriez plutôt redimensionner la vidéo. Nous allons voir
  cela dans notre exemple ci-dessous.
  En fait, vous pouvez laisser le filtre <tt class="option">cropdetect</tt> faire
  tout cela pour vous : il a un paramètre optionnel d'arrondi
  <tt class="option">round</tt> qui vaut 16 par défaut.
</p><p>
  Faites aussi attention aux pixels à "demi-noir" sur les bords. Assurez-vous qu'ils sont
  en dehors de votre recadrage, autrement, vous gâcherez des bits qui seraient mieux utilisés ailleurs.
</p><p>
  Après tout ceci, vous obtiendrez une vidéo qui n'est pas tout à fait au format
  1,85:1 ou 2,35:1, mais quelque chose d'assez proche. Vous pourriez alors
  calculer le nouveau format à la main mais <span class="application">MEncoder</span> propose
  une option appelée <tt class="option">autoaspect</tt> pour <code class="systemitem">libavcodec</code>
  qui fera cela pour vous. N'agrandissez surtout pas cette vidéo pour
  obtenir les dimensions standards à moins que vous n'aimiez gâcher votre espace disque.
  Ce changement d'échelle se fait à la lecture, le lecteur utilisera les données
  stockées dans le fichier AVI pour effectuer le bon rendu.
  Malheureusement, tous les lecteurs vidéos n'appliquent pas ce redimensionnement
  automatique, c'est peut-être pour cela que vous voudrez quand même procéder à ce redimensionnement.
</p></div><div class="sect2" title="10.1.5. Choix de la résolution et du débit"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-resolution-bitrate"></a>10.1.5. Choix de la résolution et du débit</h3></div></div></div><p>
  Si vous n'encodez pas dans un mode à quantificateur constant, vous
  devez sélectionner un débit.
  Le concept de débit (bitrate) est assez simple.
  C'est un nombre (moyen) de bits par seconde qui sera utilisé pour stocker votre film.
  Normalement, le débit est mesuré en kilobits (1000 bits) par seconde.
  La taille de votre film sur le disque dur correspond au débit multiplié par sa
  durée plus une petite quantité pour l'"en-tête" (surcoût, voir par exemple la section sur
  <a class="link" href="#menc-feat-dvd-mpeg4-muxing-avi-limitations" title="10.1.12.2. Limitations du conteneur AVI">les conteneurs AVI</a>).
  D'autres paramètres comme le redimensionnement, le recadrage, etc. ne modifieront
  <span class="bold"><strong>pas</strong></span> la taille du fichier sauf si vous y
  changez aussi le débit.
</p><p>
  Le débit n'est <span class="bold"><strong>pas</strong></span> proportionnel
  à la résolution. Ce qui veut dire qu'un fichier en 320x240 à
  200 kbit/sec n'aura pas la même qualité que le même film en 640x480 à
  800 kbit/sec ! A cela, deux raisons :
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
  <span class="bold"><strong>Visuelle</strong></span> : Les artefacts de
  compression MPEG se remarquent plus s'il sont agrandis.
  Les artefacts apparaissent à l'échelle des blocs (8x8). L'oeil humain ne
  voit pas autant d'erreurs dans 4800 petits blocs aussi facilement que qu'il les
  voit dans 1200 grands blocs (en supposant une visualisation en plein écran
  dans les deux cas).
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>Théorique</strong></span> : Quand vous réduisez la
  taille d'une image mais que vous continuez à utiliser les mêmes tailles de
  bloc (8x8) pour la transformation dans le domaine fréquentiel, vous
  déplacez plus de données vers les hautes fréquences.  Grossièrement
  dit : chaque pixel contient plus de détails qu'avant.
  Donc, même si votre image de taille réduite ne contient plus qu'un quart de
  l'information dans le domaine spatial, elle peut toujours contenir une grande part
  de l'information dans le domaine fréquentiel (en supposant que les hautes fréquences
  étaient sous-utilisées dans votre originale en 640x480).
  </p></li></ol></div><p>
</p><p>
  Les anciens guides recommandaient de choisir un débit et une résolution basés
  sur "1 bit par pixel", mais ce n'est que peu justifié avec les raisons évoquées ci-dessus.
  Une meilleure estimation reste que le débit augmente proportionnellement à la
  racine carrée de la résolution, donc une image 320x240 à 400 kbit/sec
  sera comparable à une en 640x480 à 800 kbit/sec.
  Cela n'a pas été strictement vérifié par la théorie ou une quelconque méthode.
  De plus, pour un film donné, le résultat variera en fonction du bruit, des détails,
  du degré de mouvement, etc.. Il est futile de donner des recommandations générales
  du style : un nombre de bits par longueur de diagonale (similaire au
  bit par pixel, en utilisant la racine carrée).
</p><p>
  Jusqu'à maintenant, nous avons discuté de la difficulté de choisir le débit et la résolution.
</p><div class="sect3" title="10.1.5.1. Calcul de la résolution"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-dvd-mpeg4-resolution-bitrate-compute"></a>10.1.5.1. Calcul de la résolution</h4></div></div></div><p>
  Les étapes qui suivent vous guideront dans le calcul de la résolution de votre
  encodage sans trop distordre la vidéo, en prenant en compte les différents types
  d'information sur la source vidéo.
  En premier lieu, il faut calculer le format de l'encodage :
  <code class="systemitem">ARc = (Wc x (ARa / PRdvd )) / Hc</code>

</p><div class="itemizedlist" title="Où :"><p class="title"><b>Où :</b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Wc et Hc sont la largeur et la hauteur de la vidéo recadrée,
</p></li><li class="listitem"><p>
  ARa est le format affiché, généralement 4/3 ou 16/9,
</p></li><li class="listitem"><p>
  PRdvd est le ratio des pixels du DVD qui normalement est égal à 1,25 (=720/576)
  pour le PAL et 1,5(=720/480) pour le NTSC,
</p></li></ul></div><p>
</p><p>
  Ensuite, vous pouvez calculer la résolution X et Y en tenant compte du facteur
  de Qualité de Compression (CQ) :
  <code class="systemitem">ResY = INT(SQRT( 1000*Bitrate/25/ARc/CQ )/16) * 16</code>
  et
  <code class="systemitem">ResX = INT( ResY * ARc / 16) * 16</code>
</p><p>
  D'accord, mais c'est quoi ce CQ ?
  le CQ représente le nombre de bit par pixel et par image encodée. Grosso modo,
  plus le CQ est grand, moins il y aura de chances de voir apparaître des artefacts
  de compression. En tout cas, si vous avez une limite de taille pour votre film
  (1 ou 2 CDs par exemple), il y a donc une limite au nombre de bits total que vous
  pouvez lui allouer et il est donc nécessaire de trouver le bon compromis entre
  compressibilité et la qualité.
</p><p>
  Le CQ dépend du débit, de l'efficacité du codec vidéo et de la résolution
  du film.
  Une manière d'augmenter le CQ, c'est de réduire la résolution du film
  puisque le débit est calculé en fonction de la taille finale désirée et la
  longueur du  film qui sont constantes.
  Avec les codecs ASP MPEG-4 comme le
  <code class="systemitem">Xvid</code> ou le
  <code class="systemitem">libavcodec</code>,
  un CQ en dessous de 0,18 donne
  généralement une image type mosaïque car il n'y pas assez de bits pour coder
  les informations de chaque macrobloc (le MPEG-4, comme les autres codecs, groupe
  les pixels compressés par blocs pour compresser l'image, s'il n'y a pas assez
  de bits, les bords de ce macrobloc deviennent alors visibles).
  Donc il est raisonnable de prendre un CQ entre 0,20 et 0,22 pour une copie tenant
  sur 1 CD, et entre 0,26 et 0,28 pour une copie sur 2 CDs avec des options d'encodage
  standard.
  Des options d'encodage plus avancées telles que celles listées ici pour le
  <a class="link" href="#menc-feat-mpeg4-lavc-example-settings" title="10.3.4. Exemples de paramètres d'encodage">
    <code class="systemitem">libavcodec</code>
  </a> et le
  <a class="link" href="#menc-feat-xvid-example-settings" title="10.4.4. Exemples de paramètres d'encodage">
    <code class="systemitem">Xvid</code>
  </a>
  devraient permettre d'obtenir la même qualité avec un CQ se situant entre
  0,18 et 0,20 pour une copie sur 1 CD et 0,24 à 0,26 pour une copie sur 2 CDs.
  Avec les codecs MPEG-4 AVC comme <code class="systemitem">x264</code>,
  vous pouvez utiliser un CQ se situant entre 0,14 et 0,16 avec des options
  standards d'encodage, et même descendre entre 0,10 et 0,12 avec les
  <a class="link" href="#menc-feat-x264-example-settings" title="10.5.2. Exemples de paramètre d'encodage">options avancées de
    <code class="systemitem">x264</code>
  </a>.
</p><p>
  Notez que le CQ n'est qu'un indicateur puisqu'il dépend directement du contenu encodé,
  un CQ de 0,18 pourrait sembler parfait pour un film de Bergman, mais
  trop petit pour un film comme Matrix contenant beaucoup de scènes d'actions.
  A l'opposé, il est inutile d'aller au delà de 0,30 pour le CQ, vous ne feriez que gâcher
  de l'espace disque sans gain notable en qualité.
  Notez aussi, comme cela a été dit plus haut que les vidéos en
  plus petites résolutions auront besoin d'un plus grand CQ (comparé à la résolution
  d'un DVD par exemple) pour un rendu correct.
</p></div></div><div class="sect2" title="10.1.6. Les filtres"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-filtering"></a>10.1.6. Les filtres</h3></div></div></div><p>
  Apprendre à utiliser les filtres vidéos de <span class="application">MEncoder</span>
  est essentiel pour créer des fichiers bien encodés.
  Toutes les transformations vidéos sont exécutées au travers de filtres, comme le recadrage (découpe),
  le redimensionnement, l'ajustement de couleur, la suppression du bruit, l'ajustement
  de la netteté, le dés-entrelacement, le téléciné, le téléciné inverse, ou l'effacement
  des macroblocs trop visible, pour n'en nommer que quelques un.
  Avec le grand nombre de formats d'entrée supporté, la variété des
  filtres disponibles dans <span class="application">MEncoder</span> est l'un de ses principaux
  avantages sur d'autres programmes similaires.
</p><p>
  Les filtres sont chargés dans la chaîne grâce à l'option -vf :

  </p><pre class="screen">-vf filtre1=options,filtre2=options,...</pre><p>

  La plupart des filtres acceptent plusieurs options numériques séparées par des double-points (:), mais
  la syntaxe varie d'un filtre à l'autre, aussi lisez la page manuel pour avoir les détails sur les filtres
  que vous souhaitez utiliser.
</p><p>
  Les filtres agissent sur la vidéo dans l'ordre de leur chargement. Par exemple,
  la chaîne suivante :
  </p><pre class="screen">-vf crop=688:464:12:4,scale=640:464</pre><p>
  recadrera d'abord une zone de 688x464 depuis le bord supérieur gauche mais
  avec un décalage de (12;4), puis redimensionnera la vidéo pour obtenir du
  640x464.
</p><p>
  Certains filtres ont besoin d'être chargés au début (ou proche du début) de la chaîne pour
  profiter d'informations du décodeur vidéo qui seraient perdues ou invalidées par d'autres filtres.
  Les principaux exemples sont <tt class="option">pp</tt> (postprocessing, seulement
  dans le cas d'un estompage des macroblocs ou des enlèvements des artefacts de
  compression), le <tt class="option">spp</tt> (un autre post processus pour enlever les
  artefacts MPEG), le <tt class="option">pullup</tt> (téléciné inverse), et <tt class="option">
  softpulldown</tt> (conversion du soft téléciné en hard
  telecine).
</p><p>
  En général, il vaut mieux utiliser le moins de filtres possibles afin de conserver
  l'encodage le plus proche possible du DVD source. Le recadrage est souvent
  nécessaire (comme expliqué plus haut), mais évitez de redimensionner l'image.
  Bien qu'il soit parfois préférable de réduire la taille de l'image plutôt que d'utiliser
  un quantificateur plus élevé, nous voulons éviter tout ceci.  Souvenez-vous que
  nous avons décidé au départ d'échanger des bits pour de la qualité.
</p><p>
  Aussi, n'ajustez pas le gamma, le contraste, la luminosité, etc. Ces réglages
  peuvent être bons chez vous mais pas sur un autre écran. Ils doivent être
  appliqués lors de la lecture uniquement.
</p><p>
  Une chose que vous pouvez vouloir faire est de passer la vidéo à travers un filtre trés léger
  antibruit, comme par exemple <tt class="option">-vf hqdn3d=2:1:2</tt>.
  Il s'agit encore une fois d'optimiser l'utilisation de l'espace
  disque :  pourquoi le gaspiller à encoder du bruit alors qu'il sera
  là de toutes façons à la lecture ?
  Augmenter les paramètres de <tt class="option">hqdn3d</tt> améliorera encore la
  compressibilité, mais si vous les augmentez trop, vous risquez de dégrader
  l'image.
  Les valeurs suggérées ci-dessus (<tt class="option">2:1:2</tt>) sont plutôt
  conservatrices, n'hésitez pas à les augmenter et à regarder le résultat par
  vous-même.
</p></div><div class="sect2" title="10.1.7. Entrelacement et Téléciné"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-interlacing"></a>10.1.7. Entrelacement et Téléciné</h3></div></div></div><p>
  Presque tous les films sont tournés en 24 images par seconde. Puisque le NTSC est en 30000/1001 images par seconde,
  certains traitements doivent être appliqués pour l'adapter au débit NTSC.
  Ce procédé est appelé 3:2 pulldown, plus communément appelé téléciné (car
  le pulldown est souvent appliqué durant la phase de conversion en téléciné),
  et de façon simpliste, il fonctionne en ralentissant le film à 24000/1001 images par seconde,
  et en répétant une image sur 4.
</p><p>
  Aucun traitement spécifique n'est cependant appliqué à la vidéo des DVDs
  PAL, qui fonctionnent à 25 images par seconde (techniquement, PAL peut être téléciné, ce qui est
  appelé 2:2 pulldown, mais ceci n'est pas un problème en pratique). Le film
  en 24 images par seconde est simplement lu en 25 images par seconde. Le résultat est que la vidéo tourne
  légèrement plus vite, mais à moins d'être un extra-terrestre, vous ne verrez probablement pas la
  différence. Le son de la plupart des DVDs PAL a été corrigé de façon à sonner correctement
  quand il est lu à 25 images par seconde, même si la piste
  audio (et donc le film entier) a une durée 4% plus courte que les DVDs NTSC.
</p><p>
  Puisque la vidéo d'un DVD PAL n'a pas été modifiée, vous n'avez pas à vous soucier
  de la cadence de défilement des images. La source est en 25 images par seconde, et votre copie sera en 25 images par seconde. Cependant,
  si vous recopier un film d'un DVD NTSC, vous pourrez avoir besoin d'appliquer
  du téléciné inverse.
</p><p>
  Pour les films tournés en 24 images par seconde, la vidéo du DVD NTSC est soit en 30000/1001
  téléciné, soit en 24000/1001 progressif et prévu pour être téléciné à la volée
  par le lecteur DVD. D'un autre coté, les séries TV sont généralement
  seulement entrelacées, pas télécinées. Ce n'est pas une règle absolue :
  certaines
  séries TV sont entrelacées (comme 'Buffy contre les vampires') alors que d'autres
  sont un mélange de progressif et d'entrelacé (comme 'Dark Angel', ou '24 heures
  chrono').
</p><p>
  Il est fortement recommandé de lire la section <a class="link" href="#menc-feat-telecine" title="10.2. Comment gérer le téléciné et l'entrelacement des DVDs NTSC">
  Comment gérer le téléciné et le dés-entrelacement avec les DVDs NTSC</a>
  pour apprendre à gérer les différentes possibilités.
</p><p>
  De toutes façons, si vous copiez principalement des films, vous rencontrerez de
  la vidéo 24 images par seconde progressive ou télécinée, et dans ce cas vous pouvez
  utiliser le filtre <tt class="option">pullup</tt> avec
  <tt class="option">-vf pullup,softskip</tt>.
</p></div><div class="sect2" title="10.1.8. Encodage de vidéos entrelacées"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-encoding-interlaced"></a>10.1.8. Encodage de vidéos entrelacées</h3></div></div></div><p>
  Si la vidéo que vous désirez encoder est entrelacée (NTSC ou PAL), vous devez décider
  si vous voulez la dés-entrelacer ou non.
  Si le dés-entrelaçage rend votre film visionable sur des appareils à balayage progressif
  tels que les écrans d'ordinateur ou les projecteurs, cela a un coût :
  le taux de 50 ou
  60 000/1001 trames par secondes passera à 25 ou 30 000/1001 et en gros, la moitié de
 l'information de votre film sera perdue pendant les scènes avec beaucoup de mouvement.
</p><p>
  Ainsi, si votre encodage a pour but l'archivage de haute qualité, il est recommandé
  de ne pas dés-entrelacer.
  Le film pourra toujours être dés-entrelacé lors de sa lecture sur un appareil à
  balayage progressif.
  La puissance des ordinateurs actuels oblige les lecteurs à utiliser pour ce
  faire des filtres de désentrelaçage qui offrent un rendu final imparfait.
  Mais les lecteurs du futur seront capables de mimer l'affichage entrelacé des
  téléviseurs.
</p><p>
  Des précautions particulières doivent être prises lors d'un travail sur
  vidéo entrelacée :
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
  La hauteur de recadrage et son décalage vertical doivent être des multiples de 4.
</p></li><li class="listitem"><p>
  Tout redimensionnement vertical doit être effectué en mode entrelacé.
</p></li><li class="listitem"><p>
  Les filtres de post-traitement et d'antibruit peuvent ne pas marcher comme
  souhaité si vous ne prenez pas soin de ne travailler que sur une trame
  à la fois et ils peuvent détériorerla video s'ils sont utilisés incorrectement.
</p></li></ol></div><p>
  En tenant compte de ces recommandations, voici notre premier exemple :
</p><pre class="screen">
mencoder <em class="replaceable"><code>capture.avi</code></em> -mc 0 -oac lavc -ovc lavc -lavcopts \
    vcodec=mpeg2video:vbitrate=6000:ilme:ildct:acodec=mp2:abitrate=224
</pre><p>
Notez l'usage des options <tt class="option">ilme</tt> et <tt class="option">ildct</tt>.
</p></div><div class="sect2" title="10.1.9. Remarques sur la synchronisation Audio/Vidéo"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-av-sync"></a>10.1.9. Remarques sur la synchronisation Audio/Vidéo</h3></div></div></div><p>
  Le système de synchronisation audio/vidéo de <span class="application">MEncoder</span>
  a été créé dans le but de pouvoir lire et restaurer même des fichiers dont la synchronisation
  est faussée ou été mal faite, ou des fichiers corrompus.
  Cependant, dans certains cas, ils peuvent créer des duplications ou des sauts
  d'image non désirés et peut-être une légère désynchronisation lorsqu'ils sont utilisés sur
  des fichiers sources propres (bien sûr, les questions de synchronisation A/V ne se posent
  que si vous encodez ou copiez la bande son en même temps que vous encodez la video, ce qui
  est fortement encouragé).
  Ainsi, vous devez peut-être passer à la synchronisation A/V basique
  grâce à l'option  <tt class="option">-mc 0</tt>.
  Vous pouvez la mettre dans votre fichier de configuration
  <code class="systemitem">~/.mplayer/mencoder</code> tant que vous ne travaillez
  que sur des fichiers sources propres (DVD, capture télé, encodage MPEG-4
  de haute qualité, etc) et des fichiers ASF/RM/MOV non-détériorés.
</p><p>
  Si vous désirez vous protéger encore plus contre les sauts et les duplications
  étranges d'images, vous pouvez utiliser à la fois <tt class="option">-mc 0</tt> et
  <tt class="option">-noskip</tt>.
  Cela empêche <span class="emphasis"><em>toute</em></span> synchronisation A/V et copie les
  images une à une.
  Vous ne pouvez donc pas l'utiliser avec des filtres qui ajoutent ou enlèvent
  des image de façon imprévisible ou si votre fichier source a un nombre d'images
  par seconde variable !
  L'option <tt class="option">-noskip</tt> n'est donc généralement pas recommandée.
</p><p>
  Il a été signalé que l'encodage audio nommé "3 passes" que <span class="application">MEncoder</span>
  supporte provoquait des désynchronisations A/V.
  Cela arrive en tout cas quand il est utilisé en même temps que certains
  filtres, donc, il est maintenant recommandé de <span class="emphasis"><em>ne pas</em></span>
  utiliser le mode audio "3 passes".
  Cette possibilité n'est conservé que pour des raisons de compatibilité
  et pour les utilisateurs experts qui savent quand l'utiliser.
  Si vous n'avez jamais entendu parler de mode "3 passes", oubliez que cela a
  été mentioné !
</p><p>
  Il a été signalé des désynchronisations A/V lors d'encodage à partir de
  l'entrée standard
  avec <span class="application">MEncoder</span>. Ne faites pas ça ! Utilisez
  toujours un fichier, un CD/DVD ou autre comme source.
</p></div><div class="sect2" title="10.1.10. Choisir le codec video"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-codec"></a>10.1.10. Choisir le codec video</h3></div></div></div><p>
  Le choix du meilleur codec video dépend de plusieurs facteurs comme
  la taille, la qualité, la lecture en transit (streamability), la
  facilité d'utilisation, la popularité qui, pour certains d'entre
  eux dépendent de préférences personnelles et de contraintes techniques.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <span class="bold"><strong>L'efficacité de la compression</strong></span> :
  Il est assez évident que les codec des toutes dernières générations
  sont faits pour augmenter la qualité et la compression.
   Donc, les auteurs de ce guide et de nombreuses autres personnes
   pensent que vous ne pouvez pas vous tromper
  <sup>[<a name="fn-menc-feat-dvd-mpeg4-codec-cpu" href="#ftn.fn-menc-feat-dvd-mpeg4-codec-cpu" class="footnote">1</a>]</sup>
  si vous choisissez un codec MPEG-4 AVC comme le
  <code class="systemitem">x264</code> au lieu de codecs MPEG-4 ASP
  tels que le <code class="systemitem">libavcodec</code> MPEG-4 ou le
  <code class="systemitem">Xvid</code>.
  (Les développeurs de codec peuvent être intéressés par la lecture de l'avis
  de Michael Niedermayer's sur
  « <a class="ulink" href="http://guru.multimedia.cx/?p=10" target="_top">why MPEG4-ASP sucks</a> ».)
  De la même manière, vous devriez obtenir une meilleure qualité en utilisant
  un codec MPEG-4 ASP plutôt que MPEG-2.
</p><p>
  Néanmoins, les nouveaux codecs qui sont en développement peuvent souffrir
  de bugs qui n'ont pas encore été repérés et qui peuvent saboter un encodage.
  Ceci est malheureusement parfois le prix à payer pour l'utilisation de
  technologies de pointe.
</p><p>
  De plus, commencer à utiliser un nouveau codec impose que vous passiez
  du temps pour vous habituer à ses options de façon à ce que vous
  sachiez quoi ajuster pour parvenir à la qualité désirée.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Compatibilité du matériel</strong></span> :
  Cela prend habituellement beaucoup de temps pour que les lecteurs vidéos
  de salon se mettent à supporter les derniers codecs vidéos.
  Ainsi, la plupart ne supportent que le MPEG-1 (comme les VCD, XVCD et KVCD),
  le MPEG-2 (comme les DVD, SVCD and KVCD) et le MPEG-4 ASP (comme les
  DivX, LMP4 <code class="systemitem">libavcodec</code> et
  <code class="systemitem">Xvid</code>)
  (attention : toutes les fonctionnalités MPEG-4 ASP ne sont généralement
  pas supportées).
  Référez-vous aux spécifications techniques de votre lecteur (si elles
  existent), ou surfez sur le net pour plus d'infos.
</p></li><li class="listitem"><p>
    <span class="bold"><strong>La meilleure qualité par temps
  d'encodage</strong></span> :
  Les codecs qui sont sortis depuis un certain temps (comme l'encodeur MPEG-4
  de <code class="systemitem">libavcodec</code> et
  <code class="systemitem">Xvid</code>) sont habituellement
  largement optimisés avec toutes sortes d'algorithmes astucieux et des
  routines optimisées en assembleur SIMD.
  C'est pourquoi ils tendent à fournir la meilleure qualité par temps
  d'encodage.
  Par contre, ils peuvent avoir des options très avancées qui, si elles
  sont enclenchées, rendent l'encodage très lent pour des gains limités.
</p><p>
  Si vous recherchez la vitesse, vous devriez conserver à peu près les
  réglages par défaut du codec vidéo (bien que vous deviez quand même essayer
  les autres options qui sont mentionnées dans d'autres sections de ce guide).
</p><p>
  Vous pouvez aussi vouloir choisir un codec multi-threadé, bien que ce
  ne soit utile que pour les utilisateurs de machines avec plusieurs
  processeurs.
  Le codec MPEG-4 de <code class="systemitem">libavcodec</code>
  le permet mais les gains en temps sont limités et cela procure une
  légère baisse de qualité d'image.
  L'encodage multi-threadé du codec
  <code class="systemitem">Xvid</code>, activé par l'option
  <tt class="option">threads</tt>, peut être utilisé pour améliorer la vitesse
  d'encodage — de typiquement 40-60% — avec très peu voire aucune
  détérioration de l'image.
  Le codec <code class="systemitem">x264</code> permet aussi
  l'encodage multi-threadé ce qui l'accélère pour le moment de 94% par CPU
  avec une baisse de PSNR comprise entre 0.005dB et 0.01dB avec un réglage classique.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Les préférences personnelles</strong></span> :
  Là les choses deviennent presque irrationnelles :
  pour la même raison pour
  laquelle certains s'accrochaient encore à DivX 3 alors que d'autres
  codecs plus modernes faisaient des merveilles depuis des années,
  certaines personnes préfèrent <code class="systemitem">Xvid</code>
  ou le codec MPEG-4 de <code class="systemitem">libavcodec</code>
  par rapport à <code class="systemitem">x264</code>.
</p><p>
  Vous devriez vous faire votre propre opinion.
  Ne croyez pas ceux qui ne jurent que par un seul codec.
  Prenez quelques échantillons de sources brutes et comparez les
  différentes options et codecs pour en trouver un qui vous convienne
  le mieux.
  Le meilleur codec est celui que vous maîtrisez et qui vous semble
  le plus joli à vos yeux
  <sup>[<a name="fn-menc-feat-dvd-mpeg4-codec-playback" href="#ftn.fn-menc-feat-dvd-mpeg4-codec-playback" class="footnote">2</a>]</sup> !
</p></li></ul></div><p>
  Référez-vous à la section
  <a class="link" href="#menc-feat-selecting-codec" title="9.1. Sélection des codecs et du format du container">Sélection des codecs et du format du conteneur</a>
  pour avoir une liste des codecs supportés.
</p></div><div class="sect2" title="10.1.11. Le son"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-audio"></a>10.1.11. Le son</h3></div></div></div><p>
  Le son est un problème bien plus simple à résoudre : si la qualité vous
  intéresse, laissez le flux audio tel quel.
  Même les flux AC-3 5.1 utilisent au plus 448Kbit/s, et tous ces bits sont
  utiles.
  Vous pourriez être tenté de convertir le son en Ogg Vorbis de haute qualité,
  mais le fait que vous n'ayez pas d'entrée AC-3 (dolby digital) sur votre chaîne HIFI
  aujourd'hui ne signifie pas que vous n'en n'aurez pas demain.
  Pensez au futur en conservant le flux AC-3.
  Vous pouvez le garder en le copiant directement dans le flux vidéo
  <a class="link" href="#menc-feat-mpeg4" title='9.3. Encodage MPEG-4 deux passes ("DivX")'>pendant l'encodage</a>. Vous pouvez aussi l'extraire
  avec l'intention de l'inclure dans des conteneurs tels que NUT ou Matroska.
</p><pre class="screen">
mplayer <em class="replaceable"><code>fichier_source.vob</code></em> -aid 129 -dumpaudio -dumpfile <em class="replaceable"><code>son.ac3</code></em>
</pre><p>
  mettra dans le fichier <em class="replaceable"><code>son.ac3</code></em> la piste audio
  129 du fichier <em class="replaceable"><code>fichier_source.vob</code></em> (NB : les
  fichiers VOB des DVD utilisent normalement un système de numérotation
  différent pour les pistes audio, ainsi la piste numéro 129 est la deuxième
  piste du fichier).
</p><p>
  Mais parfois vous n'aurez d'autres choix que de re-compresser le son afin de laisser
  plus de place à la vidéo.
  La plupart des gens optent alors pour le codec MP3 ou le Vorbis.
  Bien que ce dernier soit très efficace, le MP3 est bien mieux accepté par les
  lecteurs de salon même si cette tendance évolue.
</p><p>
  N'utilisez <span class="emphasis"><em>pas</em></span> l'option <tt class="option">-nosound</tt>
  si vous avez l'intention d'ajouter du son à votre encodage vidéo, même plus tard.
  En effet, même s'il est probable que tout fonctionne correctement, l'utilisation de
  l'option <tt class="option">-nosound</tt> peut cacher certains problèmes dans la ligne de
  commande de votre encodage. En d'autres mots, avoir une bande son pendant l'encodage
  vous certifie que vous pourrez avoir une synchronisation propre (en supposant que
  vous ne receviez pas de messages comme <span class="quote">« <span class="quote">Trop de paquets audio dans la mémoire tampon
  </span> »</span>)
</p><p>
  Vous aurez besoin que <span class="application">MEncoder</span> traite le son.
  Vous pouvez par exemple copier la bande son originale pendant l'encodage avec l'option
  <tt class="option">-oac copy</tt> ou la convertir en "léger" 4kHz mono WAV PCM
  avec l'option <tt class="option">-oac pcm -channels 1 -srate 4000</tt>.
  Autrement, dans certains cas, cela générera un fichier vidéo qui ne se synchronisera pas avec l'audio.
  Cela arrive quand le nombre de trames vidéos dans le fichier source ne correspond
  pas exactement à la longueur totale des trames audio ou lorsqu'il y a une
  discontinuité ou des frames audio en trop ou manquantes. La bonne
  façon de gérer ce type de problèmes est d'insérer un silence ou bien de couper l'audio
  à ces emplacements.
  Cependant, <span class="application">MPlayer</span> ne sait pas le faire, donc si vous
  dé-multiplexez l'AC-3 et l'encodez avec une autre application (ou le sortez en PCM
  avec <span class="application">MPlayer</span>), les discontinuités subsistent et la seule
  façon de les corriger est de supprimer ou de rajouter des trames.
  Tant que <span class="application">MEncoder</span> voit la piste son pendant qu'il
  encode la vidéo, il peut faire ces suppressions/rajouts (ce qui fonctionne habituellement
  car cela se produit lorsque l'image est totalement noire ou lors de changement de scènes) mais si
  <span class="application">MEncoder</span> ne voit pas la piste son, il encodera
  toutes les trames telles quelles et elles ne correspondront pas au fichier
  audio final, quand, par exemple, vous multiplexerez la piste vidéo et la piste
  son dans un fichier Matroska.
</p><p>
  Dans un premier temps, il faudra convertir le son du DVD en fichier WAV que
  le codec audio peut utiliser en entrée.
  Par exemple :
  </p><pre class="screen">mplayer <em class="replaceable"><code>fichier_source.vob</code></em> \
   -ao pcm:file=<em class="replaceable"><code>fichier_destination_son.wav</code></em> \
   -vc dummy -aid 1 -vo null</pre><p>
  aura pour effet de prendre la seconde piste audio du fichier <em class="replaceable"><code>fichier_source.vob</code></em>
  pour la placer dans le fichier <em class="replaceable"><code>fichier_destination_son.wav</code></em>.
  Vous voudrez ensuite peut-être normaliser le son avant l'encodage, car les pistes
  audio des DVDs sont généralement enregistrées à un faible volume.
  Vous pouvez par exemple utiliser l'outil <span class="application">normalize</span> qui est
  normalement disponible sur la plupart des distributions.
  Si vous utilisez Windows, un outil comme <span class="application">BeSweet</span>
  fera le même travail.
  Vous le compresserez ensuite en Vorbis ou MP3.
  Par exemple :
  </p><pre class="screen">oggenc -q1 <em class="replaceable"><code>fichier_destination_son.wav</code></em></pre><p>
  encodera <em class="replaceable"><code>fichier_destination_son.wav</code></em> avec une qualité de 1,
  ce qui est équivaut à environ 80Kb/s, soit le minimum si vous voulez de la qualité.
  Notez que <span class="application">MEncoder</span> ne sait actuellement pas
  multiplexer les pistes audio Vorbis dans le fichier final car il ne supporte que les conteneurs
  AVI ou MPEG en sortie, chacun pouvant mener à des problèmes de synchronisation A/V avec certains lecteurs
  quand le fichier AVI contient des flux audio VBR comme Vorbis. Ne vous inquiétez pas, ce
  document vous montrera comment y arriver avec un programme tiers.
</p></div><div class="sect2" title="10.1.12. Le multiplexage"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-muxing"></a>10.1.12. Le multiplexage</h3></div></div></div><p>
  Maintenant que vous avez encodé votre vidéo, vous désirez très certainement
  la multiplexer avec une ou plusieurs pistes audio vers un conteneur comme l'AVI,
  le MPEG, le Matroska ou le NUT.
  <span class="application">MEncoder</span> ne supporte nativement que des conteneurs
  AVI ou MPEG.
  Par exemple :
  </p><pre class="screen">mencoder -oac copy -ovc copy -o <em class="replaceable"><code>sortie_film.avi</code></em> \
  -audiofile <em class="replaceable"><code>entrée_audio.mp2</code></em> <em class="replaceable"><code>entrée_video.avi</code></em></pre><p>
  Cela aura pour effet de fusionner le fichier vidéo <em class="replaceable"><code>entrée_video.avi</code></em>
  et le fichier audio <em class="replaceable"><code>entrée_audio.mp2</code></em> vers un seul fichier AVI
  <em class="replaceable"><code>sortie_film.avi</code></em>.
  Cette commande marche avec le MPEG-1 layer I, II, ou III (plus connu sous le nom
  de MP3), WAV et aussi quelques autres formats audio.
</p><p>
  Une des caractéristiques expérimentales de <span class="application">MEncoder</span>
  est le support de <code class="systemitem">libavformat</code>,
  une bibliothèque issue du projet FFmpeg qui supporte le multiplexage et dé-multiplexage
  vers une grande variété de conteneurs.
  Par exemple :
  </p><pre class="screen">mencoder -oac copy -ovc copy  -o <em class="replaceable"><code>sortie_film.asf</code></em> \
  -audiofile <em class="replaceable"><code>entrée_audio.mp2</code></em> <em class="replaceable"><code>entrée_video.avi</code></em> \
  -of lavf -lavfopts format=asf</pre><p>
  Cela fera strictement la même chose que pour l'exemple précédent, sauf que le conteneur
  de sortie sera l'ASF.
  Souvenez-vous que ce support est encore très expérimental (mais il s'améliore de jour en jour),
  et ne marchera que si vous compilez <span class="application">MPlayer</span> avec l'option
  activée <code class="systemitem">libavformat</code> (ce qui veut dire que
  les packets binaires ne marcheront peut-être pas).
</p><div class="sect3" title="10.1.12.1. Améliorer la fiabilité du multiplexage et de la synchronisation Audio/Video"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-dvd-mpeg4-muxing-filter-issues"></a>10.1.12.1. Améliorer la fiabilité du multiplexage et de la synchronisation Audio/Video</h4></div></div></div><p>
  Vous avez peut-être fait l'expérience de sérieux problèmes de synchronisation A/V
  en essayant de multiplexer votre video avec la bande son, où, quelque soit
  le décalage audio, vous n'arrivez pas à obtenir une synchronisation correcte.

  Ceci peut arriver quand vous utilisez des filtres video qui dupliquent ou enlèvent des images,
  comme le filtre téléciné inverse. Il est vivement conseillé d'utiliser le
  filtre vidéo <tt class="option">harddup</tt> à la fin de votre chaîne de filtres pour éviter
  ce type de problème.
</p><p>
  Sans l'option <tt class="option">harddup</tt>, si <span class="application">MEncoder</span>
  veut dupliquer une image, il s'en remet au multiplexeur pour mettre une marque
  dans le conteneur de façon à ce que la dernière image soit affichée 2 fois
  pour maintenir la synchronisation sans avoir à écrire une nouvelle image.
  Avec l'option <tt class="option">harddup</tt>, <span class="application">MEncoder</span>
  va simplement passer une deuxième fois la dernière image dans la chaîne de filtres.
  Ce qui veut dire que l'encodeur recevra <span class="emphasis"><em>exactement</em></span> la même
  image 2 fois, puis les compressera. Il en résultera un fichier légèrement plus grand,
  mais cela ne posera plus de problèmes quand vous démultiplexerez ou remultiplexerez vers un autre conteneur.
</p><p>
  Il se peut aussi que vous n'ayiez pas d'autres choix que d'utiliser l'option <tt class="option">harddup</tt>
  avec certains conteneurs peu liés à <span class="application">MEncoder</span> comme ceux
  supportés par <code class="systemitem">libavformat</code>, qui peuvent ne pas supporter
  la duplication d'image au niveau du conteneur.
</p></div><div class="sect3" title="10.1.12.2. Limitations du conteneur AVI"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-dvd-mpeg4-muxing-avi-limitations"></a>10.1.12.2. Limitations du conteneur AVI</h4></div></div></div><p>
  Bien que ce soit le format de conteneur le plus largement supporté après le MPEG-1, l'AVI a
  des inconvénients majeurs. Le plus évident d'entre eux est peut-être l'entête.
  Pour chaque morceau (chunk) du fichier AVI, 24 octets sont gâchés en entête et index.
  Ce qui se traduit par environ 5Mo par heure, soit entre 1 et 2,5% du volume du fichier pour un film
  de 700Mo. Cela peut ne pas sembler important, mais cela peut représenter la différence entre
  pouvoir utiliser un débit de 700 kbits/sec au lieu de 714 kbits/sec pour une même video.
  Et pour la qualité, chaque bit compte.
</p><p>
  En plus de cette grosse inefficacité, l'AVI a aussi d'autres limitations
  majeures :
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
  Seuls les contenus à nombre d'images par seconde constant peuvent être stockés. Ceci est particulièrement
  limitant si vous voulez stocker des fichiers aux contenus hétérogènes (par
  exemple un mélange de vidéo NTSC et de films sur pellicule).
  En fait, il existe des astuces qui permettent de stocker des contenus à nombre d'images par seconde variable
  dans un AVI, mais cela multiplie par au moins 5 la taille (déjà énorme) des entêtes et ce n'est donc
  pas réellement applicable.
</p></li><li class="listitem"><p>
  L'audio dans un fichier AVI doit soit avoir un débit constant (CBR), soit une
  taille de trame constante (i.e. toutes les trames décodent le même
  nombre d'échantillons).
  Malheureusement, le codec le plus efficace, Vorbis, ne satisfait aucun de ces critères.
  Donc, si vous envisagez de stocker un fichier en AVI, vous devrez utiliser un
  codec moins performant comme le MP3 ou l'AC-3.
</p></li></ol></div><p>
  Ceci dit, <span class="application">MEncoder</span> ne supporte actuellement pas
  l'encodage à images par seconde variable ou le Vorbis;
  Donc vous n'allez peut-être pas considérer les 2 points précédents commes des limitations
  si vous n'utilisez que <span class="application">MEncoder</span> pour encoder.
  Pourtant, il est possible d'utiliser <span class="application">MEncoder</span> uniquement pour
  l'encodage vidéo, puis d'utiliser des outils externes pour l'encodage de l'audio et
  multiplexer le tout vers un conteneur différent.
</p></div><div class="sect3" title="10.1.12.3. Le multiplexage dans le conteneur Matroska"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-dvd-mpeg4-muxing-matroska"></a>10.1.12.3. Le multiplexage dans le conteneur Matroska</h4></div></div></div><p>
  Matroska est un conteneur libre, ouvert, qui vise à offrir de nombreuses fonctionnalités avancées
  que des conteneurs plus anciens comme l'AVI ne peut gérer.
  Par exemple, le Matroska supporte le débit vidéo variable (VBR), un framerate
  variable (VFR), chapitres, attachement de fichiers, code de détection d'erreur
  (EDC) et des codecs A/V modernes comme le "Advanced Audio Coding" (AAC), le
  "Vorbis" ou le "MPEG-4 AVC" (H.264), presque tous n'étant pas supportés par l'AVI.
</p><p>
  Les outils nécessaires à la création de fichier Matroska sont appelés collectivement <span class="application">mkvtoolnix</span>,
  et sont disponibles pour la plupart des systèmes Unix mais aussi pour <span class="application">Windows</span>.
  Puisque Matroska est un standard ouvert, vous trouverez peut-être d'autres outils
  qui vous conviendront mieux, mais comme mkvtoolnix est le plus connu, et
  qu'il est supporté par Matroska lui même, nous allons parler de son utilisation.
</p><p>
  La façon la plus simple de démarrer avec Matroska, c'est probablement d'utiliser
  <span class="application">MMG</span>, l'interface graphique livrée avec <span class="application">mkvtoolnix</span>,
  et de suivre le <a class="ulink" href="http://www.bunkus.org/videotools/mkvtoolnix/doc/mkvmerge-gui.html" target="_top"> guide de l'interface graphique de mkvmerge (mmg)</a>.
</p><p>
  Vous pouvez aussi multiplexer des fichiers vidéo et audio en utilisant la
  ligne de commande :
  </p><pre class="screen">mkvmerge -o <em class="replaceable"><code>sortie.mkv</code></em> <em class="replaceable"><code>entree_video.avi</code></em> \
  <em class="replaceable"><code>entree_audio1.mp3</code></em> <em class="replaceable"><code>entree_audio2.ac3</code></em></pre><p>
  Ceci aura pour effet de multiplexer le fichier vidéo <em class="replaceable"><code>entree_video.avi</code></em>
  avec les deux fichiers audio <em class="replaceable"><code>entre_audio1.mp3</code></em> et <em class="replaceable"><code>entree_audio2.ac3</code></em>
  dans un fichier Matroska <em class="replaceable"><code>sortie.mkv</code></em>.
  Matroska, comme mentionné ci-dessus, est capable de faire bien plus que ça, comme plusieurs
  pistes audio (avec un réglage précis de la synchronisation audio/video), chapitres,
  sous titres, coupures, etc... Merci de bien vouloir vous reporter à la documentation
  de cette application pour plus d'informations.
</p></div></div></div><div class="sect1" title="10.2. Comment gérer le téléciné et l'entrelacement des DVDs NTSC"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-telecine"></a>10.2. Comment gérer le téléciné et l'entrelacement des DVDs NTSC</h2></div></div></div><div class="sect2" title="10.2.1. Introduction"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-telecine-intro"></a>10.2.1. Introduction</h3></div></div></div><p title="Qu'est ce que le téléciné ?"><b>Qu'est ce que le téléciné ? </b>
  Si vous ne comprenez pas grand-chose à ce qui est écrit dans le document présent,
  je vous suggère de visiter cette page (en anglais) :
  <a class="ulink" href="http://en.wikipedia.org/wiki/Telecine" target="_top">http://en.wikipedia.org/wiki/Telecine</a>
  Ce lien pointe vers une documentation relativement claire et compréhensible sur ce qu'est le téléciné.
</p><p title="Une note à propos des nombres"><b>Une note à propos des nombres. </b>
  Beaucoup de documents, incluant l'article pointé par le lien précédent, renvoient à un
  nombre de trames par secondes pour la vidéo NTSC de 59.94 ce qui correspond à
  29.97 images complètes par secondes (pour le télécine et l'entrelacé) et à 23.976 (pour
  le progressif). Pour simplifier, certains documents arrondissent même à 60, 30 et 24.
</p><p>
  En toute rigueur, tous ces nombres sont des approximations. Les vidéos NTSC en noir et blanc
  avaient exactement 60 trames par secondes, mais 60000/1001 a été choisi par la suite
  pour s'accomoder de la couleur en conservant la compatibilité avec les téléviseurs noir et blanc de l'époque.
  La vidéo numérique NTSC (par exemple sur un DVD) est aussi en 60000/1001 trames
  par seconde. A partir de là, la vidéo entrelacée et télécinée est faite pour être
  en 30000/1001 images par seconde; les vidéos progressives en 24000/1001 images par secondes.
</p><p>
  De plus anciennes versions de la documentation <span class="application">MEncoder</span>
  et plusieurs e-mails archivés de liste de diffusion font référence à
  59.94, 29.97, et 23.976.
  Toute la documentation de <span class="application">MEncoder</span> a été mise à jour
  pour utiliser les valeurs fractionnaires, et vous devriez aussi les utiliser.
</p><p>
  <tt class="option">-ofps 23.976</tt> est incorrect.
  <tt class="option">-ofps 24000/1001</tt> doit être utilisé à la place.
</p><p title="Comment le téléciné est-il utilisé ?"><b>Comment le téléciné est-il utilisé ? </b>
  Toutes les vidéos qui sont censées être affichées sur des téléviseurs NTSC
  doivent être en 60000/1001 trames par secondes. Les téléfilms sont souvent
  filmés directement en 60000/1001 trames par secondes, alors que la majorité des
  films pour le cinéma est en 24000/1001 images par seconde. Quand les DVD
  contenant des films faits pour le cinéma sont masterisés, la vidéo est alors convertie pour la
  télévision par un processus appelé le téléciné.
</p><p>
  Sur un DVD, la vidéo n'est jamais vraiment stockée à 60000/1001 trames par seconde.
  Si la vidéo est d'origine en 60000/1001, chaque paire de trames est alors combinée
  pour former une image, ce qui donne 30000/1001 images par seconde. Les lecteurs de
  DVD de salon lisent alors les drapeaux incorporés au flux vidéo pour déterminer
  si la première ligne à afficher doit être paire ou impaire.
</p><p>
  Normalement, les contenus à 24000/1001 images par seconde restent comme cela
  lorsqu'ils sont encodés pour un DVD, et le lecteur DVD doit alors faire
  la conversion du téléciné à la volée. Parfois, la vidéo est télécinée <span class="emphasis"><em>avant</em></span>
  d'être stockée sur le DVD, même si c'était originalement du 24000/1001 images
  par seconde, cela devient du 60000/1001 trames par seconde. Quand elles sont stockées
  sur le DVD, les trames sont combinées par paires pour former 30000/1001 images
  par seconde.
</p><p>
  Quand on regarde les images formées individuellement à partir de la vidéo en
  60000/1001 trames par seconde, téléciné ou autre, l'entrelacement est
  clairement visible et ce, qu'il y ait un mouvement ou non car l'une des trames (disons
  les lignes impaires) représente un moment dans le temps 1/(60000/1001) seconde
  plus tard que les autres. Regarder une vidéo entrelacée sur un ordinateur semble
  laid parce que l'écran a une résolution plus élevée et
  parce que la vidéo est affichée image après image au lieu de trame après trame.
</p><div class="itemizedlist" title="Notes :"><p class="title"><b>Notes :</b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Cette section ne s'appliquent qu'aux DVDs NTSC, pas aux PAL.
  </p></li><li class="listitem"><p>
  Les lignes de commande <span class="application">MEncoder</span> données en exemple au long de ce
  document ne sont <span class="bold"><strong>pas</strong></span> à utiliser tel quels.
  Elles représentent juste le minimum requis pour encoder la vidéo qui s'y rapportent.
  La meilleure méthode pour faire un bon encodage de DVD ou procéder à des réglages avancés de
<code class="systemitem">libavcodec</code> pour atteindre une qualité optimum sont des
  questions en dehors des propos de cette section.
  Référez-vous aux autres sections contenues dans
  <a class="link" href="#encoding-guide" title="Chapitre 10. L'encodage avec MEncoder">L'encodage avec
<span class="application">MPlayer</span></a>.
  </p></li><li class="listitem"><p>
  Il y a quelques notes en bas de page spécifiques à ce guide, elles sont
  liées comme ceci :
<a class="link" href="#menc-feat-telecine-footnotes" title="10.2.4. Notes de bas de pages">[1]</a>
  </p></li></ul></div></div><div class="sect2" title="10.2.2. Comment savoir quel type de vidéo vous avez ?"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-telecine-ident"></a>10.2.2. Comment savoir quel type de vidéo vous avez ?</h3></div></div></div><div class="sect3" title="10.2.2.1. Progressive"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-progressive"></a>10.2.2.1. Progressive</h4></div></div></div><p>
  Les vidéos progressives ont été filmées initialement à 24000/1001 images par seconde et stockées
  sur le DVD sans altération.
</p><p>
  Quand vous lisez un DVD en progressif dans <span class="application">MPlayer</span>,
  la ligne suivante sera affichée dès le début de la lecture :

  </p><pre class="screen"> demux_mpg: 24000/1001 images par seconde progressive NTSC content detected, switching framerate.</pre><p>

  Dorénavent, demux_mpg ne devrait jamais dire qu'il trouve
  "une vidéo NTSC à 30000/1001 images par secondes."
</p><p>
  Quand vous regardez une vidéo progressive, vous ne devriez jamais voir d'entrelacement.
  Mais soyez attentif, il arrive parfois qu'un peu de téléciné se glisse sans prévenir.
  Il m'est arrivé de tomber sur des émissions de télévisions en DVD avec une
  seconde de téléciné à chaque changement de scène ou à d'autres emplacements au hasard.
  Une autre fois, la première moitié du DVD était en progressif
  et la seconde en téléciné. Si vous voulez en être <span class="emphasis"><em>vraiment</em></span> sûr,
  vous pouvez scanner le film entier :

  </p><pre class="screen">mplayer dvd://1 -nosound -vo null -benchmark</pre><p>

  L'utilisation de l'option <tt class="option">-benchmark</tt> fait lire <span class="application">MPlayer</span>
  aussi vite qu'il le peut - en fonction du matériel, cela peut prendre un certain
  temps. Chaque fois que demux_mpg signale un changement, la ligne immédiatement au dessus
  vous donnera le temps auquel ce changement est arrivé.
</p><p>
  Parfois, la vidéo progressive sur les DVDs est signalée en tant que "soft-telecine"
  parce qu'elle est censée être télécinée par le lecteur DVD.
</p></div><div class="sect3" title="10.2.2.2. Téléciné"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-telecined"></a>10.2.2.2. Téléciné</h4></div></div></div><p>
  Les vidéos télécinées ont été filmées en 24000/1001 et sont télécinées
  <span class="emphasis"><em>avant</em></span> d'être gravées sur DVD.
</p><p>
  <span class="application">MPlayer</span> ne signale jamais une variation d'images par secondes
  quand il lit une vidéo télécinée.
</p><p>
  Au visionnage d'une vidéo télécinée, vous verrez des artefacts d'entrelacement
  qui semblent "clignoter": ils apparaissent et disparaissent répététivement.
  Vous pouvez le voir plus précisément en suivant les indications
  ci-dessous :
  </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><pre class="screen">mplayer dvd://1</pre></li><li class="listitem"><p>
    Chercher une scène avec beaucoup de mouvements.
    </p></li><li class="listitem"><p>
    Utiliser la touche <span class="keycap"><b>.</b></span> pour avancer image par image.
    </p></li><li class="listitem"><p>
    Observer le schéma de répétition des images entrelacées et progressives. Si vous obtenez
   PPPII, PPPII, PPPII,... alors la vidéo est
  télécinée. Si vous observez d'autres schémas de répétition, alors la vidéo a peut-être été
  télécinée avec une méthode non-standard; <span class="application">MEncoder</span> ne sait pas convertir un téléciné
  non-standard en progressif sans dégradation. Si aucun schéma n'est visible, c'est
  alors sûrement une vidéo entrelacée.
    </p></li></ol></div><p>
</p><p>
  Parfois, la vidéo progressive sur les DVDs est signalée en tant que "soft-telecine"
  parce qu'elle est censée être télécinée par le lecteur DVD.
  Parfois, la vidéo télécinée sur les DVDs est signalée "hard-telecine". Le hard-teleciné
  étant à 60000/1001 images par seconde, le lecteur DVD lit la vidéo sans manipulation.
</p><p>
  Une autre façon de savoir si la source est télécinée ou non, est de la lire avec
  l'option <tt class="option">-vf pullup</tt> et <tt class="option">-v</tt> depuis une ligne de commande
  et de voir comment l'option <tt class="option">pullup</tt> combine les trames.
  Si la source est télécinée, vous devriez voir sur la console un schéma de répétition 3:2 avec des
  alternances de <code class="systemitem">0+.1.+2</code> et <code class="systemitem">0++1</code>.
  L'avantage de cette technique est que vous n'avez pas besoin de visionner la
  source pour l'identifier, ce qui peut être utile pour automatiser la procédure d'encodage, ou
  pour effectuer cette procédure à distance à travers une connexion lente.
</p></div><div class="sect3" title="10.2.2.3. Entrelacée"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-interlaced"></a>10.2.2.3. Entrelacée</h4></div></div></div><p>
  Les vidéos entrelacées ont été filmées en 60000/1001 trames par seconde,
  puis stockées sur le DVD en tant que 30000/1001 images par seconde. L'effet
  est le résultat de la combinaison de paires
  de trames dans une image. Chaque trame est censée être décalée de 1/(60000/1001)
  de seconde les unes des autres. Quand elles sont affichées simultanément, la différence devient
  visible.
</p><p>
  Comme pour la vidéo télécinée, <span class="application">MPlayer</span> ne signale
  jamais une variation d'images par secondes quand il lit une vidéo entrelacée.
</p><p>
  Si vous regardez attentivement une vidéo entrelacée image par image avec la
  touche <span class="keycap"><b>.</b></span>, vous verrez l'entrelacement de chaque trame.
</p></div><div class="sect3" title="10.2.2.4. Mélange de progressive et télécinée"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-mixedpt"></a>10.2.2.4. Mélange de progressive et télécinée</h4></div></div></div><p>
  Toutes les vidéos qui mélangent progressif et téléciné ont été filmées en 24000/1001
  images par seconde, puis certaines parties ont été converties en téléciné.
</p><p>
  Quand <span class="application">MPlayer</span> lit ce type de fichier, il doit jongler
  (souvent répététivement) entre "le 30000/1001 images par seconde NTSC" et
  "le 24000/1001 images par secondes NTSC progressif".
  Regardez les messages de <span class="application">MPlayer</span> pour voir ces messages.
</p><p>
  Vous devriez aller voir la section "30000/1001 images par seconde NTSC" afin d'être
  sûr que c'est vraiment du téléciné, et pas seulement de l'entrelacé.
</p></div><div class="sect3" title="10.2.2.5. Mélange de vidéo progressive et entrelacée"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-mixedpi"></a>10.2.2.5. Mélange de vidéo progressive et entrelacée</h4></div></div></div><p>
  Dans les vidéos qui mélangent le progressif et le téléciné, les flux vidéos
  progressifs et entrelacés sont combinés l'un à l'autre.
</p><p>
  Cette catégorie ressemble au "mélange de progressive et télécinée" jusqu'à
  ce que vous examiniez la partie en 30000/1001 images par seconde et que vous vous aperceviez
  qu'il n'y a pas de trace de téléciné.
</p></div></div><div class="sect2" title="10.2.3. Comment encoder chaque catégorie ?"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-telecine-encode"></a>10.2.3. Comment encoder chaque catégorie ?</h3></div></div></div><p>
  Comme évoqué au départ, les exemples de lignes de commande
  <span class="application">MEncoder</span> ne doivent <span class="bold"><strong>pas</strong></span> être utilisés tels quels;
  ils fournissent uniquement les paramètres minimum pour encoder chaque catégorie.
</p><div class="sect3" title="10.2.3.1. Progressive"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-progressive"></a>10.2.3.1. Progressive</h4></div></div></div><p>
  La vidéo progressive ne nécessite pas de filtrage particulier pour l'encodage.
  Le seul paramètre qui ne doit pas être omis est : <tt class="option">-ofps
  24000/1001</tt>.
  Sinon, <span class="application">MEncoder</span> essayera d'encoder en
  30000/1001 images par seconde et dupliquera certaines images.
</p><p>
  </p><pre class="screen">mencoder dvd://1 -oac copy -ovc lavc -ofps 24000/1001</pre><p>
</p><p>
  Il n'est pas rare de se trouver avec une vidéo qui semble progressive mais qui
  contient en fait quelques courts passages en téléciné. A moins d'être vraiment
  sûr l'état de la vidéo, il est préférable de traiter la vidéo comme un
  <a class="link" href="#menc-feat-telecine-encode-mixedpt" title="10.2.3.4. Mélange de progressive et télécinée">mélange de progressive et télécinée</a>.
  La perte en performance est faible <a class="link" href="#menc-feat-telecine-footnotes" title="10.2.4. Notes de bas de pages">[3]</a>.
</p></div><div class="sect3" title="10.2.3.2. Téléciné"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-telecined"></a>10.2.3.2. Téléciné</h4></div></div></div><p>
  A partir d'une video télécinée, il est possible de retrouver le format original en 24000/1001 avec
  un processus appelé téléciné-inverse. Plusieurs filtres de
  <span class="application">MPlayer</span> permettent ce processus;
  le meilleur d'entre eux, <tt class="option">pullup</tt>, est décrit à la section
  <a class="link" href="#menc-feat-telecine-encode-mixedpt" title="10.2.3.4. Mélange de progressive et télécinée">Mélange de progressif et téléciné</a>.
</p></div><div class="sect3" title="10.2.3.3. Entrelacée"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-interlaced"></a>10.2.3.3. Entrelacée</h4></div></div></div><p>
  Dans la plupart des cas pratiques, il n'est pas possible de récupérer complètement une
  vidéo progressive depuis une entrelacée. Pour ce faire, la seule manière sans
  perdre la moitié de la résolution verticale est de doubler le nombre d'images par seconde et
  d'essayer de "deviner" ce que devraient être les lignes manquantes pour chacune des trames
  (ce qui a des inconvénients, voir méthode 3).
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
  Encodez la vidéo sous forme entrelacée. Normalement, l'entrelacement
  ruine la capacité de compression de l'encodeur, mais <code class="systemitem">libavcodec</code>
  possède deux paramètres spécialement définis pour gérer le stockage de la vidéo entrelacée de manière
  plus satisfaisante : <tt class="option">ildct</tt> et <tt class="option">ilme</tt>.
  Aussi, l'utilisation de <tt class="option">mbd=2</tt> est-elle fortement
  recommandée <a class="link" href="#menc-feat-telecine-footnotes" title="10.2.4. Notes de bas de pages">[2] </a>
  car cela encodera les macroblocs non-entrelacés à des endroits où il n'y
  a pas de mouvements. Notez que <tt class="option">-ofps</tt> n'est <span class="emphasis"><em>pas</em></span> nécessaire ici.

  </p><pre class="screen">mencoder dvd://1 -oac copy -ovc lavc -lavcopts ildct:ilme:mbd=2</pre><p>
  </p></li><li class="listitem"><p>
  Utilisez un filtre de désentrelacement avant l'encodage. Plusieurs de
  ces filtres sont disponibles, chacun avec ses avantages et inconvénients.
  Consultez <tt class="option">mplayer -pphelp</tt> et <tt class="option">mplayer -vf help</tt>
  pour voir lesquels sont
  disponibles (selectionnez les lignes contenant "deint" avec grep),
  lisez <a class="ulink" href="http://guru.multimedia.cx/deinterlacing-filters/" target="_top">comparaison des filtres de désentrelacement</a>
  de Michael Niedermayer,
  et fouillez dans les
  <a class="ulink" href="http://www.mplayerhq.hu/design7/info.html#mailing_lists" target="_top">
  listes de diffusion MPlayer</a>, vous trouverez nombres de discussions sur les
  différents filtres.
  Encore une fois, le nombre d'images par seconde ne change pas, donc l'option
  <tt class="option">-ofps</tt> n'est pas nécessaire. Une dernière chose : le
  désentrelacement doit être fait après recadrage
  <a class="link" href="#menc-feat-telecine-footnotes" title="10.2.4. Notes de bas de pages">[1]</a>
  et avant redimensionnement.

  </p><pre class="screen">mencoder dvd://1 -oac copy -vf pp=lb -ovc lavc</pre><p>
  </p></li><li class="listitem"><p>
  Malheureusement, cette option est boguée dans
  <span class="application">MEncoder</span> ; cela devrait bien marcher avec
  <span class="application">MEncoder G2</span>, mais on n'en est pas encore là. Vous
  risquez de subir des plantages. Peu importe, l'option <tt class="option">-vf tfields</tt>
  est de créer une image complète à partir de chaque trame, ce qui
  donne le débit de 60000/1001 images par seconde. L'avantage de cette approche est qu'aucune
  donnée n'est jamais perdue. Cependant, vu que chaque image vient avec seulement
  une trame, les lignes manquantes doivent être interpolées d'une façon ou d'une autre.
  Il n'y a pas de très bonne méthode générant les données manquantes, et donc le
  résultat sera un peu similaire à celui obtenu en utilisant des filtres de désentrelacement.
  Générer les lignes manquantes crée aussi d'autres problèmes,
  simplement parce que la quantité de données double. Ainsi, de plus haut débit (en kbit/s)
  d'encodage sont nécessaires pour conserver la qualité, et plus de puissance CPU est
  utilisée pour l'encodage et le décodage. <tt class="option">tfields</tt> a  plusieurs
  options pour gérer la création des lignes manquantes de chaque image. Si vous
  utilisez cette méthode, alors regardez le manuel, et prenez
  l'option qui semble la meilleure pour votre matériel. Notez que lors de l'utilisation de
  <tt class="option">tfields</tt> vous
  <span class="bold"><strong>devez</strong></span> définir les deux options <tt class="option">-fps</tt>
  et <tt class="option">-ofps</tt> à deux fois le nombre d'image par seconde de votre source originale.

  </p><pre class="screen">mencoder dvd://1 -oac copy -vf tfields=2 -ovc lavc \
	-fps 60000/1001 -ofps 60000/1001</pre><p>
  </p></li><li class="listitem"><p>
  Si vous avez prévu de beaucoup réduire la taille, vous pouvez
  n'extraire et n'encoder qu'une des deux trames. Bien sûr, vous perdrez la
  moitié de la résolution verticale, mais si vous avez prévu la réduire au moins de
  moitié par rapport à l'original, cette perte n'aura que peu d'importance. Le résultat
  sera un fichier progressif à 30000/1001 images par seconde. La procédure est
  d'utiliser l'option <tt class="option">-vf field</tt>, puis de recadrer
  <a class="link" href="#menc-feat-telecine-footnotes" title="10.2.4. Notes de bas de pages">[1]</a> et de redimensionner
  de manière appropriée. Souvenez-vous que vous devrez ajuster la dimension pour
  compenser la réduction de moitié de la résolution verticale.
  </p><pre class="screen">mencoder dvd://1 -oac copy -vf field=0 -ovc lavc</pre><p>
  </p></li></ol></div></div><div class="sect3" title="10.2.3.4. Mélange de progressive et télécinée"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-mixedpt"></a>10.2.3.4. Mélange de progressive et télécinée</h4></div></div></div><p>
  Afin de convertir une vidéo composée de passages progressifs et de télécinés en vidéo entièrement
  progressive, les parties en téléciné doivent être télécinées-inverse. Il y a trois
  moyens d'accomplir cela, comme décrit ci-dessous. Notez que vous devez
  <span class="bold"><strong>toujours</strong></span> téléciner-inverse avant tout
  redimensionnement et aussi (sauf si vous savez vraiment ce que vous faites)
  avant tout découpage <a class="link" href="#menc-feat-telecine-footnotes" title="10.2.4. Notes de bas de pages">[1]</a>.
  L'option <tt class="option">-ofps 24000/1001</tt> est nécessaire ici parce que la sortie vidéo
  sera en 24000/1001 images par seconde.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  L'option <tt class="option">-vf pullup</tt> est faite pour téléciner-inverse la source vidéo
  télécinée tandis que les données progressives sont laissées intactes. Afin
  de fonctionner correctement, <tt class="option">pullup</tt> <span class="bold"><strong>doit</strong></span>
  être suivi par le filtre <tt class="option">softskip</tt> ou <span class="application">MEncoder</span> plantera.
  <tt class="option">pullup</tt> est, cependant, la méthode la plus propre et la plus précise
  disponible pour encoder le téléciné et le "Mélange de progressive et télécinée".

</p><pre class="screen">mencoder dvd://1 -oac copy -vf pullup,softskip \
  -ovc lavc -ofps 24000/1001
</pre><p>
  </p></li><li class="listitem"><p>
      <tt class="option">-vf filmdint</tt> est similaire à
      <tt class="option">-vf pullup</tt> : les deux filtres tentent d'appairer
      deux demi-trames pour construire une trame complète.
      Néanmoins, <tt class="option">filmdint</tt> desentrelacera les demi-trames
      orphelines tandis que <tt class="option">pullup</tt> les éliminera.
      De plus, les deux filtres ont des codes de détection différents et
      <tt class="option">filmdint</tt> peut avoir tendence à faire correspondre les
      demi-trames un peu moins souvent.
      Le contenu video à traiter et votre sensibilité personnelle fera qu'un
      filtre fonctionnera mieux qu'un autre.
      Sentez-vous libre d'ajuster les options des filtres si vous rencontrez
      des problèmes avec l'un d'eux (consultez le manuel pour plus de
      détails).
      Pour la plupart des supports vidéo de qualité, les deux filtres
      fonctionnent plutôt bien : débuter avec l'un ou l'autre ne fera pas
      grande différence.
</p><pre class="screen">mencoder dvd://1 -oac copy -vf filmdint \
  -ovc lavc -ofps 24000/1001
</pre><p>
</p></li><li class="listitem"><p>
  Une méthode plus ancienne consiste à, au lieu de téléciner-inverse les
  passages télécinés,
  téléciner les parties non-télécinées
  et ensuite téléciner-inverse la vidéo entière.
  Cela semble confus ? softpulldown est un filtre qui parcours une
  vidéo et rend téléciné le fichier entier.
  Si nous faisons suivre softpulldown par
  soit <tt class="option">detc</tt> ou soit <tt class="option">ivtc</tt>, le résultat final
  sera entièrement progressif. L'option <tt class="option">-ofps 24000/1001</tt> est nécessaire.

</p><pre class="screen">mencoder dvd://1 -oac copy -vf softpulldown,ivtc=1 \
  -ovc lavc -ofps 24000/1001
</pre><p>
  </p></li></ul></div></div><div class="sect3" title="10.2.3.5. Mélange de progressive et d'entrelacée"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-mixedpi"></a>10.2.3.5. Mélange de progressive et d'entrelacée</h4></div></div></div><p>
  Il y a deux façons de gérer cette catégorie, chacune étant un
  compromis. Vous devez faire votre choix en vous basant sur la durée/localisation
  de chaque type.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Traitez-le comme une vidéo progressive. Les parties entrelacées sembleront entrelacées,
  et certaines des trames entrelacées devront être jetées, ayant pour résultat un
  peu de sautillement irrégulier. Vous pouvez utiliser un filtre de post-traitement si
  vous le voulez, mais cela peut sensiblement dégrader les parties progressives.
  </p><p>
  Cette option ne devrait surtout pas être utilisée si vous prévoyez
  afficher la vidéo finale sur un appareil entrelacé (avec une carte TV,
  par exemple). Si vous avez des images entrelacées dans une vidéo en 24000/1001
  images par seconde, elles seront télécinées en même temps que les images progressives.
  La moitié des "images" entrelacées sera affichée pour une durée de trois trames
  (3/(60000/1001) secondes), ce qui a pour résultat un effet pichenette de
  "retour en arrière" ce qui est du plus mauvais effet. Si vous tentez
  quand même ceci, vous <span class="bold"><strong>devez</strong></span> utiliser un filtre
  désentrelaçant comme <tt class="option">lb</tt> ou <tt class="option">l5</tt>.
  </p><p>
  Cela peut aussi être une mauvaise idée pour l'affichage progressif.
  Cela laissera tomber des paires de trames entrelacées consécutives,
  résultant en une discontinuité qui peut être plus visible qu'avec la seconde méthode,
  ce qui affichera certaines images progressives en double. Une vidéo entrelacée à
  30000/1001 images par seconde est déjà un peu hachée parce qu'elle devrait en
  réalité être projetée à 60000/1001 trames par seconde, pour que les images dupliquées
  ne se voient pas trop.
  </p><p>
  De toutes façons, il vaut mieux analyser votre contenu et voir comment
  vous voulez l'afficher. Si votre vidéo est à 90% progressive et que vous ne
  pensez pas la regarder sur une TV, vous devriez favoriser une approche progressive.
  Si elle est seulement à moitié progressive, vous voudrez probablement l'encoder
  comme si elle était entièrement entrelacée.
  </p></li><li class="listitem"><p>
  Traitez-le comme entrelacée. Certaines images des parties progressives auront
  besoin d'être dupliquées, ce qui entraînera un sautillement irrégulier. Encore une
  fois, les filtres désentrelaçant peuvent légèrement dégrader les parties
  progressives.
  </p></li></ul></div></div></div><div class="sect2" title="10.2.4. Notes de bas de pages"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-telecine-footnotes"></a>10.2.4. Notes de bas de pages</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p title="A propos de recadrage :"><b>A propos de recadrage : </b>
  Les données vidéo d'un DVD sont stockées dans un format appelé YUV 4:2:0. Dans
  la vidéo YUV, la luminance ("luminosité") et la chrominance ("couleur")
  sont stockés séparément. Parce que l'oeil humain est d'une certaine façon moins sensible
  à la couleur qu'à la luminosité, dans une image YUV 4:2:0 il n'y a
  qu'un pixel de chrominance pour 4 pixels de luminance. Dans une image progressive,
  chaque carré de quatre pixels de luminance (deux de chaque coté) a un pixel de
  chrominance commun. Vous devez recadrer le YUV 4:2:0 progressif à des résolutions paires,
  et utiliser un décalage pair. Par exemple,
  <tt class="option">crop=716:380:2:26</tt> est correct mais
  <tt class="option">crop=716:380:3:26 </tt> ne l'est pas.
  </p><p>
  Quand vous avez à faire à un YUV 4:2:0 entrelacé, la situation devient un peu plus
  compliquée. Au lieu d'avoir chaque série de quatre pixels de luminance se partager un pixel
  de chrominance dans une <span class="emphasis"><em>image</em></span>, chaque série de quatre pixels de luminance
  dans chaque <span class="emphasis"><em>champs</em></span> se partage un pixel de chrominance. Quand les
  trames sont entrelacées pour former une image, chaque ligne de scan fait un
  pixel de haut. Maintenant, au lieu d'avoir la série de quatre pixels de luminance
  dans un carré, il y a deux pixels côte à côte sur une ligne et les deux autres pixels
  de la série sont côte à côte deux lignes de scan plus bas. Les deux pixels de luminance dans la
  ligne de scan intermédiaire appartiennent à une autre trame, et donc partage un
  pixel de chrominance différent avec deux pixels de luminance deux lignes de scan plus loin.
  Toute cette confusion rend nécessaire d'avoir des dimensions de recadrage
  et de décalage verticales multiples de quatre. Dans le sens horizontal, il suffit que les
  dimensions restent paires.
  </p><p>
  Pour la vidéo télécinée, il est recommandé que le recadrage se fasse après le
  téléciné-inverse. Une fois que la vidéo est progressive, il vous suffit de recadrer par
  nombres pairs. Si vous voulez accélérer légèrement la vitesse d'encodage, en jouant sur les
  dimensions de recadrage, vous devez recadrer verticalement par multiples de quatre
  ou bien le filtre de téléciné-inverse n'aura pas les données adéquates.
  </p><p>
  Pour la vidéo entrelacée (pas télécinée), vous devez toujours recadrer verticalement
  par multiples de quatre à moins que vous n'utilisiez l'option <tt class="option">-vf field</tt> avant.
  </p></li><li class="listitem"><p title="A propos des paramètres d'encodage et de la qualité :"><b>A propos des paramètres d'encodage et de la qualité : </b>
  Le fait que l'option <tt class="option">mbd=2</tt> soit recommandée ici ne veut pas dire
  qu'elle ne devrait pas être utilisée autre part. Avec <tt class="option">trell</tt>,
  <tt class="option">mbd=2</tt> est l'une des deux options de <code class="systemitem">libavcodec</code>
  qui augmente le plus la qualité, et vous devriez toujours les utiliser
  à moins que la baisse de vitesse d'encodage ne soit prohibitive
  (ex : encodage en temps réel). Il y a bien d'autres options de
  <code class="systemitem">libavcodec</code> qui augmentent la qualité d'encodage
  (et réduisent sa rapidité) mais ceci est au delà du propos de ce document.
  </p></li><li class="listitem"><p title="A propos de la performance de pullup :"><b>A propos de la performance de pullup : </b>
  Utiliser l'option <tt class="option">pullup</tt> (avec <tt class="option">softskip</tt>)
  sur une vidéo progressive est sans danger, et c'est généralement une bonne idée à moins qu'il
  soit certain que la source est entièrement progressive.
  La perte de performance est faible dans la plupart des cas. Sur un encodage minimal,
  <tt class="option">pullup</tt> ralentit <span class="application">MEncoder</span> de 50%.
  L'ajout du traitement du son et d'options avancées de <tt class="option">lavcopts</tt> masquent cette
  différence, en limitant la perte de performance due à l'utilisation de <tt class="option">pullup</tt> à 2%.
  </p></li></ol></div></div></div><div class="sect1" title="10.3. Encodage avec la famille de codec libavcodec"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-enc-libavcodec"></a>10.3. Encodage avec la famille de codec <code class="systemitem">libavcodec</code></h2></div></div></div><p>
<code class="systemitem">libavcodec</code>
fournit un encodage simple pour plusieurs formats vidéos et audio intéressants.
Vous pouvez encoder vers les codecs suivant
(la liste suivante est plus ou moins à jour) :
</p><div class="sect2" title="10.3.1. Codecs vidéo de libavcodec"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-enc-libavcodec-video-codecs"></a>10.3.1. Codecs vidéo de <code class="systemitem">libavcodec</code></h3></div></div></div><p>
</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Nom du codec vidéo</th><th>Description</th></tr></thead><tbody><tr><td>mjpeg</td><td>
   Motion JPEG
  </td></tr><tr><td>ljpeg</td><td>
   JPEG sans perte
  </td></tr><tr><td>jpegls</td><td>JPEG LS</td></tr><tr><td>targa</td><td>image Targa</td></tr><tr><td>gif</td><td>image GIF</td></tr><tr><td>bmp</td><td>image BMP</td></tr><tr><td>png</td><td>image PNG</td></tr><tr><td>h261</td><td>
  H.261
  </td></tr><tr><td>h263</td><td>
  H.263
  </td></tr><tr><td>h263p</td><td>
  H.263+
  </td></tr><tr><td>mpeg4</td><td>
  ISO standard MPEG-4 (DivX, compatible Xvid)
  </td></tr><tr><td>msmpeg4</td><td>
  pre-standard MPEG-4 variant par MS, v3 (AKA DivX3)
  </td></tr><tr><td>msmpeg4v2</td><td>
  pre-standard MPEG-4 by MS, v2 (utilisé dans les vieux fichiers ASF)
  </td></tr><tr><td>wmv1</td><td>
  Windows Media Vidéo, version 1 (AKA WMV7)
  </td></tr><tr><td>wmv2</td><td>
  Windows Media Vidéo, version 2 (AKA WMV8)
  </td></tr><tr><td>rv10</td><td>
  RealVidéo 1.0
  </td></tr><tr><td>rv20</td><td>
  RealVidéo 2.0
  </td></tr><tr><td>mpeg1vidéo</td><td>
  MPEG-1 vidéo
  </td></tr><tr><td>mpeg2vidéo</td><td>
  MPEG-2 vidéo
  </td></tr><tr><td>huffyuv</td><td>
  compression sans perte
  </td></tr><tr><td>ffvhuff</td><td>FFmpeg huffyuv sans perte modifié</td></tr><tr><td>asv1</td><td>
  ASUS Vidéo v1
  </td></tr><tr><td>asv2</td><td>
  ASUS Vidéo v2
  </td></tr><tr><td>ffv1</td><td>
  codec vidéo sans perte de FFmpeg
  </td></tr><tr><td>svq1</td><td>
  Sorenson vidéo 1
  </td></tr><tr><td>flv</td><td>
  Sorenson H.263 utilisé dans Vidéo Flash
  </td></tr><tr><td>flashsv</td><td>Flash Screen Video</td></tr><tr><td>dvvideo</td><td>
  Vidéo Numérique Sony
  </td></tr><tr><td>snow</td><td>
  codec basé sur l'ondelette expérimentale de FFmpeg
  </td></tr><tr><td>zmbv</td><td>Zip Motion Blocks Video</td></tr><tr><td>dnxhd</td><td>AVID DNxHD</td></tr></tbody></table></div><p>

La première colonne contient les noms de codec qui doivent être donnés après la
configuration de <code class="literal">vcodec</code>, par exemple comme ceci :
<tt class="option">-lavcopts vcodec=msmpeg4</tt>
</p><div class="informalexample"><p>
  Un exemple avec la compression MJPEG :
</p><pre class="screen">mencoder dvd://2 -o <em class="replaceable"><code>title2.avi</code></em> -ovc lavc -lavcopts vcodec=mjpeg -oac copy</pre><p>
</p></div></div><div class="sect2" title="10.3.2. Codecs audio de libavcodec"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-enc-libavcodec-audio-codecs"></a>10.3.2. Codecs audio de <code class="systemitem">libavcodec</code></h3></div></div></div><p>
</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Nom de codec audio</th><th>Description</th></tr></thead><tbody><tr><td>ac3</td><td>AC-3, AKA Dolby Digital</td></tr><tr><td>adpcm_*</td><td>formats PCM adaptatif - se reporter au tableau complémentaire</td></tr><tr><td>flac</td><td>Free Lossless Audio Codec (FLAC)</td></tr><tr><td>g726</td><td>G.726 ADPCM</td></tr><tr><td>libamr_nb</td><td>3GPP Adaptive Multi-Rate (AMR) narrow-band</td></tr><tr><td>libamr_wb</td><td>3GPP Adaptive Multi-Rate (AMR) wide-band</td></tr><tr><td>libfaac</td><td>Advanced Audio Coding (AAC) - utilisant FAAC</td></tr><tr><td>libgsm</td><td>ETSI GSM 06.10 full rate</td></tr><tr><td>libgsm_ms</td><td>Microsoft GSM</td></tr><tr><td>libmp3lame</td><td>MPEG-1 audio layer 3 (MP3) - utilisant LAME</td></tr><tr><td>mp2</td><td>MPEG-1 audio Layer 2(MP2)</td></tr><tr><td>pcm_*</td><td>formats PCM - se reporter au tableau complémentaire</td></tr><tr><td>roq_dpcm</td><td>Id Software RoQ DPCM</td></tr><tr><td>sonic</td><td>codec avec perte expérimental FFmpeg</td></tr><tr><td>sonicls</td><td>codec sans perte expérimental FFmpeg</td></tr><tr><td>vorbis</td><td>Vorbis</td></tr><tr><td>wmav1</td><td>Windows Media Audio v1</td></tr><tr><td>wmav2</td><td>Windows Media Audio v2</td></tr></tbody></table></div><p>

La première colonne contient les noms de codec qui doivent être donnés après l'option
<code class="literal">acodec</code>, par exemple comme ceci :
<tt class="option">-lavcopts acodec=ac3</tt>
</p><div class="informalexample"><p>
  Un exemple avec compression AC-3 :
</p><pre class="screen">mencoder dvd://2 -o <em class="replaceable"><code>title2.avi</code></em> -oac lavc -lavcopts acodec=ac3 -ovc copy</pre><p>
</p></div><p>
  Contrairement aux codecs vidéo de <code class="systemitem">libavcodec</code>,
  ses codecs audio ne font pas un usage avisé des bits qu'ils consomment
  car ils leur manquent certains modèles psycho-acoustiques minimaux (quand ils en ont)
  ce que la plupart des autres implémentations de codecs possèdent.
  Cependant, notez que tous ces codecs audio sont très rapides et sont disponibles
  à partir du moment où <span class="application">MEncoder</span> a été
  compilé avec <code class="systemitem">libavcodec</code> (ce qui est le
  cas la plupart du temps), et ne dépend pas de bibliothèques externes.
</p><div class="sect3" title="10.3.2.1. tableau complémentaire des formats PCM/ADPCM"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-enc-libavcodec-audio-codecs-pcmadpcm"></a>10.3.2.1. tableau complémentaire des formats PCM/ADPCM</h4></div></div></div><p>
</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>nom du codec PCM/ADPCM</th><th>Description</th></tr></thead><tbody><tr><td>pcm_s32le</td><td>signed 32-bit little-endian</td></tr><tr><td>pcm_s32be</td><td>signed 32-bit big-endian</td></tr><tr><td>pcm_u32le</td><td>unsigned 32-bit little-endian</td></tr><tr><td>pcm_u32be</td><td>unsigned 32-bit big-endian</td></tr><tr><td>pcm_s24le</td><td>signed 24-bit little-endian</td></tr><tr><td>pcm_s24be</td><td>signed 24-bit big-endian</td></tr><tr><td>pcm_u24le</td><td>unsigned 24-bit little-endian</td></tr><tr><td>pcm_u24be</td><td>unsigned 24-bit big-endian</td></tr><tr><td>pcm_s16le</td><td>signed 16-bit little-endian</td></tr><tr><td>pcm_s16be</td><td>signed 16-bit big-endian</td></tr><tr><td>pcm_u16le</td><td>unsigned 16-bit little-endian</td></tr><tr><td>pcm_u16be</td><td>unsigned 16-bit big-endian</td></tr><tr><td>pcm_s8</td><td>signed 8-bit</td></tr><tr><td>pcm_u8</td><td>unsigned 8-bit</td></tr><tr><td>pcm_alaw</td><td>G.711 A-LAW </td></tr><tr><td>pcm_mulaw</td><td>G.711 μ-LAW</td></tr><tr><td>pcm_s24daud</td><td>signed 24-bit D-Cinema Audio format</td></tr><tr><td>pcm_zork</td><td>Activision Zork Nemesis</td></tr><tr><td>adpcm_ima_qt</td><td>Apple QuickTime</td></tr><tr><td>adpcm_ima_wav</td><td>Microsoft/IBM WAVE</td></tr><tr><td>adpcm_ima_dk3</td><td>Duck DK3</td></tr><tr><td>adpcm_ima_dk4</td><td>Duck DK4</td></tr><tr><td>adpcm_ima_ws</td><td>Westwood Studios</td></tr><tr><td>adpcm_ima_smjpeg</td><td>SDL Motion JPEG</td></tr><tr><td>adpcm_ms</td><td>Microsoft</td></tr><tr><td>adpcm_4xm</td><td>4X Technologies</td></tr><tr><td>adpcm_xa</td><td>Phillips Yellow Book CD-ROM eXtended Architecture</td></tr><tr><td>adpcm_ea</td><td>Electronic Arts</td></tr><tr><td>adpcm_ct</td><td>Creative 16-&gt;4-bit</td></tr><tr><td>adpcm_swf</td><td>Adobe Shockwave Flash</td></tr><tr><td>adpcm_yamaha</td><td>Yamaha</td></tr><tr><td>adpcm_sbpro_4</td><td>Creative VOC SoundBlaster Pro 8-&gt;4-bit</td></tr><tr><td>adpcm_sbpro_3</td><td>Creative VOC SoundBlaster Pro 8-&gt;2.6-bit</td></tr><tr><td>adpcm_sbpro_2</td><td>Creative VOC SoundBlaster Pro 8-&gt;2-bit</td></tr><tr><td>adpcm_thp</td><td>Nintendo GameCube FMV THP</td></tr><tr><td>adpcm_adx</td><td>Sega/CRI ADX</td></tr></tbody></table></div><p>
</p></div></div><div class="sect2" title="10.3.3. Options d'encodage de libavcodec"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-lavc-encoding-options"></a>10.3.3. Options d'encodage de libavcodec</h3></div></div></div><p>
  Idéalement, vous voudriez probablement juste dire à mencoder de passer en
  mode "haute qualité" et passer à autre chose.
  Ce serait sûrement sympa, mais c'est malheureusement difficile à implémenter car les
  différentes options d'encodage donnent des résultats de qualité différents
  en fonction du matériel source.
  Ceci vient du fait que la compression dépend des propriétés visuelles
  de la vidéo en question.
  Par exemple, un film d'animation et un film d'action ont des propriétés très
  différentes et nécessitent des options différentes pour obtenir un encodage
  optimal.
  La bonne nouvelle, c'est que certaines options ne devraient jamais être omises,
  comme <tt class="option">mbd=2</tt>, <tt class="option">trell</tt>, et <tt class="option">v4mv</tt>.
  Voir ci-dessous pour une description détaillée des options d'encodage les plus communes.
</p><div class="itemizedlist" title="Options à régler :"><p class="title"><b>Options à régler :</b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <span class="bold"><strong>vmax_b_frames</strong></span> : 1 ou 2 est bon selon
  le film.
  Notez que si vous avez besoin d'avoir votre encodage décodable par DivX5, vous
  aurez besoin d'activer le support "closed GOP", en utilisant l'option <tt class="option">cgop</tt> de
  <code class="systemitem">libavcodec</code>, mais vous aurez besoin de désactiver
  la détection de scène, ce qui n'est pas une bonne idée étant donné que cela
  affectera un peu l'efficacité d'encodage.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>vb_strategy=1</strong></span> : aide pour les scènes
  avec beaucoup de mouvement.
  Sur certaines vidéos, l'option vmax_b_frames peut affecter la qualité, mais
  utiliser vmax_b_frames=2 avec vb_strategy=1 aide.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>dia</strong></span> : portée de la passe de
  recherche de mouvement.
  Plus la valeur de cette option est élevée, meilleure sera la qualité et plus
  l'encodage sera lent.
  Les valeurs négatives représentent une échelle complètement différente.
  De bonnes valeurs sont -1 pour un encodage rapide, ou 2-4 pour un plus lent.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>predia</strong></span> : portée de recherche de
  mouvement en pré-passe.
  Pas aussi important que dia. De bonnes valeurs vont de 1 (par défaut) à 4. Cela
  requière preme=2 pour être réellement utile.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>cmp, subcmp, precmp</strong></span> : Fonction de
  comparaison pour l'estimation de mouvement.
  Testez avec les valeurs 0 (défaut), 2 (hadamard), 3 (dct), et 6 (taux de
  distorsion).
  0 est le plus rapide, et suffisant pour precmp.
  Pour cmp et subcmp, 2 est bon pour les animations, et 3 est bon pour les
  films d'action.
  6 peut être (ou non) un peu meilleur, mais est lent.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>last_pred</strong></span> : Nombre de prédicteurs de
  mouvement à prendre depuis l'image précédente.
  1-3 (ou dans ces eaux) améliore la qualité pratiquement sans perte en
  vitesse.
  De plus hautes valeurs ralentiront l'encodage sans réel gain.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>cbp, mv0</strong></span> : Contrôle la sélection de
  macroblocs.
  Un petit coût en vitesse pour un petit gain en qualité.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>qprd</strong></span> : quantification adaptative
  basée sur la complexité des macroblocs.
  Peut aider ou gêner selon la vidéo et les autres options.
  Cela peut causer des artefacts à moins que vous ne paramétriez vqmax à des
  valeurs raisonnablement petites (6 c'est bien, voire peut-être 4);
  vqmin=1 devrait aussi aider.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>qns</strong></span> : très lente, spécialement quand
  combinée avec qprd.
  Avec cette option, l'encodeur minimise le bruit dû aux artefacts de
  compression au lieu de faire correspondre strictement la vidéo encodée à
  la source.
  Ne l'utilisez pas à moins d'avoir déjà peaufiné tout le reste et que les
  résultats ne soient pas encore assez bons.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>vqcomp</strong></span> : mise au point du contrôle
  de débit.
  La nature du film définiera quelles sont les bonnes valeurs à appliquer
  Vous pouvez sans problème laisser cette option de côté si vous voulez.
  Réduire vqcomp met plus de bits sur les scènes de basse complexité, l'augmenter
  les met sur les scènes de haute complexité (défaut: 0.5, portée: 0-1. recommandé: 0.5-0.7).
</p></li><li class="listitem"><p>
  <span class="bold"><strong>vlelim, vcelim</strong></span> : Définit le
  coefficient du seuil d'élimination pour les plans de luminance et
  chrominance.
  Ils sont encodés séparément dans tous les algorithmes de style MPEG.
  L'idée derrière tout ceci est d'utiliser de bonnes heuristiques
  pour déterminer quand le changement dans un bloc est inférieur au seuil que
  vous avez spécifié, et dans ce cas, de simplement encoder le bloc comme étant
  "sans changement".
  Cela économise des bits et accélére peut-être l'encodage. vlelim=-4 et
  vcelim=9 semblent être de bonnes valeurs pour les films de "scènes réelles", mais
  semblent ne pas aider avec les films d'animation; quand vous voudrez encoder une animation,
  vous devriez probablement les laisser tel quel.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>qpel</strong></span> : Estimation de mouvement de
  quart de pixel.
  MPEG-4 utilise une précision d'un demi pixel pour sa recherche de mouvement
  par défaut, donc cette option augmente la quantité d'information qui est
  stockée dans le fichier encodé. Le gain ou la perte en terme de compression
  dépend du film, mais ce n'est habituellement pas très efficace pour les animations.
  qpel induit toujours un surcoût significatif en temps de décodage (+25% en pratique).
</p></li><li class="listitem"><p>
  <span class="bold"><strong>psnr</strong></span> : n'affecte pas l'encodage
  mais écrit un fichier journal donnant le type/taille/qualité de chaque image, et
  imprime un résumé du PSNR (rapport signal sur bruit) à la fin.
</p></li></ul></div><div class="itemizedlist" title="Options qu'il n'est pas recommandé de changer :"><p class="title"><b>Options qu'il n'est pas recommandé de changer :</b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
<span class="bold"><strong>vme</strong></span> : La valeur par défaut est la
meilleure.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>lumi_mask, dark_mask</strong></span> :
  Quantification adaptative pyscho-visuelle.
  Vous ne voulez pas jouer avec ces options si vous tenez à la qualité.
  Des valeurs raisonnables peuvent être efficaces dans votre cas, mais soyez
  prévenu, ceci reste très subjectif.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>scplx_mask</strong></span> : Essaie d'empêcher
  l'apparition d'artefacts dûs aux blocs, mais le post-traitement est plus
  efficace.
</p></li></ul></div></div><div class="sect2" title="10.3.4. Exemples de paramètres d'encodage"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-mpeg4-lavc-example-settings"></a>10.3.4. Exemples de paramètres d'encodage</h3></div></div></div><p>
  Les paramètrages suivants sont des exemples de différentes combinaisons d'options
  d'encodage qui affectent le compromis vitesse / qualité pour un débit donné.
</p><p>
  Tous les paramètrages d'encodage ont été testés sur un échantillon vidéo de résolution
  720x448 à 30000/1001 images par seconde, le débit cible était de 900kbit/s, et la machine était un
  AMD-64 3400+ à 2400 MHz en mode 64 bits.
  Chaque exemple d'encodage est donné avec la vitesse d'encodage mesurée (en
  images par seconde) et la perte en PSNR (en dB) par rapport au réglage de "très
  haute qualité". Sachez que selon votre video source, votre machine et les derniers développements,
  vous pourrez obtenir des résultats très différents.
</p><p>
</p><div class="informaltable"><table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>Description</th><th>Options d'encodage</th><th>vitesse (en images/s)</th><th>perte relative de PSNR (en dB)</th></tr></thead><tbody><tr><td>Très haute qualité</td><td><tt class="option">vcodec=mpeg4:mbd=2:mv0:trell:v4mv:cbp:last_pred=3:predia=2:dia=2:vmax_b_frames=2:vb_strategy=1:precmp=2:cmp=2:subcmp=2:preme=2:qns=2</tt></td><td>6im/s</td><td>0dB</td></tr><tr><td>Haute qualité</td><td><tt class="option">vcodec=mpeg4:mbd=2:trell:v4mv:last_pred=2:dia=-1:vmax_b_frames=2:vb_strategy=1:cmp=3:subcmp=3:precmp=0:vqcomp=0.6:turbo</tt></td><td>15im/s</td><td>-0.5dB</td></tr><tr><td>Rapide</td><td><tt class="option">vcodec=mpeg4:mbd=2:trell:v4mv:turbo</tt></td><td>42im/s</td><td>-0.74dB</td></tr><tr><td>Temps réel</td><td><tt class="option">vcodec=mpeg4:mbd=2:turbo</tt></td><td>54im/s</td><td>-1.21dB</td></tr></tbody></table></div><p>
</p></div><div class="sect2" title="10.3.5. Matrices inter/intra personnalisées"><div class="titlepage"><div><div><h3 class="title"><a name="custommatrices"></a>10.3.5. Matrices inter/intra personnalisées</h3></div></div></div><p>
Grâce à cette fonctionnalité de
<code class="systemitem">libavcodec</code>
vous pouvez rentrer des matrices personnalisées inter (image I ou images clé) et intra
(image P ou image prédite). De nombreux codecs le supportent - on rapporte que
<code class="systemitem">mpeg1video</code> et <code class="systemitem">mpeg2video</code> fonctionnent avec.
</p><p>
Cette fonctionnalité est utilisée habituellement pour régler les matrices utilisées
par les spécifications <a class="ulink" href="http://www.kvcd.net/" target="_top">KVCD</a>.
</p><p>
La <span class="bold"><strong>Matrice de Quantification KVCD "Notch"
 :</strong></span>
</p><p>
  Intra :
</p><pre class="screen">
 8  9 12 22 26 27 29 34
 9 10 14 26 27 29 34 37
12 14 18 27 29 34 37 38
22 26 27 31 36 37 38 40
26 27 29 36 39 38 40 48
27 29 34 37 38 40 48 58
29 34 37 38 40 48 58 69
34 37 38 40 48 58 69 79
</pre><p>

Inter :
</p><pre class="screen">
16 18 20 22 24 26 28 30
18 20 22 24 26 28 30 32
20 22 24 26 28 30 32 34
22 24 26 30 32 32 34 36
24 26 28 32 34 34 36 38
26 28 30 32 34 36 38 40
28 30 32 34 36 38 42 42
30 32 34 36 38 40 42 44
</pre><p>
</p><p>
  Utilisation :
</p><pre class="screen">
mencoder <em class="replaceable"><code>entree.avi</code></em> -o <em class="replaceable"><code>sortie.avi</code></em> -oac copy -ovc lavc \
  -lavcopts inter_matrix=...:intra_matrix=...
</pre><p>
</p><p>
</p><pre class="screen">
$ mencoder <em class="replaceable"><code>input.avi</code></em> -ovc lavc -lavcopts \
vcodec=mpeg2video:intra_matrix=8,9,12,22,26,27,29,34,9,10,14,26,27,29,34,37,\
12,14,18,27,29,34,37,38,22,26,27,31,36,37,38,40,26,27,29,36,39,38,40,48,27,\
29,34,37,38,40,48,58,29,34,37,38,40,48,58,69,34,37,38,40,48,58,69,79\
:inter_matrix=16,18,20,22,24,26,28,30,18,20,22,24,26,28,30,32,20,22,24,26,\
28,30,32,34,22,24,26,30,32,32,34,36,24,26,28,32,34,34,36,38,26,28,30,32,34,\
36,38,40,28,30,32,34,36,38,42,42,30,32,34,36,38,40,42,44 -oac copy -o svcd.mpg
</pre><p>
</p></div><div class="sect2" title="10.3.6. Exemple"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-example"></a>10.3.6. Exemple</h3></div></div></div><p>
  Voilà, vous venez tout juste d'acheter votre exemplaire de « Harry Potter et la
  Chambre des Secrets » (édition panoramique, bien sûr), et vous voulez copier ce
  DVD afin de pouvoir l'ajouter à votre PC Home Cinéma. C'est un DVD de
  région 1, donc en NTSC. L'exemple ci-dessous peut quand même être adapté au PAL,
  si ce n'est que vous devrez retirer l'option <tt class="option">-ofps 24000/1001</tt> (parce que le
  le nombre d'images par seconde en sortie est le même que celui en entrée), et bien sûr les dimensions
  de recadrage seront différentes.
</p><p>
  Après avoir lancé <tt class="option">mplayer dvd://1</tt>, nous suivons le processus
  détaillé dans la section <a class="link" href="#menc-feat-telecine" title="10.2. Comment gérer le téléciné et l'entrelacement des DVDs NTSC">Comment gérer le
  téléciné et l'entrelacement dans les DVDs NTSC</a> et découvrons que c'est une
  vidéo progressive à 24000/1001 images par seconde, ce qui signifie que nous n'avons pas besoin
  d'utiliser de filtre téléciné-inverse, comme <tt class="option">pullup</tt> ou <tt class="option">filmdint</tt>.
</p><p>
  Ensuite, nous voulons déterminer le rectangle de recadrage approprié, donc
  nous utilisons le filtre <tt class="option">cropdetect</tt> :

  </p><pre class="screen">mplayer dvd://1 -vf cropdetect</pre><p>

  Assurez-vous que vous visualisez une image complètement remplie (comme une scène
  lumineuse), et vous verrez dans la console de sortie de
  <span class="application">MPlayer</span> :

  </p><pre class="screen">crop area: X: 0..719  Y: 57..419  (-vf crop=720:362:0:58)</pre><p>

  Revisionnons ensuite le film avec le filtre pour tester le résultat :

  </p><pre class="screen">mplayer dvd://1 -vf crop=720:362:0:58</pre><p>

  Et nous nous apercevons que tout a l'air parfait. Ensuite, nous nous assurons que
  la hauteur et la largeur sont des multiples de 16. La largeur est bonne,
  cependant la hauteur ne l'est pas. Vu que nous avons quelques notions minimales
  de maths, nous savons que le plus proche multiple de 16 inférieur à 362
  est 352.
</p><p>
  Nous pourrions juste utiliser <tt class="option">crop=720:352:0:58</tt>, mais il
  serait mieux d'enlever un peu du haut et un peu du bas afin de garder
  la partie centrale. Nous avons rétréci la hauteur de 10 pixels, mais nous ne voulons
  pas augmenter le décalage de 5 pixels vu que c'est un nombre impair et que
  cela affectera défavorablement la qualité. A la place, nous augmentons le
  décalage vertical de 4 pixels :

  </p><pre class="screen">mplayer dvd://1 -vf crop=720:352:0:62</pre><p>

  Une autre raison pour retirer les pixels du haut et du bas est que nous nous
  assurons que nous avons éliminé tous les pixels à moitié noir s'ils
  existent. Si votre vidéo est télécinée, assurez-vous que le filtre
  <tt class="option">pullup</tt> (ou n'importe quel autre filtre téléciné-inverse que vous
  avez décidé d'utiliser) apparaissent dans la chaîne de filtres avant que vous ne
  recadriez. Si il est entrelacé, désentrelacez-le avant le recadrage.
  (Si vous choisissez de préserver la vidéo entrelacée, alors assurez-vous que
  votre décalage vertical de recadrage est un multiple de 4.)
</p><p>
  Si la perte de ces 10 pixels vous peine réellement, vous pouvez préférez réduire
  les dimensions au plus proche multiple de 16.
  La chaîne de filtres ressemblerait à ceci :

  </p><pre class="screen">-vf crop=720:362:0:58,scale=720:352</pre><p>

  Réduire la taille de la vidéo comme cela signifie qu'une petite quantité de détails est perdu
  bien que cela ne soit probablement pas perceptible. Augmenter la taille
  entraînera une qualité inférieure (à moins que vous n'augmentiez le débit).
  Le recadrage enlève quand à lui complétement les pixels à l'extérieur du
  nouveau cadrage. C'est un compromis dont vous devrez tenir compte
  selon les circonstances. Par exemple, si une vidéo DVD a été
  faite pour la télévision, vous pourriez vouloir éviter le
  redimensionnement vertical, étant donné que l'échantillon de lignes correspond
  à la manière avec laquelle le contenu a été enregistré.
</p><p>
  En inspectant le film, nous voyons qu'il contient une bonne quantité d'action et beaucoup de
  détails, donc nous choisissons un débit de 2400Kb/s.
</p><p>
  Nous sommes maintenant prêts à faire l'encodage deux passes.
  Première passe :
</p><pre class="screen">
mencoder dvd://1 -ofps 24000/1001 -oac copy -o <em class="replaceable"><code>Harry_Potter_2.avi</code></em> -ovc lavc \
  -lavcopts vcodec=mpeg4:vbitrate=2400:v4mv:mbd=2:trell:cmp=3:subcmp=3:autoaspect:vpass=1 \
  -vf pullup,softskip,crop=720:352:0:62,hqdn3d=2:1:2
</pre><p>
  La seconde passe est la même, si ce n'est que nous spécifions
  <tt class="option">vpass=2</tt> :


</p><pre class="screen">
mencoder dvd://1 -ofps 24000/1001 -oac copy -o <em class="replaceable"><code>Harry_Potter_2.avi</code></em> -ovc lavc \
  -lavcopts vcodec=mpeg4:vbitrate=2400:v4mv:mbd=2:trell:cmp=3:subcmp=3:autoaspect:vpass=2 \
  -vf pullup,softskip,crop=720:352:0:62,hqdn3d=2:1:2
</pre><p>
</p><p>
  Les options <tt class="option">v4mv:mbd=2:trell</tt> augmenteront considérablement la
  qualité au prix d'une plus longue durée d'encodage. Il y a peu de raison de ne pas
  utiliser ces options quand le but premier est la qualité. Les options
  <tt class="option">cmp=3:subcmp=3</tt> sélectionne une fonction de comparaison
  qui donne une meilleure qualité que celle par défaut. Vous pouvez essayer de faire varier
  ces paramètres (reportez-vous à la page man pour les valeurs possibles)
  étant donné que différentes fonctions peuvent avoir un impact important sur la
  qualité selon le matériel source. Par exemple, si vous trouvez que
  <code class="systemitem">libavcodec</code> produit trop d'artefacts
  de blocs, vous pouvez essayer de choisir la fonction de comparaison expérimentale NSSE
  via <tt class="option">*cmp=10</tt>.
</p><p>
  Pour ce film, le AVI résultant durera 138 minutes et pèsera à peu près 3GB.
  Et puisque vous disiez que la taille du fichier ne comptait pas, cette taille
  est parfaitement acceptable. Cependant, si vous l'aviez voulu plus petite,
  vous pourriez essayer un débit inférieur. L'augmentation du débit améliore la qualité,
  mais de moins en moins, ainsi, tandis que nous pourrions clairement voir une
  amélioration de 1800Kb/s à 2000Kb/s, cela peut ne pas être notable
  au-dessus de 2000Kb/s. Libre à vous d'expérimenter jusqu'à totale satisfaction.
</p><p>
  Parce que nous avons passé la source vidéo au travers d'un filtre antibruit,
  vous pourriez vouloir en rajouter un peu pendant la lecture. Ceci, avec le filtre de
  post-traitement <tt class="option">spp</tt>, améliore de façon radicale la perception
  de qualité et aide à éliminer les artefacts de bloc de la vidéo.
  Avec l'option <tt class="option">autoq</tt> de <span class="application">MPlayer</span>,
  vous pouvez faire varier le montant de post-traitement effectué par le filtre spp
  en fonction de la disponibilté de votre processeur. Aussi, arrivé à ce point, vous pourriez
  vouloir appliquer une correction gamma et/ou couleur pour convenir au mieux à
  votre écran.
  Par exemple :
  </p><pre class="screen">
    mplayer <em class="replaceable"><code>Harry_Potter_2.avi</code></em> -vf spp,noise=9ah:5ah,eq2=1.2 -autoq 3
  </pre><p>
</p></div></div><div class="sect1" title="10.4. Encodage avec le codec Xvid"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-xvid"></a>10.4. Encodage avec le codec <code class="systemitem">Xvid</code></h2></div></div></div><p>
 <code class="systemitem">Xvid</code> est une bibliothèque libre pour
 encoder les flux vidéo MPEG-4 ASP.
 Avant de commencer à encoder, vous avez besoin de <a class="link" href="#xvid" title="2.5.1. Xvid">
 paramétrer <span class="application">MEncoder</span> pour qu'il la supporte.</a>.
</p><p>
 Ce guide a pour principal objectif de fournir le même genre d'information que
 le guide d'encodage avec x264. Par conséquent, commencez par lire
 <a class="link" href="#menc-feat-x264-encoding-options-intro" title="10.5.1.1. Introduction">la première partie</a>
 de ce guide.
</p><div class="sect2" title="10.4.1. Quelles options devrais-je utiliser pour avoir les meilleurs résultats ?"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-xvid-intro"></a>10.4.1. Quelles options devrais-je utiliser pour avoir les meilleurs
résultats ?</h3></div></div></div><p>
 Commencez par passer en revue la section <code class="systemitem">Xvid</code>
 de la page man de <span class="application">MPlayer</span>.
 Cette section est prévue pour être un supplément de la page man.
</p><p>
 Les paramètrages par défaut de Xvid donnent déjà un bon compromis entre
 vitesse et qualité, vous pouvez donc sans risque vous en contenter
 si la section suivante vous laisse perplexe.
</p></div><div class="sect2" title="10.4.2. Options d'encodage de Xvid"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-xvid-encoding-options"></a>10.4.2. Options d'encodage de <code class="systemitem">Xvid</code></h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
 <span class="bold"><strong>vhq</strong></span>
  Ce paramètre affecte l'algorithme de choix de macrobloc, plus la valeur
  du paramètre est élevée, meilleure sera la décision.
  Le paramètrage par défaut peut être utilisé de façon sûre pour tous les encodages,
  alors que des valeurs plus élevées améliorent toujours le PSNR mais rendent l'encodage significativement
  plus lent.
  Veuillez noter qu'un meilleur PSNR ne veut pas forcément dire que l'image
  sera meilleure, mais vous informe qu'elle est plus proche de l'originale.
  Désactiver l'option accélére de façon notable l'encodage; si la vitesse est un point
  critique pour vous, cela peut valoir le coup.
</p></li><li class="listitem"><p>
 <span class="bold"><strong>bvhq</strong></span>
  Cela a le même effet que vhq, mais agit sur les images B.
  L'impact sur la vitesse est négligeable et la qualité est légèrement améliorée
  (environ +0.1dB PSNR).
</p></li><li class="listitem"><p>
 <span class="bold"><strong>max_bframes</strong></span>
  Permettre un plus grand nombre d'images B consécutives améliore habituellement
  la compressibilité bien que cela puisse également entraîner plus d'artefacts de blocs.
  Le paramétrage par défaut est un bon compromis entre compressibilité et qualité,
  mais vous pouvez l'augmenter jusqu'à 3 si vous êtes obnubilé par le débit.
  Vous pouvez aussi le réduire à 1 ou 0 si vous aspirez à la perfection, même si dans
  ce cas vous deviez vous assurer que le débit cible est suffisament élevé pour que
  l'encodeur n'ait pas à augmenter les quantificateurs pour l'atteindre.
</p></li><li class="listitem"><p>
 <span class="bold"><strong>bf_threshold</strong></span>
  Ceci contrôle la sensibilité de l'encodeur pour les images B, où une plus haute
  valeur amène à ce que plus d'images B soient utilisées (et vice versa).
  Ce paramètre est fait pour être utilisé avec <tt class="option">max_bframes</tt>;
  si vous êtes obnubilé par le débit, vous devez augmenter à la fois <tt class="option">max_bframes</tt>
  et <tt class="option">bf_threshold</tt>, tandis que vous pouvez augmenter <tt class="option">max_bframes</tt>
  et baisser <tt class="option">bf_threshold</tt> de façon à ce que l'encodeur puisse utiliser plus d'images B
  uniquement aux endroits qui en ont <span class="bold"><strong>vraiment</strong></span> besoin.
  Un faible nombre de <tt class="option">max_bframes</tt> et une valeur élevée de <tt class="option">bf_threshold</tt>
  n'est probablement pas un choix avisé vu qu'il obligera l'encodeur à mettre
  des images B en des endroits qui n'en tireront pas de bénéfice et donc réduiront la qualité visuelle.
  Cependant, si vous avez besoin d'être compatible avec des lecteurs qui
  supportent seulement de vieilles versions DivX (qui ne supportent pas plusieurs images B consécutives),
  ce serait votre seul possibilité pour augmenter la compressibilité en utilisant les images B.
</p></li><li class="listitem"><p>
 <span class="bold"><strong>trellis</strong></span>
  Optimise la procédure de quantification pour obtenir un compromis optimal
  entre le PSNR et le débit, ce qui permet une économie significative de bits.
  Ces bits seront en retour utilisés autre part dans la vidéo, augmentant
  la qualité visuelle globale.
  Vous devriez toujours l'utiliser étant donné son énorme impact sur la qualité.
  Même si vous recherchez de la vitesse, ne le désactivez pas avant d'avoir
  réduit <tt class="option">vhq</tt> et toutes les autres options plus gourmandes
  en ressource à leur minimum.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>hq_ac</strong></span>
  Active une meilleure méthode d'estimation des coefficients AC, ce qui réduit
  légèrement la taille de fichier d'environ 0.15 à 0.19% (ce qui correspond
  à moins de 0.01dB PSNR d'augmentation), tandis qu'elle a un impact négligeable
  sur la vitesse. Il est donc recommandé de toujours la laisser activée.
</p></li><li class="listitem"><p>
 <span class="bold"><strong>cartoon</strong></span>
  Faite pour un meilleur encodage des dessins animés, n'a pas d'impact
  sur la vitesse étant donné qu'elle règle juste les heuristiques de décision
  pour ce type de contenu.
</p></li><li class="listitem"><p>
 <span class="bold"><strong>me_quality</strong></span>
  Ce paramètre contrôle la précision de l'estimation de mouvement.
  Plus <tt class="option">me_quality</tt> est élevé, plus
  l'estimation du mouvement d'origine est précise et donc mieux l'encodage final
  rendra le mouvement d'origine.
 </p><p>
  Le paramètrage par défaut est le meilleur dans tous les cas; ainsi il est
  recommandé de ne pas le désactiver à moins que vous ne recherchiez vraiment
  la rapidité, vu que tout les bits économisés par une bonne estimation du
  mouvement seraient dépensés autre part, augmentant la qualité générale.
  Donc, n'allez pas plus bas que 5, et encore, seulement en dernier recours.
</p></li><li class="listitem"><p>
 <span class="bold"><strong>chroma_me</strong></span>
  Améliore l'estimation de mouvement en prenant aussi en compte l'information
  de la chrominance (couleur), alors que <tt class="option">me_quality</tt> seule
  utilise uniquement la luminance (niveaux de gris).
  Cela ralentit l'encodage de 5-10% mais améliore sensiblement la qualité visuelle
  en réduisant les effets de bloc et cela réduit aussi la taille des fichiers d'environ 1.3%.
  Si vous cherchez de la vitesse, vous devriez désactiver cette option avant de
  penser à la réduction de <tt class="option">me_quality</tt>.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>chroma_opt</strong></span>
    A pour objectif d'améliorer la qualité de la chrominance de l'image à proximité
    des bords totalement blancs ou noirs, plutôt que d'améliorer la compression.
    Ceci peut aider à réduire l'effet "d'escalier rouge".
</p></li><li class="listitem"><p>
  <span class="bold"><strong>lumi_mask</strong></span>
    Tente de donner moins de débit à une partie de l'image que l'oeil humain
    ne peut pas très bien voir, ce qui devrait permettre à l'encodeur de dépenser
    les bits économisés sur des parties plus importantes de l'image.
    La qualité de l'encodage liée à cette option dépend grandement des
    préférences personnelles et du type de moniteur ainsi que de son réglage
    (typiquement, cela ne semblera pas si bien si le réglage est lumineux
    ou si c'est un moniteur TFT).
</p></li><li class="listitem"><p>
  <span class="bold"><strong>qpel</strong></span>
    Augmente le nombre de vecteurs de mouvement candidats en augmentant la
    précision de l'estimation de mouvement de halfpel (demi-pixel) à quarterpel (quart de pixel).
    L'idée est de trouver de meilleurs vecteurs de mouvement pour
    réduire le débit (donc augmenter la qualité à débit constant).
    Cependant, les vecteurs de mouvement avec une précision quarterpel requièrent
    quelques bits en plus à coder et les vecteurs candidats ne donnent pas
    toujours de résultats (vraiment) meilleurs.
    Assez souvent, le codec dépense des bits pour une plus grande précision,
    mais en retour il n'y a que peu ou pas d'amélioration de la qualité.
    Malheureusement, il n'y a aucun moyen de prédire les possibles avantages de
    <tt class="option">qpel</tt>, donc en fait, vous devez l'encoder avec
    et sans pour en être sûr.
  </p><p>
    <tt class="option">qpel</tt> peut quasiment doubler la durée d'encodage, et
    nécessiter jusqu'à 25% de puissance processeur en plus pour le décodage.
    Il n'est pas supporté par tous les lecteurs.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>gmc</strong></span>
    Essaye d'économiser des bits sur des scènes panoramiques en employant un
    unique vecteur de mouvement pour l'image entière.
    Cela augmente presque toujours le PSNR, mais ralentit l'encodage
    significativement (ainsi que le décodage).
    Par conséquent, vous devriez seulement l'employer si vous avez
    réglé <tt class="option">vhq</tt> au maximum.
    Le GMC de <code class="systemitem">Xvid</code> est plus sophistiqué
    que celui de DivX, mais il est seulement supporté par quelques lecteurs.
</p></li></ul></div></div><div class="sect2" title="10.4.3. Profils d'encodage"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-xvid-encoding-profiles"></a>10.4.3. Profils d'encodage</h3></div></div></div><p>
  Xvid supporte des profils d'encodage via l'option <tt class="option">profile</tt>,
  ce qui est utilisé pour imposer des restrictions sur les propriétés du flux
  vidéo Xvid pour qu'il puisse être relu sur tout ce qui supporte le profil
  choisi.
  Les restrictions sont en rapport avec les résolutions, les débits et certaines
  fonctionnalités MPEG-4.
  La table suivante montre ce que chaque profil supporte.
</p><div class="informaltable"><table border="1"><colgroup><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"></colgroup><tbody><tr><td align="center"> </td><td colspan="4" align="center">Simple</td><td colspan="6" align="center">Simple avancé</td><td colspan="6" align="center">DivX</td></tr><tr><td align="center">Nom de profil</td><td align="center">0</td><td align="center">1</td><td align="center">2</td><td align="center">3</td><td align="center">0</td><td align="center">1</td><td align="center">2</td><td align="center">3</td><td align="center">4</td><td align="center">5</td><td align="center">De poche</td><td align="center">NTSC Portable</td><td align="center">PAL Portable</td><td align="center">NTSC Home Cinéma</td><td align="center">PAL Home Cinéma</td><td align="center">TV Haute Définition</td></tr><tr><td align="center">Largeur [pixels]</td><td align="center">176</td><td align="center">176</td><td align="center">352</td><td align="center">352</td><td align="center">176</td><td align="center">176</td><td align="center">352</td><td align="center">352</td><td align="center">352</td><td align="center">720</td><td align="center">176</td><td align="center">352</td><td align="center">352</td><td align="center">720</td><td align="center">720</td><td align="center">1280</td></tr><tr><td align="center">Hauteur [pixels]</td><td align="center">144</td><td align="center">144</td><td align="center">288</td><td align="center">288</td><td align="center">144</td><td align="center">144</td><td align="center">288</td><td align="center">288</td><td align="center">576</td><td align="center">576</td><td align="center">144</td><td align="center">240</td><td align="center">288</td><td align="center">480</td><td align="center">576</td><td align="center">720</td></tr><tr><td align="center">Images par seconde</td><td align="center">15</td><td align="center">15</td><td align="center">15</td><td align="center">15</td><td align="center">30</td><td align="center">30</td><td align="center">15</td><td align="center">30</td><td align="center">30</td><td align="center">30</td><td align="center">15</td><td align="center">30</td><td align="center">25</td><td align="center">30</td><td align="center">25</td><td align="center">30</td></tr><tr><td align="center">Débit moyen max [kbit/s]</td><td align="center">64</td><td align="center">64</td><td align="center">128</td><td align="center">384</td><td align="center">128</td><td align="center">128</td><td align="center">384</td><td align="center">768</td><td align="center">3000</td><td align="center">8000</td><td align="center">537.6</td><td align="center">4854</td><td align="center">4854</td><td align="center">4854</td><td align="center">4854</td><td align="center">9708.4</td></tr><tr><td align="center">Débit moyen maximal au delà de 3 secs [kbit/s]</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">800</td><td align="center">8000</td><td align="center">8000</td><td align="center">8000</td><td align="center">8000</td><td align="center">16000</td></tr><tr><td align="center">Images B maxi</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">0</td><td align="center">1</td><td align="center">1</td><td align="center">1</td><td align="center">1</td><td align="center">2</td></tr><tr><td align="center">Quantification MPEG</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td></tr><tr><td align="center">Quantification adaptative</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td></tr><tr><td align="center">Encodage entrelacé</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">X</td><td align="center">X</td><td align="center">X</td></tr><tr><td align="center">Quaterpixel</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td></tr><tr><td align="center">Compensation globale du mouvement</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td></tr></tbody></table></div></div><div class="sect2" title="10.4.4. Exemples de paramètres d'encodage"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-xvid-example-settings"></a>10.4.4. Exemples de paramètres d'encodage</h3></div></div></div><p>
  Les paramètres suivant sont des exemples de différentes combinaisons
  d'option d'encodage qui affectent le compromis entre la vitesse et
  la qualité pour le même débit cible.
</p><p>
  Tous les paramètrages d'encodage ont été testés sur un échantillon vidéo en
  720x448 à 30000/1001 images par seconde, le débit cible était de 900kbit/s, et la machine était un
  AMD-64 3400+ à 2400 MHz en mode 64 bits.
  Chaque exemple d'encodage est donné avec la vitesse d'encodage mesurée (en
  images par seconde) et la perte en PSNR (en dB) par rapport au réglage de "très
  haute qualité". Sachez que selon votre video source, votre machine et les derniers développements,
  vous pourrez obtenir des résultats très différents.
</p><p>
</p><div class="informaltable"><table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>Description</th><th>Options d'encodage</th><th>vitesse (en images par secondes)</th><th>Perte PSNR relative (en dB)</th></tr></thead><tbody><tr><td>Très haute qualité</td><td><tt class="option">chroma_opt:vhq=4:bvhq=1:quant_type=mpeg</tt></td><td>16</td><td>0dB</td></tr><tr><td>Haute qualité</td><td><tt class="option">vhq=2:bvhq=1:chroma_opt:quant_type=mpeg</tt></td><td>18</td><td>-0.1dB</td></tr><tr><td>Rapide</td><td><tt class="option">turbo:vhq=0</tt></td><td>28</td><td>-0.69dB</td></tr><tr><td>Temps réel</td><td><tt class="option">turbo:nochroma_me:notrellis:max_bframes=0:vhq=0</tt></td><td>38</td><td>-1.48dB</td></tr></tbody></table></div><p>
</p></div></div><div class="sect1" title="10.5. Encodage avec le codec x264"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-x264"></a>10.5. Encodage avec le codec <code class="systemitem">x264</code></h2></div></div></div><p>
  <code class="systemitem">x264</code> est une librairie libre pour
  encoder des flux vidéo H.264/AVC.
  Avant de commencer à encoder, vous avez besoin de <a class="link" href="#x264" title="2.5.2. x264">
  paramétrer <span class="application">MEncoder</span> pour qu'il le supporte</a>.
</p><div class="sect2" title="10.5.1. Les options d'encodage de x264"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-x264-encoding-options"></a>10.5.1. Les options d'encodage de x264</h3></div></div></div><p>
  Veuillez commencer par passer en revue la section
  <code class="systemitem">x264</code> de la page man
  de <span class="application">MPlayer</span>.
  Cette section est prévue pour être un complément à la page man.
  Ici, vous trouverez des conseils sur les options qui sont
  le plus susceptible d'intéresser la plupart des gens. La page man
  est plus laconique mais aussi plus exhaustive et offre
  parfois de bien meilleurs détails techniques.
</p><div class="sect3" title="10.5.1.1. Introduction"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-x264-encoding-options-intro"></a>10.5.1.1. Introduction</h4></div></div></div><p>
  Ce guide considère deux principales catégories d'options d'encodage :
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Les options qui traitent principalement du compromis entre la durée d'encodage et la qualité
  </p></li><li class="listitem"><p>Les options susceptibles de satisfaire diverses préférences personnelles
  et exigences spéciales</p></li></ol></div><p>
  Finalement, seul vous pouvez décider quelles sont les meilleures options en fonction de vos objectifs.
  La décision pour la première catégorie d'options est la plus simple :
  vous devez seulement décider si les différences de qualité
  justifient les différences de vitesse. Pour la deuxième catégorie d'options,
  les préférences peuvent être bien plus subjectives, et plus de facteurs
  peuvent être impliqués. Notez que certaines des options de type
  "préférences personnelles et exigences spéciales" peuvent aussi avoir
  un impact important sur la vitesse ou la qualité, mais ce n'est pas là leur
  utilité première. Quelques unes des options de "préférences
  personnelles" peuvent même avoir des effets jugés bénéfiques par certaines personnes
  mais néfastes par d'autres.
</p><p>
  Avant de continuer, il est important que vous sachiez que ce guide
  utilise une unique mesure de qualité : le PSNR global.
  Pour une brève explication du PSNR, voir
  <a class="ulink" href="http://fr.wikipedia.org/wiki/PSNR" target="_top">l'article Wikipedia sur le PSNR</a>.
  Le PSNR global est le dernier nombre PSNR donné quand vous incluez l'option
  <tt class="option">psnr</tt> dans <tt class="option">x264encopts</tt>.
  Pour toutes les assertions faites sur le PSNR, il sera supposé un débit constant.
</p><p>
  Pratiquement tous les commentaires de ce guide supposent que vous effectuez
  un encodage en deux passes.
  Lors de la comparaison d'options, il y a deux raisons principales pour
  l'utilisation d'un encodage en deux passes.
  Premièrement, l'utilisation de deux passes permet souvent de gagner environ 1dB
  en PSNR, ce qui est une très grande différence.
  Deuxièmement, tester les options en faisant des comparaisons directes de
  qualité avec un encodage en une passe introduit est facteur d'erreur :
  le débit varie souvent de façon significative avec chaque encodage.
  Il n'est pas toujours facile de dire si les changements de qualité sont
  principalement dûs aux changements d'options, ou si ils
  reflètent essentiellement des différences aléatoires dans le débit atteint.
</p></div><div class="sect3" title="10.5.1.2. Options qui affectent principalement la vitesse et la qualité"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-x264-encoding-options-speedvquality"></a>10.5.1.2. Options qui affectent principalement la vitesse et la qualité</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <span class="bold"><strong>subq</strong></span> :
  Des options qui vous permettent de jouer sur le compromis vitesse-qualité,
  <tt class="option">subq</tt> et <tt class="option">frameref</tt> (voir ci-dessous) sont
  habituellement de loin les plus importantes.
  Si vous êtes intéressés par le bidouillage soit de la vitesse soit de la
  qualité, ces options sont les premières que vous devriez prendre en
  considération.
  Sur la vitesse, les options <tt class="option">frameref</tt>
  et <tt class="option">subq</tt> interagissent entre elles assez fortement.
  L'expérience montre que, avec une image de référence,
  <tt class="option">subq=5</tt> (le réglage par défaut) est environ 35% plus lent que
  <tt class="option">subq=1</tt>.
  Avec 6 images de référence, la pénalité passe au dessus des 60%.
  L'effet de <tt class="option">subq</tt> sur le PSNR semble assez constant
  indépendamment du nombre d'images de référence.
  Typiquement, <tt class="option">subq=5</tt> résulte en un PSNR global supérieur de
  0.2-0.5 dB par rapport à <tt class="option">subq=1</tt>.
  C'est habituellement assez pour être visible.
</p><p>
  <tt class="option">subq=6</tt> est le mode le plus lent et le plus élevé en qualité.
  Par rapport à <tt class="option">subq=5</tt>, il gagne habituellement
  de 0.1-0.4 dB en PSNR avec des coûts en vitesse variant de 25% à 100%.
  A la différence des autres niveaux de <tt class="option">subq</tt>, le comportement
  de <tt class="option">subq=6</tt> ne dépend pas beaucoup de <tt class="option">frameref</tt>
  et <tt class="option">me</tt>. Au lieu de cela, l'efficacité de <tt class="option">subq=6</tt>
  dépend principalement du nombre d'images B utilisées. Lors d'une utilisation
  normale, cela signifie que <tt class="option">subq=6</tt> a un grand impact sur la
  vitesse et la qualité dans le cas de scènes d'action complexes,
  mais il peut ne pas avoir beaucoup d'effets sur les scènes avec peu de mouvements.
  Notez qu'il est recommandé de toujours régler <tt class="option">bframes</tt>
  à des valeurs autres que zéro (voir ci-dessous).
</p><p>
 <tt class="option">subq=7</tt> est le mode le plus lent, offrant la meilleure qualité.
 En comparaison de <tt class="option">subq=6</tt>, il permet de gagner 0.01-0.05 dB en PSNR
 global avec un ralentissement de la vitesse d'encodage variant de 15 à 33%.
 Comme le compromis temps d'encodage/qualité est plutôt faible, il vaut mieux l'utiliser
 lorsque vous voulez sauver le maximum de bits et que le temps d'encodage ne vous pose pas de
 problème.
 </p></li><li class="listitem"><p>
  <span class="bold"><strong>frameref</strong></span> :
  <tt class="option">frameref</tt> est réglé à 1 par défaut, mais il ne faut pas penser que cela implique
  qu'il est raisonnable de le laisser à 1.
  Augmenter simplement <tt class="option">frameref</tt> à 2 permet un gain de PSNR d'environ
  0.15dB, avec une pénalité de 5-10% sur la vitesse; cela semble être
  un bon compromis.
  <tt class="option">frameref=3</tt> gagne environ 0.25dB de PSNR par rapport à
  <tt class="option">frameref=1</tt>, ce qui devrait être une différence visible.
  <tt class="option">frameref=3</tt> est environ 15% plus lent que <tt class="option">frameref=1</tt>.
  Malheureusement, les gains diminuent rapidement.
  <tt class="option">frameref=6</tt> peut entraîner un gain de seulement 0.05-0.1 dB
  par rapport à <tt class="option">frameref=3</tt> avec une pénalité de
  15% sur la vitesse.
  Au delà de <tt class="option">frameref=6</tt>, les gains en qualité sont
  habituellement très faible (bien que vous deviez garder à l'esprit
  à travers toute cette discussion que cela peut varier fortement selon la source vidéo utilisée).
  Dans un cas raisonnablement typique, <tt class="option">frameref=12</tt> améliorera le PSNR
  global d'un minuscule 0.02dB par rapport à <tt class="option">frameref=6</tt>,
  avec un surcoût sur la vitesse de 15%-20%.
  Avec des valeurs aussi élevées de <tt class="option">frameref</tt>, la seule vraie bonne
  chose qui puisse être dite est que de l'augmenter même au delà ne
  <span class="bold"><strong>nuira</strong></span> presque certainement jamais au PSNR,
  mais les bénéfices sur la qualité sont à peine mesurables, et encore
  moins perceptibles.
</p><div class="note" title="Note :" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note :</h3><p>
  Augmenter <tt class="option">frameref</tt> à des valeurs inutilement élevées
  <span class="bold"><strong>peut affecter</strong></span> et <span class="bold"><strong>habituellement affecte</strong></span>
  l'efficacité d'encodage si vous désactivez le CABAC.
  Avec le CABAC activé (comportement par défaut), la possibilité de régler
  <tt class="option">frameref</tt> "trop haut" semble trop éloignée pour s'en inquiéter,
  et dans le futur, il est possible que des optimisations l'élimine complètement.
</p></div><p>
  Si la vitesse vous intéresse, un compromis raisonnable est
  d'utiliser des valeurs de <tt class="option">subq</tt> et <tt class="option">frameref</tt> basses
  pour la première passe, et de les augmenter ensuite sur pour la seconde passe.
  Typiquement, cela a un effet négatif négligeable sur la qualité
  finale :
  vous perdrez probablement bien moins de 0.1dB en PSNR, ce qui devrait
  être une différence beaucoup trop faible pour être visible.
  Cependant, des valeurs différentes de <tt class="option">frameref</tt> peuvent
  parfois affecter le choix du type de frame.
  Ce sont très probablement des cas périphériques rares, mais si vous voulez
  en être complètement certain, regardez si votre vidéo a soit des motifs
  plein écran, clignotants et répétitifs, soit de très
  grandes occlusions provisoires qui pourraient nécessiter une image I1.
  Ajustez le <tt class="option">frameref</tt> de la première passe pour qu'il soit assez
  grand pour contenir la durée du cycle de clignotement (ou d'occlusion).
  Par exemple, si la scène fait clignoter deux images
  sur une durée de trois images, réglez le <tt class="option">frameref</tt> de la
  première passe à 3 ou plus.
  Ce problème est probablement extrêmement rare sur des vidéos de type
  action, mais cela arrive quelquefois dans des captures de jeu vidéo.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>me</strong></span> :
  Cette option sert pour le choix de la méthode de recherche d'estimation de mouvement.
  Cette option modifie de manière directe le compromis entre qualité et vitesse.
  <tt class="option">me=dia</tt> n'est plus rapide que de quelques pourcents par rapport à
  la recherche par défaut et entraîne une diminution du PSNR global inférieure à 0.1dB. Le
  paramètre par défaut (<tt class="option">me=hex</tt>) est un compromis raisonnable
  entre vitesse et qualité. <tt class="option">me=umh</tt> améliore de moins de 0.1dB le
  PSNR global avec une pénalité sur la vitesse variant en fonction
  de <tt class="option">frameref</tt>.  Pour de hautes valeurs de <tt class="option">frameref</tt>
  (par exemple 12 ou plus), <tt class="option">me=umh</tt> est environ 40% plus lent que le
  <tt class="option">me=2</tt> par défaut. Avec <tt class="option">frameref=3</tt>,
  la pénalité sur la vitesse chute à 25%-30%.
</p><p>
  <tt class="option">me=esa</tt> utilise une recherche exhaustive qui est trop lente pour
  une utilisation pratique.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>partitions=all</strong></span> :
  Cette option autorise l'utilisation des sous-partitions 8x4, 4x8 et 4x4
  (en plus de celles présentes par défaut) dans
  les macroblocs prédits. L'autoriser résulte en une perte de vitesse raisonnablement
  consistente de 10%-15%. Cette option est plutôt inutile pour les videos sources contenant
  uniquements de faibles mouvements, particulièrement pour les sources avec
  beaucoup de petits objets en mouvement. Un gain d'environ 0.1dB peut être espéré.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>bframes</strong></span> :
  Si vous avez l'habitude d'encoder avec d'autre codecs, vous avez peut-être réalisé
  que les images B ne sont pas toujours utiles.
  Avec le H.264, ceci a changé : il y a de nouvelles techniques et types
  de blocs qui sont possibles avec les images B.
  Habituellement, même un algorithme de choix d'image B naïf peut avoir un
  bénéfice significatif sur le PSNR.
  Il est intéressant de noter que l'utilisation d'images B accélère
  habituellement légèrement la seconde passe, et peut aussi accélérer
  l'encodage en une seule passe si le choix adaptatif d'image B est désactivé.
</p><p>
  Avec le choix adaptatif d'image B désactivé
  (l'option <tt class="option">nob_adapt</tt> de <tt class="option">x264encopts</tt>),
  le réglage optimal n'est habituellement pas supérieur à
  <tt class="option">bframes=1</tt>, sinon les scènes riches en mouvement vont en souffrir.
  Avec le choix adaptatif d'image B activé (le comportement par défaut), cela
  ne pose plus de problème d'utiliser des valeurs plus élevées;
  l'encodeur réduira l'utilisation d'images B dans les scènes où
  cela endommagerait la compression.
  L'encodeur choisi rarement d'utiliser plus de 3 ou 4 images B;
  régler cette option à une valeur plus élevée aura peu d'effet.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>b_adapt</strong></span> :
  Note : activé par défaut.
</p><p>
  Avec cette option activée, l'encodeur utilise une procédure de décision
  raisonnablement rapide pour réduire le nombre d'images B utilisées dans
  les scènes pour lesquelles leur utilisation n'apporterait pas grand-chose.
  Vous pouvez utiliser <tt class="option">b_bias</tt> pour affiner la tendance
  de l'encodeur à insérer des images B.
  La pénalité de vitesse du chois adaptatif d'images B est actuellement
  plutôt modeste, mais il en est de même pour le potentiel gain en qualité.
  En général, cela ne fait pas de mal.
  Notez que cela affecte uniquement la vitesse et le choix du type d'image
  lors de la première passe.
  Les options <tt class="option">b_adapt</tt> et <tt class="option">b_bias</tt> n'ont pas
  d'effet lors des passages suivants.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>b_pyramid</strong></span> :
  Vous pouvez aussi activer cette option si vous utilisez 2 images B ou plus;
  comme l'indique la page man, vous obtiendrez une faible amélioration de la
  qualité sans surcoût en vitesse.
  Notez que ces vidéos ne peuvent pas être lues avec les décodeurs basés sur
  libavcodec antérieurs au 5 mars 2005 (environ).
</p></li><li class="listitem"><p>
  <span class="bold"><strong>weight_b</strong></span> :
  En théorie, il n'y a beaucoup de gain à espérer de cette option.
  Cependant, dans les scènes de fondu, la prédiction
  pondérée permet d'économiser beaucoup en débit (kbit/s).
  Dans le MPEG-4 ASP, un fondu-au-noir est habituellement le mieux compressé
  en tant qu'une coûteuse série d'images I; utiliser la prédiction pondérée pour les
  images B permet d'en convertir au moins une partie images B bien plus légères.
  Le coût en durée d'encodage est minimal, étant donné qu'aucun choix
  supplémentaire n'a besoin d'être fait.
  Aussi, contrairement à ce que les gens semblent deviner, les besoins en puissance informatique
  du décodeur ne sont pas beaucoup affectés par la prédiction pondérée, tout
  le reste étant équivalent.
</p><p>
  Malheureusement, l'algorithme adaptatif de choix d'images B actuel
  a une forte tendance à éviter les images B pendant les fondus.
  Jusqu'à ce que cela change, cela peut être une bonne idée d'ajouter <tt class="option">nob_adapt</tt>
  à votre <tt class="option">x264encopts</tt> si vous pensez que les fondus auront un impact important
  dans votre vidéo.
</p></li><li class="listitem"><p><a name="menc-feat-x264-encoding-options-speedvquality-threads"></a>
<span class="bold"><strong>threads</strong></span> :
Cette option permet de lancer des threads autorisant ainsi l'encodage en parallèle sur plusieurs CPUs.
Il est possible de choisir manuellement le nombre de threads à créer ou, mieux, d'utiliser
<tt class="option">threads=auto</tt> et laisser
<code class="systemitem">x264</code> détecter le nombre de CPU disponible et choisir
le nombre de threads approprié.
Si vous possédez une machine multi-processeurs, vous devriez songer à utiliser cette option.
Elle permet d'augmenter la vitesse d'encodage linéairement en fonction du nombre de coeur de CPU
(à peu prés de 94% par coeur), tout en impliquant une réduction de qualité minime
 (aux environs de 0.005dB pour un processeur double-coeurs, 0.01dB pour une machine quadri-coeurs).
</p></li></ul></div></div><div class="sect3" title="10.5.1.3. Options relatives à diverses préférences"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-x264-encoding-options-misc-preferences"></a>10.5.1.3. Options relatives à diverses préférences</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <span class="bold"><strong>Encodage en deux passes</strong></span> :
  On a suggéré ci-dessus de toujours utiliser un encodage en deux passages,
  mais il reste tout de même quelques raisons pour ne pas l'utiliser. Par exemple, si vous
  faites une capture de la télévision et l'encodez en temps réel, vous
  êtes obligé d'utiliser un encodage 1 passe.
  De plus, le 1 passe est évidemment plus rapide que le 2 passes;
  si vous utilisez exactement les mêmes options lors des 2 passes, l'encodage 2 passes
  est presque deux fois plus lent.
</p><p>
  Cependant, il y a de très bonnes raisons pour utiliser l'encodage 2 passes.
  D'une part, le contrôle de débit du mono-passe n'est pas medium et
  fait donc souvent des choix peu raisonnables parce qu'il n'a pas de vue d'ensemble
  de la vidéo. Par exemple, supposez que vous ayez une vidéo de deux minutes
  consistant en deux moitiés distinctes. La première moitié est une scène
  riche en mouvements qui dure 60 secondes qui, isolée, requière
  environ 2500kbit/s pour être correct. Suit immédiatement une
  scène de 60 secondes beaucoup moins exigeante qui peut être très bien à
  300kbit/s. Supposez que vous demandiez 1400kbps en supposant
  que cela soit suffisant pour s'accomoder des deux scènes. Le contrôle de débit
  du mono-passe commettra des "fautes" dans un tel cas.
  Premièrement, il visera 1400kbit/s pour les deux segments. Le premier segment
  sera quantifié à l'excès et aura donc des artefacts de blocs de façon irrationnelle
  et inacceptable. Le second segment sera trop peu quantifié, il aura l'air parfait,
  mais le coût en débit de cette perfection sera complètement irrationnel.
  Ce qui est encore plus difficile à éviter est le problème de transition entre les 2 scènes.
  Les premières secondes de la seconde partie seront grandement surquantifiées, parce que
  le contrôle de débit s'attend encore aux exigences qu'il a rencontrées dans la première partie.
  Cette "période d'erreur" pendant laquelle les faibles mouvements sont sur-quantifiés
  aura l'air parkinsonien, et utilisera en réalité moins
  que les 300kbit/s qu'il aurait pris pour le rendre correct. Il y a des façons
  d'atténuer les pièges de l'encodage en simple passe, mais ils peuvent avoir
  tendance à augmenter les erreurs de prédiction de débit.
</p><p>
  Le contrôle du débit en multi-passes peut apporter d'énormes avantages par rapport
  au mono-passe. En utilisant les statistiques récupérées lors de la première
  passe d'encodage, l'encodeur peut estimer, avec une précision raisonnable, le "coût"
  (en bits) de l'encodage de n'importe quelle image, à n'importe quel
  quantificateur. Cela permet d'avoir une allocation des bits beaucoup plus
  rationnelle et mieux planifiée entre les scènes coûteuses (beaucoup de
  mouvements) et celles bon marché (peu de mouvements). Voir
  <tt class="option">qcomp</tt> ci-dessous pour quelques suggestions sur la manière
  d'ajuster cette allocation à votre guise.
</p><p>
  De plus, l'encodage en deux passes ne prend pas nécessairement deux fois plus de temps
  que le simple passe. Vous pouvez jouer avec les options lors de la première passe
  pour avoir une vitesse plus élevée et une qualité plus faible.
  Si vous choisissez bien vos options, vous pouvez obtenir une première passe
  très rapide.
  La qualité résultante de la seconde passe sera légèrement plus basse parce
  que la prédiction de la taille sera moins précise, mais la différence de qualité
  sera normalement trop faible pour être visible. Essayez, par exemple,
  d'ajouter <tt class="option">subq=1:frameref=1</tt> à la première passe <tt class="option">x264encopts</tt>.
  Ensuite, sur la seconde passe, utilisez des options plus lentes pour avoir une
  meilleure qualité :
  <tt class="option">subq=6:frameref=15:partitions=all:me=umh</tt>
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Encodage en trois passes</strong></span> ?
  x264 offre la possibilité de faire un nombre arbitraire de passes consécutives.
  Si vous spécifiez <tt class="option">pass=1</tt> lors de la première passe, puis
  utilisez <tt class="option">pass=3</tt> pour la passe suivante, cette dernière passe
  lira les statistiques calculées lors du passage précédent, et écrira ses propres
  statistiques. Une autre passe suivante aura une très bonne base pour
  faire des prédictions très précises de tailles des images pour un quantificateur donné.
  En pratique, les gains sur la qualité d'ensemble sont généralement proches de zéro et
  il est très possible que la troisième passe donne un PSNR global plus faible que le précédent.
  Typiquement, le 3 passes aide si vous obtenez une mauvaise
  prédiction de débit ou un mauvais rendu lors des transitions de scènes
  quand vous utilisez seulement deux passes.
  Ceci peut se produire sur les clips extrêmement courts. Il y a aussi quelques
  cas spéciaux dans lesquels trois (ou plus) passes sont utiles pour les
  utilisateurs avancés, mais par souci de brièveté, ce guide ne traitera pas
  ces cas spéciaux.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>qcomp</strong></span> :
  <tt class="option">qcomp</tt> gère l'allocation des bits entre les images
  "coûteuses" des scènes riches en mouvement et celles "bon marché" des scènes de faible mouvement.
  La valeur minimale, <tt class="option">qcomp=0</tt> s'emplie à réaliser un vrai débit constant.
  Typiquement, cela rendrait des scènes riches en mouvements vraiment laides,
  alors que les scènes plus statiques seraient absolument parfaites, mais cela
  utiliserait aussi beaucoup plus de bits que nécessaire pour les rendre excellentes.
  La valeur maximale, <tt class="option">qcomp=1</tt> rend les paramètres de quantifications
  (QP) presque constants. Un QP constant donne un bon rendu, mais la plupart des
  gens pensent qu'il est plus raisonnable d'enlever quelques bits des scènes
  coûteuses (où la perte de qualité n'est pas aussi visible) et de les ré-allouer
  aux scènes qui sont plus faciles à encoder à une excellente qualité.
  <tt class="option">qcomp</tt> vaut 0.6 par défaut, ce qui peut être légèrement
  trop faible au goût de nombre de personnes (0.7-0.8 sont aussi communément
  utilisées).
</p></li><li class="listitem"><p>
  <span class="bold"><strong>keyint</strong></span> :
  <tt class="option">keyint</tt> permet de jouer sur le compromis entre la
  précision de la navigation dans les fichiers et leur efficacité de compression.
  Par défaut, <tt class="option">keyint</tt> est égal à 250.
  Sur des videos à 25 images par secondes, cela garantit que la navigation peut se faire
  avec une précision de 10 secondes.
  Si vous pensez qu'il est important et utile de pouvoir faire une recherche
  avec une granularité de 5 secondes, règlez à <tt class="option">keyint=125</tt>;
  cela dégradera légèrement le rapport qualité/débit. Si vous vous souciez seulement
  de la qualité et non de la capacité à faire une recherche, vous pouvez le
  mettre à des valeurs beaucoup plus élevées (bien entendu, plus
  vous augmenterez, moins il aura de gain visuels).
  Le flux vidéo aura toujours des points de recherche tant qu'il y aura des changements de
  de scène.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>deblock</strong></span> :
  Ce sujet risque d'être une source de controverses.
</p><p>
  H.264 définit une procédure simple de déblocage sur les blocs I
  ayant des forces et des seuils pré-réglés en fonction du QP du
  bloc en question.
  Par défaut, les blocs à QP élevés sont fortement filtrés et les blocs à faible QP
  ne le sont pas du tout.
  Les forces pré-réglées définies par les standards sont bien choisies et
  il y a de grandes chances pour qu'elles soient optimales du point de vue du PSNR
  quel que soit la vidéo que vous encodez.
  Les paramètres de <tt class="option">deblock</tt>
  vous permettent de spécifier des décalages par rapport aux seuils de déblocage pré-définis.
</p><p>
  Beaucoup de gens semblent penser que baisser grandement la force du filtre de
  déblocage (par exemple -3) est une bonne idée.
  Ce n'est cependant presque jamais le cas et dans la plupart des cas,
  ceux qui le font ne comprennent pas très bien comment le déblocage
  fonctionne par défaut.
</p><p>
  La première et plus importante chose à savoir à propos du filtre de déblocage
  de H264 est que les seuils par défaut sont presque toujours optimaux du point de vue du PSNR.
  Dans les rares cas où ils ne le sont pas, le décalage idéal est de plus ou
  moins 1.
  Décaler les paramètres de déblocage d'une plus grande valeur est presqu'une garantie de
  dégradation du PSNR.
  Augmenter la force du filtre diluera les détails; la baisser
  augmentera l'effet de bloc.
</p><p>
  C'est une mauvaise idée que de baisser les seuils de déblocage si
  votre source est principalement de faible complexité spatiale (c-à-d avec peu de
  détails ou de bruit).
  Le filtre de H264 réussit très bien à camoufler les artefacts qui se apparaissent.
  De toutes façons, si la complexité spatiale de la source est élevée, les
  artefacts sont moins discernables parce qu'ils tendent à ressembler
  à du détail ou du bruit.
  La vision humaine remarque facilement qu'un détail a été enlevé
  mais ne remarque pas si facilement quand un bruit est mal représenté.
  Quand il s'agit de qualité subjective, le bruit et les détails sont
  d'une certaine façon interchangeables.
  En baissant la force du filtre de déblocage, vous allez très probablement
  augmenter les erreurs en ajoutant des artefacts mais
  l'oeil ne les remarquera pas parce qu'il les confondra avec des détails.
</p><p>
  Cependant, ceci ne justifie <span class="bold"><strong>toujours</strong></span> pas une diminution de
  la force du filtre de déblocage.
  Vous pouvez généralement obtenir une meilleure qualité de bruit lors du
  post-traitement.
  Si votre encodage en H.264 est trop flou ou sale, essayez de jouer avec
  <tt class="option">-vf noise</tt> quand vous visionner votre film encodé.
  <tt class="option">-vf noise=8a:4a</tt> devrait camoufler la plupart des artefacts légers.
  Cela aura l'air certainement mieux que ce que vous obtiendriez en jouant
  uniquement avec le filtre de déblocage.
</p></li></ul></div></div></div><div class="sect2" title="10.5.2. Exemples de paramètre d'encodage"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-x264-example-settings"></a>10.5.2. Exemples de paramètre d'encodage</h3></div></div></div><p>
  Les paramètres ci-dessous sont des exemples de différentes combinaisons
  d'option de compression qui affectent le compromis entre vitesse et
  qualité pour un même débit cible.
</p><p>
  Tous les paramètres d'encodage sont testés sur un échantillon vidéo à
  720x448 à30000/1001 images par seconde, le débit cible est à 900kbit/s, et la machine
  est un AMD-64 3400+ à 2400 MHz en mode 64 bits.
  Chaque paramètre d'encodage exploite la vitesse de compression mesurée (en
  images par seconde) et la perte de PSNR (en dB) en la comparant au paramètre
  de "très haute qualité".
  Veuillez comprendre que selon votre source, le type de votre machine et
  les derniers développements logiciels, vous pourrez obtenir des résultats
  très différents.
</p><p>
</p><div class="informaltable"><table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>Description</th><th>Options d'encodage</th><th>vitesse (en images/s)</th><th>Perte PSNR relative (en dB)</th></tr></thead><tbody><tr><td>Très haute qualité</td><td><tt class="option">subq=6:partitions=all:8x8dct:me=umh:frameref=5:bframes=3:b_pyramid:weight_b</tt></td><td>6</td><td>0dB</td></tr><tr><td>Haute qualité</td><td><tt class="option">subq=5:partitions=all:8x8dct:frameref=2:bframes=3:b_pyramid:weight_b</tt></td><td>13</td><td>-0.89dB</td></tr><tr><td>Rapide</td><td><tt class="option">subq=4:bframes=2:b_pyramid:weight_b</tt></td><td>17</td><td>-1.48dB</td></tr></tbody></table></div><p>
</p></div></div><div class="sect1" title="10.6. Encoder avec la famille de codecs Video For Windows"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-video-for-windows"></a>10.6. Encoder avec la famille de codecs <code class="systemitem">Video For Windows</code></h2></div></div></div><p>
Video for Windows offre la possibilité d'encoder en utiliser les codecs vidéo binaires.
Il est possible d'encoder avec les codecs suivants (si vous en connaissez
d'autres, dites-le nous !)
</p><p>
Notez que le support est très expériemental que que certains codecs peuvent
ne pas fonctionner correctement.
Certains codecs ne fonctionnent qu'avec certains espaces de couleur ;
essayez les options <tt class="option">-vf format=bgr24</tt> et <tt class="option">-vf format=yuy2</tt>
si un codec se plante ou donne un résulat étrange.
</p><div class="sect2" title="10.6.1. Les codecs Video for Windows supportés"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-enc-vfw-video-codecs"></a>10.6.1. Les codecs Video for Windows supportés</h3></div></div></div><p>
</p><div class="informaltable"><table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>Nom de fichier du codec Video</th><th>Description (FourCC)</th><th>md5sum</th><th>Commentaire</th></tr></thead><tbody><tr><td>aslcodec_vfw.dll</td><td>Alparysoft lossless codec vfw (ASLC)</td><td>608af234a6ea4d90cdc7246af5f3f29a</td><td> </td></tr><tr><td>avimszh.dll</td><td>AVImszh (MSZH)</td><td>253118fe1eedea04a95ed6e5f4c28878</td><td>nécessite <tt class="option">-vf format</tt></td></tr><tr><td>avizlib.dll</td><td>AVIzlib (ZLIB)</td><td>2f1cc76bbcf6d77d40d0e23392fa8eda</td><td> </td></tr><tr><td>divx.dll</td><td>DivX4Windows-VFW</td><td>acf35b2fc004a89c829531555d73f1e6</td><td> </td></tr><tr><td>huffyuv.dll</td><td>HuffYUV (lossless) (HFYU)</td><td>b74695b50230be4a6ef2c4293a58ac3b</td><td> </td></tr><tr><td>iccvid.dll</td><td>Cinepak Video (cvid)</td><td>cb3b7ee47ba7dbb3d23d34e274895133</td><td> </td></tr><tr><td>icmw_32.dll</td><td>Motion Wavelets (MWV1)</td><td>c9618a8fc73ce219ba918e3e09e227f2</td><td> </td></tr><tr><td>jp2avi.dll</td><td>ImagePower MJPEG2000 (IPJ2)</td><td>d860a11766da0d0ea064672c6833768b</td><td><tt class="option">-vf flip</tt></td></tr><tr><td>m3jp2k32.dll</td><td>Morgan MJPEG2000 (MJ2C)</td><td>f3c174edcbaef7cb947d6357cdfde7ff</td><td> </td></tr><tr><td>m3jpeg32.dll</td><td>Morgan Motion JPEG Codec (MJPG)</td><td>1cd13fff5960aa2aae43790242c323b1</td><td> </td></tr><tr><td>mpg4c32.dll</td><td>Microsoft MPEG-4 v1/v2</td><td>b5791ea23f33010d37ab8314681f1256</td><td> </td></tr><tr><td>tsccvid.dll</td><td>TechSmith Camtasia Screen Codec (TSCC)</td><td>8230d8560c41d444f249802a2700d1d5</td><td>erreur shareware sous windows</td></tr><tr><td>vp31vfw.dll</td><td>On2 Open Source VP3 Codec (VP31)</td><td>845f3590ea489e2e45e876ab107ee7d2</td><td> </td></tr><tr><td>vp4vfw.dll</td><td>On2 VP4 Personal Codec (VP40)</td><td>fc5480a482ccc594c2898dcc4188b58f</td><td> </td></tr><tr><td>vp6vfw.dll</td><td>On2 VP6 Personal Codec (VP60)</td><td>04d635a364243013898fd09484f913fb</td><td>crash sous Linux</td></tr><tr><td>vp7vfw.dll</td><td>On2 VP7 Personal Codec (VP70)</td><td>cb4cc3d4ea7c94a35f1d81c3d750bc8d</td><td>-ffourcc VP70</td></tr><tr><td>ViVD2.dll</td><td>SoftMedia ViVD V2 codec VfW (GXVE)</td><td>a7b4bf5cac630bb9262c3f80d8a773a1</td><td> </td></tr><tr><td>msulvc06.DLL</td><td>MSU Lossless codec (MSUD)</td><td>294bf9288f2f127bb86f00bfcc9ccdda</td><td>
    Décodable par <span class="application">Window Media Player</span>,
    mais pas <span class="application">MPlayer</span> (pour le moment).
  </td></tr><tr><td>camcodec.dll</td><td>CamStudio lossless video codec (CSCD)</td><td>0efe97ce08bb0e40162ab15ef3b45615</td><td>sf.net/projects/camstudio</td></tr></tbody></table></div><p>

La première colonne contient le nom du codec qui soit être donné après le
paramètre <code class="literal">codec</code>, comme ceci :
<tt class="option">-xvfwopts codec=divx.dll</tt>.
Le code FourCC utilisé par chaque codec est donné entre parenthèse.
</p><div class="informalexample"><p>
Exemple de conversion d'une bande annonce DVD ISO en un fichier video flash VP6
en utilisant une configuration de débit compdata :
</p><pre class="screen">
mencoder -dvd-device <em class="replaceable"><code>zeiram.iso</code></em> dvd://7 -o <em class="replaceable"><code>bande_annonce.flv</code></em> \
-ovc vfw -xvfwopts codec=vp6vfw.dll:compdata=onepass.mcf -oac mp3lame \
-lameopts cbr:br=64 -af lavcresample=22050 -vf yadif,scale=320:240,flip \
-of lavf
</pre><p>
</p></div></div><div class="sect2" title="10.6.2. Utilisation de vfw2menc pour créer un fichier de configuration de codec."><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-video-for-windows-bitrate-settings"></a>10.6.2. Utilisation de vfw2menc pour créer un fichier de configuration de codec.</h3></div></div></div><p>
Afin d'encoder avec les codecs Video for Windows, il vous faut paramétrer le débit
ainsi que d'autres options. Ceci fonctionne sur x86 sous *NIX et Windows.
</p><p>
En premier lieu, vous devez compiler le programme <span class="application">vfw2menc</span>.
Il se trouve dans le sous-répertoire <tt class="filename">TOOLS</tt>
de l'arborescence des sources de MPlayer.
La compilation sous Linux peut se faire en utilisant
<span class="application">Wine</span> :
</p><pre class="screen">winegcc vfw2menc.c -o vfw2menc -lwinmm -lole32</pre><p>

Pour compiler sous Windows avec <span class="application">MinGW</span> ou
<span class="application">Cygwin</span> tapez :
</p><pre class="screen">gcc vfw2menc.c -o vfw2menc.exe -lwinmm -lole32</pre><p>

Pour compiler avec <span class="application">MSVC</span> vous aurez besoin de getopt.
Getopt peut être obtenu dans l'archive d'origine de
<span class="application">vfw2menc</span> disponible ici :
The <a class="ulink" href="http://oss.netfarm.it/mplayer-win32.php" target="_top">MPlayer on
win32</a> project.
</p><div class="informalexample"><p>
Ci-dessous un exemple avec le codec VP6.
</p><pre class="screen">
vfw2menc -f VP62 -d vp6vfw.dll -s premierepasse.mcf
</pre><p>
Ceci va ouvrir le fenêtre de dialolgue du codec VP6.
Il faut répéter cette étape pour la seconde passe
et utiliser <tt class="option">-s <em class="replaceable"><code>secondepasse.mcf</code></em></tt>.
</p></div><p>
Les utilisateurs Windows peuvent utiliser
<tt class="option">-xvfwopts codec=vp6vfw.dll:compdata=dialog</tt> pour faire
apparaître la boîte de dialogue avant que l'encodage ne commence.
</p></div></div><div class="sect1" title="10.7. Utiliser MEncoder pour créer des fichiers compatibles QuickTime"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-quicktime-7"></a>10.7. Utiliser <span class="application">MEncoder</span> pour créer
des fichiers compatibles <span class="application">QuickTime</span></h2></div></div></div><div class="sect2" title="10.7.1. Pourquoi produire des fichiers compatibles QuickTime ?"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-quicktime-7-why-use-it"></a>10.7.1. Pourquoi produire des fichiers compatibles
<span class="application">QuickTime</span> ?</h3></div></div></div><p>
Il existe plusieurs raisons pour lesquelles il est souhaitable de produire des
fichiers compatibles <span class="application">QuickTime</span>
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
	Vous souhaitez que n'importe quel utilisateur non expérimenté soit capable
	de regarder votre vidéo sur les plateformes majeures (Windows, Mac OS X, Unices …).
</p></li><li class="listitem"><p>
	<span class="application">QuickTime</span> est capable de tirer plus
	amplement profit des accélérations matérielles et logicielles
	de Mac OS X que les lecteurs plus indépendant de la plateforme
	comme <span class="application">MPlayer</span> ou <span class="application">VLC</span>.
	Ainsi, vos vidéos ont plus de chance d'être jouées sans accros sur de
	veilles machines basées sur des processeurs G4.
</p></li><li class="listitem"><p>
  <span class="application">QuickTime</span> 7 supporte la nouvelle génération de
  codecs :
  H.264, qui offre une bien meilleure qualité d'image que la génération de
  codecs précédente (MPEG-2, MPEG-4 …).
</p></li></ul></div></div><div class="sect2" title="10.7.2. Limitations de QuickTime"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-quicktime-7-constraints"></a>10.7.2. Limitations de <span class="application">QuickTime</span></h3></div></div></div><p>
	<span class="application">QuickTime</span> 7 supporte la vidéo en H.264 et l'audio en AAC,
	mais il ne les supporte pas multipléxés dans le format de container AVI.
	Cependant, vous pouvez utiliser <span class="application">MEncoder</span> pour encoder
	la vidéo et l'audio, et ensuite utiliser un programme externe comme
	<span class="application">mp4creator</span> (appartenant à la
	<a class="ulink" href="http://mpeg4ip.sourceforge.net/" target="_top">suite MPEG4IP</a>)
	pour remultiplexer les pistes vidéos et audios dans un container MP4.
</p><p>
	Le support <span class="application">QuickTime</span> du H.264 étant limité,
	il vous faudra laisser tomber certaines options avancées.
	Si vous encodez votre vidéo en utilisant des options que
	<span class="application">QuickTime</span> 7 ne supporte pas,
	les lecteurs basés sur <span class="application">QuickTime</span> afficheront
	un joli écran blanc au lieu de la vidéo attendue.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <span class="bold"><strong>trames-B</strong></span> :
	<span class="application">QuickTime</span> 7 supporte un maximum d'une trame-B, i.e.
	<tt class="option">-x264encopts bframes=1</tt>. Ainsi,
	<tt class="option">b_pyramid</tt> et <tt class="option">weight_b</tt> n'auront aucun
	effet car ces options requierent que <tt class="option">bframes</tt> soit supérieure à 1.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Macroblocs</strong></span> :
	<span class="application">QuickTime</span> 7 ne supporte pas les macroblocs de type 8x8 DCT.
	Cette option (<tt class="option">8x8dct</tt>) est désactivée par défaut,
	donc soyez sûr de ne pas l'activer explicitement. Ceci signifie aussi que l'option
	<tt class="option">i8x8</tt> n'aura aucun effet, car elle nécessite l'option <tt class="option">8x8dct</tt>.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Ratio d'aspect</strong></span> :
	<span class="application">QuickTime</span> 7 ne supporte pas l'information sur le SAR (l'échantillonage
	de ratio d'aspect ou Sample Aspect Ratio) dans les fichiers MPEG-4; il suppose que SAR=1.
	Lisez <a class="link" href="#menc-feat-quicktime-7-scale" title="10.7.4. Redimensionnement"> la section sur le redimensionnement</a> pour une
	parade à cette limitation.
</p></li></ul></div></div><div class="sect2" title="10.7.3. Recadrage"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-quicktime-7-crop"></a>10.7.3. Recadrage</h3></div></div></div><p>
	Supposons que vous voulez encoder votre DVD "Les chroniques de Narnia".
	Votre DVD étant de région 1, il est en NTSC. L'exemple ci-dessous serait aussi
	applicable au PAL, hormis qu'il faudrait omettre l'option <tt class="option">-ofps 24000/1001</tt>
	et utiliser des dimensions pour <tt class="option">crop</tt> et <tt class="option">scale</tt>
	sensiblement différentes.
</p><p>
	Aprés avoir lancé <tt class="option">mplayer dvd://1</tt>, vous suivez la procédure
	détaillée dans la section
	<a class="link" href="#menc-feat-telecine" title="10.2. Comment gérer le téléciné et l'entrelacement des DVDs NTSC">Comment gérer le téléciné et le dés-entrelacement avec les DVDs NTSC</a>
	et découvrez que c'est une vidéo progréssive en 24000/1001 image par seconde.
	Ceci simplifie quelque peu la procédure, car nous n'avons pas besoin d'utliser un filtre téléciné inverse
	comme <tt class="option">pullup</tt> ou un filtre de désentrelacement comme
	<tt class="option">yadif</tt>.
</p><p>
	Ensuite il faut rogner les bandes noires du haut et du bas de la vidéo,
	comme détaillé dans la section précédente.
</p></div><div class="sect2" title="10.7.4. Redimensionnement"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-quicktime-7-scale"></a>10.7.4. Redimensionnement</h3></div></div></div><p>
	La prochaine étape à de quoi vous briser le coeur.
	<span class="application">QuickTime</span> 7 ne supporte pas les
	vidéos MPEG-4 avec échantillonage du ratio d'aspect différent de 1,
	de fait il vous faudra redimensionner à la hausse (ce qui gaspille
	beaucoup d'espace disque) ou à la baisse (ce qui diminue le niveau
	de détail de la source) la vidéo de façon à obtenir des pixels carrés.
	D'une manière ou d'une autre, cette opération est très inéficace, mais
	ne peut être evitée si vous souhaitez que votre vidéo soit lisible par
	<span class="application">QuickTime</span> 7.
	<span class="application">MEncoder</span> permet d'appliquer le redimensionnement
	à la hausse ou à la baisse en spécifiant respectivement
	<tt class="option">-vf scale=-10:-1</tt> ou <tt class="option">-vf scale=-1:-10</tt>.
	Ces options vont redimensionner la vidéo à la bonne largeur pour la hauteur rognée,
	arrondi au plus proche multiple de 16 pour une compression optimale.
  Rappelez vous que si vous rognez, vous devez d'abord rogner et ensuite
  redimensionner :

	</p><pre class="screen">-vf crop=720:352:0:62,scale=-10:-1</pre><p>
</p></div><div class="sect2" title="10.7.5. Synchronisation de l'audio et de la vidéo"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-quicktime-7-avsync"></a>10.7.5. Synchronisation de l'audio et de la vidéo</h3></div></div></div><p>
	Parce que vous allez remultiplexer dans un container différent,
	vous devriez toujours utiliser l'option <tt class="option">harddup</tt>
	afin de s'assurer que les trames dupliquées soient effectivement
	dupliquées dans la vidéo de sortie. Sans cette option, <span class="application">MEncoder</span>
	placera simplement un marqueur dans la flux vidéo signalant qu'une trame
	a été dupliquée, et délèguera au logiciel client l'initiative d'afficher
	la même trame deux fois. Malheureusement, cette "duplication douce" ne survivant pas
	au multiplexage, l'audio perdra lentement la synchronisation avec la vidéo.
</p><p>
  La chaîne de filtre résultante a cette forme :
  	</p><pre class="screen">-vf crop=720:352:0:62,scale=-10:-1,harddup</pre><p>
</p></div><div class="sect2" title="10.7.6. Débit"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-quicktime-7-bitrate"></a>10.7.6. Débit</h3></div></div></div><p>
	Comme toujours, le choix du débit est aussi bien une question de propriétés techniques
	de la source, comme expliqué
  	<a class="link" href="#menc-feat-dvd-mpeg4-resolution-bitrate" title="10.1.5. Choix de la résolution et du débit">ici</a>, qu'une
	question de goût.
	Dans ce film, il y a pas mal d'action et beaucoup de détails, mais le H.264
	apparait plus beau que le XviD ou tout autre codec MPEG-4 à des débits moindres.
	Après moultes expérimentations, l'auteur de ce guide a choisi d'encoder ce film à
	900kbps, et pense que le résultat est joli.
	Vous pouvez diminuer le débit si vous souhaitez sauver de la place,
	ou l'augmenter si vous voulez améliorer la qualité.
</p></div><div class="sect2" title="10.7.7. Exemple d'encodage"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-quicktime-7-example"></a>10.7.7. Exemple d'encodage</h3></div></div></div><p>
	Vous êtes maintenant prêt à encoder la vidéo. Comme vous
	tenez à la qualité, vous effectuerez un encodage en 2 passes, bien entendu.
	Pour sauver un peu de temps d'encodage, vous pouvez spécifier
	l'option <tt class="option">turbo</tt> pour la première passe; cette option
	réduit <tt class="option">subq</tt> et <tt class="option">frameref</tt> à 1.
	Pour sauvegarder de l'espace disque vous pouvez utiliser l'option <tt class="option">ss</tt>
	afin d'enlever les toutes premières secondes de la vidéo.
	(Je me suis aperçu que ce film a 32 secondes de générique et de logo.)
	<tt class="option">bframes</tt> peut être 0 ou 1.
	Les autres options sont documentées dans <a class="link" href="#menc-feat-x264-encoding-options-speedvquality" title="10.5.1.2. Options qui affectent principalement la vitesse et la qualité">Encodage avec
  	le codec <code class="systemitem">x264</code></a> et la page
	de man.

  </p><pre class="screen">mencoder dvd://1 -o /dev/null -ss 32 -ovc x264 \
-x264encopts pass=1:turbo:bitrate=900:bframes=1:\
me=umh:partitions=all:trellis=1:qp_step=4:qcomp=0.7:direct_pred=auto:keyint=300 \
-vf crop=720:352:0:62,scale=-10:-1,harddup \
-oac faac -faacopts br=192:mpeg=4:object=2 -channels 2 -srate 48000 \
-ofps 24000/1001</pre><p>

	Si vous possédez une machine multi-processeur, ne manquez pas l'opportunité
	d'augmenter grandement la vitesse d'encodage en activant
  	<a class="link" href="#menc-feat-x264-encoding-options-speedvquality-threads">
	le mode multi-thread du <code class="systemitem">x264</code></a>
	en ajoutant <tt class="option">threads=auto</tt> à votre ligne de commande <tt class="option">x264encopts</tt>.
</p><p>
	La seconde passe est la même, excepté qu'il faut spécifier le fichier de sortie
	et mettre <tt class="option">pass=2</tt>.

  </p><pre class="screen">mencoder dvd://1 <span class="bold"><strong>-o narnia.avi</strong></span> -ss 32 -ovc x264 \
-x264encopts <span class="bold"><strong>pass=2</strong></span>:turbo:bitrate=900:frameref=5:bframes=1:\
me=umh:partitions=all:trellis=1:qp_step=4:qcomp=0.7:direct_pred=auto:keyint=300 \
-vf crop=720:352:0:62,scale=-10:-1,harddup \
-oac faac -faacopts br=192:mpeg=4:object=2 -channels 2 -srate 48000 \
-ofps 24000/1001</pre><p>
</p><p>
	L'AVI résultant doit être parfaitement lu
	par <span class="application">MPlayer</span>, mais bien entendu
	<span class="application">QuickTime</span> ne peut le lire
	car il ne supporte pas le H.264 multiplexé dans de l'AVI.
	De fait, la prochaine étape est de remultiplexer la vidéo dans
	un container MP4.
</p></div><div class="sect2" title="10.7.8. Remultiplexage en MP4"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-quicktime-7-remux"></a>10.7.8. Remultiplexage en MP4</h3></div></div></div><p>
	Il existe différentes manières de remultiplexer des fichiers AVI en MP4.
	Vous pouvez utiliser <span class="application">mp4creator</span>, qui fait parti de la
	<a class="ulink" href="http://mpeg4ip.sourceforge.net/" target="_top">suite MPEG4IP</a>.
</p><p>
	Premièrement, demultiplexez l'AVI en un flux audio et un flux vidéo séparés
	en utilisant <span class="application">MPlayer</span>.
  	</p><pre class="screen">mplayer narnia.avi -dumpaudio -dumpfile narnia.aac
	mplayer narnia.avi -dumpvideo -dumpfile narnia.h264</pre><p>

	Les noms de fichier sont important; <span class="application">mp4creator</span>
	nécessite que les flux audios AAC soient nommés <code class="systemitem">.aac</code>
	et les flux vidéos H.264 soient nommés <code class="systemitem">.h264</code>.
</p><p>
	Maintenant utilisez <span class="application">mp4creator</span> pour créer
	un nouveau fichier MP4 depuis les flux audio et vidéo.

	</p><pre class="screen">mp4creator -create=narnia.aac narnia.mp4
	mp4creator -create=narnia.h264 -rate=23.976 narnia.mp4</pre><p>

	Contrairement à l'étape d'encodage, vous devez spécifier le nombre
	d'image par seconde comme une valeur décimale (par exemple 23.976), et non
	comme une valeur fractionnaire (par exemple 24000/1001).
</p><p>
	Le fichier <code class="systemitem">narnia.mp4</code> devrait être lisible
	par n'importe quelle application <span class="application">QuickTime</span> 7,
	comme le <span class="application">lecteur QuickTime</span> ou
	comme <span class="application">iTunes</span>. Si vous planifiez de voir la
	vidéo dans un navigateur Internet avec le plugin <span class="application">QuickTime</span>,
	vous devriez aussi renseigner le film de sorte que le plugin
	<span class="application">QuickTime</span> puisse commencer à le lire
	pendant qu'il se télécharge. <span class="application">mp4creator</span>
  peut créer ces pistes de renseignement :

	</p><pre class="screen">mp4creator -hint=1 narnia.mp4
	mp4creator -hint=2 narnia.mp4
	mp4creator -optimize narnia.mp4</pre><p>

	Vous pouvez vérifier le résultat final pour vous assurer
  que les pistes de renseignement ont été créées avec succès :

  </p><pre class="screen">mp4creator -list narnia.mp4</pre><p>

  Vous devriez voir une liste de pistes : 1 audio, 1 vidéo, et 2 pistes
  de renseignement

	</p><pre class="screen">Track   Type    Info
	1       audio   MPEG-4 AAC LC, 8548.714 secs, 190 kbps, 48000 Hz
	2       video   H264 Main@5.1, 8549.132 secs, 899 kbps, 848x352 @ 23.976001 fps
	3       hint    Payload mpeg4-generic for track 1
	4       hint    Payload H264 for track 2
	</pre><p>
</p></div><div class="sect2" title="10.7.9. Ajouter des tags de méta-données"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-quicktime-7-metadata"></a>10.7.9. Ajouter des tags de méta-données</h3></div></div></div><p>
	Si vous voulez ajouter des tags dans votre vidéo qui soient visible dans <span class="application">iTunes</span>,
	vous pouvez utiliser
  	<a class="ulink" href="http://atomicparsley.sourceforge.net/" target="_top">AtomicParsley</a>.

  	</p><pre class="screen">AtomicParsley narnia.mp4 --metaEnema --title "The Chronicles of Narnia" --year 2005 --stik Movie --freefree --overWrite</pre><p>

	L'option <tt class="option">--metaEnema</tt> efface toutes meta-données existantes.
	(<span class="application">mp4creator</span> insère son nom dans le tag "encoding tool"),
	et <tt class="option">--freefree</tt> récupère l'espace libéré par les méta-données effacées.
	L'option <tt class="option">--stik</tt> paramétre le type de vidéo (tel que Film ou Show TV),
	qu'<span class="application">iTunes</span> utilise pour grouper des fichiers vidéos similaires.
	L'option <tt class="option">--overWrite</tt> écrase le fichier d'origine;
	sans cette option, <span class="application">AtomicParsley</span> créé un fichier automatiquement
	nommé dans le même répertoire et laisse le fichier d'origine tel quel.
</p></div></div><div class="sect1" title="10.8. Utiliser MEncoder pour créer des fichiers compatibles VCD/SVCD/DVD."><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-vcd-dvd"></a>10.8. Utiliser <span class="application">MEncoder</span> pour créer des fichiers compatibles VCD/SVCD/DVD.</h2></div></div></div><div class="sect2" title="10.8.1. Contraintes de Format"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-vcd-dvd-constraints"></a>10.8.1. Contraintes de Format</h3></div></div></div><p>
  <span class="application">MEncoder</span> est capable de créer des fichiers MPEG
  aux formats VCD, SCVD et DVD en utilisant la bibliothèque
  <code class="systemitem">libavcodec</code>.
  Ces fichiers peuvent ensuite être utilisés avec
  <a class="ulink" href="http://www.gnu.org/software/vcdimager/vcdimager.html" target="_top">vcdimager</a>
  ou
  <a class="ulink" href="http://dvdauthor.sourceforge.net/" target="_top">dvdauthor</a>
  pour créer des disques lisibles par une platine de salon standard.
</p><p>
  Les formats DVD, SVCD, et VCD sont très contraignants.
  Seule un faible nombre de résolutions et de formats d'image
  sont acceptés.
  Si votre film ne respecte pas ces conditions, vous devrez
  redimensionner, recadrer ou ajouter des bords noirs à l'image pour
  le rendre compatible.
</p><div class="sect3" title="10.8.1.1. Contraintes de format"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-constraints-resolution"></a>10.8.1.1. Contraintes de format</h4></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col><col><col><col><col><col><col></colgroup><thead><tr><th>Format</th><th>Résolution</th><th>Codec vidéo</th><th>débit vidéo en kbit/s</th><th>Taux d'échantillonnage</th><th>Codec audio</th><th>débit audio en kbit/s</th><th>images par seconde</th><th>format d'image</th></tr></thead><tbody><tr><td>NTSC DVD</td><td>720x480, 704x480, 352x480, 352x240</td><td>MPEG-2</td><td>9800</td><td>48000 Hz</td><td>AC-3,PCM</td><td>1536 (max)</td><td>30000/1001, 24000/1001</td><td>4:3, 16:9 (seulement pour 720x480)</td></tr><tr><td>NTSC DVD</td><td>352x240<sup>[<a name="fn-rare-resolutions" href="#ftn.fn-rare-resolutions" class="footnote">a</a>]</sup></td><td>MPEG-1</td><td>1856</td><td>48000 Hz</td><td>AC-3,PCM</td><td>1536 (max)</td><td>30000/1001, 24000/1001</td><td>4:3, 16:9</td></tr><tr><td>NTSC SVCD</td><td>480x480</td><td>MPEG-2</td><td>2600</td><td>44100 Hz</td><td>MP2</td><td>384 (max)</td><td>30000/1001</td><td>4:3</td></tr><tr><td>NTSC VCD</td><td>352x240</td><td>MPEG-1</td><td>1150</td><td>44100 Hz</td><td>MP2</td><td>224</td><td>24000/1001, 30000/1001</td><td>4:3</td></tr><tr><td>PAL DVD</td><td>720x576, 704x576, 352x576, 352x288</td><td>MPEG-2</td><td>9800</td><td>48000 Hz</td><td>MP2,AC-3,PCM</td><td>1536 (max)</td><td>25</td><td>4:3, 16:9 (seulement pour 720x576)</td></tr><tr><td>PAL DVD</td><td>352x288<sup>[<a href="#ftn.fn-rare-resolutions" class="footnoteref">a</a>]</sup></td><td>MPEG-1</td><td>1856</td><td>48000 Hz</td><td>MP2,AC-3,PCM</td><td>1536 (max)</td><td>25</td><td>4:3, 16:9</td></tr><tr><td>PAL SVCD</td><td>480x576</td><td>MPEG-2</td><td>2600</td><td>44100 Hz</td><td>MP2</td><td>384 (max)</td><td>25</td><td>4:3</td></tr><tr><td>PAL VCD</td><td>352x288</td><td>MPEG-1</td><td>1152</td><td>44100 Hz</td><td>MP2</td><td>224</td><td>25</td><td>4:3</td></tr></tbody><tbody class="footnotes"><tr><td colspan="9"><div class="footnote"><p><sup>[<a name="ftn.fn-rare-resolutions" href="#fn-rare-resolutions" class="para">a</a>] </sup>
	  Ces résolutions sont rarement utilisées pour les DVDs
	  parce qu'elles sont d'assez basse qualité.</p></div></td></tr></tbody></table></div><p>
  Si votre film est au format 2,35:1 (la plupart des films d'action récents), vous
  devrez ajouter des bords noirs ou recadrer le film en 16:9
  pour faire un DVD ou un VCD.
  Si vous ajoutez des bords noirs, essayez qu'ils soient d'une épaisseur multiple
  de 16 de façon à minimiser l'impact sur la performance d'encodage.
  Le DVD a heureusement un débit suffisamment élevé pour que vous n'ayez pas trop
  à vous inquiéter pour l'efficacité de l'encodage, par contre, le SVCD et le VCD
  sont très limités en débit et demandent des efforts pour obtenir
  une qualité acceptable.
</p></div><div class="sect3" title="10.8.1.2. Contraintes de Taille GOP"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-constraints-gop"></a>10.8.1.2. Contraintes de Taille GOP</h4></div></div></div><p>
  Les DVD, VCD, et SVCD vous contraignent aussi à des tailles relativement basses
  de GOP (Group of Pictures ou "Groupe d'Images").
  Pour des vidéo à 30 images par secondes, la plus large taille de GOP permise est 18.
  Pour 25 ou 24 images par secondes, le maximum est 15.
  La taille du GOP est réglée en utilisant l'option <tt class="option">keyint</tt>.
</p></div><div class="sect3" title="10.8.1.3. Contraintes de débit"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-constraints-bitrate"></a>10.8.1.3. Contraintes de débit</h4></div></div></div><p>
  Le format VCD requière que le débit de votre vidéo soit constant (CBR) à 1152 kbit/s.
  A cette forte contrainte, il faut ajouter la très petite taille de la mémoire
  tampon VBV : 327 kbits.
  Le SVCD autorise des débits vidéo variables jusqu'à 2500 kbit/s et une taille
  de mémoire tampon VBV légèrement moins restrictive de 917 kbits.
  Les débits vidéo DVD peuvent aller jusqu'à 9800 kbit/s
  (bien que les débits typiques soient d'à peu près la moitié) et la taille
  de la mémoire tampon VBV est de 1835 kbits.
</p></div></div><div class="sect2" title="10.8.2. Options de sortie"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-vcd-dvd-output"></a>10.8.2. Options de sortie</h3></div></div></div><p>
  <span class="application">MEncoder</span> a des options de contrôle du format
  de sortie.
  En utilisant ces options nous pouvons lui dire de créer le type
  de fichier correct.
</p><p>
  Les options pour le VCD et le SVCD sont appelées xvcd et xsvcd, parce que ce
  sont des formats étendus.
  Elles ne sont pas strictement conformes, principalement parce que la sortie
  ne contient pas de décalages de scan.
  Si vous avez besoin de générer une image SVCD, vous devriez passer le fichier
  de sortie à <a class="ulink" href="http://www.gnu.org/software/vcdimager/vcdimager.html" target="_top">vcdimager</a>.
</p><p>
  VCD :
  </p><pre class="screen">
  -of mpeg -mpegopts format=xvcd
  </pre><p>
</p><p>
  SVCD :
  </p><pre class="screen">
  -of mpeg -mpegopts format=xsvcd
  </pre><p>
</p><p>
  DVD(avec estampille temporelle sur chaque image si possible) :
  </p><pre class="screen">
  -of mpeg -mpegopts format=dvd:tsaf
  </pre><p>
</p><p>
  DVD avec pullup NTSC :
  </p><pre class="screen">
  -of mpeg -mpegopts format=dvd:tsaf:telecine -ofps 24000/1001
  </pre><p>
  Ceci permet au contenu progressif à 24000/1001 images par secondes d'être encodé à
  30000/1001 images par secondes tout en restant avec le format DVD.
</p><div class="sect3" title="10.8.2.1. Format d'image"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-output-aspect"></a>10.8.2.1. Format d'image</h4></div></div></div><p>
  L'argument <tt class="option">aspect</tt> de <tt class="option">-lavcopts</tt> est utilisé
  pour encoder le format d'image du fichier.
  Durant la lecture le format d'image est utilisé pour redonner à la vidéo
  la taille correcte.
</p><p>
  16:9 ou "Écran Large"
  </p><pre class="screen">
  -lavcopts aspect=16/9
  </pre><p>
</p><p>
  4:3 ou "Plein Écran"
  </p><pre class="screen">
  -lavcopts aspect=4/3
  </pre><p>
</p><p>
  2,35:1 ou NTSC "Cinémascope"
  </p><pre class="screen">
  -vf scale=720:368,expand=720:480 -lavcopts aspect=16/9
  </pre><p>
  Pour calculer la taille de dimensionnement correcte, utilisez la largeur
  étendue NTSC de 854/2,35 = 368
</p><p>
  2,35:1 ou PAL "Cinémascope"
  </p><pre class="screen">
  -vf scale="720:432,expand=720:576 -lavcopts aspect=16/9
  </pre><p>
  Pour calculer la taille de dimensionnement correcte, utilisez la largeur
  étendue PAL de 1024/2,35 = 432
</p></div><div class="sect3" title="10.8.2.2. Maintient de la synchronisation A/V"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-a-v-sync"></a>10.8.2.2. Maintient de la synchronisation A/V</h4></div></div></div><p>
  Afin de maintenir la synchronisation audio/video lors de l'encodage,
  <span class="application">MEncoder</span> doit dupliquer ou effacer des images.
  Cela marche plutôt bien lor du multiplexage dans un fichier AVI
  mais il est pratiquement garanti d'échouer à maintenir la synchronisation A/V
  avec d'autres conteneurs tel que le MPEG.
  C'est pourquoi il est nécessaire d'ajouter le filtre vidéo <tt class="option">harddup</tt>
  à la fin de la chaîne de filtre pour éviter ce type de problème.
  Vous pouvez trouver plus de détails techniques sur <tt class="option">harddup</tt>
  dans la section
  <a class="link" href="#menc-feat-dvd-mpeg4-muxing-filter-issues" title="10.1.12.1. Améliorer la fiabilité du multiplexage et de la synchronisation Audio/Video">Améliorer la fiabilité du multiplexage et de la synchronisation Audio/Video</a>
  ou dans le manuel.
</p></div><div class="sect3" title="10.8.2.3. Conversion du Taux d'échantillonnage"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-output-srate"></a>10.8.2.3. Conversion du Taux d'échantillonnage</h4></div></div></div><p>
  Si le taux d'échantillonnage de l'audio du fichier original n'est pas le même
  que celui demandé par le format cible, la conversion du taux d'échantillonnage
  est nécessaire.
  Ceci est réalisé en utilisant ensemble l'option <tt class="option">-srate</tt> et le
  filtre audio <tt class="option">-af lavcresample</tt>.
  </p><p>
    DVD :
  </p><pre class="screen">
  -srate 48000 -af lavcresample=48000
  </pre><p>
</p><p>
  VCD et SVCD :
  </p><pre class="screen">
  -srate 44100 -af lavcresample=44100
  </pre><p>
  </p></div></div><div class="sect2" title="10.8.3. Utiliser libavcodec pour l'encodage VCD/SVCD/DVD"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-vcd-dvd-lavc"></a>10.8.3. Utiliser libavcodec pour l'encodage VCD/SVCD/DVD</h3></div></div></div><div class="sect3" title="10.8.3.1. Introduction"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-lavc-intro"></a>10.8.3.1. Introduction</h4></div></div></div><p>
  <code class="systemitem">libavcodec</code> peut être utilisé pour créer
  des vidéos compatibles avec les standards VCD/SVCD/DVD en utilisant les options appropriées.
</p></div><div class="sect3" title="10.8.3.2. lavcopts"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-lavc-options"></a>10.8.3.2. lavcopts</h4></div></div></div><p>
  Ceci est une liste de champs de <tt class="option">-lavcopts</tt> que
  vous pourriez avoir besoin de changer si vous voulez faire
  un film compatible VCD, SVCD, ou DVD :
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <span class="bold"><strong>acodec</strong></span> :
  <tt class="option">mp2</tt> pour le VCD, le SVCD, ou le DVD PAL;
  <tt class="option">ac3</tt> est plus communément utilisé pour le DVD.
  L'audio PCM peut aussi être utilisé pour le DVD, mais c'est principalement
  une grande perte d'espace.
  Notez que l'audio MP3 n'est compatible avec aucun de ces formats, cependant
  les lecteurs n'ont souvent aucun problème pour les jouer.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>abitrate</strong></span> :
  (débit audio) 224 pour le VCD; jusqu'à 384 pour le SVCD; jusqu'à 1536 pour le DVD, mais
  utilise communément une gamme de valeurs de 192 kbit/s pour le stéréo à
  384 kbit/s pour le son canaux 5.1.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>vcodec</strong></span> :
  <tt class="option">mpeg1video</tt> pour le VCD;
  <tt class="option">mpeg2video</tt> pour le SVCD;
  <tt class="option">mpeg2video</tt> est habituellement utilisé pour le DVD mais on peut
  aussi utiliser <tt class="option">mpeg1video</tt> pour des résolutions CIF.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>keyint</strong></span> :
  Utilisé pour régler la taille du GOP.
  18 pour les vidéo à 30 images par secondes, ou 15 pour les vidéos à 25/24 images par secondes.
  Les producteurs commerciaux semblent préférer des intervalles entre images clés de 12.
  Il est possible d'augmenter cette valeur et de rester compatible avec la
  plupart des lecteurs.
  Un <tt class="option">keyint</tt> de 25 ne devrait jamais causer de problèmes.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>vrc_buf_size</strong></span> :
  327 pour le VCD, 917 pour le SVCD, et 1835 pour le DVD.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>vrc_minrate</strong></span> :
  1152, pour le VCD. Peut être laissé de côté pour le SVCD et le DVD.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>vrc_maxrate</strong></span> :
  1152 pour le VCD; 2500 pour le SVCD; 9800 pour le DVD.
  Pour le SVCD et le DVD, vous pourriez vouloir utiliser des valeurs plus
  basses selon vos préférences et contraintes personnelles.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>vbitrate</strong></span> :
  (débit vidéo) 1152 pour le VCD;
  jusqu'à 2500 pour le SVCD;
  jusqu'à 9800 pour le DVD.
  Pour les deux derniers formats, les valeurs de vbitrate devrait être réglées
  selon vos goûts.
  Par exemple, si vous voulez vraiment faire tenir 20 heures ou plus sur un DVD,
  vous pouvez utiliser vbitrate=400.
  La qualité de la vidéo résultante sera probablement assez mauvaise.
  Si vous essayez d'avoir la qualité maximum possible sur un DVD, utilisez
  vbitrate=9800, mais sachez que cela pourrait vous forcer
  à ne stocker que moins d'une heure de vidéo sur un DVD simple couche.
</p></li></ul></div></div><div class="sect3" title="10.8.3.3. Exemples"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-lavc-examples"></a>10.8.3.3. Exemples</h4></div></div></div><p>
  Ceci est un paramétrage typique minimal de <tt class="option">-lavcopts</tt> pour
  encoder une vidéo :
</p><p>
  VCD :
  </p><pre class="screen">
  -lavcopts vcodec=mpeg1video:vrc_buf_size=327:vrc_minrate=1152:\
  vrc_maxrate=1152:vbitrate=1152:keyint=15:acodec=mp2
  </pre><p>
</p><p>
  SVCD :
  </p><pre class="screen">
  -lavcopts vcodec=mpeg2video:vrc_buf_size=917:vrc_maxrate=2500:vbitrate=1800:\
  keyint=15:acodec=mp2
  </pre><p>
</p><p>
  DVD :
  </p><pre class="screen">
  -lavcopts vcodec=mpeg2video:vrc_buf_size=1835:vrc_maxrate=9800:vbitrate=5000:\
  keyint=15:acodec=ac3
  </pre><p>
</p></div><div class="sect3" title="10.8.3.4. Options Avancées"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-lavc-advanced"></a>10.8.3.4. Options Avancées</h4></div></div></div><p>
  Pour une qualité d'encodage plus élevée, vous pouvez aussi souhaiter ajouter
  des options d'amélioration de qualité à lavcopts, comme <tt class="option">trell</tt>,
  <tt class="option">mbd=2</tt> et autres.
  Notez que, bien que <tt class="option">qpel</tt> et <tt class="option">v4mv</tt> soient souvent
  utile avec le MPEG-4, elles ne sont pas utilisables avec MPEG-1 ou MPEG-2.
  Aussi, si vous essayez de créer un encodage DVD de très haute qualité,
  il peut être utile d'ajouter <tt class="option">dc=10</tt> à lavcopts.
  Le faire peut aider à réduire l'apparition de blocs dans les zones de faible
  variations de couleurs.
  Pour résumer, la ligne suivante est un exemple de paramétrage de lavcopts
  pour un DVD de haute qualité :
</p><p>
  </p><pre class="screen">
  -lavcopts vcodec=mpeg2video:vrc_buf_size=1835:vrc_maxrate=9800:vbitrate=8000:\
  keyint=15:trell:mbd=2:precmp=2:subcmp=2:cmp=2:dia=-10:predia=-10:cbp:mv0:\
  vqmin=1:lmin=1:dc=10
  </pre><p>
</p></div></div><div class="sect2" title="10.8.4. Encodage Audio"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-vcd-dvd-audio"></a>10.8.4. Encodage Audio</h3></div></div></div><p>
  Le VCD et SVCD supportent l'audio MPEG-1 layer II, en utilisant un des
  encodeurs MP2 <code class="systemitem">toolame</code>,
  <code class="systemitem">twolame</code>,
  ou <code class="systemitem">libavcodec</code>.
  Le MP2 libavcodec est loin d'être aussi bon que les deux autres bibliothèques,
  cependant il devrait toujours être disponible en utilisation.
  Le VCD ne supporte que l'audio avec un débit constant (CBR) alors que le SVCD
  supporte aussi le débit variable (VBR).
  Soyez prudents lors de l'utilisation du VBR car certains mauvais lecteurs
  pourraient ne pas trop bien le supporter.
</p><p>
  Pour l'audio DVD, le codec AC-3 de <code class="systemitem">libavcodec</code>
  est utilisé.
</p><div class="sect3" title="10.8.4.1. toolame"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-audio-toolame"></a>10.8.4.1. toolame</h4></div></div></div><p>
  Pour un VCD et un SVCD :
  </p><pre class="screen">
  -oac toolame -toolameopts br=224
  </pre><p>
</p></div><div class="sect3" title="10.8.4.2. twolame"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-audio-twolame"></a>10.8.4.2. twolame</h4></div></div></div><p>
  Pour un VCD et un SVCD :
  </p><pre class="screen">
  -oac twolame -twolameopts br=224
  </pre><p>
</p></div><div class="sect3" title="10.8.4.3. libavcodec"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-audio-lavc"></a>10.8.4.3. libavcodec</h4></div></div></div><p>
  Pour un DVD avec un son 2 canaux :
  </p><pre class="screen">
  -oac lavc -lavcopts acodec=ac3:abitrate=192
  </pre><p>
</p><p>
  Pour un DVD avec un son 5,1 canaux:
  </p><pre class="screen">
  -channels 6 -oac lavc -lavcopts acodec=ac3:abitrate=384
  </pre><p>
</p><p>
  Pour un VCD et un SVCD:
  </p><pre class="screen">
  -oac lavc -lavcopts acodec=mp2:abitrate=224
  </pre><p>
</p></div></div><div class="sect2" title="10.8.5. Combiner le tout"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-vcd-dvd-all"></a>10.8.5. Combiner le tout</h3></div></div></div><p>
  Cette section présente certaines commandes complètes pour créer des vidéos
  compatibles VCD/SVCD/DVD.
</p><div class="sect3" title="10.8.5.1. DVD PAL"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-pal-dvd"></a>10.8.5.1. DVD PAL</h4></div></div></div><p>
  </p><pre class="screen">
  mencoder -oac lavc -ovc lavc -of mpeg -mpegopts format=dvd -vf scale=720:576,\
  harddup -srate 48000 -af lavcresample=48000 -lavcopts vcodec=mpeg2video:\
  vrc_buf_size=1835:vrc_maxrate=9800:vbitrate=5000:keyint=15:acodec=ac3:\
  abitrate=192:aspect=16/9 -ofps 25 \
  -o <em class="replaceable"><code>film.mpg</code></em> <em class="replaceable"><code>film.avi</code></em>
  </pre><p>
</p></div><div class="sect3" title="10.8.5.2. DVD NTSC"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-ntsc-dvd"></a>10.8.5.2. DVD NTSC</h4></div></div></div><p>
  </p><pre class="screen">
  mencoder -oac lavc -ovc lavc -of mpeg -mpegopts format=dvd -vf scale=720:480,\
  harddup -srate 48000 -af lavcresample=48000 -lavcopts vcodec=mpeg2video:\
  vrc_buf_size=1835:vrc_maxrate=9800:vbitrate=5000:keyint=18:acodec=ac3:\
  abitrate=192:aspect=16/9 -ofps 30000/1001 \
  -o <em class="replaceable"><code>film.mpg</code></em> <em class="replaceable"><code>film.avi</code></em>
  </pre><p>
</p></div><div class="sect3" title="10.8.5.3. AVI PAL Contenant Audio AC-3 vers DVD"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-pal-ac3-copy"></a>10.8.5.3. AVI PAL Contenant Audio AC-3 vers DVD</h4></div></div></div><p>
  Si la source a déjà l'audio en AC-3, utilisez <tt class="option">-oac copy</tt> au lieu de la réencoder.
  </p><pre class="screen">
  mencoder -oac copy -ovc lavc -of mpeg -mpegopts format=dvd:tsaf -vf scale=720:576,\
  harddup -lavcopts vcodec=mpeg2video:vrc_buf_size=1835:vrc_maxrate=9800:\
  vbitrate=5000:keyint=15:aspect=16/9 -ofps 25 \
  -o <em class="replaceable"><code>film.mpg</code></em> <em class="replaceable"><code>film.avi</code></em>
  </pre><p>
</p></div><div class="sect3" title="10.8.5.4. AVI NTSC Contenant Audio AC-3 vers DVD"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-ntsc-ac3-copy"></a>10.8.5.4. AVI NTSC Contenant Audio AC-3 vers DVD</h4></div></div></div><p>
  Si la source a déjà l'audio en AC-3, et est en NTSC @ 24000/1001 fps :
  </p><pre class="screen">
  mencoder -oac copy -ovc lavc -of mpeg -mpegopts format=dvd:tsaf:telecine \
  -vf scale=720:480,harddup -lavcopts vcodec=mpeg2video:vrc_buf_size=1835:\
  vrc_maxrate=9800:vbitrate=5000:keyint=15:aspect=16/9 -ofps 24000/1001 \
  -o <em class="replaceable"><code>film.mpg</code></em> <em class="replaceable"><code>film.avi</code></em>
  </pre><p>
</p></div><div class="sect3" title="10.8.5.5. SVCD PAL"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-pal-svcd"></a>10.8.5.5. SVCD PAL</h4></div></div></div><p>
  </p><pre class="screen">
  mencoder -oac lavc -ovc lavc -of mpeg -mpegopts format=xsvcd -vf \
  scale=480:576,harddup -srate 44100 -af lavcresample=44100 -lavcopts \
  vcodec=mpeg2video:mbd=2:keyint=15:vrc_buf_size=917:vrc_minrate=600:\
  vbitrate=2500:vrc_maxrate=2500:acodec=mp2:abitrate=224:aspect=16/9 -ofps 25 \
  -o <em class="replaceable"><code>film.mpg</code></em> <em class="replaceable"><code>film.avi</code></em>
  </pre><p>
</p></div><div class="sect3" title="10.8.5.6. SVCD NTSC"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-ntsc-svcd"></a>10.8.5.6. SVCD NTSC</h4></div></div></div><p>
  </p><pre class="screen">
  mencoder -oac lavc -ovc lavc -of mpeg -mpegopts format=xsvcd  -vf \
  scale=480:480,harddup -srate 44100 -af lavcresample=44100 -lavcopts \
  vcodec=mpeg2video:mbd=2:keyint=18:vrc_buf_size=917:vrc_minrate=600:\
  vbitrate=2500:vrc_maxrate=2500:acodec=mp2:abitrate=224:aspect=16/9 -ofps 30000/1001 \
  -o <em class="replaceable"><code>film.mpg</code></em> <em class="replaceable"><code>film.avi</code></em>
  </pre><p>
</p></div><div class="sect3" title="10.8.5.7. VCD PAL"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-pal-vcd"></a>10.8.5.7. VCD PAL</h4></div></div></div><p>
  </p><pre class="screen">
  mencoder -oac lavc -ovc lavc -of mpeg -mpegopts format=xvcd -vf \
  scale=352:288,harddup -srate 44100 -af lavcresample=44100 -lavcopts \
  vcodec=mpeg1video:keyint=15:vrc_buf_size=327:vrc_minrate=1152:vbitrate=1152:\
  vrc_maxrate=1152:acodec=mp2:abitrate=224:aspect=16/9 -ofps 25 \
  -o <em class="replaceable"><code>film.mpg</code></em> <em class="replaceable"><code>film.avi</code></em>
  </pre><p>
</p></div><div class="sect3" title="10.8.5.8. VCD NTSC"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-ntsc-vcd"></a>10.8.5.8. VCD NTSC</h4></div></div></div><p>
  </p><pre class="screen">
  mencoder -oac lavc -ovc lavc -of mpeg -mpegopts format=xvcd -vf \
  scale=352:240,harddup -srate 44100 -af lavcresample=44100 -lavcopts \
  vcodec=mpeg1video:keyint=18:vrc_buf_size=327:vrc_minrate=1152:vbitrate=1152:\
  vrc_maxrate=1152:acodec=mp2:abitrate=224:aspect=16/9 -ofps 30000/1001 \
  -o <em class="replaceable"><code>film.mpg</code></em> <em class="replaceable"><code>film.avi</code></em>
  </pre><p>
</p></div></div></div><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p><sup>[<a name="ftn.fn-menc-feat-dvd-mpeg4-codec-cpu" href="#fn-menc-feat-dvd-mpeg4-codec-cpu" class="para">1</a>] </sup>Attention tout de même : décoder une video MPEG-4 AVC de la
    resolution d'un DVD nécessite une machine puissante (i.e. un
    Pentium 4 à plus de 1.5GHz ou un Pentium M à plus de 1GHz).
  </p></div><div class="footnote"><p><sup>[<a name="ftn.fn-menc-feat-dvd-mpeg4-codec-playback" href="#fn-menc-feat-dvd-mpeg4-codec-playback" class="para">2</a>] </sup>Le même encodage peut apparaître différement sur le moniteur de
  quelqu'un d'autre ou lorsqu'il est lu par un autre décodeur, donc armez
  vos encodages pour le futur en les lisant sur différentes machines.
</p></div></div></div><div class="chapter" title="Chapitre 11. Foire Aux Questions"><div class="titlepage"><div><div><h2 class="title"><a name="faq"></a>Chapitre 11. Foire Aux Questions</h2></div></div></div><div class="qandaset" title="Frequently Asked Questions"><a name="id2601637"></a><dl><dt>11.1.  <a href="#faq-development">Développement</a></dt><dd><dl><dt>Q : <a href="#id2601652">
Comment puis-je créer un patch adapté pour MPlayer?
</a></dt><dt>Q : <a href="#id2602246">
Comment puis-je traduire MPlayer dans une nouvelle langue?
</a></dt><dt>Q : <a href="#id2602281">
Comment puis-je supporter le développement de MPlayer?
</a></dt><dt>Q : <a href="#id2602316">
Comment puis-je devenir un développeur MPlayer?
</a></dt><dt>Q : <a href="#id2602364">
Pourquoi n'utilisez-vous pas autoconf/automake?
</a></dt></dl></dd><dt>11.2.  <a href="#faq-compilation-installation">Compilation et installation</a></dt><dd><dl><dt>Q : <a href="#id2602404">
La compilation échoue avec une erreur et gcc parachute
des messages cryptés contenant la phrase
internal compiler error ou
unable to find a register to spill ou
can't find a register in class `GENERAL_REGS'
while reloading `asm'..
</a></dt><dt>Q : <a href="#id2602475">
Y'a-t-il des paquets binaires (RPM/Debian) de MPlayer?
</a></dt><dt>Q : <a href="#id2602509">
Comment puis-je compiler un MPlayer 32 bit sur un Athlon 64 bit?
</a></dt><dt>Q : <a href="#id2602536">
Configure se termine par ce texte, et MPlayer ne compile pas !
Your gcc does not support even i386 for '-march' and '-mcpu'
</a></dt><dt>Q : <a href="#id2602570">
J'ai une Matrox G200/G400/G450/G550, comment puis-je compiler/utiliser le pilote mga_vid?
</a></dt><dt>Q : <a href="#id2602596">
Pendant 'make', MPlayer se plaint à propos de librairies X11. Je ne comprends pas,
J'ai VRAIMENT installé X11 !?
</a></dt><dt>Q : <a href="#id2602662">
Compiler sous Mac OS 10.3 donne plusieurs erreurs de lien</a></dt></dl></dd><dt>11.3.  <a href="#faq-general">Questions générales</a></dt><dd><dl><dt>Q : <a href="#id2602799">
Y-a-t'il des listes de diffusion pour MPlayer ?
</a></dt><dt>Q : <a href="#id2602824">
J'ai trouvé un sale bogue quand j'essaie de lire ma vidéo préférée ! Qui dois-je
informer ?
</a></dt><dt>Q : <a href="#id2602849">
J'ai des problèmes pour lire les fichiers avec le codec ... . Puis-je l'utiliser ?
</a></dt><dt>Q : <a href="#id2602878">
Quand je démarre la lecture, j'obtiens ce message mais tout semble se dérouler normalement:
Linux RTC init: ioctl (rtc_pie_on): Permission denied
</a></dt><dt>Q : <a href="#id2602911">
Comment puis-je faire une copie d'écran ?
</a></dt><dt>Q : <a href="#id2602964">
Quelle est la signification des nombres sur la ligne de commande ?
</a></dt><dt>Q : <a href="#id2603206">
Il y a des messages d'erreur à propos d'un fichier non-trouvé /usr/local/lib/codecs/ ...
</a></dt><dt>Q : <a href="#id2603234">
Comment puis-je faire en sorte que MPlayer se souvienne des options que
j'ai utilisé pour un fichier en particulier, movie.avi par exemple?
</a></dt><dt>Q : <a href="#id2603280">
Les sous-titres sont très jolis, les plus beaux que j'ai jamais vu, mais ils
ralentissent la lecture! Je sais que ce n'est pas courant ...
</a></dt><dt>Q : <a href="#id2603322">
Comment puis-je lancer MPlayer en tâche de fond ?
</a></dt></dl></dd><dt>11.4.  <a href="#faq-playback">Problèmes de lecture</a></dt><dd><dl><dt>Q : <a href="#id2603369">
Je n'arrive pas à trouver la cause de certains problèmes étranges de lecture.
</a></dt><dt>Q : <a href="#id2603437">
Comment puis-je faire apparaitre les sous-titres sur les bandes noires autour d'un film?
</a></dt><dt>Q : <a href="#id2603468">
Comment sélectionner les pistes audio ou les sous-titres d'un DVD ou de fichiers
OGM, Matroska ou NUT ?
</a></dt><dt>Q : <a href="#id2603528">
J'essaie de lire un flux aléatoire depuis l'internet mais cela échoue.
</a></dt><dt>Q : <a href="#id2603547">
J'ai téléchargé un film sur un réseau P2P mais il ne fonctionne pas !
</a></dt><dt>Q : <a href="#id2603572">
J'ai des problèmes pour afficher mes sous-titres, à l'aide!!
</a></dt><dt>Q : <a href="#id2603614">
Pourquoi MPlayer ne fonctionne-t-il pas sur Fedora Core?
</a></dt><dt>Q : <a href="#id2603779">
MPlayer plante avec
MPlayer interrupted by signal 4 in module: decode_video
</a></dt><dt>Q : <a href="#id2603814">
Quand j'essaye de faire une capture depuis mon tuner, cela fonctionne,
mais les couleurs sont étranges. C'est BON avec d'autres applications.
</a></dt><dt>Q : <a href="#id2603844">
J'ai des valeurs en pourcentage très étrange (vraiment trop grandes)
lors de la lecture de fichiers sur mon portable.
</a></dt><dt>Q : <a href="#id2603878">
L'audio/vidéo devient totalement désynchronisé quand je lance MPlayer
en tant que root sur mon portable. Cela fonctionne normalement quand je le lance en tant que simple utilisateur.
</a></dt><dt>Q : <a href="#id2603915">
Pendant qu'un film joue tout devient soudainement saccadé et j'obtiens le message suivant:
Badly interleaved AVI file detected - switching to -ni mode...
</a></dt></dl></dd><dt>11.5.  <a href="#faq-driver">Problèmes de pilote vidéo/audio (vo/ao)</a></dt><dd><dl><dt>Q : <a href="#id2603962">
Quand je passe en mode plein écran j'obtiens juste des bandes noires autour de l'image
et pas de réel agrandissement en mode plein écran.
</a></dt><dt>Q : <a href="#id2604024">
Je viens juste d'installer MPlayer. Quand je veux
ouvrir un fichier vidéo cela provoque une erreur fatale:

Error opening/initializing the selected video_out (-vo) device.

Comment puis-je résoudre mon problème?
</a></dt><dt>Q : <a href="#id2604101">
J'ai des problèmes avec [votre gestionnaire de fenêtre]
et les modes plein écran xv/xmga/sdl/x11 ...
</a></dt><dt>Q : <a href="#id2604134">
L'audio se désynchronise lors de la lecture d'un fichier AVI.
</a></dt><dt>Q : <a href="#id2604165">
Comment puis-je utiliser dmix avec
MPlayer?
</a></dt><dt>Q : <a href="#id2604201">
Je n'ai pas de son en jouant une vidéo et j'obtiens des messages d'erreur similaires à celui-ci:

AO: [oss] 44100Hz 2ch Signed 16-bit (Little-Endian)
[AO OSS] audio_setup: Can't open audio device /dev/dsp: Device or resource busy
Could not open/initialize audio device -&gt; no sound.
Audio: no sound
Starting playback...

</a></dt><dt>Q : <a href="#id2604255">
Quand je lance MPlayer sous KDE je n'obtiens qu'un
écran noir et rien ne se passe. Après environ une minute la vidéo commence à défiler.
</a></dt><dt>Q : <a href="#id2604303">
J'ai des problèmes de synchro A/V. Certains de mes AVIs sont lus correctement, mais
d'autres sont lus à double vitesse !
</a></dt><dt>Q : <a href="#id2604331">
Quand je lis ce film j'obtiens des désynchro vidéo-audio et/ou MPlayer
plante avec le message suivant:
Too many (945 in 8390980 bytes) video packets in the buffer!

</a></dt><dt>Q : <a href="#id2604436">
Comment puis-je me débarasser de la désynchronisation A/V lors d'une
recherche sur des flux de type RealMedia?
</a></dt></dl></dd><dt>11.6.  <a href="#faq-dvd">Lecture DVD</a></dt><dd><dl><dt>Q : <a href="#id2604469">
Et a propos de la navigation et des menus DVD ?
</a></dt><dt>Q : <a href="#id2604523">
Et à propos des sous-titres? Est-ce que MPlayer peut les afficher ?
</a></dt><dt>Q : <a href="#id2604544">
Comment puis-je changer le code de zone de mon lecteur DVD ? Je n'ai pas Windows !
</a></dt><dt>Q : <a href="#id2604564">
Je ne peux pas jouer un DVD, MPlayer décroche ou affiche des erreurs
"Encrypted VOB file!".
</a></dt><dt>Q : <a href="#id2604586">
Dois-je être en (setuid) root pour pouvoir lire un DVD ?
</a></dt><dt>Q : <a href="#id2604611">
Est-il possible de lire/encoder uniquement certains chapitres ?
</a></dt><dt>Q : <a href="#id2604628">
La lecture de DVD est très lente !
</a></dt><dt>Q : <a href="#id2604661">
J'ai copié un DVD en utilisant vobcopy. Comment puis-je le lire/l'encoder depuis
mon disque dur ?
</a></dt></dl></dd><dt>11.7.  <a href="#faq-features">Demandes de fonctionnalités</a></dt><dd><dl><dt>Q : <a href="#id2604705">
Si est MPlayer est en pause et que j'essaie de me déplacer ou de presser
n'importe quelle touche, MPlayer sort de pause. Je voudrais être capable de me
déplacer dans la vidéo en pause.
</a></dt><dt>Q : <a href="#id2604740">
J'aimerais me déplacer de +/- 1 trame au lieu de 10 secondes.
</a></dt></dl></dd><dt>11.8.  <a href="#faq-encoding">Encodage</a></dt><dd><dl><dt>Q : <a href="#id2604780">
Comment puis-je encoder ?
</a></dt><dt>Q : <a href="#id2604803">
Cooment puis-je décharger un titre entier de DVD dans un fichier?
</a></dt><dt>Q : <a href="#id2604846">
Comment puis-je créer des (S)VCDs automatiquement?
</a></dt><dt>Q : <a href="#id2604878">
Comment puis-je créer des (S)VCDs?
</a></dt><dt>Q : <a href="#id2604920">
Comment puis-je joindre deux fichiers vidéos ?
</a></dt><dt>Q : <a href="#id2604984">
Comment puis-je réparer des fichiers AVI avec un index cassé ou un mauvais entrelacement?
</a></dt><dt>Q : <a href="#id2605033">
Comment puis-je réparer le format de l'image d'un fichier AVI?
</a></dt><dt>Q : <a href="#id2605076">
Comment puis-je sauvegarder et encoder un fichier VOB avec un début défectueux?
</a></dt><dt>Q : <a href="#id2605152">
Je ne peux pas encoder les sous-titres en AVI!
</a></dt><dt>Q : <a href="#id2605169">
Comment puis-je encoder seulement certains chapitres d'un DVD?
</a></dt><dt>Q : <a href="#id2605190">
J'essaie de travailler avec des fichiers de plus de 2Go sur un système de fichier VFAT. Ça marche?
</a></dt><dt>Q : <a href="#id2605207">
Quel est le sens des nombres sur la ligne de status pendant l'encodage?
</a></dt><dt>Q : <a href="#id2605354">
Pourquoi le débit recommendé par MEncoder est négatif?
</a></dt><dt>Q : <a href="#id2605379">
Je ne peux pas convertir un fichier ASF en AVI/MPEG-4 (DivX) car il utilise 1000 images par secondes?
</a></dt><dt>Q : <a href="#id2605402">
Comment puis-je insérer des sous-titres dans le fichier de sortie ?
</a></dt><dt>Q : <a href="#id2605431">
Comment puis-je encoder uniquement le son d'une vidéo musicale ?
</a></dt><dt>Q : <a href="#id2605504">
Pourquoi est-ce que les lecteurs de tiers partie n'arrivent pas à jouer des films MPEG-4 encodé par
des versions plus tardives que 1.0pre7 de MEncoder?
</a></dt><dt>Q : <a href="#id2602116">
Comment puis-je encoder un fichier seulement audio?
</a></dt><dt>Q : <a href="#id2602145">
Comment puis-je jouer les sous-titres inclus dans AVI?
</a></dt><dt>Q : <a href="#id2602180">
MPlayer n'ira pas...
</a></dt></dl></dd></dl><table border="0" width="100%" summary="Q and A Set"><col align="left" width="1%"><col><tbody><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq-development"></a>11.1. Développement</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>Q : <a href="#id2601652">
Comment puis-je créer un patch adapté pour MPlayer?
</a></dt><dt>Q : <a href="#id2602246">
Comment puis-je traduire MPlayer dans une nouvelle langue?
</a></dt><dt>Q : <a href="#id2602281">
Comment puis-je supporter le développement de MPlayer?
</a></dt><dt>Q : <a href="#id2602316">
Comment puis-je devenir un développeur MPlayer?
</a></dt><dt>Q : <a href="#id2602364">
Pourquoi n'utilisez-vous pas autoconf/automake?
</a></dt></dl></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2601652"></a><a name="id2601654"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je créer un patch adapté pour <span class="application">MPlayer</span>?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Nous avons fait un <a class="ulink" href="../../tech/patches.txt" target="_top">court document</a>
décrivant tous les détails nécessaires. Merci de suivre les instructions.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2602246"></a><a name="id2602248"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je traduire <span class="application">MPlayer</span> dans une nouvelle langue?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Lisez le <a class="ulink" href="../../tech/translations.txt" target="_top">translation HOWTO</a>,
il devrait tout expliquer. Vous pouvez obtenir de l'aide supplémentaire sur la liste de diffusion
<a class="ulink" href="http://lists.mplayerhq.hu/mailman/listinfo/mplayer-translations" target="_top">MPlayer-translations</a>.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2602281"></a><a name="id2602283"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je supporter le développement de <span class="application">MPlayer</span>?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Nous sommes plus que contents d'accepter vos
<a class="ulink" href="http://www.mplayerhq.hu/donations.html" target="_top">dons</a>
matériels et logiciels. Ils nous aident à améliorer continuellement <span class="application">MPlayer</span>.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2602316"></a><a name="id2602318"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je devenir un développeur <span class="application">MPlayer</span>?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Les codeurs et les "documenteurs" sont toujours les bienvenus. Lisez la
<a class="ulink" href="../../tech/" target="_top">documentation technique</a>
pour avoir un premier aperçu. Ensuite vous devriez vous inscrire à la liste de diffusion
<a class="ulink" href="http://lists.mplayerhq.hu/mailman/listinfo/mplayer-dev-eng" target="_top">MPlayer-dev-eng</a>
et commencer à coder. Si vous souhaitez apporter votre aide à la documentation, joignez la
liste de diffusion <a class="ulink" href="http://lists.mplayerhq.hu/mailman/listinfo/mplayer-docs" target="_top">MPlayer-docs</a>.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2602364"></a><a name="id2602366"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Pourquoi n'utilisez-vous pas autoconf/automake?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Nous avons un système modulaire écrit à la main. Il fait un travail
relativement bon, donc pourquoi changer ? Nous n'aimons pas les outils
auto*, comme d'
<a class="ulink" href="http://freshmeat.net/articles/view/889/" target="_top">autres personnes</a>.
</p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq-compilation-installation"></a>11.2. Compilation et installation</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>Q : <a href="#id2602404">
La compilation échoue avec une erreur et gcc parachute
des messages cryptés contenant la phrase
internal compiler error ou
unable to find a register to spill ou
can't find a register in class `GENERAL_REGS'
while reloading `asm'..
</a></dt><dt>Q : <a href="#id2602475">
Y'a-t-il des paquets binaires (RPM/Debian) de MPlayer?
</a></dt><dt>Q : <a href="#id2602509">
Comment puis-je compiler un MPlayer 32 bit sur un Athlon 64 bit?
</a></dt><dt>Q : <a href="#id2602536">
Configure se termine par ce texte, et MPlayer ne compile pas !
Your gcc does not support even i386 for '-march' and '-mcpu'
</a></dt><dt>Q : <a href="#id2602570">
J'ai une Matrox G200/G400/G450/G550, comment puis-je compiler/utiliser le pilote mga_vid?
</a></dt><dt>Q : <a href="#id2602596">
Pendant 'make', MPlayer se plaint à propos de librairies X11. Je ne comprends pas,
J'ai VRAIMENT installé X11 !?
</a></dt><dt>Q : <a href="#id2602662">
Compiler sous Mac OS 10.3 donne plusieurs erreurs de lien</a></dt></dl></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2602404"></a><a name="id2602406"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
La compilation échoue avec une erreur et <span class="application">gcc</span> parachute
des messages cryptés contenant la phrase
<code class="systemitem">internal compiler error</code> ou
<code class="systemitem">unable to find a register to spill</code> ou
<code class="systemitem">can't find a register in class `GENERAL_REGS'
while reloading `asm'</code>..
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Vous êtes tombé sur un bogue de <span class="application">gcc</span>. S'il vous plait
<a class="ulink" href="http://gcc.gnu.org/bugs.html" target="_top">faites en part à l'équipe de gcc</a>
mais pas à nous. Pour une quelconque raison <span class="application">MPlayer</span> semble
déclencher des bogues du compilateur de manière fréquente. Néanmoins nous ne pouvons les réparer et
n'ajoutons pas du boulot en plus à nos sources pour les bogues de compilateur. Pour éviter ce problème,
restez avec une version de compilateur reconnu pour être disponible et
stable, ou mettez à niveau fréquemment.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2602475"></a><a name="id2602478"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Y'a-t-il des paquets binaires (RPM/Debian) de <span class="application">MPlayer</span>?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Voir les sections <a class="link" href="#debian" title="8.1.1. Paquets Debian">Debian</a> et <a class="link" href="#rpm" title="8.1.2. Paquets RPM">RPM</a>
pour plus de détails.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2602509"></a><a name="id2602511"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je compiler un <span class="application">MPlayer</span> 32 bit sur un Athlon 64 bit?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Essayer les options de configuration suivantes:
</p><pre class="screen">
./configure --target=i386-linux --cc="gcc -m32" --as="as --32" --with-extralibdir=/usr/lib
</pre><p>
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2602536"></a><a name="id2602538"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Configure se termine par ce texte, et <span class="application">MPlayer</span> ne compile pas !
</p><pre class="screen">Your gcc does not support even i386 for '-march' and '-mcpu'</pre><p>
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Votre gcc n'est pas installé correctement, voir le fichier <tt class="filename">configure.log</tt>
pour plus de détails.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2602570"></a><a name="id2602572"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
J'ai une Matrox G200/G400/G450/G550, comment puis-je compiler/utiliser le pilote <code class="systemitem">mga_vid</code>?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Lisez la section <a class="link" href="#mga_vid" title="7.7. Framebuffer Matrox (mga_vid)">mga_vid</a>.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2602596"></a><a name="id2602598"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Pendant 'make', <span class="application">MPlayer</span> se plaint à propos de librairies X11. Je ne comprends pas,
J'ai <span class="emphasis"><em>VRAIMENT</em></span> installé X11 !?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
... mais vous n'avez pas installé les paquets X11 de développement. Ou pas correctement. Ils
s'appellent <tt class="filename">XFree86-devel*</tt> sous Red Hat
<tt class="filename">xlibs-dev</tt> sous Debian Woody, et
<tt class="filename">libx11-dev</tt> sous Debian Sarge. Vérifiez également que les liens symboliques
<tt class="filename">/usr/X11</tt> et
<tt class="filename">/usr/include/X11</tt> existent.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2602662"></a><a name="id2602664"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Compiler sous Mac OS 10.3 donne plusieurs erreurs de lien</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Les erreurs de lien que vous avez ressemblent très probablement à ça:
</p><pre class="screen">
ld: Undefined symbols:
_LLCStyleInfoCheckForOpenTypeTables referenced from QuartzCore expected to be defined in ApplicationServices
_LLCStyleInfoGetUserRunFeatures referenced from QuartzCore expected to be defined in ApplicationServices
</pre><p>
Ce problème est le résultat des développeurs Apple utilisant 10.4 pour compiler
leurs logiciels et distribuant les fichiers binaires aux utilisateurs de 10.3
à travers Software Update.
Les symboles non définis sont définis dans Mac OS 10.4, mais pas dans 10.3.
Une solution pourrait être de repasser à la version 7.0.1 ou plus prédécente de Quicktime.
Il existe une meilleure solution:
</p><p>
téléchargez une <a class="ulink" href="http://rapidshare.de/files/20281171/CompatFrameworks.tgz.html" target="_top">copie plus ancienne du Frameworks</a>.
Cela vous donnera un fichier compressé qui contient le Framework
QuickTime 7.0.1 et un Framework QuartzCore 10.3.9.
</p><p>
Décompressez les fichiers autrepart que sur votre System folder.
(i.e. n'installez pas ce frameworks dans votre répertoire
<tt class="filename">/System/Library/Frameworks</tt>!
Cette ancienne copie n'est là que pour contourner leproblème des erreurs de lien!)
</p><pre class="screen">
gunzip &lt; CompatFrameworks.tgz | tar xvf -
</pre><p>
Dans config.mak, vous devez rajouter
<code class="systemitem">-F/path/to/where/you/extracted</code>
à la variable <code class="systemitem">OPTFLAGS</code>.
Si vous utilisez <span class="application">X-Code</span>, il vous suffit de sélectionner ces
frameworks au lieu de ceux du système.
</p><p>
Le fichier binaire <span class="application">MPlayer</span> résultant utilisera en fait
le framework qui est installé sur votre système au travers de liens dynamiques résolus lors de l'exécution.
(Vous pouvez le vérifier en utilisant <code class="systemitem">otool -l</code>).
</p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq-general"></a>11.3. Questions générales</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>Q : <a href="#id2602799">
Y-a-t'il des listes de diffusion pour MPlayer ?
</a></dt><dt>Q : <a href="#id2602824">
J'ai trouvé un sale bogue quand j'essaie de lire ma vidéo préférée ! Qui dois-je
informer ?
</a></dt><dt>Q : <a href="#id2602849">
J'ai des problèmes pour lire les fichiers avec le codec ... . Puis-je l'utiliser ?
</a></dt><dt>Q : <a href="#id2602878">
Quand je démarre la lecture, j'obtiens ce message mais tout semble se dérouler normalement:
Linux RTC init: ioctl (rtc_pie_on): Permission denied
</a></dt><dt>Q : <a href="#id2602911">
Comment puis-je faire une copie d'écran ?
</a></dt><dt>Q : <a href="#id2602964">
Quelle est la signification des nombres sur la ligne de commande ?
</a></dt><dt>Q : <a href="#id2603206">
Il y a des messages d'erreur à propos d'un fichier non-trouvé /usr/local/lib/codecs/ ...
</a></dt><dt>Q : <a href="#id2603234">
Comment puis-je faire en sorte que MPlayer se souvienne des options que
j'ai utilisé pour un fichier en particulier, movie.avi par exemple?
</a></dt><dt>Q : <a href="#id2603280">
Les sous-titres sont très jolis, les plus beaux que j'ai jamais vu, mais ils
ralentissent la lecture! Je sais que ce n'est pas courant ...
</a></dt><dt>Q : <a href="#id2603322">
Comment puis-je lancer MPlayer en tâche de fond ?
</a></dt></dl></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2602799"></a><a name="id2602801"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Y-a-t'il des listes de diffusion pour <span class="application">MPlayer</span> ?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Oui. Voir la section
<a class="ulink" href="http://www.mplayerhq.hu/design7/mailing_lists.html" target="_top">listes de diffusion</a>
sur notre page web.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2602824"></a><a name="id2602826"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
J'ai trouvé un sale bogue quand j'essaie de lire ma vidéo préférée ! Qui dois-je
informer ?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Veuillez lire <a class="link" href="#bugreports" title="Annexe A. Comment rapporter les bogues">comment rapporter un bogue</a> et
suivez les instructions.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2602849"></a><a name="id2602851"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
J'ai des problèmes pour lire les fichiers avec le codec ... . Puis-je l'utiliser ?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Regardez l'<a class="ulink" href="../../codecs-status.html" target="_top">état des codecs</a>,
si il ne contient pas votre codec, lisez le
<a class="ulink" href="../../tech/win32-codec-howto" target="_top">HOWTO importation des codecs Win32</a>
 et contactez-nous.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2602878"></a><a name="id2602880"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Quand je démarre la lecture, j'obtiens ce message mais tout semble se dérouler normalement:
</p><pre class="screen">Linux RTC init: ioctl (rtc_pie_on): Permission denied</pre><p>
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Vous avez besoin d'un noyau configuré spécialement pour utiliser le
code de timing RTC. Pour plus de détails, voir la section <a class="link" href="#rtc" title="2.6. RTC">RTC</a> de la documentation.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2602911"></a><a name="id2602913"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je faire une copie d'écran ?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Vous devez utiliser un pilote de sortie vidéo qui n'utilise pas d'overlay pour
pouvoir faire une copie d'écran. Sous X11, <tt class="option">-vo x11</tt> peut le faire,
sous Windows <tt class="option">-vo directx:noaccel</tt> fonctionne.
</p><p>
Alternativement vous pouvez lancer <span class="application">MPlayer</span> avec le
filtre vidéo <code class="systemitem">screenshot</code> (<tt class="option">-vf screenshot</tt>),
et pressez la touche <span class="keycap"><b>s</b></span> pour faire une capture d'écran.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2602964"></a><a name="id2602967"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Quelle est la signification des nombres sur la ligne de commande ?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Exemple:
</p><pre class="screen">
A: 2.1 V: 2.2 A-V: -0.167 ct: 0.042 57/57 41% 0% 2.6% 0 4 49% 1.00x
</pre><p>
</p><div class="variablelist"><dl><dt><span class="term"><code class="systemitem">A: 2.1</code></span></dt><dd><p>position audio en secondes</p></dd><dt><span class="term"><code class="systemitem">V: 2.2</code></span></dt><dd><p>position vidéo en secondes</p></dd><dt><span class="term"><code class="systemitem">A-V: -0.167</code></span></dt><dd><p>différence audio-video en secondes
  (décalage)</p></dd><dt><span class="term"><code class="systemitem">ct: 0.042</code></span></dt><dd><p>correction de synchro A-V faite</p></dd><dt><span class="term"><code class="systemitem">57/57</code></span></dt><dd><p>trames lues/décodées (à partir du dernier
  déplacement)</p></dd><dt><span class="term"><code class="systemitem">41%</code></span></dt><dd><p>utilisation CPU du codec vidéo en pourcents (pour les
  tranches et le rendu direct (Direct Rendering) ceci inclus
  video_out)</p></dd><dt><span class="term"><code class="systemitem">0%</code></span></dt><dd><p>utilisation CPU de video_out</p></dd><dt><span class="term"><code class="systemitem">2.6%</code></span></dt><dd><p>utilisation CPU du codec audio en
  pourcents</p></dd><dt><span class="term"><code class="systemitem">0</code></span></dt><dd><p>nombre de trames sautées pour maintenir la synchro
  A-V</p></dd><dt><span class="term"><code class="systemitem">4</code></span></dt><dd><p>niveau actuel de postprocessing (en utilisant
  <tt class="option">-autoq</tt>)</p></dd><dt><span class="term"><code class="systemitem">49%</code></span></dt><dd><p>taille actuelle du cache (environ 50% est
  normal)</p></dd><dt><span class="term"><code class="systemitem">1.00x</code></span></dt><dd><p>vitesse de lecture en tant que facteur de la vitesse
  originale</p></dd></dl></div><p>
La plupart d'entre eux sont là pour des raisons de déboggage, utilisez l'option
<tt class="option">-quiet</tt> pour les faire disparaitre.
Vous remarquerez que l'utilisation CPU de video_out est à zéro (0%) pour certains fichiers.
C'est parcequ'il est appelé directement depuis le codec et donc ne peux pas être
mesuré séparemment. Si vous désirez connaitre la vitesse de video_out, comparez
la différence lorsque le fichier joue avec <tt class="option">-vo null</tt> et
votre habituel pilote de sortie vidéo.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2603206"></a><a name="id2603208"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Il y a des messages d'erreur à propos d'un fichier non-trouvé <tt class="filename">/usr/local/lib/codecs/</tt> ...
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Téléchargez et installez les codecs binaires depuis notre
<a class="ulink" href="http://www.mplayerhq.hu/design7/dload.html" target="_top">page des codecs</a>.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2603234"></a><a name="id2603236"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je faire en sorte que <span class="application">MPlayer</span> se souvienne des options que
j'ai utilisé pour un fichier en particulier, <tt class="filename">movie.avi</tt> par exemple?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Créez un fichier dénommé <tt class="filename">movie.avi.conf</tt> contenant les options spécifiques
à ce fichier et placez-le dans <tt class="filename">~/.mplayer</tt>
ou dans le même répertoire que le fichier.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2603280"></a><a name="id2603282"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Les sous-titres sont très jolis, les plus beaux que j'ai jamais vu, mais ils
ralentissent la lecture! Je sais que ce n'est pas courant ...
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Après avoir exécuté <tt class="filename">./configure</tt>, éditez <tt class="filename">config.h</tt>
et remplacez <code class="systemitem">#undef FAST_OSD</code> par
<code class="systemitem">#define FAST_OSD</code>. Ensuite recompilez.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2603322"></a><a name="id2603324"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je lancer <span class="application">MPlayer</span> en tâche de fond ?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Utilisez:
</p><pre class="screen">
mplayer <em class="replaceable"><code>options</code></em>
<em class="replaceable"><code>nomfichier</code></em> &lt; /dev/null &amp;
</pre><p>
</p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq-playback"></a>11.4. Problèmes de lecture</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>Q : <a href="#id2603369">
Je n'arrive pas à trouver la cause de certains problèmes étranges de lecture.
</a></dt><dt>Q : <a href="#id2603437">
Comment puis-je faire apparaitre les sous-titres sur les bandes noires autour d'un film?
</a></dt><dt>Q : <a href="#id2603468">
Comment sélectionner les pistes audio ou les sous-titres d'un DVD ou de fichiers
OGM, Matroska ou NUT ?
</a></dt><dt>Q : <a href="#id2603528">
J'essaie de lire un flux aléatoire depuis l'internet mais cela échoue.
</a></dt><dt>Q : <a href="#id2603547">
J'ai téléchargé un film sur un réseau P2P mais il ne fonctionne pas !
</a></dt><dt>Q : <a href="#id2603572">
J'ai des problèmes pour afficher mes sous-titres, à l'aide!!
</a></dt><dt>Q : <a href="#id2603614">
Pourquoi MPlayer ne fonctionne-t-il pas sur Fedora Core?
</a></dt><dt>Q : <a href="#id2603779">
MPlayer plante avec
MPlayer interrupted by signal 4 in module: decode_video
</a></dt><dt>Q : <a href="#id2603814">
Quand j'essaye de faire une capture depuis mon tuner, cela fonctionne,
mais les couleurs sont étranges. C'est BON avec d'autres applications.
</a></dt><dt>Q : <a href="#id2603844">
J'ai des valeurs en pourcentage très étrange (vraiment trop grandes)
lors de la lecture de fichiers sur mon portable.
</a></dt><dt>Q : <a href="#id2603878">
L'audio/vidéo devient totalement désynchronisé quand je lance MPlayer
en tant que root sur mon portable. Cela fonctionne normalement quand je le lance en tant que simple utilisateur.
</a></dt><dt>Q : <a href="#id2603915">
Pendant qu'un film joue tout devient soudainement saccadé et j'obtiens le message suivant:
Badly interleaved AVI file detected - switching to -ni mode...
</a></dt></dl></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2603369"></a><a name="id2603371"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Je n'arrive pas à trouver la cause de certains problèmes étranges de lecture.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Avez-vous un fichier <tt class="filename">codecs.conf</tt> encore présent dans
<tt class="filename">~/.mplayer/</tt>, <tt class="filename">/etc/</tt>,
<tt class="filename">/usr/local/etc/</tt> ou dans un endroit similaire? Supprimez-le,
un fichier <tt class="filename">codecs.conf</tt> obsolète peut causer d'obscurs
problèmes et ne doit être utilisé que par les développeurs travaillant sur le support
de codec. Cela remplace les paramètres interne de codec de <span class="application">MPlayer</span>,
ce qui créera un désastre si des modifications incompatibles sont faites avec
des versions plus récentes du logiciel. A moins qu'il soit utilisé par des experts, c'est une recette
pour un désastre de telle facon qu'il est aléatoire et très dur à localiser des plantages et des problèmes
de lecture. Si vous l'avez encore quelque part sur votre système, vous devriez le supprimer immédiatement.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2603437"></a><a name="id2603439"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je faire apparaitre les sous-titres sur les bandes noires autour d'un film?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Utilisez le filtre vidéo <code class="systemitem">expand</code> pour augmenter
 verticalement la zone sur laquelle le film est rendu et placer le film
au niveau de la bande supérieure, par exemple:
</p><pre class="screen">
mplayer -vf expand=0:-100:0:0 -slang de dvd://1
</pre><p>
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2603468"></a><a name="id2603470"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment sélectionner les pistes audio ou les sous-titres d'un DVD ou de fichiers
OGM, Matroska ou NUT ?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Vous devez utiliser <tt class="option">-aid</tt> (audio ID) ou <tt class="option">-alang</tt>
(audio language), <tt class="option">-sid</tt>(subtitle ID) ou <tt class="option">-slang</tt>
(subtitle language), par exemple:
</p><pre class="screen">
mplayer -alang eng -slang eng <em class="replaceable"><code>exemple.mkv</code></em>
mplayer -aid 1 -sid 1 <em class="replaceable"><code>exemple.mkv</code></em>
</pre><p>
Pour voir ceux qui sont disponibles:
</p><pre class="screen">
mplayer -vo null -ao null -frames 0 -v <em class="replaceable"><code>fichier</code></em> | grep sid
mplayer -vo null -ao null -frames 0 -v <em class="replaceable"><code>fichier</code></em> | grep aid
</pre><p>
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2603528"></a><a name="id2603531"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
J'essaie de lire un flux aléatoire depuis l'internet mais cela échoue.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Essayez de lire le flux avec l'option <tt class="option">-playlist</tt>.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2603547"></a><a name="id2603549"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
J'ai téléchargé un film sur un réseau P2P mais il ne fonctionne pas !
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Votre fichier est probablement endommagé ou faux. Si vous l'avez obtenu par un
ami, et qu'il dit qu'il fonctionne, essayez de comparer les sommes
<span class="application">md5sum</span>.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2603572"></a><a name="id2603574"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
J'ai des problèmes pour afficher mes sous-titres, à l'aide!!
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Assurez-vous d'avoir installé les polices correctement. Suivez les étapes de la
partie <a class="link" href="#fonts-osd" title="2.4. Polices et OSD">polices et OSD</a> de la section
installation. Si vous utilisez des polices TrueType, vérifiez que la librairie
<code class="systemitem">FreeType</code> est installée.
Vous pouvez aussi essayer de vérifier vos sous-titres dans un éditeur de texte
ou avec d'autres lecteurs. Ou encore les convertir dans un autre format.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2603614"></a><a name="id2603616"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Pourquoi <span class="application">MPlayer</span> ne fonctionne-t-il pas sur Fedora Core?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Il y a une mauvaise intéraction sur Fedora entre exec-shield, prelink, et toute
application utilisant les DLLs Windows (comme <span class="application">MPlayer</span>).
</p><p>
Le problème est que exec-shield rend les adresses de chargement de toutes les
librairies système aléatoires. Cela se produit durant la phase de prelink (une
fois toutes les deux semaines).
</p><p>
Quand <span class="application">MPlayer</span> essaie de charger une DLL Windows
il veut la placer à une adresse spécifique (0x400000). Si une librairie système
importante s'y trouve déjà, <span class="application">MPlayer</span> plantera
(Un symptôme typique est un segmentation fault en essayant de lire des fichiers
Windows Media 9).
</p><p>
Si vous avez ce problème vous avez deux options:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
    Attendez deux semaines. Cela peut fonctionner de nouveau.
</p></li><li class="listitem"><p>
  Relinkez toutes les binaires du système avec des options de prelink
  différentes. Voici les étapes à suivre:
</p><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Étape 1"><p>
  Éditez <tt class="filename">/etc/syconfig/prelink</tt> et changez
  </p><pre class="programlisting">PRELINK_OPTS=-mR</pre><p> par </p><pre class="programlisting">
  PRELINK_OPTS="-mR --no-exec-shield"</pre><p>
</p></li><li class="step" title="Étape 2"><p>
  <span class="command"><strong>touch /var/lib/misc/prelink.force</strong></span>
</p></li><li class="step" title="Étape 3"><p>
  <span class="command"><strong>/etc/cron.daily/prelink</strong></span>
  (Cela relink toutes les applications, et peut prendre beaucoup de
  temps.)
</p></li><li class="step" title="Étape 4"><p>
  <span class="command"><strong>execstack -s
  <em class="replaceable"><code>/chemin/vers/</code></em>mplayer</strong></span>
  (Cela désactive exec-shield pour le binaire
  <span class="application">MPlayer</span>.)
  </p></li></ol></div></li></ul></div><p>
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2603779"></a><a name="id2603782"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
<span class="application">MPlayer</span> plante avec
</p><pre class="screen">MPlayer interrupted by signal 4 in module: decode_video</pre><p>
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
N'utilisez pas MPlayer sur un CPU différent de celui sur lequel il a été compilé ou
recompilez avec "runtime CPU detection"
(<span class="command"><strong>./configure --enable-runtime-cpudetection</strong></span>).
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2603814"></a><a name="id2603816"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Quand j'essaye de faire une capture depuis mon tuner, cela fonctionne,
mais les couleurs sont étranges. C'est BON avec d'autres applications.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Votre carte probablement rapporte certains espaces de couleurs comme étant
supportés alors qu'en fait elle ne les supporte pas. Essayez avec YUY2
à la place de YV12 par défaut (voir la section <a class="link" href="#tv-input" title="5.1. Entrée TV">TV</a>).
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2603844"></a><a name="id2603846"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
J'ai des valeurs en pourcentage très étrange (vraiment trop grandes)
lors de la lecture de fichiers sur mon portable.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
C'est un effet de la gestion/économie d'énergie de votre portable
(BIOS, pas le noyau). Branchez l'alimentation secteur
<span class="bold"><strong>avant</strong></span> d'allumer votre portable. Vous pouvez aussi
voir si <a class="ulink" href="http://www.kernel.org/pub/linux/utils/kernel/cpufreq/cpufreq.html" target="_top">cpufreq</a>
(une interface SpeedStep pour Linux) vous aide.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2603878"></a><a name="id2603880"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
L'audio/vidéo devient totalement désynchronisé quand je lance <span class="application">MPlayer</span>
en tant que root sur mon portable. Cela fonctionne normalement quand je le lance en tant que simple utilisateur.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
C'est là encore un effet de la gestion d'énergie (voir ci-dessus). Branchez
l'alimentation secteur <span class="bold"><strong>avant</strong></span> d'allumer votre
portable ou soyez sûr de ne pas utiliser l'option <tt class="option">-rtc</tt>.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2603915"></a><a name="id2603917"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Pendant qu'un film joue tout devient soudainement saccadé et j'obtiens le message suivant:
</p><pre class="screen">Badly interleaved AVI file detected - switching to -ni mode...</pre><p>
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Des fichiers avec un entrelacement très mauvais et <tt class="option">-cache</tt> ne font pas très bon ménage ensemble.
Essayez <tt class="option">-nocache</tt>.
</p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq-driver"></a>11.5. Problèmes de pilote vidéo/audio (vo/ao)</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>Q : <a href="#id2603962">
Quand je passe en mode plein écran j'obtiens juste des bandes noires autour de l'image
et pas de réel agrandissement en mode plein écran.
</a></dt><dt>Q : <a href="#id2604024">
Je viens juste d'installer MPlayer. Quand je veux
ouvrir un fichier vidéo cela provoque une erreur fatale:

Error opening/initializing the selected video_out (-vo) device.

Comment puis-je résoudre mon problème?
</a></dt><dt>Q : <a href="#id2604101">
J'ai des problèmes avec [votre gestionnaire de fenêtre]
et les modes plein écran xv/xmga/sdl/x11 ...
</a></dt><dt>Q : <a href="#id2604134">
L'audio se désynchronise lors de la lecture d'un fichier AVI.
</a></dt><dt>Q : <a href="#id2604165">
Comment puis-je utiliser dmix avec
MPlayer?
</a></dt><dt>Q : <a href="#id2604201">
Je n'ai pas de son en jouant une vidéo et j'obtiens des messages d'erreur similaires à celui-ci:

AO: [oss] 44100Hz 2ch Signed 16-bit (Little-Endian)
[AO OSS] audio_setup: Can't open audio device /dev/dsp: Device or resource busy
Could not open/initialize audio device -&gt; no sound.
Audio: no sound
Starting playback...

</a></dt><dt>Q : <a href="#id2604255">
Quand je lance MPlayer sous KDE je n'obtiens qu'un
écran noir et rien ne se passe. Après environ une minute la vidéo commence à défiler.
</a></dt><dt>Q : <a href="#id2604303">
J'ai des problèmes de synchro A/V. Certains de mes AVIs sont lus correctement, mais
d'autres sont lus à double vitesse !
</a></dt><dt>Q : <a href="#id2604331">
Quand je lis ce film j'obtiens des désynchro vidéo-audio et/ou MPlayer
plante avec le message suivant:
Too many (945 in 8390980 bytes) video packets in the buffer!

</a></dt><dt>Q : <a href="#id2604436">
Comment puis-je me débarasser de la désynchronisation A/V lors d'une
recherche sur des flux de type RealMedia?
</a></dt></dl></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2603962"></a><a name="id2603964"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Quand je passe en mode plein écran j'obtiens juste des bandes noires autour de l'image
et pas de réel agrandissement en mode plein écran.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Votre pilote de sortie vidéo ne supporte pas l'agrandissement en hardware et puisque l'agrandissement logiciel peut être incroyablement lent, <span class="application">MPlayer</span>
ne le fait pas automatiquement. Il est plus que probable que vous utilisez le pilote de sortie vidéo
<code class="systemitem">x11</code> à la place de <code class="systemitem">xv</code>.
Essayez d'ajouter <tt class="option">-vo xv</tt> à la ligne de commande ou lisez la
<a class="link" href="#video" title="Chapitre 7. Sorties vidéo">section vidéo</a> pour trouver
les pilotes de sortie vidéo alternatif. L'option <tt class="option">-zoom</tt>
permet explicitement l'utilisation de l'agrandissement logiciel.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604024"></a><a name="id2604026"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Je viens juste d'installer <span class="application">MPlayer</span>. Quand je veux
ouvrir un fichier vidéo cela provoque une erreur fatale:
</p><pre class="screen">
Error opening/initializing the selected video_out (-vo) device.
</pre><p>
Comment puis-je résoudre mon problème?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Modifiez juste votre périphérique de sortie vidéo. Lancez la commande suivante pour obtenir
une liste des pilotes de sortie vidéo disponible:
</p><pre class="screen">
mplayer -vo help
</pre><p>
Après que vous ayez choisi le pilote de sortie vidéo correct, ajoutez le à
votre fichier de configuration. Ajoutez
</p><pre class="programlisting">
vo = <em class="replaceable"><code>vo_sélectionné</code></em>
</pre><p>
dans <tt class="filename">~/.mplayer/config</tt> et/ou
</p><pre class="programlisting">
vo_driver = <em class="replaceable"><code>vo_sélectionné</code></em>
</pre><p>
dans <tt class="filename">~/.mplayer/gui.conf</tt>.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604101"></a><a name="id2604103"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
J'ai des problèmes avec <em class="replaceable"><code>[votre gestionnaire de fenêtre]</code></em>
et les modes plein écran xv/xmga/sdl/x11 ...
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Lire <a class="link" href="#bugreports" title="Annexe A. Comment rapporter les bogues">comment rapporter un bogue</a> et envoyer nous
un rapport de bogue en bonne et dû forme.
Essayez aussi de tester avec l'option <tt class="option">-fstype</tt>.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604134"></a><a name="id2604136"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
L'audio se désynchronise lors de la lecture d'un fichier AVI.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Essayez l'option <tt class="option">-bps</tt> ou <tt class="option">-nobps</tt>. Si cela ne
s'améliore pas, lisez
<a class="link" href="#bugreports" title="Annexe A. Comment rapporter les bogues">comment rapporter un bogue</a>
et téléchargez le fichier par FTP.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604165"></a><a name="id2604167"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je utiliser <span class="application">dmix</span> avec
<span class="application">MPlayer</span>?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Après avoir configuré votre
<a class="ulink" href="http://alsa.opensrc.org/index.php?page=DmixPlugin" target="_top">asoundrc</a>
vous devez utiliser <tt class="option">-ao alsa:device=dmix</tt>.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604201"></a><a name="id2604203"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Je n'ai pas de son en jouant une vidéo et j'obtiens des messages d'erreur similaires à celui-ci:
</p><pre class="screen">
AO: [oss] 44100Hz 2ch Signed 16-bit (Little-Endian)
[AO OSS] audio_setup: Can't open audio device /dev/dsp: Device or resource busy
Could not open/initialize audio device -&gt; no sound.
Audio: no sound
Starting playback...
</pre><p>
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Vous êtes sous KDE ou GNOME avec le démon son aRtS ou ESD ? Essayez de désactiver le
démon son, ou utilisez les options <tt class="option">-ao arts</tt> ou <tt class="option">-ao esd</tt>
pour faire utiliser aRts ou ESD à <span class="application">MPlayer</span>.
Vous devriez aussi lancer ALSA sans l'émulation OSS, essayez de charger les modules ALSA OSS
du noyau ou ajouter <tt class="option">-ao alsa</tt> à votre ligne de commande pour
directement utiliser le pilote ALSA de sortie audio.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604255"></a><a name="id2604257"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Quand je lance <span class="application">MPlayer</span> sous KDE je n'obtiens qu'un
écran noir et rien ne se passe. Après environ une minute la vidéo commence à défiler.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Le démon aRts de KDE bloque le périphérique son. Attendez que la vidéo se lance
ou désactivez le démon aRts dans le centre de contrôle KDE. Si vous voulez
utiliser le son aRts, spécifiez la sortie audio via notre pilote aRts audio natif
(<tt class="option">-ao arts</tt>). Si il échoue ou qu'il n'est pas compilé, essayez SDL
(<tt class="option">-ao sdl</tt>) et assurez-vous que SDL puisse gérer le son aRts. Un autre
option est de lancer <span class="application">MPlayer</span> avec artsdsp.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604303"></a><a name="id2604305"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
J'ai des problèmes de synchro A/V. Certains de mes AVIs sont lus correctement, mais
d'autres sont lus à double vitesse !
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Vous avez une carte son/pilote boguée. Elle est certainement fixée à 44100Hz, et
vous essayez de lire un fichier qui a de l'audio à 22050Hz.
Essayez le filtre audio <code class="systemitem">resample</code>.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604331"></a><a name="id2604333"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Quand je lis ce film j'obtiens des désynchro vidéo-audio et/ou <span class="application">MPlayer</span>
plante avec le message suivant:
</p><pre class="screen">Too many (945 in 8390980 bytes) video packets in the buffer!
</pre><p>
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Il peut y avoir plusieurs raisons.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
Votre CPU <span class="bold"><strong>et/ou</strong></span> votre carte graphique <span class="bold"><strong>et/ou</strong></span>
votre bus est trop lent. <span class="application">MPlayer</span> affiche un message si
c'est le cas (et le compteur de trames sautées augmente vite).
</p></li><li class="listitem"><p>
Si c'est un AVI, peut-être qu'il a un mauvais entrelacement. Essayez
l'option <tt class="option">-ni</tt> pour trouver une solution.
Ou il a peut-être un mauvais entête, dans ce cas <tt class="option">-nobps</tt>
et/ou <tt class="option">-mc 0</tt> peut aider.
</p></li><li class="listitem"><p>
  Beaucoup de fichiers FLV ne sont lus correctement qu'avec
  <tt class="option">-correct-pts</tt>.
  Malheureusement, <span class="application">MEncoder</span> n'a pas cette option
  mais vous pouvez essayer de régler <tt class="option">-fps</tt>à la valeur
  correcte si vous la connaissez.
</p></li><li class="listitem"><p>
  Votre pilote son est bogué.
</p></li></ul></div><p>
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604436"></a><a name="id2604438"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je me débarasser de la désynchronisation A/V lors d'une
recherche sur des flux de type RealMedia?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
l'option <tt class="option">-mc 10</tt> peut aider.
</p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq-dvd"></a>11.6. Lecture DVD</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>Q : <a href="#id2604469">
Et a propos de la navigation et des menus DVD ?
</a></dt><dt>Q : <a href="#id2604523">
Et à propos des sous-titres? Est-ce que MPlayer peut les afficher ?
</a></dt><dt>Q : <a href="#id2604544">
Comment puis-je changer le code de zone de mon lecteur DVD ? Je n'ai pas Windows !
</a></dt><dt>Q : <a href="#id2604564">
Je ne peux pas jouer un DVD, MPlayer décroche ou affiche des erreurs
"Encrypted VOB file!".
</a></dt><dt>Q : <a href="#id2604586">
Dois-je être en (setuid) root pour pouvoir lire un DVD ?
</a></dt><dt>Q : <a href="#id2604611">
Est-il possible de lire/encoder uniquement certains chapitres ?
</a></dt><dt>Q : <a href="#id2604628">
La lecture de DVD est très lente !
</a></dt><dt>Q : <a href="#id2604661">
J'ai copié un DVD en utilisant vobcopy. Comment puis-je le lire/l'encoder depuis
mon disque dur ?
</a></dt></dl></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604469"></a><a name="id2604471"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Et a propos de la navigation et des menus DVD ?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
<span class="application">MPlayer</span> ne supporte pas les menus DVD à cause de sérieuses
limitations architecturales qui empèchent de gérer correctement les images fixes
et le contenu intéractif. Si vous voulez jouer avec des jolis menus, vous
devrez utiliser un autre lecteur comme <span class="application">xine</span>,
<span class="application">VLC</span> ou <span class="application">Ogle</span>.
Si vous voulez voir la navigation DVD dans <span class="application">MPlayer</span>,
vous devrez l'implémenter vous-même, mais soyez conscient que ce sera très
dur.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604523"></a><a name="id2604525"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Et à propos des sous-titres? Est-ce que MPlayer peut les afficher ?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Oui. Voir le <a class="link" href="#dvd" title="4.2. Lecture de DVD">chapitre DVD</a>.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604544"></a><a name="id2604546"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je changer le code de zone de mon lecteur DVD ? Je n'ai pas Windows !
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Utilisez <a class="ulink" href="http://linvdr.org/projects/regionset/" target="_top">l'outil regionset</a>.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604564"></a><a name="id2604566"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Je ne peux pas jouer un DVD, MPlayer décroche ou affiche des erreurs
"Encrypted VOB file!".
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Le code de décryptage CSS ne marche pas avec certains lecteurs DVD à moins que
vous ne paramètriez le code de région de façon approprié. Voir la réponse à la
question précédente.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604586"></a><a name="id2604588"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Dois-je être en (setuid) root pour pouvoir lire un DVD ?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Non. Par contre vous devez avoir les droits appropriés sur le périphérique DVD
(dans <tt class="filename">/dev/</tt>).
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604611"></a><a name="id2604613"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Est-il possible de lire/encoder uniquement certains chapitres ?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Oui, essayez l'option <tt class="option">-chapter</tt>.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604628"></a><a name="id2604630"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
La lecture de DVD est très lente !
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Utilisez l'option <tt class="option">-cache</tt> (décrite dans la page de man) et essayez
d'activer le DMA pour le lecteur DVD avec l'outil <span class="command"><strong>hdparm</strong></span> (décrit
dans le <a class="link" href="#drives" title="4.1. Lecteurs CD/DVD">chapitre CD</a>).
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604661"></a><a name="id2604664"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
J'ai copié un DVD en utilisant vobcopy. Comment puis-je le lire/l'encoder depuis
mon disque dur ?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Utilisez l'option <tt class="option">-dvd-device</tt> pour préciser le répertoire qui
contient les fichiers:
</p><pre class="screen">
mplayer dvd://1 -dvd-device <em class="replaceable"><code>/chemin/du/répertoire</code></em>
</pre><p>
</p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq-features"></a>11.7. Demandes de fonctionnalités</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>Q : <a href="#id2604705">
Si est MPlayer est en pause et que j'essaie de me déplacer ou de presser
n'importe quelle touche, MPlayer sort de pause. Je voudrais être capable de me
déplacer dans la vidéo en pause.
</a></dt><dt>Q : <a href="#id2604740">
J'aimerais me déplacer de +/- 1 trame au lieu de 10 secondes.
</a></dt></dl></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604705"></a><a name="id2604707"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Si est <span class="application">MPlayer</span> est en pause et que j'essaie de me déplacer ou de presser
n'importe quelle touche, <span class="application">MPlayer</span> sort de pause. Je voudrais être capable de me
déplacer dans la vidéo en pause.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
C'est très compliqué a implémenter sans perdre la synchronisation A/V. Toutes
les tentatives ont échouées jusqu'à présent, mais les patches sont les bienvenus.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604740"></a><a name="id2604742"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
J'aimerais me déplacer de +/- 1 trame au lieu de 10 secondes.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Vous pouvez avancer d'une frame en avant en pressant <span class="keycap"><b>.</b></span>.
Si le film n'était pas en pause, il se mettra en pause ensuite
(voir les pages de man pour plus de détails).
L'avance arrière n'est pas près d'être implémenté dans un proche avenir.
</p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq-encoding"></a>11.8. Encodage</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>Q : <a href="#id2604780">
Comment puis-je encoder ?
</a></dt><dt>Q : <a href="#id2604803">
Cooment puis-je décharger un titre entier de DVD dans un fichier?
</a></dt><dt>Q : <a href="#id2604846">
Comment puis-je créer des (S)VCDs automatiquement?
</a></dt><dt>Q : <a href="#id2604878">
Comment puis-je créer des (S)VCDs?
</a></dt><dt>Q : <a href="#id2604920">
Comment puis-je joindre deux fichiers vidéos ?
</a></dt><dt>Q : <a href="#id2604984">
Comment puis-je réparer des fichiers AVI avec un index cassé ou un mauvais entrelacement?
</a></dt><dt>Q : <a href="#id2605033">
Comment puis-je réparer le format de l'image d'un fichier AVI?
</a></dt><dt>Q : <a href="#id2605076">
Comment puis-je sauvegarder et encoder un fichier VOB avec un début défectueux?
</a></dt><dt>Q : <a href="#id2605152">
Je ne peux pas encoder les sous-titres en AVI!
</a></dt><dt>Q : <a href="#id2605169">
Comment puis-je encoder seulement certains chapitres d'un DVD?
</a></dt><dt>Q : <a href="#id2605190">
J'essaie de travailler avec des fichiers de plus de 2Go sur un système de fichier VFAT. Ça marche?
</a></dt><dt>Q : <a href="#id2605207">
Quel est le sens des nombres sur la ligne de status pendant l'encodage?
</a></dt><dt>Q : <a href="#id2605354">
Pourquoi le débit recommendé par MEncoder est négatif?
</a></dt><dt>Q : <a href="#id2605379">
Je ne peux pas convertir un fichier ASF en AVI/MPEG-4 (DivX) car il utilise 1000 images par secondes?
</a></dt><dt>Q : <a href="#id2605402">
Comment puis-je insérer des sous-titres dans le fichier de sortie ?
</a></dt><dt>Q : <a href="#id2605431">
Comment puis-je encoder uniquement le son d'une vidéo musicale ?
</a></dt><dt>Q : <a href="#id2605504">
Pourquoi est-ce que les lecteurs de tiers partie n'arrivent pas à jouer des films MPEG-4 encodé par
des versions plus tardives que 1.0pre7 de MEncoder?
</a></dt><dt>Q : <a href="#id2602116">
Comment puis-je encoder un fichier seulement audio?
</a></dt><dt>Q : <a href="#id2602145">
Comment puis-je jouer les sous-titres inclus dans AVI?
</a></dt><dt>Q : <a href="#id2602180">
MPlayer n'ira pas...
</a></dt></dl></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604780"></a><a name="id2604783"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je encoder ?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Lisez la section <a class="link" href="#mencoder" title="Chapitre 9. Utilisation basique de MEncoder"><span class="application">MEncoder</span></a>.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604803"></a><a name="id2604805"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Cooment puis-je décharger un titre entier de DVD dans un fichier?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Une fois que vous avez sélectionné votre titre, et êtes sûr qu'il joue bien avec
<span class="application">MPlayer</span>, utilisez l'option <tt class="option">-dumpstream</tt>
Par exemple:
</p><pre class="screen">
mplayer dvd://5 -dumpstream -dumpfile <em class="replaceable"><code>dvd_dump.vob</code></em>
</pre><p>
déchargera le 5ème titre du DVD dans un fichier
<em class="replaceable"><code>dvd_dump.vob</code></em>
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604846"></a><a name="id2604848"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je créer des (S)VCDs automatiquement?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Essayez le script <tt class="filename">mencvcd.sh</tt> du sous-répertoire
<tt class="filename">TOOLS</tt>. Avec lui vous pourrez encoder des DVDs
ou d'autres films en format VCD ou SVCD et même les graver directement sur un CD.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604878"></a><a name="id2604880"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je créer des (S)VCDs?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Des versions plus récentes de <span class="application">MEncoder</span> peuvent directement
générer des fichiers MPEG-2 qui peuvent être utilisés comme une base pour créer un (S)SVCD et
sont plus à même d'être joués sans modification sur n'importe quelle plateformes (par exemple
pour partager une vidéo depuis une caméra numérique pour des amis qui n'y connaisse rien en
informatique).
Veuillez lire
<a class="link" href="#menc-feat-vcd-dvd" title="10.8. Utiliser MEncoder pour créer des fichiers compatibles VCD/SVCD/DVD.">Utiliser MEncoder pour créer des fichiers compatible VCD/SVCD/DVD</a>
pour plus de détails.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604920"></a><a name="id2604922"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je joindre deux fichiers vidéos ?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Les fichiers MPEG peuvent être mis bout à bout en un seul fichier avec de la chance.
Pour les fichiers AVI, vous pouvez utiliser le support de fichier multiple de
<span class="application">MEncoder</span> comme cela:
</p><pre class="screen">
mencoder -ovc copy -oac copy -o <em class="replaceable"><code>out.avi</code></em> <em class="replaceable"><code>file1.avi</code></em> <em class="replaceable"><code>file2.avi</code></em>
</pre><p>
Cela ne marchera que si les fichiers sont de la même résolution
et utilisent le même codec.
Vous pouvez aussi essayer
<a class="ulink" href="http://fixounet.free.fr/avidemux/" target="_top">avidemux</a> et
<span class="application">avimerge</span> (font partie du panel d'outil de
<a class="ulink" href="http://www.transcoding.org/" target="_top">transcode</a>).
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2604984"></a><a name="id2604986"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je réparer des fichiers AVI avec un index cassé ou un mauvais entrelacement?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Pour éviter d'avoir à utiliser <tt class="option">-idx</tt> pour pouvoir rechercher dans
des fichiers AVI avec un index cassé ou <tt class="option">-ni</tt> pour jouer des fichiers
AVI avec un mauvais entrelacement, utilisez la commande
</p><pre class="screen">
mencoder <em class="replaceable"><code>input.avi</code></em> -idx -ovc copy -oac copy -o <em class="replaceable"><code>output.avi</code></em>
</pre><p>
pour copier les flux vidéo et audio dans un nouveau fichier AVI ce qui
régénére l'index et entrelace correctement les données.
Bien sûr cela ne peut pas réparer les possibles bogues présents dans les flux vidéo et/ou audio.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2605033"></a><a name="id2605035"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je réparer le format de l'image d'un fichier AVI?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Vous pouvez faire cela grâce à l'option <tt class="option">-force-avi-aspect</tt>
de <span class="application">MEncoder</span>, ce qui prend le pas sur le format d'image stocké
dans l'option vprp de l'en-tête du AVI OpenDML. Par exemple:
</p><pre class="screen">
mencoder <em class="replaceable"><code>entrée.avi</code></em> -ovc copy -oac copy -o <em class="replaceable"><code>sortie.avi</code></em> -force-avi-aspect 4/3
</pre><p>
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2605076"></a><a name="id2605078"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je sauvegarder et encoder un fichier VOB avec un début défectueux?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Le principal problème quand vous voulez encoder un fichier VOB corrompu
<sup>[<a name="fn-corrupted-files-or-copy-protection" href="#ftn.fn-corrupted-files-or-copy-protection" class="footnote">3</a>]</sup>
est qu'il sera difficile d'obtenir un encodage avec une parfaite synchronisation audio/video.
une solution est de supprimer la partie corrompue et de n'encoder que la partie saine.
Premièrement, vous avez besoin de trouver où commence la partie propre:
</p><pre class="screen">
mplayer <em class="replaceable"><code>entrée.vob</code></em> -sb <em class="replaceable"><code>nb_d_octets_à_passer</code></em>
</pre><p>
Puis vous pouvez créer un nouveau fichier qui contient juste la partie saine:
</p><pre class="screen">
dd if=<em class="replaceable"><code>entrée.vob</code></em> of=<em class="replaceable"><code>sortie_coupée.vob</code></em> skip=1 ibs=<em class="replaceable"><code>nb_d_octets_à_passer</code></em>
</pre><p>
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2605152"></a><a name="id2605154"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Je ne peux pas encoder les sous-titres en AVI!
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Vous devez spécifier l'option <tt class="option">-sid</tt> correctement!
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2605169"></a><a name="id2605172"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je encoder seulement certains chapitres d'un DVD?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Utilisez l'option <tt class="option">-chapter</tt> correctement, comme: <tt class="option">-chapter 5-7</tt>.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2605190"></a><a name="id2605192"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
J'essaie de travailler avec des fichiers de plus de 2Go sur un système de fichier VFAT. Ça marche?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Non, VFAT ne supporte pas les fichiers plus gros que 2Go.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2605207"></a><a name="id2605209"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Quel est le sens des nombres sur la ligne de status pendant l'encodage?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Exemple:
</p><pre class="screen">
  Pos: 264.5s   6612f ( 2%)  7.12fps Trem: 576min 2856mb  A-V:0.065 [2126:192]
</pre><p>
</p><div class="variablelist"><dl><dt><span class="term"><code class="systemitem">Pos: 264.5s</code></span></dt><dd><p>position temporelle dans le flux encodé</p></dd><dt><span class="term"><code class="systemitem">6612f</code></span></dt><dd><p>number d'images encoded</p></dd><dt><span class="term"><code class="systemitem">( 2%)</code></span></dt><dd><p>pourcentage du flux d'entrée encodé</p></dd><dt><span class="term"><code class="systemitem">7.12fps</code></span></dt><dd><p>vitesse d'encodage en images par seconde</p></dd><dt><span class="term"><code class="systemitem">Trem: 576min</code></span></dt><dd><p>estimation du temps d'encodage restant</p></dd><dt><span class="term"><code class="systemitem">2856mb</code></span></dt><dd><p>estimation de la taille finale de
  l'encodage</p></dd><dt><span class="term"><code class="systemitem">A-V:0.065</code></span></dt><dd><p>décalage actuel entre les flux audio et
  video</p></dd><dt><span class="term"><code class="systemitem">[2126:192]</code></span></dt><dd><p>
  débit video moyen (en ko/s) and débit audio moyen (in ko/s)
  </p></dd></dl></div><p>
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2605354"></a><a name="id2605356"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Pourquoi le débit recommendé par <span class="application">MEncoder</span> est négatif?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Parce que le débit avec lequel vous avez encodé l'audio est trop grand pour faire tenir le film sur un CD. Vérifiez que libmp3lame est installé correctement.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2605379"></a><a name="id2605381"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Je ne peux pas convertir un fichier ASF en AVI/MPEG-4 (DivX) car il utilise 1000 images par secondes?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Puisque ASF utilise un nombre d'images par seconde variable alors que AVI en utilise un fixe, vous devrez fixer le nombre d'images par seconde à la main avec l'option <tt class="option">-ofps</tt>.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2605402"></a><a name="id2605404"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je insérer des sous-titres dans le fichier de sortie ?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Passez simplement l'option <tt class="option">-sub &lt;nom fichier&gt;</tt> (ou <tt class="option">-sid</tt>,
respectivement) à <span class="application">MEncoder</span>.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2605431"></a><a name="id2605433"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je encoder uniquement le son d'une vidéo musicale ?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Cela n'est pas possible directement, mais vous pouvez essayer ça (notez le
<span class="bold"><strong>&amp;</strong></span> à la fin de la commande
<span class="command"><strong>mplayer</strong></span>):
</p><pre class="screen">
mkfifo <em class="replaceable"><code>encode</code></em>
mplayer -ao pcm -aofile <em class="replaceable"><code>encode</code></em> dvd://1 &amp;
lame <em class="replaceable"><code>vos_options</code></em>
<em class="replaceable"><code>encode</code></em> <em class="replaceable"><code>musique.mp3</code></em>
rm <em class="replaceable"><code>encode</code></em>
</pre><p>
Cela vous permet d'utiliser n'importe quel encodeur, pas seulement <span class="application">LAME</span>,
remplacez simplement <span class="command"><strong>lame</strong></span> par votre encodeur audio préféré dans la
commande ci-dessus.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2605504"></a><a name="id2605506"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Pourquoi est-ce que les lecteurs de tiers partie n'arrivent pas à jouer des films MPEG-4 encodé par
des versions plus tardives que 1.0pre7 de <span class="application">MEncoder</span>?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
<code class="systemitem">libavcodec</code>, la librairie d'encodage
native MPEG-4 normalement incluse avec <span class="application">MEncoder</span>,
avait pour habitude de règler le FourCC à 'DIVX' quand il encode des vidéos MPEG-4
(le FourCC est un tag AVI pour identifier le logiciel utilisé pour encoder et
le logiciel destiné à être utilisé pour le décodage de la vidéo)
Cela amène les gens à penser que
<code class="systemitem">libavcodec</code>
était une librairie d'encodage pour DivX, alors qu'en fait c'est une librairie
d'encodage pour MPEG-4 complètement différente qui implémente beaucoup mieux
le standard MPEG-4 que DivX ne le fait.
Ainsi, le nouveau FourCC par défaut utilisé par
<code class="systemitem">libavcodec</code> est 'FMP4', mais vous
pouvez surpasser cette action en utilisant l'option <tt class="option">-ffourcc</tt> de
<span class="application">MEncoder</span>.
Vous pouvez aussi changer le FourCC des fichiers existant de la même façon:
</p><pre class="screen">
  mencoder <em class="replaceable"><code>input.avi</code></em> -o <em class="replaceable"><code>output.avi</code></em> -ffourcc XVID
</pre><p>
Notez que cela règlera le FourCC à XVID plutôt que DIVX.
Ceci est recommandé étant donné que DIVX FourCC signifie DivX4, ce qui est un codec MPEG-4
très basic, alorsque DX50 et XVID tout deux signifie MPEG-4 complet (ASP).
Donc, si vous changez le FourCC à DIVX, de mauvais logiciels ou lecteurs hardware
peuvent cafouiller sur quelques fonctionalités avançées que
<code class="systemitem">libavcodec</code> supporte, mais que DivX
ne supporte pas; d'autre part <code class="systemitem">Xvid</code> est plus proche
de <code class="systemitem">libavcodec</code> en terme de
fonctionalitiés, et il est supporté par tous les lecteurs digne de ce nom.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2602116"></a><a name="id2602118"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je encoder un fichier seulement audio?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Utilisez <tt class="filename">aconvert.sh</tt> du sous-répertoire
<tt class="filename">TOOLS</tt>
qui se situe dans l'arbre source de MPlayer.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2602145"></a><a name="id2602147"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
Comment puis-je jouer les sous-titres inclus dans AVI?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Utilisez <tt class="filename">avisubdump.c</tt> du sous-répertoire
<tt class="filename">TOOLS</tt> ou lisez
<a class="ulink" href="http://xlife.zuavra.net/curse/0012/" target="_top">ce document sur l'extraction/demultiplexage
des sous-titres inclus dans les fichiers AVI OpenDML</a>.
</p></td></tr><tr class="question" title="Q :"><td align="left" valign="top"><a name="id2602180"></a><a name="id2602183"></a><p><b>Q :</b></p></td><td align="left" valign="top"><p>
MPlayer n'ira pas...
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>R :</b></p></td><td align="left" valign="top"><p>
Voir le sous-répertoire <tt class="filename">TOOLS</tt>
pour une collection de scripts et codes aléatoires.
<tt class="filename">TOOLS/README</tt> contient la documentation.
</p></td></tr></tbody></table></div><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p><sup>[<a name="ftn.fn-corrupted-files-or-copy-protection" href="#fn-corrupted-files-or-copy-protection" class="para">3</a>] </sup>
D'une certaine manière, certaines formes de protection contre la copie utilisées dans les DVDs peuvent
être assimilée à du contenu corrompu.
</p></div></div></div><div class="appendix" title="Annexe A. Comment rapporter les bogues"><div class="titlepage"><div><div><h2 class="title"><a name="bugreports"></a>Annexe A. Comment rapporter les bogues</h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="#bugreports_security">A.1. Rapport de sécurité lié aux bogues</a></span></dt><dt><span class="sect1"><a href="#bugreports_fix">A.2. Comment réparer les bogues</a></span></dt><dt><span class="sect1"><a href="#bugreports_regression_test">A.3. Comment faire des tests de regression en utilisant Subversion</a></span></dt><dt><span class="sect1"><a href="#bugreports_report">A.4. Comment rapporter les bogues</a></span></dt><dt><span class="sect1"><a href="#bugreports_where">A.5. Où rapporter les bogues</a></span></dt><dt><span class="sect1"><a href="#bugreports_what">A.6. Que rapporter</a></span></dt><dd><dl><dt><span class="sect2"><a href="#bugreports_system">A.6.1. Information Système</a></span></dt><dt><span class="sect2"><a href="#bugreports_hardware">A.6.2. Matériel et pilotes</a></span></dt><dt><span class="sect2"><a href="#bugreports_configure">A.6.3. Problèmes de configuration</a></span></dt><dt><span class="sect2"><a href="#bugreports_compilation">A.6.4. Problèmes de compilation</a></span></dt><dt><span class="sect2"><a href="#bugreports_playback">A.6.5. Problèmes de lecture</a></span></dt><dt><span class="sect2"><a href="#bugreports_crash">A.6.6. Plantages</a></span></dt><dd><dl><dt><span class="sect3"><a href="#bugreports_debug">A.6.6.1. Comment conserver les informations sur un plantage reproductible</a></span></dt><dt><span class="sect3"><a href="#bugreports_core">A.6.6.2. Comment extraire les informations significatives d'un core dump</a></span></dt></dl></dd></dl></dd><dt><span class="sect1"><a href="#bugreports_advusers">A.7. Je sais ce que je fait...</a></span></dt></dl></div><p>
Les bons rapports de bogue sont une contribution précieuse pour tout projet en
développement. Mais tout comme pour écrire un bon logiciel, les bons rapports
de problèmes exigent du travail. Rendez-vous compte que la plupart des
développeurs sont extrêmement occupés et reçoivent un nombre colossal d'emails.
Donc bien que votre retour soit crucial pour l'amélioration de
<span class="application">MPlayer</span> et soit très apprécié, comprenez que vous
devez fournir <span class="bold"><strong>toutes</strong></span> les informations que nous
demandons et suivre de près les instructions de ce document.
</p><div class="sect1" title="A.1. Rapport de sécurité lié aux bogues"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="bugreports_security"></a>A.1. Rapport de sécurité lié aux bogues</h2></div></div></div><p>
Au cas où vous trouveriez un bogue exploitable, laissez-nous le temps de le
corriger avant de le révéler. Vous pouvez envoyer vos alertes de sécurité à
<a class="ulink" href="mailto:security@mplayerhq.hu" target="_top">security@mplayerhq.hu</a>.
Veuillez ajouter [SECURITE] ou [CONSEILLE] dans le sujet.
Soyez sûr que votre rapport contienne une analyse complète et détailée du bogue.
L'envoi d'un correctif est hautement apprécié.
Veuillez ne pas retarder l'envoi de votre rapport juste pour l'écriture d'une
preuve que le bogue est exploitable, vous pouvez envoyer ceci dans un autre
message.
</p></div><div class="sect1" title="A.2. Comment réparer les bogues"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="bugreports_fix"></a>A.2. Comment réparer les bogues</h2></div></div></div><p>
Si vous pensez avoir les talents nécessaires vous êtes invité à essayer de
réparer le bogue vous-même. Ou peut-être l'avez-vous déjà fait ?
Veuillez lire <a class="ulink" href="../../tech/patches.txt" target="_top">ce court document</a>
(en anglais) pour trouver comment faire inclure votre code dans
<span class="application">MPlayer</span>.
Les gens de la liste de diffusion
<a class="ulink" href="http://lists.mplayerhq.hu/mailman/listinfo/mplayer-dev-eng" target="_top">MPlayer-dev-eng</a>
vous assisterons si vous avez des questions.
</p></div><div class="sect1" title="A.3. Comment faire des tests de regression en utilisant Subversion"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="bugreports_regression_test"></a>A.3. Comment faire des tests de regression en utilisant Subversion</h2></div></div></div><p>
  Un problème qui peut survenir quelque fois est «cela marchait avant,
et plus maintenant...».
Voici une procédure étape-par-étape pour tenter d'indiquer quand exactement
le problème s'est produit. Ceci n'est <span class="bold"><strong>pas</strong></span> pour les utilisateurs
occasionnels.
</p><p>
Premièrement, vous aurez besoin de récuperer l'arbre des sources de MPlayer depuis le dépot
Subversion.
Les instructions peuvent être trouvé au bas de
<a class="ulink" href="http://www.mplayerhq.hu/dload.html" target="_top">cette page</a>.
</p><p>
Vous aurez donc dans le repertoire mplayer/ une image de l'arbre Subversion, du coté
client.
Maintenant mettez à jour cette image à la date voulue :
</p><pre class="screen">
cd mplayer/
svn update -r {"2004-08-23"}
</pre><p>
Le format de date est AAAA-MM-JJ HH:MM:SS.
Utiliser ce format de date vous assure que vous pourrez extraire les patches
selon la date à laquelle elles ont été fusionnés au dépot, comme dans l'
<a class="ulink" href="http://lists.mplayerhq.hu/pipermail/mplayer-cvslog/" target="_top">archive MPlayer-cvslog</a>.
</p><p>
Maintenant procéder comme pour une mise-à-jour normale :
</p><pre class="screen">
./configure
make
</pre><p>
</p><p>
Pour un non-informaticien qui lit ceci, la méthode la plus rapide d'arriver au point
où le problème se produit est d'utiliser une recherche dichotomique — qui est,
chercher la date où est survenu le problème en divisant à plusieurs reprises l'intervalle
de recherche par moitié.
Par exemple, si le problème se produit en 2003, commencez en milieu d'année, puis demandez-vous
"Le problème est-il déjà présent à ce moment?".
Si oui, revenez au premier Avril; si non, allez au premier Octobre,
et ainsi de suite.
</p><p>
Si vous avez beaucoup d'espace libre sur le disque dur (une compilation complète des sources prend actuellement
100 MO, et environ 300-350 MO si les symboles de déboguage sont activés), copiez la
plus vieille version fonctionnelle connue avant de la mettre à jour; cela sauvera du temps si
vous devez y revenir.
(Il est habituellement nécessaire de lancer 'make distclean' avant de recompiller une
version plus récente, donc si vous ne faites pas une copie de sauvegarde de votre arbre
source original, vous devrez tout recompiler dedans quand vous reviendrez
à la version présente.)
</p><p>
Quand vous avez trouvé le jour où le problème survient, continuez la recherche
en utilisant l'archive mplayer-cvslog (triée par date) et en affinant par des
mises-à-jour depuis Subversion en précisant heure, minute et seconde :
</p><pre class="screen">
svn update -r {"2004-08-23 15:17:25"}
</pre><p>
Cela vous permettra de trouver facilement le patch exact à l'origine du problème.
</p><p>
Si vous trouvez le patch qui est la cause du problème, vous avez quasiement gagné;
signalez le à
<a class="ulink" href="http://bugzilla.mplayerhq.hu/" target="_top">MPlayer Bugzilla</a> ou
souscrivez à
<a class="ulink" href="http://lists.mplayerhq.hu/mailman/listinfo/mplayer-users" target="_top">MPlayer-users</a>
et postez-le là.
Il y a une chance pour que l'auteur s'empresse de suggérer un correctif.
Vous pouvez également décortiquer le patch jusqu'à ce que le bug vous saute aux yeux :-).
</p></div><div class="sect1" title="A.4. Comment rapporter les bogues"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="bugreports_report"></a>A.4. Comment rapporter les bogues</h2></div></div></div><p>
Tout d'abord veuillez essayer la dernière version Subversion de <span class="application">MPlayer</span>
car votre bogue y est peut-être déjà réparé. Le développement évolue
très rapidement, la plupart des problèmes des versions officielles sont
rapportés dans les jours voir les heures qui suivent, donc n'utilisez
<span class="bold"><strong>que la version Subversion</strong></span> pour rapporter les bogues. Ceci
est également valable pour les paquets binaires de <span class="application">MPlayer</span>.
Les instructions Subversion peuvent être trouvées en bas de
<a class="ulink" href="http://www.mplayerhq.hu/dload.html" target="_top">cette page</a>
ou dans le README. Si tout cela ne vous aide pas, veuillez vous référer
au reste de la documentation.
Si votre problème n'est pas connu ou non résolvable avec nos instructions, alors merci
de rapporter le bogue.
</p><p>
Merci de ne pas envoyer de rapports de bogues en privé à chaque développeur.
C'est un travail commun et il y a donc pas mal de gens que cela pourrait
intéresser.
Parfois d'autres utilisateurs ont rencontré les mêmes ennuis que vous et
savent comment contourner le problème même si c'est un bogue dans le code
de <span class="application">MPlayer</span>.
</p><p>
Merci de décrire votre problème avec le plus de détails possibles.
Faites un petit travail de détective pour restreindre les conditions
d'occurrence du problème.
Est ce que le bogue ne se montre que dans certaines situations ?
Est-il spécifique à certains fichiers ou types de fichier ?
Apparaît-il avec un seul codec ou est-ce indépendant du codec ?
Pouvez-vous le reproduire avec tous les pilotes de sortie ?
Plus vous fournissez d'information, plus grandes sont nos chances de résoudre
votre problème.
Merci de ne pas oublier d'inclure également les informations importantes
requises plus bas, sinon nous ne pourront pas établir un diagnostic précis
de votre problème.
</p><p>
Un guide excellent et bien écrit pour poser des questions sur les forums
publiques est
<a class="ulink" href="http://www.linux-france.org/article/these/smart-questions/smart-questions-fr.html" target="_top">
Comment Poser Les Questions De Manière Intelligente</a> par <a class="ulink" href="http://www.catb.org/~esr/" target="_top">Eric S. Raymond</a>.
Il y en a un autre (en anglais) appelé
<a class="ulink" href="http://www.chiark.greenend.org.uk/~sgtatham/bugs.html" target="_top">How to Report
Bugs Effectively</a> par <a class="ulink" href="http://www.chiark.greenend.org.uk/~sgtatham/" target="_top">Simon Tatham</a>.
Si vous suivez ces règles vous devriez pouvoir obtenir de l'aide.
Mais merci de comprendre que nous suivons tous les listes de diffusion
volontairement sur notre temps libre.
Nous sommes très occupés et ne pouvons garantir que vous aurez une solution à
votre problème ou même une réponse.
</p></div><div class="sect1" title="A.5. Où rapporter les bogues"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="bugreports_where"></a>A.5. Où rapporter les bogues</h2></div></div></div><p>
Souscrivez à la liste de diffusion mplayer-users :
<a class="ulink" href="http://lists.mplayerhq.hu/mailman/listinfo/mplayer-users" target="_top">http://lists.mplayerhq.hu/mailman/listinfo/mplayer-users</a>
et envoyez votre rapport à
<a class="ulink" href="mailto:mplayer-users@mplayerhq.hu" target="_top">mailto:mplayer-users@mplayerhq.hu</a> où vous pourrez en discuter.
</p><p>
Si vous préférez, vous pouvez utiliser notre tout nouveau
<a class="ulink" href="http://bugzilla.mplayerhq.hu/" target="_top">Bugzilla</a> à la place.
</p><p>
La langue de cette liste est l'<span class="bold"><strong>Anglais</strong></span>.
Suivez les <a class="ulink" href="http://www.ietf.org/rfc/rfc1855.txt" target="_top">Règles de la Netiquette</a>
SVP et <span class="bold"><strong>n'envoyez de mails en HTML</strong></span> sur
aucune de nos listes de diffusion.
Vous ne serez qu'ignoré ou banni.
Si vous ne savez pas ce qu'est un mail en HTML ou pourquoi c'est mauvais,
lisez ce <a class="ulink" href="http://efn.no/html-bad.html" target="_top">sympatique document</a>
(en Anglais).
Il explique tous les détails et a des instructions pour désactiver le HTML.
Notez également que nous ne ferons pas de CC (copie conforme) individuelle
et que c'est donc une bonne idée de souscrire pour recevoir votre réponse.
</p></div><div class="sect1" title="A.6. Que rapporter"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="bugreports_what"></a>A.6. Que rapporter</h2></div></div></div><p>
Vous pouvez avoir besoin d'inclure des fichiers de log, de configuration
ou d'échantillon. Si certains sont très gros alors il vaut mieux les uploader
sur notre <a class="ulink" href="ftp://upload.mplayerhq.hu/MPlayer/incoming/" target="_top">serveur FTP</a>
en format compressé (gzip et bzip2 préférés) et indiquer uniquement leur
chemin et nom dans le rapport de bogue.
Nos listes de diffusion ont une taille de message limite de 80k, si vous
avez quelque chose de plus gros vous devrez le compresser ou l'uploader.
</p><div class="sect2" title="A.6.1. Information Système"><div class="titlepage"><div><div><h3 class="title"><a name="bugreports_system"></a>A.6.1. Information Système</h3></div></div></div><p>
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
Votre distribution Linux ou système d'exploitation et version, ex. :
  </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>Red Hat 7.1</p></li><li class="listitem"><p>Slackware 7.0 + paquets de développement de la 7.1 ...</p></li></ul></div><p>
</p></li><li class="listitem"><p>
Version du noyau :
</p><pre class="screen">uname -a</pre><p>
</p></li><li class="listitem"><p>
Version de la libc :
</p><pre class="screen">ls -l /lib/libc[.-]*</pre><p>
</p></li><li class="listitem"><p>
Versions de gcc et ld :
</p><pre class="screen">
gcc -v
ld -v
</pre><p>
</p></li><li class="listitem"><p>
Version des binutils :
</p><pre class="screen">as --version</pre><p>
</p></li><li class="listitem"><p>
Si vous avez des problèmes avec le mode plein-écran :
  </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>Type de gestionnaire de fenêtre et version</p></li></ul></div><p>
</p></li><li class="listitem"><p>
Si vous avez des problèmes avec XVIDIX :
  </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>Profondeur de couleur de X :
</p><pre class="screen">xdpyinfo | grep "depth of root"</pre><p>
    </p></li></ul></div><p>
</p></li><li class="listitem"><p>
Si seul le GUI (ou IHM - Interface Homme Machine) est boguée :
  </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>Version de GTK</p></li><li class="listitem"><p>Version de GLIB</p></li><li class="listitem"><p>Position dans le GUI au moment où le bogue se produit</p></li></ul></div><p>
</p></li></ul></div><p>
</p></div><div class="sect2" title="A.6.2. Matériel et pilotes"><div class="titlepage"><div><div><h3 class="title"><a name="bugreports_hardware"></a>A.6.2. Matériel et pilotes</h3></div></div></div><p>
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
Info CPU (cela ne fonctionne que sous Linux) :
</p><pre class="screen">cat /proc/cpuinfo</pre><p>
</p></li><li class="listitem"><p>
Fabricant et modèle de votre carte vidéo, ex. :
  </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>Puce ASUS V3800U: nVidia TNT2 Ultra pro 32Mo SDRAM</p></li><li class="listitem"><p>Matrox G400 DH 32Mo SGRAM</p></li></ul></div><p>
</p></li><li class="listitem"><p>
Type et version des drivers vidéo, ex. :
  </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>Pilote X intégré</p></li><li class="listitem"><p>nVidia 0.9.623</p></li><li class="listitem"><p>Utah-GLX CVS 2001-02-17</p></li><li class="listitem"><p>DRI avec X 4.0.3</p></li></ul></div><p>
</p></li><li class="listitem"><p>
Type de carte son et pilote, ex. :
  </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>Creative SBLive! Gold avec pilote OSS de oss.creative.com</p></li><li class="listitem"><p>Creative SB16 avec pilotes noyau OSS</p></li><li class="listitem"><p>GUS PnP avec émulation OSS ALSA</p></li></ul></div><p>
</p></li><li class="listitem"><p>
En cas de doute, joignez-y le résultat de <span class="command"><strong>lspci -vv</strong></span> sur les systèmes Linux.
</p></li></ul></div><p>
</p></div><div class="sect2" title="A.6.3. Problèmes de configuration"><div class="titlepage"><div><div><h3 class="title"><a name="bugreports_configure"></a>A.6.3. Problèmes de configuration</h3></div></div></div><p>
Si vous rencontrez des erreurs pendant l'éxecution de <span class="command"><strong>./configure</strong></span>,
ou si l'auto-détection ou autre chose échoue, lisez <tt class="filename">configure.log</tt>.
Vous pourriez y trouver la réponse, par exemple des versions multiples
mélangées de la même librairie dans votre système, ou vous avez oublié
d'installer les paquets de développement (ceux avec le suffixe -dev).
Si vous pensez que c'est un bogue, incluez
<tt class="filename">configure.log</tt> dans votre rapport de bogue.
</p></div><div class="sect2" title="A.6.4. Problèmes de compilation"><div class="titlepage"><div><div><h3 class="title"><a name="bugreports_compilation"></a>A.6.4. Problèmes de compilation</h3></div></div></div><p>
Veuillez inclure ces fichiers :
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>config.h</p></li><li class="listitem"><p>config.mak</p></li></ul></div><p>
</p></div><div class="sect2" title="A.6.5. Problèmes de lecture"><div class="titlepage"><div><div><h3 class="title"><a name="bugreports_playback"></a>A.6.5. Problèmes de lecture</h3></div></div></div><p>
Merci d'inclure la sortie de <span class="application">MPlayer</span> en verbosité niveau 1,
mais rappelez-vous de <span class="bold"><strong>ne pas tronquer la sortie</strong></span> en le
copiant dans votre mail. Les développeurs ont besoin de tous les messages
pour diagnostiquer correctement un problème. Vous pouvez rediriger la sortie
dans un fichier comme ceci :
</p><pre class="screen">mplayer -v <em class="replaceable"><code>options</code></em> <em class="replaceable"><code>nomfichier</code></em> &gt; mplayer.log 2&gt;&amp;1</pre><p>
</p><p>
Si votre problème est spécifique à un ou plusieurs fichiers, alors merci d'uploader
le(s) fautif(s) sur :
<a class="ulink" href="ftp://upload.mplayerhq.hu/MPlayer/incoming/" target="_top">ftp://upload.mplayerhq.hu/MPlayer/incoming/</a>
</p><p>
Uploadez aussi un petit fichier texte ayant le même nom que votre fichier
mais avec une extension .txt.
Décrivez le problème que vous avez avec ce fichier et incluez votre adresse
e-mail ainsi que la sortie de MPlayer en verbosité niveau 1.
Généralement les premiers 1-5 Mo sont suffisants pour reproduire le problème,
mais pour être sûrs nous vous demandons de faire :
</p><pre class="screen">dd if=<em class="replaceable"><code>votre_fichier</code></em> of=<em class="replaceable"><code>petit_fichier</code></em> bs=1024k count=5</pre><p>
Cela coupera les 5 premiers Mo de '<span class="bold"><strong>votre_fichier</strong></span>'
et les sauvera dans '<span class="bold"><strong>petit_fichier</strong></span>'.
Essayez alors de lire le petit fichier, et si le bogue persiste vous pouvez
envoyer le petit fichier par ftp. <span class="bold"><strong>N'envoyez jamais</strong></span>
ces fichiers par e-mail SVP !
Envoyez-les par FTP, et postez seulement le chemin/nom des fichiers sur le serveur
FTP. Si le fichier est accessible en téléchargement à partir d'Internet, alors
envoyez seulement son adresse URL <span class="bold"><strong>exacte</strong></span>.
</p></div><div class="sect2" title="A.6.6. Plantages"><div class="titlepage"><div><div><h3 class="title"><a name="bugreports_crash"></a>A.6.6. Plantages</h3></div></div></div><p>
Vous devez lancer <span class="application">MPlayer</span> à l'intérieur de
<span class="command"><strong>gdb</strong></span> et nous envoyer le résultat complet ou si vous
avez un <tt class="filename">core</tt> dump du plantage vous pouvez extraire
des informations utiles du fichier Core. Voici comment :
</p><div class="sect3" title="A.6.6.1. Comment conserver les informations sur un plantage reproductible"><div class="titlepage"><div><div><h4 class="title"><a name="bugreports_debug"></a>A.6.6.1. Comment conserver les informations sur un plantage reproductible</h4></div></div></div><p>
Recompilez <span class="application">MPlayer</span> avec les instructions de
déboguage activées :
</p><pre class="screen">
./configure --enable-debug=3
make
</pre><p>
et ensuite lancez MPlayer à l'intérieur de gdb en utilisant :
</p><pre class="screen">gdb ./mplayer</pre><p>
Vous êtes maintenant à l'intérieur de gdb. Tapez :
</p><pre class="screen">run -v <em class="replaceable"><code>options-pour-mplayer</code></em> <em class="replaceable"><code>nomfichier</code></em></pre><p>
et reproduisez votre plantage.
Aussitôt que vous l'avez fait, gdb va vous renvoyer à la ligne de commande
où vous devrez entrer
</p><pre class="screen">
bt
disass $pc-32 $pc+32
info all-registers
</pre><p>
</p></div><div class="sect3" title="A.6.6.2. Comment extraire les informations significatives d'un core dump"><div class="titlepage"><div><div><h4 class="title"><a name="bugreports_core"></a>A.6.6.2. Comment extraire les informations significatives d'un core dump</h4></div></div></div><p>
Créer le fichier de commande suivant :
</p><pre class="screen">
bt
disass $pc-32 $pc+32
info all-registers
</pre><p>
Ensuite exécutez simplement la commande :
</p><pre class="screen">gdb mplayer --core=core -batch --command=<em class="replaceable"><code>fichier_de_commande</code></em> &gt; mplayer.bug</pre><p>
</p></div></div></div><div class="sect1" title="A.7. Je sais ce que je fait..."><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="bugreports_advusers"></a>A.7. Je sais ce que je fait...</h2></div></div></div><p>
Si vous avez créé un rapport de bogue correct en suivant les étapes
ci-dessus et que vous êtes persuadé qu'il s'agit d'un bug dans
<span class="application">MPlayer</span>, et non un problème de compilateur
ou d'un fichier endommagé, vous avez déjà lu la documentation et vous
n'arrivez pas à trouver une solution, vos pilotes son sont OK, alors
vous pouvez souscrire à la liste mplayer-advusers et y envoyer votre
rapport pour obtenir une réponse plus intéressante et plus rapide.
</p><p>
Soyez prévenu que si vous posez des questions de newbie (débutant) ou
des questions dont les réponses sont dans le manuel, vous serez ignoré
ou insulté au lieu de recevoir une réponse appropriée.
Donc ne nous insultez pas et ne vous inscrivez à -advusers que si vous
savez vraiment ce que vous faites et vous sentez en mesure d'être un
utilisateur avancé de <span class="application">MPlayer</span> ou un développeur.
Si vous correspondez à ces critères il ne devrait pas être difficile de
trouver comment on s'inscrit...
</p></div></div><div class="appendix" title="Annexe B. Format de skins MPlayer"><div class="titlepage"><div><div><h2 class="title"><a name="skin"></a>Annexe B. Format de skins <span class="application">MPlayer</span></h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="#skin-overview">B.1. Aperçu</a></span></dt><dd><dl><dt><span class="sect2"><a href="#skin-overview-directories">B.1.1. Répertoires</a></span></dt><dt><span class="sect2"><a href="#skin-overview-formats">B.1.2. Format d'images</a></span></dt><dt><span class="sect2"><a href="#skin-overview-components">B.1.3. Composants d'une skin</a></span></dt><dt><span class="sect2"><a href="#skin-files">B.1.4. Fichiers</a></span></dt></dl></dd><dt><span class="sect1"><a href="#skin-file">B.2. Le fichier skin</a></span></dt><dd><dl><dt><span class="sect2"><a href="#skin-file-main">B.2.1. Fenêtre principale et barre de lecture</a></span></dt><dt><span class="sect2"><a href="#skin-file-subwindow">B.2.2. Sous-fenêtre</a></span></dt><dt><span class="sect2"><a href="#skin-file-menu">B.2.3. Menu</a></span></dt></dl></dd><dt><span class="sect1"><a href="#skin-fonts">B.3. Polices</a></span></dt><dd><dl><dt><span class="sect2"><a href="#skin-fonts-symbols">B.3.1. Symboles</a></span></dt></dl></dd><dt><span class="sect1"><a href="#skin-gui">B.4. Messages de la GUI</a></span></dt><dt><span class="sect1"><a href="#skin-quality">B.5. Créer des skins de qualité</a></span></dt></dl></div><div class="sect1" title="B.1. Aperçu"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="skin-overview"></a>B.1. Aperçu</h2></div></div></div><p>
Ce n'est pas en rapport direct avec le format des skins, mais vous devez savoir
que <span class="application">MPlayer</span> n'a <span class="bold"><strong>pas</strong></span> de skin par défaut, donc
<span class="bold"><strong>au moins une skin doit être installée pour pouvoir utiliser
la GUI.</strong></span>
</p><div class="sect2" title="B.1.1. Répertoires"><div class="titlepage"><div><div><h3 class="title"><a name="skin-overview-directories"></a>B.1.1. Répertoires</h3></div></div></div><p>
<span class="application">MPlayer</span> cherche des skins dans ces répertoires (dans cet ordre):
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
<tt class="filename">$(DATADIR)/skins/</tt>
</p></li><li class="listitem"><p>
<tt class="filename">$(PREFIX)/share/mplayer/skins/</tt>
</p></li><li class="listitem"><p>
<tt class="filename">~/.mplayer/skins/</tt>
</p></li></ol></div><p>
</p><p>
Notez que le premier répertoire peut varier suivant la façon dont <span class="application">MPlayer</span> a été
configuré (voir les arguments <tt class="option">--prefix</tt> et <tt class="option">--datadir</tt>
du script <span class="command"><strong>configure</strong></span>).
</p><p>
Chaque skin est installée dans son propre répertoire sous l'un des répertoires
listés ci-dessus, par exemple:
</p><pre class="screen">$(PREFIX)/share/mplayer/skins/default/</pre><p>
</p></div><div class="sect2" title="B.1.2. Format d'images"><div class="titlepage"><div><div><h3 class="title"><a name="skin-overview-formats"></a>B.1.2. Format d'images</h3></div></div></div><p>Les images doivent être en truecolor (24 ou 32 bpp) et enregistrées au
format PNG.</p><p>
Dans la fenêtre principale et la barre de lecture (c.f. ci-dessous) vous pouvez
utiliser des images dotées de régions "transparentes": les régions
remplies avec la couleur #FF00FF (magenta) deviennent transparentes dans <span class="application">MPlayer</span>.
Cela signifie que vous pouvez obtenir des formes particulières pour vos fenêtres si votre
serveur X possède l'extension XShape.
</p></div><div class="sect2" title="B.1.3. Composants d'une skin"><div class="titlepage"><div><div><h3 class="title"><a name="skin-overview-components"></a>B.1.3. Composants d'une skin</h3></div></div></div><p>
Les skins sont d'un format plutôt libre (contrairement aux formats fixes de
<span class="application">Winamp</span>/<span class="application">XMMS</span>, par exemple),
donc il ne tient qu'a vous de créer quelque chose de bien.
</p><p>
Actuellement, trois fenêtres doivent être décorées: la
<a class="link" href="#skin-file-main" title="B.2.1. Fenêtre principale et barre de lecture">fenêtre principale</a>, la
<a class="link" href="#skin-file-subwindow" title="B.2.2. Sous-fenêtre">sous-fenêtre</a>, la
<a class="link" href="#skin-file-main" title="B.2.1. Fenêtre principale et barre de lecture">barre de lecture</a>, et le
<a class="link" href="#skin-file-menu" title="B.2.3. Menu">menu</a> (activable par un clic droit).

</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Vous contrôlez <span class="application">MPlayer</span> par la <span class="bold"><strong>fenêtre principale</strong></span>
  et/ou la <span class="bold"><strong>barre de lecture</strong></span>. L'arrière plan est
  une image. Divers objets peuvent (et doivent) venir se placer dans cette fenêtre:
  <span class="emphasis"><em>boutons</em></span>, <span class="emphasis"><em>podomètres</em></span>
  (sliders) et <span class="emphasis"><em>labels</em></span>. Pour chaque objet, vous devez
  spécifier sa taille et sa position.
</p><p>
  Un <span class="bold"><strong>bouton</strong></span> comprend trois états (pressé, relâché,
  désactivé), donc l'image doit se diviser en trois parties, verticalement. Voir
  l'objet <a class="link" href="#skin-button">bouton</a> pour plus de détails.
</p><p>
  Un <span class="bold"><strong>podomètre</strong></span> (principalement utilisé pour la
  barre d'avancement et le contrôle du volume/balance) peut posséder n'importe quel
  nombre d'états en empilant ces images, verticalement. Voir
  <a class="link" href="#skin-hpotmeter">hpotmeter</a> et
  <a class="link" href="#skin-potmeter">potmeter</a> pour plus de détails.
</p><p>
  Les <span class="bold"><strong>labels</strong></span> sont un peu particuliers : les
  caractères nécessaires pour les dessiner sont récupérés depuis un fichier image,
  décrit par un <a class="link" href="#skin-fonts" title="B.3. Polices">fichier de description de polices</a>.
  Ce dernier est un fichier texte brut spécifiant la position x,y ainsi que la
  taille de chaque caractère dans l'image (le fichier image et son descripteur
  forment une police <span class="emphasis"><em>ensemble</em></span>). Voir <a class="link" href="#skin-dlabel">dlabel</a>
  et <a class="link" href="#skin-slabel">slabel</a> pour plus de détails.
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
  Toutes les images disposent de la couleur de transparence décrite dans la section
  <a class="link" href="#skin-overview-formats" title="B.1.2. Format d'images">formats d'images</a>. Si le serveur X ne
  supporte pas l'extension Xshape, les parties transparentes seront noires. Si vous
  voulez utiliser cette fonction, la largeur de l'image de la fenêtre principale
  devra être divisible par 8.
</p></div></li><li class="listitem"><p>
  La <span class="bold"><strong>sous-fenêtre</strong></span> contient la vidéo en elle même.
  Elle peut afficher une image si aucun film n'est chargé (ce n'est jamais plaisant
  d'avoir une fenêtre vide :-)) <span class="bold"><strong>Note:</strong></span> la couleur
  de transparence n'est <span class="bold"><strong>pas autorisée</strong></span> ici.
</p></li><li class="listitem"><p>
  Le <span class="bold"><strong>menu</strong></span> est simplement un moyen de contrôler
  <span class="application">MPlayer</span> par des entrées graphiques. Deux images sont nécessaires pour le menu:
  l'une d'elle, l'image de base, affiche le menu dans son été normal, l'autre est
  utilisée pour afficher les entrées sélectionnées. Quand vous faites apparaître le
  menu, la première image s'affiche. Si vous passez la souris sur les entrées du
  menu, l'entrée sélectionnée est copiée depuis la seconde image, et uniquement la
  partie concernée par cette sélection (la seconde image ne s'affiche jamais
  complètement.)
</p><p>
  Une entrée de menu se définit par sa position et sa taille dans l'image (voir la
  section <a class="link" href="#skin-file-menu" title="B.2.3. Menu">menu</a> pour plus de détails).
</p></li></ul></div><p>
</p><p>
  Une chose essentielle n'a pas encore été mentionnée : pour que les boutons,
  podomètres et entrées du menu fonctionnent, <span class="application">MPlayer</span> doit savoir quoi en faire.
  Ceci dépend des <a class="link" href="#skin-gui" title="B.4. Messages de la GUI">messages</a> (events) envoyés. Pour
  chacun de ces objets vous devez définir le message à afficher quand on clique
  dessus.
</p></div><div class="sect2" title="B.1.4. Fichiers"><div class="titlepage"><div><div><h3 class="title"><a name="skin-files"></a>B.1.4. Fichiers</h3></div></div></div><p>
Vous aurez besoin des fichiers suivants pour construire une skin:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Le fichier de configuration nommé <a class="link" href="#skin-file" title="B.2. Le fichier skin">skin</a> indique
  à <span class="application">MPlayer</span> comment assembler les différentes images et comment interpréter les
  clics de souris sur l'interface.
</p></li><li class="listitem"><p>
  L'image de fond de la fenêtre principale.
</p></li><li class="listitem"><p>
  Les images correspondants aux objets de la fenêtre principale (y compris une ou
  plusieurs polices et descripteurs nécessaires à l'affichage des textes).
</p></li><li class="listitem"><p>
  L'image affichée dans la sous-fenêtre (optionnel).
</p></li><li class="listitem"><p>
  Deux images pour le menu (nécessaires uniquement si vous voulez créer un menu).
</p></li></ul></div><p>
  A l'exception du fichier de configuration, vous pouvez nommer les fichiers comme
  bon vous semble (mais notez que les descripteurs de polices doivent avoir une
  extension <tt class="filename">.fnt</tt>).
</p></div></div><div class="sect1" title="B.2. Le fichier skin"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="skin-file"></a>B.2. Le fichier skin</h2></div></div></div><p>
Comme mentionné plus haut, c'est le fichier de configuration de la skin. Il est
lu ligne par ligne; les lignes de commentaires démarrent par le caractère
'<code class="literal">;</code>' en début de ligne (seuls les espaces et tabulations sont
autorisées avant ce signe).
</p><p>
Les fichiers se composent de sections. Chaque section décrit la skin pour une
application et s'écrit sous la forme:
</p><pre class="programlisting">
section = <em class="replaceable"><code>nom de la section</code></em>
.
.
.
end
</pre><p>
</p><p>
Actuellement il n'existe qu'une application, donc vous n'aurez besoin que d'une
section: dont le nom est <span class="bold"><strong>movieplayer</strong></span>.
</p><p>
Dans cette section chaque fenêtre est décrite par un bloc de la forme suivante:
</p><pre class="programlisting">
window = <em class="replaceable"><code>nom de la fenêtre</code></em>
.
.
.
end
</pre><p>
</p><p>
Où <em class="replaceable"><code></code></em> peut-être l'un des types suivants:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><span class="bold"><strong>main</strong></span> - pour la fenêtre principale</p></li><li class="listitem"><p><span class="bold"><strong>sub</strong></span> - pour la sous-fenêtre</p></li><li class="listitem"><p><span class="bold"><strong>menu</strong></span> - pour le menu</p></li><li class="listitem"><p><span class="bold"><strong>playbar</strong></span> - barre de lecture</p></li></ul></div><p>
</p><p>
(Les blocs sub et menu sont optionnels - vous n'avez pas l'obligation de décorer
le menu et la sous-fenêtre.)
</p><p>
Dans un bloc window, vous pouvez définir chaque objet sous la forme:
</p><pre class="programlisting">objet = paramètre</pre><p>
Où <code class="literal">objet</code> est une ligne identifiant le type d'objet de la GUI,
<code class="literal">paramètre</code> est une valeur numérique ou textuelle (ou une liste
de valeurs séparées par des virgules).
</p><p>
Le fichier final doit donc ressembler à ceci:
</p><pre class="programlisting">
section = movieplayer
  window = main
  ; ... objets de la fenêtre principale ...
  end

  window = sub
  ; ... objets de la sous-fenêtre ...
  end

  window = menu
  ; ... objets du menu ...
  end

  window = playbar
  ; ... objets de la la barre de lecture ...
  end
end
</pre><p>
</p><p>
Le nom d'un fichier image doit être donné sans distinction de répertoire - les
images seront cherchées dans le répertoire <tt class="filename">skins</tt>.
Vous pouvez (mais ce n'est pas obligatoire) spécifier l'extension du fichier. Si
le fichier n'existe pas, <span class="application">MPlayer</span> essaie de charger le fichier
<tt class="filename">&lt;nomfichier&gt;.&lt;ext&gt;</tt>, où <code class="literal">png</code>
et <code class="literal">PNG</code> sera respectivement <tt class="filename">&lt;ext&gt;</tt>
(dans cet ordre). La première correspondance trouvée sera utilisée.
</p><p>
Pour finir quelques mots sur le positionnement. La fenêtre principale et la
sous-fenêtre peuvent être placées dans des coins différents de l'écran en donnant
les coordonnées <code class="literal">X</code> et <code class="literal">Y</code>. <code class="literal">0</code>
pour haut ou gauche, <code class="literal">-1</code> pour centre et <code class="literal">-2</code>
pour droite ou bas, comme montré sur cette illustration:
</p><div class="informalfigure"><pre class="screen">
(0, 0)----(-1, 0)----(-2, 0)
  |          |          |
  |          |          |
(0,-1)----(-1,-1)----(-2,-1)
  |          |          |
  |          |          |
(0,-2)----(-1,-2)----(-2,-2)
</pre></div><p>

Un exemple. Supposons que vous avez crée une image <tt class="filename">main.png</tt>
que vous voulez utiliser pour la fenêtre principale:
</p><pre class="programlisting">base = main, -1, -1</pre><p>
MPlayer essaie de charger les fichiers <tt class="filename">main</tt>,
<tt class="filename">main.png</tt>, <tt class="filename">main.PNG</tt>.
</p><div class="sect2" title="B.2.1. Fenêtre principale et barre de lecture"><div class="titlepage"><div><div><h3 class="title"><a name="skin-file-main"></a>B.2.1. Fenêtre principale et barre de lecture</h3></div></div></div><p>
Vous trouverez ci-dessous la liste des objets utilisables dans les blocs
'<code class="literal">window = main</code>' ... '<code class="literal">end</code>',
et '<code class="literal">window = playbar</code>' ... '<code class="literal">end</code>'.
</p><div class="variablelist"><dl><dt><span class="term"><code class="literal">
  <a name="skin-main-base"></a>base = image, X, Y
  </code></span></dt><dd><p>
  Vous spécifiez ici l'image de fond utilisée dans la fenêtre principale. La
  fenêtre apparaîtra a la position <code class="literal">X,Y</code> sur l'écran. La fenêtre
  aura la taille de l'image.
    </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Ces coordonnées ne fonctionnent actuellement pas pour la fenêtre
    d'affichage.</p></div><div class="warning" title="Avertissement" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Avertissement</h3><p>Les régions transparentes (couleur #FF00FF) apparaîtront en noir
    sur les serveurs X n'ayant pas l'extension XShape. La largeur de l'image doit
    être divisible par 8.</p></div></dd><dt><span class="term"><code class="literal">
  <a name="skin-button"></a>button = image, X, Y, largeur, hauteur, message
  </code></span></dt><dd><p>
Place un bouton de taille <code class="literal">largeur</code> * <code class="literal">hauteur</code>
a la position <code class="literal">X,Y</code>. Le <code class="literal">message</code> sera généré
au clic sur ce bouton. L'image appelée par <code class="literal">image</code> doit avoir
trois états empilés verticalement (pour les trois états du bouton), comme ceci:

</p><div class="informalfigure"><pre class="screen">
+------------+
|  pressé    |
+------------+
|  relâché   |
+------------+
|  désactivé |
+------------+
</pre></div></dd><dt><span class="term"><code class="literal">
  <a name="skin-decoration"></a>decoration = enable|disable
  </code></span></dt><dd><p>
Active (enable) ou désactive (disable) la décoration du gestionnaire de fenêtre
pour la fenêtre principale. <span class="bold"><strong>disable</strong></span> par défaut.
    </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Cela ne fonctionne pas pour la fenêtre d'affichage, il n'y en a pas
    besoin.</p></div></dd><dt><span class="term"><code class="literal">
  <a name="skin-hpotmeter"></a>hpotmeter = button, blargeur, bhauteur, phases, numphases, default, X, Y, largeur, hauteur, message
  </code></span></dt><dd><p>

    </p></dd><dt><span class="term"><code class="literal">
  <a name="skin-vpotmeter"></a>vpotmeter = button, blargeur, bhauteur, phases, numphases, default, X, Y, largeur, hauteur, message
  </code></span></dt><dd><p>

Place un podomètre horizontal (hpotmeter) ou vertical (vpotmeter) de taille
<code class="literal">largeur</code> * <code class="literal">hauteur</code> à la position
<code class="literal">X,Y</code>. L'image peut être divisée en différentes parties pour les
différentes phases du podomètre (par exemple, vous pouvez en avoir un pour le
contrôle du volume qui passe du vert au rouge quand sa valeur passe du minimum au
maximum). <code class="literal">hpotmeter</code> peut posséder un bouton qui sera glissé
horizontalement.
    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><code class="literal">button</code> - l'image utilisée pour le bouton (doit
    avoir trois états superposés, comme pour les
    <a class="link" href="#skin-button">boutons</a>)
    </p></li><li class="listitem"><p><code class="literal">blargeur</code>,<code class="literal">bhauteur</code> - taille
    du bouton
    </p></li><li class="listitem"><p><code class="literal">phases</code> - l'image utilisée pour les différentes
   phases du podomètre. Une valeur <code class="literal">NULL</code> spéciale peut-être
   utilisée si vous ne voulez pas d'image. L'image doit être divisée en
   <code class="literal">numphasesparts</code> verticalement comme ceci:
    </p><div class="informalfigure"><pre class="screen">
+------------+
|  phase #1  |
+------------+
|  phase #2  |
+------------+
     ...
+------------+
|  phase #n  |
+------------+
</pre></div></li><li class="listitem"><p><code class="literal">numphases</code> - nombre d'états placés dans l'image <code class="literal">phases</code>.
    </p></li><li class="listitem"><p><code class="literal">default</code> - valeur par défaut du podomètre (dans
    un intervalle de <code class="literal">0</code> à <code class="literal">100</code>)
    </p></li><li class="listitem"><p><code class="literal">X</code>,<code class="literal">Y</code> - position du hpotmeter
    </p></li><li class="listitem"><p><code class="literal">largeur</code>,<code class="literal">hauteur</code> -
    largeur et hauteur du <code class="literal">hpotmeter</code>
    </p></li><li class="listitem"><p><code class="literal">message</code> - le message généré lors des
    changements d'état de <code class="literal">hpotmeter</code>
    </p></li></ul></div></dd><dt><span class="term"><code class="literal">
  <a name="skin-potmeter"></a>potmeter = phases, numphases, default, X, Y, largeur, hauteur, message
  </code></span></dt><dd><p>
Un <code class="literal">hpotmeter</code> sans bouton. (je suppose qu'il est censé tourner
en rond, mais il réagit uniquement aux tractions horizontales.) Pour une
description de ses paramètres lisez <a class="link" href="#skin-hpotmeter">hpotmeter</a>.
Ses <code class="literal">phases</code> peuvent être fixées à <code class="literal">NULL</code>, mais ce n'est
pas vraiment utile, puisque vous ne pouvez pas voir son niveau.
    </p></dd><dt><span class="term"><code class="literal">
  <a name="skin-font"></a>font = fontfile, fontid
  </code></span></dt><dd><p>
Définit une police. <code class="literal">fontfile</code> est le nom du descripteur de
police avec l'extension <tt class="filename">.fnt</tt> (inutile de préciser son
extension ici). <code class="literal">fontid</code> réfère à la police (c.f.
<a class="link" href="#skin-dlabel">dlabel</a> et <a class="link" href="#skin-slabel">slabel</a>).
Jusqu'à 25 polices peuvent être définies.
    </p></dd><dt><span class="term"><code class="literal">
  <a name="skin-slabel"></a>slabel = X, Y, fontid, "texte"
  </code></span></dt><dd><p>
Place un label dynamique à la position <code class="literal">X,Y</code>. <code class="literal">texte</code>
est affiché en utilisant la police identifiée par <code class="literal">fontid</code>. Le
texte est juste une chaîne brute (les variables <code class="literal">$x</code> ne
fonctionnent pas) qui doit être mise entre doubles quotes (mais le caractère
" ne peut pas faire partie du texte). Le label est affiché en utilisant la
police identifiée par <code class="literal">fontid</code>.
    </p></dd><dt><span class="term"><code class="literal">
  <a name="skin-dlabel"></a>dlabel = X, Y, longueur, align, fontid, "texte"
  </code></span></dt><dd><p>
Place un label statique à la position <code class="literal">X,Y</code>. Le label est appelé
dynamique parce que son texte est rafraîchi périodiquement. La longueur maximum du
label est définie par <code class="literal">longueur</code> (sa hauteur dépend de la hauteur
des caractères). Si le texte a afficher dépasse cette longueur il sera scrollé, ou
bien aligné dans l'espace spécifié par la valeur du paramètre
<code class="literal">align</code>: <code class="literal">0</code> pour droite,
<code class="literal">1</code> pour centre, et <code class="literal">2</code> pour gauche.
</p><p>
Le texte à afficher est donné par <code class="literal">texte</code>: il doit être écrit
entre doubles quotes (mais le caractère " ne peut pas faire partie du texte).
Le texte s'affiche en utilisant la police spécifiée par <code class="literal">fontid</code>.
Vous pouvez utiliser les variables suivantes dans le texte:
</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Variable</th><th>Signification</th></tr></thead><tbody><tr><td>$1</td><td>temps de lecture au format <span class="emphasis"><em>hh:mm:ss</em></span></td></tr><tr><td>$2</td><td>temps de lecture au format <span class="emphasis"><em>mmmm:ss</em></span></td></tr><tr><td>$3</td><td>temps de lecture au format <span class="emphasis"><em>hh</em></span> (heures)</td></tr><tr><td>$4</td><td>temps de lecture au format <span class="emphasis"><em>mm</em></span> (minutes)</td></tr><tr><td>$5</td><td>temps de lecture au format <span class="emphasis"><em>ss</em></span> (secondes)</td></tr><tr><td>$6</td><td>longueur du film au format <span class="emphasis"><em>hh:mm:ss</em></span></td></tr><tr><td>$7</td><td>longueur du film au format <span class="emphasis"><em>mmmm:ss</em></span></td></tr><tr><td>$8</td><td>temps de lecture au format <span class="emphasis"><em>h:mm:ss</em></span></td></tr><tr><td>$v</td><td>volume au format <span class="emphasis"><em>xxx.xx</em></span>%</td></tr><tr><td>$V</td><td>volume au format <span class="emphasis"><em>xxx.xx</em></span></td></tr><tr><td>$b</td><td>balance au format <span class="emphasis"><em>xxx.xx</em></span>%</td></tr><tr><td>$B</td><td>balance au format <span class="emphasis"><em>xxx.xx</em></span></td></tr><tr><td>$$</td><td>le caractère $</td></tr><tr><td>$a</td><td>un caractère dépendant du type audio (aucun: <code class="literal">n</code>,
mono: <code class="literal">m</code>, stéréo: <code class="literal">t</code>)</td></tr><tr><td>$t</td><td>numéro de piste (dans la playlist)</td></tr><tr><td>$o</td><td>nom du fichier</td></tr><tr><td>$f</td><td>nom du fichier en minuscule</td></tr><tr><td>$F</td><td>nom du fichier en majuscule</td></tr><tr><td>$T</td><td>un caractère dépendant du type de flux (fichier: <code class="literal">f</code>,
Video CD: <code class="literal">v</code>, DVD: <code class="literal">d</code>, URL: <code class="literal">u</code>)</td></tr><tr><td>$p</td><td>le caractère <span class="keycap"><b>p</b></span> (si une vidéo est en lecture et que la
police a le caractère <span class="keycap"><b>p</b></span>)</td></tr><tr><td>$s</td><td>le caractère <span class="keycap"><b>s</b></span> (si une vidéo est stoppée et que la police
a le caractère <span class="keycap"><b>s</b></span>)</td></tr><tr><td>$e</td><td>le caractère <span class="keycap"><b>e</b></span> (si une vidéo est en pause et que la police
a le caractère <span class="keycap"><b>e</b></span>)</td></tr><tr><td>$x</td><td>largeur du film</td></tr><tr><td>$y</td><td>hauteur du film</td></tr><tr><td>$C</td><td>nom du codec utilisé</td></tr></tbody></table></div></dd></dl></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
Les variables <code class="literal">$a, $T, $p, $s</code> et <code class="literal">$e</code>
<span class="keycap"><b>e</b></span> retournent toutes des caractères pouvant s'afficher comme des
symboles spéciaux (par exemple, <span class="keycap"><b>e</b></span> est le symbole de pause qui
ressemble généralement à ||). Vous pouvez avoir une police pour les caractères
normaux et une autre pour les symboles. Lisez la section sur les
<a class="link" href="#skin-fonts-symbols" title="B.3.1. Symboles">symboles</a> pour plus d'informations.
</p></div></div><div class="sect2" title="B.2.2. Sous-fenêtre"><div class="titlepage"><div><div><h3 class="title"><a name="skin-file-subwindow"></a>B.2.2. Sous-fenêtre</h3></div></div></div><p>
Vous trouverez ci-dessous la liste des objets utilisables dans le bloc
'<code class="literal">window = sub</code>' . . . '<code class="literal">end</code>'.
</p><div class="variablelist"><dl><dt><span class="term"><code class="literal">
  <a name="skin-sub-base"></a>base = image, X, Y, largeur, hauteur
  </code></span></dt><dd><p>
L'image qui s'affichera dans la fenêtre. La fenêtre apparaîtra à la position
<code class="literal">X,Y</code> sur l'écran (<code class="literal">0,0</code> est le coin supérieur
gauche). Vous pouvez spécifier <code class="literal">-1</code> pour centre et <code class="literal">-2</code>
pour droite (<code class="literal">X</code>) et bas (<code class="literal">Y</code>). La fenêtre prendra
la taille de l'image. <code class="literal">largeur</code> et <code class="literal">hauteur</code>
donnent la taille de la fenêtre; ces paramètres sont optionnels (si ils sont
absents, le fenêtre prend la taille de l'image).
    </p></dd><dt><span class="term"><code class="literal">
  <a name="skin-background"></a>background = R, V, B
  </code></span></dt><dd><p>
Vous permet de définir la couleur de fond. Utile si l'image est plus petite que la
fenêtre. <code class="literal">R</code>, <code class="literal">V</code> et <code class="literal">B</code>
spécifient les composantes rouge, verte et bleue de la couleur (d'un intervalle
entre 0 et 255).
    </p></dd></dl></div></div><div class="sect2" title="B.2.3. Menu"><div class="titlepage"><div><div><h3 class="title"><a name="skin-file-menu"></a>B.2.3. Menu</h3></div></div></div><p>
Comme mentionné précédemment, le menu s'affiche en utilisant deux images. Les
entrées normales du menu sont extraites de l'image spécifiée par l'objet
<code class="literal">base</code>, tandis que l'entrée actuellement sélectionnée est
extraite de l'image spécifiée par l'objet <code class="literal">selected</code>. Vous devez
définir la taille et la position de chaque entrée du menu par l'objet
<code class="literal">menu</code>.
</p><p>
Ils correspondent aux objets utilisés dans le bloc
'<code class="literal">window = menu</code>'. . .'<code class="literal">end</code>'.
</p><div class="variablelist"><dl><dt><span class="term"><code class="literal">
  <a name="skin-menu-base"></a>base = image
  </code></span></dt><dd><p>
L'image utilisée pour les entrées normales.
    </p></dd><dt><span class="term"><code class="literal">
  <a name="skin-selected"></a>selected = image
  </code></span></dt><dd><p>
L'image utilisée pour les entrées sélectionnées.
    </p></dd><dt><span class="term"><code class="literal">
  <a name="skin-menu"></a>menu = X, Y, largeur, hauteur, message
  </code></span></dt><dd><p>
Définit la position <code class="literal">X,Y</code> et la taille des entrées du menu dans
les images. <code class="literal">message</code> est le message généré quand le bouton de la
souris est relâché.
    </p></dd></dl></div></div></div><div class="sect1" title="B.3. Polices"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="skin-fonts"></a>B.3. Polices</h2></div></div></div><p>
Comme mentionné dans la section sur les parties de la skin, une police est définie
par une image et un fichier de description. Vous pouvez placer les caractères
n'importe ou sur l'image, mais vous devez vous assurer que leur position et taille
correspondent précisément au fichier de description.
</p><p>
Le fichier descriptif des polices (avec l'extension <tt class="filename">.fnt</tt>)
peut avoir des lignes de commentaires commençant par  '<code class="literal">;</code>'.
Le fichier doit avoir une ligne du type
<a name="skin-font-image"></a>
</p><pre class="programlisting">image = <em class="replaceable"><code>image</code></em></pre><p>
Où <code class="literal"><em class="replaceable"><code>image</code></em></code> est le nom de l'image qui
sera utilisée pour la police (vous n'avez pas à définir d'extension).
<a name="skin-font-char"></a>
</p><pre class="programlisting">"char" = X, Y, largeur, hauteur</pre><p>
Ici <code class="literal">X</code> et <code class="literal">Y</code> précisent la position du caractère
<code class="literal">char</code> dans l'image (<code class="literal">0,0</code> est le coin supérieur
gauche). <code class="literal">largeur</code> et <code class="literal">hauteur</code> sont les
dimensions du caractère en pixels.
</p><p>
Voici un exemple définissant les caractères A, B, C utilisant <tt class="filename">font.png</tt>.
</p><pre class="programlisting">
; Peut être "font" au lieu de "font.png".
image = font.png

; Trois caractères suffisent pour une démonstration. :-)
"A" =  0,0, 7,13
"B" =  7,0, 7,13
"C" = 14,0, 7,13
</pre><p>
</p><div class="sect2" title="B.3.1. Symboles"><div class="titlepage"><div><div><h3 class="title"><a name="skin-fonts-symbols"></a>B.3.1. Symboles</h3></div></div></div><p>
Certains caractères ont une signification spéciale quand ils sont retournés par des
variables utilisées dans <a class="link" href="#skin-dlabel">dlabel</a>. Ces caractères
sont censés s'afficher comme des symboles (par exemple, dans le cas d'une lecture
DVD, vous pouvez afficher un beau logo DVD a la place du caractère '<code class="literal">d</code>').
</p><p>
La table ci-dessous liste les caractères pouvant s'afficher comme des symboles (et
nécessitent donc une police différente).
</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Caractère</th><th>Symbole</th></tr></thead><tbody><tr><td><span class="keycap"><b>p</b></span></td><td>lecture</td></tr><tr><td><span class="keycap"><b>s</b></span></td><td>stop</td></tr><tr><td><span class="keycap"><b>e</b></span></td><td>pause</td></tr><tr><td><span class="keycap"><b>n</b></span></td><td>pas de son</td></tr><tr><td><span class="keycap"><b>m</b></span></td><td>son mono</td></tr><tr><td><span class="keycap"><b>t</b></span></td><td>son stéréo</td></tr><tr><td><span class="keycap"><b>f</b></span></td><td>lecture depuis un fichier</td></tr><tr><td><span class="keycap"><b>v</b></span></td><td>lecture depuis un Video CD</td></tr><tr><td><span class="keycap"><b>d</b></span></td><td>lecture depuis un DVD</td></tr><tr><td><span class="keycap"><b>u</b></span></td><td>lecture depuis une URL</td></tr></tbody></table></div></div></div><div class="sect1" title="B.4. Messages de la GUI"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="skin-gui"></a>B.4. Messages de la GUI</h2></div></div></div><p>
Ce sont les messages qui peuvent être générés par les boutons, podomètres et
entrées du menu.
</p><div class="variablelist" title="Contrôle de lecture:"><p class="title"><b>Contrôle de lecture:</b></p><dl><dt><span class="term"><span class="bold"><strong>evNext</strong></span></span></dt><dd><p>
Saute à la prochaine piste dans la playlist.
    </p></dd><dt><span class="term"><span class="bold"><strong>evPause</strong></span></span></dt><dd><p>
Associé à la commande <code class="literal">evPlaySwitchToPause</code>. Ils s'utilisent pour
avoir un bouton play/pause commun. Les deux messages peuvent être assignés aux
boutons affichés exactement à la même position dans la fenêtre. Ces messages mettent
la lecture en pause et le bouton <code class="literal">evPlaySwitchToPause</code> s'affiche
(pour indiquer que le bouton peut être pressé pour continuer la lecture).
    </p></dd><dt><span class="term"><span class="bold"><strong>evPlay</strong></span></span></dt><dd><p>
Commence la lecture.
    </p></dd><dt><span class="term"><span class="bold"><strong>evPlaySwitchToPause</strong></span></span></dt><dd><p>
Le contraire de <code class="literal">evPauseSwitchToPlay</code>. Ce message démarre la
lecture et l'image associée au bouton <code class="literal">evPauseSwitchToPlay</code>
s'affiche (pour indiquer que le bouton peut être pressé pour mettre en pause la lecture).
    </p></dd><dt><span class="term"><span class="bold"><strong>evPrev</strong></span></span></dt><dd><p>
Saute à la piste précédente dans la playlist.
    </p></dd><dt><span class="term"><span class="bold"><strong>evStop</strong></span></span></dt><dd><p>
Stoppe la lecture.
    </p></dd></dl></div><div class="variablelist" title="Déplacement dans le flux:"><p class="title"><b>Déplacement dans le flux:</b></p><dl><dt><span class="term"><span class="bold"><strong>evBackward10sec</strong></span></span></dt><dd><p>
Recule de 10 secondes.
    </p></dd><dt><span class="term"><span class="bold"><strong>evBackward1min</strong></span></span></dt><dd><p>
Recule de 1 minute.
    </p></dd><dt><span class="term"><span class="bold"><strong>evBackward10min</strong></span></span></dt><dd><p>
Recule de 10 minutes.
    </p></dd><dt><span class="term"><span class="bold"><strong>evForward10sec</strong></span></span></dt><dd><p>
Avance de 10 secondes.
    </p></dd><dt><span class="term"><span class="bold"><strong>evForward1min</strong></span></span></dt><dd><p>
Avance de 1 minute.
    </p></dd><dt><span class="term"><span class="bold"><strong>evForward10min</strong></span></span></dt><dd><p>
Avance de 10 minutes.
    </p></dd><dt><span class="term"><span class="bold"><strong>evSetMoviePosition</strong></span></span></dt><dd><p>
Se place à la position (utilisable avec un podomètre; utilise la valeur relative
(0-100%) du podomètre).
    </p></dd></dl></div><div class="variablelist" title="Contrôle vidéo:"><p class="title"><b>Contrôle vidéo:</b></p><dl><dt><span class="term"><span class="bold"><strong>evHalfSize</strong></span></span></dt><dd><p>
Réduit de moitié la taille de la fenêtre vidéo.
  </p></dd><dt><span class="term"><span class="bold"><strong>evDoubleSize</strong></span></span></dt><dd><p>
Double la taille de la fenêtre vidéo.
    </p></dd><dt><span class="term"><span class="bold"><strong>evFullScreen</strong></span></span></dt><dd><p>
Passe en mode plein écran.
    </p></dd><dt><span class="term"><span class="bold"><strong>evNormalSize</strong></span></span></dt><dd><p>
Met la vidéo à sa taille réelle.
    </p></dd></dl></div><div class="variablelist" title="Contrôle audio:"><p class="title"><b>Contrôle audio:</b></p><dl><dt><span class="term"><span class="bold"><strong>evDecAudioBufDelay</strong></span></span></dt><dd><p>
Diminue le délai du tampon audio.
    </p></dd><dt><span class="term"><span class="bold"><strong>evDecBalance</strong></span></span></dt><dd><p>
Diminue la balance.
    </p></dd><dt><span class="term"><span class="bold"><strong>evDecVolume</strong></span></span></dt><dd><p>
Diminue le volume.
    </p></dd><dt><span class="term"><span class="bold"><strong>evIncAudioBufDelay</strong></span></span></dt><dd><p>
Augmente le délai du tampon audio.
    </p></dd><dt><span class="term"><span class="bold"><strong>evIncBalance</strong></span></span></dt><dd><p>
Augmente la balance.
    </p></dd><dt><span class="term"><span class="bold"><strong>evIncVolume</strong></span></span></dt><dd><p>
Augmente le volume.
    </p></dd><dt><span class="term"><span class="bold"><strong>evMute</strong></span></span></dt><dd><p>
Active/désactive le son.
    </p></dd><dt><span class="term"><span class="bold"><strong>evSetBalance</strong></span></span></dt><dd><p>
Fixe la balance (utilisable avec un podomètre; utilise la valeur relative (0-100%)
du podomètre).
    </p></dd><dt><span class="term"><span class="bold"><strong>evSetVolume</strong></span></span></dt><dd><p>
Fixe le volume (utilisable avec un podomètre; utilise la valeur relative (0-100%)
du podomètre).
    </p></dd></dl></div><div class="variablelist" title="Divers:"><p class="title"><b>Divers:</b></p><dl><dt><span class="term"><span class="bold"><strong>evAbout</strong></span></span></dt><dd><p>
Ouvre la fenêtre 'A Propos'.
    </p></dd><dt><span class="term"><span class="bold"><strong>evDropSubtitle</strong></span></span></dt><dd><p>
Désactive le sous-titre actuellement utilisé.
    </p></dd><dt><span class="term"><span class="bold"><strong>evEqualizer</strong></span></span></dt><dd><p>
Active/désactive l'équalizer.
    </p></dd><dt><span class="term"><span class="bold"><strong>evExit</strong></span></span></dt><dd><p>
Quitte le programme.
    </p></dd><dt><span class="term"><span class="bold"><strong>evIconify</strong></span></span></dt><dd><p>
Iconifie la fenêtre.
    </p></dd><dt><span class="term"><span class="bold"><strong>evLoad</strong></span></span></dt><dd><p>
Charge un fichier (en ouvrant un mini navigateur de fichiers, où vous pouvez
choisir un fichier).
    </p></dd><dt><span class="term"><span class="bold"><strong>evLoadPlay</strong></span></span></dt><dd><p>
Fait la même chose que <code class="literal">evLoad</code>, mais démarre la lecture
automatiquement après le chargement du fichier.
    </p></dd><dt><span class="term"><span class="bold"><strong>evLoadSubtitle</strong></span></span></dt><dd><p>
Charge un fichier de sous-titres (avec un sélecteur de fichier)
    </p></dd><dt><span class="term"><span class="bold"><strong>evLoadAudioFile</strong></span></span></dt><dd><p>
Charge un fichier audio (avec un sélecteur de fichier)
    </p></dd><dt><span class="term"><span class="bold"><strong>evNone</strong></span></span></dt><dd><p>
Message vide, sans effet. (à part peut-être dans les versions CVS :-)).
    </p></dd><dt><span class="term"><span class="bold"><strong>evPlaylist</strong></span></span></dt><dd><p>
Ouvre/ferme la playlist.
    </p></dd><dt><span class="term"><span class="bold"><strong>evPlayDVD</strong></span></span></dt><dd><p>
Essaie d'ouvrir le disque dans le lecteur DVD-ROM indiqué.
    </p></dd><dt><span class="term"><span class="bold"><strong>evPlayVCD</strong></span></span></dt><dd><p>
Essaie d'ouvrir le disque dans le lecteur CD-ROM indiqué.
    </p></dd><dt><span class="term"><span class="bold"><strong>evPreferences</strong></span></span></dt><dd><p>
Ouvre la fenêtre de préférences.
    </p></dd><dt><span class="term"><span class="bold"><strong>evSetAspect</strong></span></span></dt><dd><p>
Fixe l'aspect de l'image.
    </p></dd><dt><span class="term"><span class="bold"><strong>evSetURL</strong></span></span></dt><dd><p>
Ouvre la fenêtre de saisie d'URL.
    </p></dd><dt><span class="term"><span class="bold"><strong>evSkinBrowser</strong></span></span></dt><dd><p>
Ouvre le navigateur de skins.
    </p></dd></dl></div></div><div class="sect1" title="B.5. Créer des skins de qualité"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="skin-quality"></a>B.5. Créer des skins de qualité</h2></div></div></div><p>
Vous avez lu toute la doc expliquant comment faire un skin pour la GUI de
<span class="application">MPlayer</span>, fait de votre mieux avec
<span class="application">Gimp</span> et souhaitez nous soumettre votre skin?
Lisez les guidelines pour éviter les erreurs communes et produire
un skin de haute qualité.
</p><p>
Nous voulons des skins que nous puissions ajouter à notre repository pour se
conformer à certain standards de qualité. Il y a aussi un nombre de choses que
vous pouvez faire pour rendre notre vie plus simple.
</p><p>
En tant qu'exemple, vous pouvez jeter un oeil à la skin <code class="systemitem">Blue</code>,
elle satisfait tous les critères listé ci-dessous depuis la version 1.5.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Chaque skin devra joindre un fichier
<tt class="filename">README</tt> qui contiendra les informations sur
vous, l'auteur, le copyright et les notices de licence et n'importe quoi d'autre
que vous souhaitiez ajouter. Si vous désirez avoir un changelog, ce fichier est
le bon endroit.</p></li><li class="listitem"><p>Il devrez y avoir un fichier <tt class="filename">VERSION</tt>
avec rien de plus que le numéro de version de la skin sur une simple
ligne (e.g. 1.0).</p></li><li class="listitem"><p>Les contrôles horizontaux et verticaux (sliders comme le volume
ou la position) devront avoir le centre du bouton proprement centré sur
le milieu du slider. Il devra être possible de bouger le bouton aux deux
extrémités du slider, mais pas de le dépasser.</p></li><li class="listitem"><p>Les éléments de la skin devront avoir les bonnes tailles déclarées
dans le fichier de la skin. Si cela n'est pas le cas vous pouvez cliquer en
dehors e.g. un bouton et encore le déclencher ou cliquer à l'intérieur de sa
zone et ne pas le déclencher.</p></li><li class="listitem"><p>le fichier <tt class="filename">skin</tt> devra être prettyprinted
et ne pas contenir d'onglets. Prettyprinted signifie que les chiffres devront
s'aligner de façon ordonnée dans les colonnes</p></li></ul></div></div></div></div></body></html>
