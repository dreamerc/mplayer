<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>MPlayer - Il Visualizzatore di film</title><link rel="stylesheet" href="default.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="it" class="book" title="MPlayer - Il Visualizzatore di film"><div class="titlepage"><div><div><h1 class="title"><a name="index"></a><span class="application">MPlayer</span> - Il Visualizzatore di film</h1></div><div><h2 class="subtitle"><a class="ulink" href="http://www.mplayerhq.hu" target="_top">http://www.mplayerhq.hu</a></h2></div><div><p class="copyright">Diritto d'autore © 2000-2010 MPlayer team</p></div><div><div class="legalnotice" title="License"><a name="id2499749"></a><p class="legalnotice-title"><b>License</b></p><p>MPlayer is free software; you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by the
  Free Software Foundation; either version 2 of the License, or (at your
  option) any later version.</p><p>MPlayer is distributed in the hope that it will be useful, but
  WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
  or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License
  for more details.</p><p>You should have received a copy of the GNU General Public License
  along with MPlayer; if not, write to the Free Software Foundation,
  Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.</p></div></div></div><hr></div><div class="toc"><dl><dt><span class="preface"><a href="#howtoread">Come leggere questa documentazione</a></span></dt><dt><span class="chapter"><a href="#intro">1. Introduzione</a></span></dt><dt><span class="chapter"><a href="#install">2. Installazione</a></span></dt><dd><dl><dt><span class="sect1"><a href="#softreq">2.1. Prerequisiti Software</a></span></dt><dt><span class="sect1"><a href="#features">2.2. Caratteristiche</a></span></dt><dt><span class="sect1"><a href="#gui">2.3. E relativamente alla GUI?</a></span></dt><dt><span class="sect1"><a href="#fonts-osd">2.4. Font e OSD</a></span></dt><dd><dl><dt><span class="sect2"><a href="#truetype-fonts">2.4.1. Font TrueType</a></span></dt><dt><span class="sect2"><a href="#bitmap-fonts">2.4.2. Font bitmap</a></span></dt><dt><span class="sect2"><a href="#osdmenu">2.4.3. Menu OSD</a></span></dt></dl></dd><dt><span class="sect1"><a href="#codec_installation">2.5. Installazione codec</a></span></dt><dd><dl><dt><span class="sect2"><a href="#xvid">2.5.1. Xvid</a></span></dt><dt><span class="sect2"><a href="#x264">2.5.2. <code class="systemitem">x264</code></a></span></dt><dt><span class="sect2"><a href="#aac">2.5.3. AAC</a></span></dt><dt><span class="sect2"><a href="#amr">2.5.4. AMR</a></span></dt><dt><span class="sect2"><a href="#xmms">2.5.5. XMMS</a></span></dt></dl></dd><dt><span class="sect1"><a href="#rtc">2.6. RTC</a></span></dt></dl></dd><dt><span class="chapter"><a href="#usage">3. Utilizzo</a></span></dt><dd><dl><dt><span class="sect1"><a href="#commandline">3.1. Riga comando</a></span></dt><dt><span class="sect1"><a href="#subosd">3.2. Sottotitoli e OSD</a></span></dt><dt><span class="sect1"><a href="#control">3.3. Controlli</a></span></dt><dd><dl><dt><span class="sect2"><a href="#ctrl-cfg">3.3.1. Configurazione controlli</a></span></dt><dt><span class="sect2"><a href="#lirc">3.3.2. Controllo da LIRC</a></span></dt><dt><span class="sect2"><a href="#slave-mode">3.3.3. Modalità slave</a></span></dt></dl></dd><dt><span class="sect1"><a href="#streaming">3.4. Riproduzione (streaming) da rete o da pipe</a></span></dt><dd><dl><dt><span class="sect2"><a href="#streaming-save">3.4.1. Salvare il contenuto in streaming</a></span></dt></dl></dd><dt><span class="sect1"><a href="#edl">3.5. Edit Decision Lists (EDL) (liste di decisione di modifica)</a></span></dt><dd><dl><dt><span class="sect2"><a href="#edl_using">3.5.1. Usare un file EDL</a></span></dt><dt><span class="sect2"><a href="#edl_making">3.5.2. Creare un file EDL</a></span></dt></dl></dd><dt><span class="sect1"><a href="#advaudio">3.6. Audio avanzato</a></span></dt><dd><dl><dt><span class="sect2"><a href="#advaudio-surround">3.6.1. Riproduzione Surround/Multicanale</a></span></dt><dd><dl><dt><span class="sect3"><a href="#advaudio-surround-DVD">3.6.1.1. DVD</a></span></dt><dt><span class="sect3"><a href="#advaudio-surround-stereoinfour">3.6.1.2. Riprodurre file stereo su quattro altoparlanti</a></span></dt><dt><span class="sect3"><a href="#advaudio-surround-passthrough">3.6.1.3. AC-3/DTS Passthrough</a></span></dt><dt><span class="sect3"><a href="#hwmpa-surround-passthrough">3.6.1.4. MPEG audio Passthrough</a></span></dt><dt><span class="sect3"><a href="#advaudio-surround-matrix">3.6.1.5. Matrix-encoded audio</a></span></dt><dt><span class="sect3"><a href="#advaudio-surround-hrtf">3.6.1.6. Emulazione del surround nelle cuffie</a></span></dt><dt><span class="sect3"><a href="#advaudio-surround-troubleshooting">3.6.1.7. Risoluzione problemi</a></span></dt></dl></dd><dt><span class="sect2"><a href="#advaudio-channels">3.6.2. Manipolazione dei canali</a></span></dt><dd><dl><dt><span class="sect3"><a href="#advaudio-channels-general">3.6.2.1. Informazioni generali</a></span></dt><dt><span class="sect3"><a href="#advaudio-channels-mono">3.6.2.2. Riprodurre mono con due altoparlanti</a></span></dt><dt><span class="sect3"><a href="#advaudio-channels-copying">3.6.2.3. Copiare/spostare i canali</a></span></dt><dt><span class="sect3"><a href="#advaudio-channels-mixing">3.6.2.4. Miscelare i canali</a></span></dt></dl></dd><dt><span class="sect2"><a href="#advaudio-volume">3.6.3. Regolazione volume via software</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#cd-dvd">4. Utilizzo CD/DVD</a></span></dt><dd><dl><dt><span class="sect1"><a href="#drives">4.1. Lettori CD/DVD</a></span></dt><dd><dl><dt><span class="sect2"><a href="#drives_linux">4.1.1. Linux</a></span></dt><dt><span class="sect2"><a href="#drives_freebsd">4.1.2. FreeBSD</a></span></dt></dl></dd><dt><span class="sect1"><a href="#dvd">4.2. Riproduzione DVD</a></span></dt><dd><dl><dt><span class="sect2"><a href="#region_code">4.2.1. Codici regionali</a></span></dt></dl></dd><dt><span class="sect1"><a href="#vcd">4.3. Riproduzione VCD</a></span></dt></dl></dd><dt><span class="chapter"><a href="#tv">5. TV</a></span></dt><dd><dl><dt><span class="sect1"><a href="#tv-input">5.1. Ingresso TV</a></span></dt><dd><dl><dt><span class="sect2"><a href="#tv-compilation">5.1.1. Compilazione</a></span></dt><dt><span class="sect2"><a href="#tv-tips">5.1.2. Consigli per l'uso</a></span></dt><dt><span class="sect2"><a href="#tv-examples">5.1.3. Esempi</a></span></dt></dl></dd><dt><span class="sect1"><a href="#tv-teletext">5.2. Televideo (teletext)</a></span></dt><dd><dl><dt><span class="sect2"><a href="#tv-teletext-implementation-notes">5.2.1. Note sull'implementazione</a></span></dt><dt><span class="sect2"><a href="#tv-teletext-usage">5.2.2. Usare il televideo</a></span></dt><dt><span class="sect2"><a href="#tv-teletext-hotkeys">5.2.3. Tasti comando per il televideo</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#radio">6. Radio</a></span></dt><dd><dl><dt><span class="sect1"><a href="#radio-input">6.1. Ingresso radio</a></span></dt><dd><dl><dt><span class="sect2"><a href="#radio-compilation">6.1.1. Compilazione</a></span></dt><dt><span class="sect2"><a href="#radio-tips">6.1.2. Consigli per l'uso</a></span></dt><dt><span class="sect2"><a href="#radio-examples">6.1.3. Esempi</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#video">7. Dispositivi di uscita video</a></span></dt><dd><dl><dt><span class="sect1"><a href="#mtrr">7.1. Impostare gli MTRR</a></span></dt><dt><span class="sect1"><a href="#xv">7.2. Xv</a></span></dt><dd><dl><dt><span class="sect2"><a href="#tdfx">7.2.1. Schede 3dfx</a></span></dt><dt><span class="sect2"><a href="#s3">7.2.2. Schede S3</a></span></dt><dt><span class="sect2"><a href="#nvidia">7.2.3. Schede nVidia</a></span></dt><dt><span class="sect2"><a href="#ati">7.2.4. Schede ATI</a></span></dt><dt><span class="sect2"><a href="#neomagic">7.2.5. Schede NeoMagic</a></span></dt><dt><span class="sect2"><a href="#trident">7.2.6. Schede Trident</a></span></dt><dt><span class="sect2"><a href="#kyro">7.2.7. Schede Kyro/PowerVR</a></span></dt><dt><span class="sect2"><a href="#intel">7.2.8. Schede Intel</a></span></dt></dl></dd><dt><span class="sect1"><a href="#dga">7.3. DGA</a></span></dt><dt><span class="sect1"><a href="#sdl">7.4. SDL</a></span></dt><dt><span class="sect1"><a href="#svgalib">7.5. SVGAlib</a></span></dt><dt><span class="sect1"><a href="#fbdev">7.6. Uscita su framebuffer (FBdev)</a></span></dt><dt><span class="sect1"><a href="#mga_vid">7.7. Framebuffer Matrox (mga_vid)</a></span></dt><dt><span class="sect1"><a href="#tdfxfb">7.8. Supporto YUV per 3Dfx</a></span></dt><dt><span class="sect1"><a href="#tdfx_vid">7.9. tdfx_vid</a></span></dt><dt><span class="sect1"><a href="#opengl">7.10. Uscita OpenGL</a></span></dt><dt><span class="sect1"><a href="#aalib">7.11. AAlib – Visualizzazione in modalità testuale</a></span></dt><dt><span class="sect1"><a href="#caca">7.12. 
<code class="systemitem">libcaca</code> – Libreria Color ASCII Art
</a></span></dt><dt><span class="sect1"><a href="#vesa">7.13. VESA - uscita attraverso il VESA BIOS</a></span></dt><dt><span class="sect1"><a href="#x11">7.14. X11</a></span></dt><dt><span class="sect1"><a href="#vidix">7.15. VIDIX</a></span></dt><dd><dl><dt><span class="sect2"><a href="#svgalib_helper">7.15.1. svgalib_helper</a></span></dt><dt><span class="sect2"><a href="#vidix-ati">7.15.2. Schede ATI</a></span></dt><dt><span class="sect2"><a href="#vidix-mga">7.15.3. Schede Matrox</a></span></dt><dt><span class="sect2"><a href="#vidix-trident">7.15.4. Schede Trident</a></span></dt><dt><span class="sect2"><a href="#vidix-3dlabs">7.15.5. Schede 3DLabs</a></span></dt><dt><span class="sect2"><a href="#vidix-nvidia">7.15.6. Schede nVidia</a></span></dt><dt><span class="sect2"><a href="#vidix-sis">7.15.7. Schede SiS</a></span></dt></dl></dd><dt><span class="sect1"><a href="#directfb">7.16. DirectFB</a></span></dt><dt><span class="sect1"><a href="#dfbmga">7.17. DirectFB/Matrox (dfbmga)</a></span></dt><dt><span class="sect1"><a href="#mpeg_decoders">7.18. Decodificatori MPEG</a></span></dt><dd><dl><dt><span class="sect2"><a href="#dvb">7.18.1. Uscita e ingresso DVB</a></span></dt><dt><span class="sect2"><a href="#dxr2">7.18.2. DXR2</a></span></dt><dt><span class="sect2"><a href="#dxr3">7.18.3. DXR3/Hollywood+</a></span></dt></dl></dd><dt><span class="sect1"><a href="#other">7.19. Altri dispositivi di visualizzazione</a></span></dt><dd><dl><dt><span class="sect2"><a href="#zr">7.19.1. Zr</a></span></dt><dt><span class="sect2"><a href="#blinkenlights">7.19.2. Blinkenlights</a></span></dt></dl></dd><dt><span class="sect1"><a href="#tvout">7.20. Gestione uscita TV-out</a></span></dt><dd><dl><dt><span class="sect2"><a href="#tvout-mga-g400">7.20.1. Schede Matrox G400</a></span></dt><dt><span class="sect2"><a href="#tv-out_matrox_g450">7.20.2. Schede Matrox G450/G550</a></span></dt><dt><span class="sect2"><a href="#tv-out_matrox_cable">7.20.3. Costruire un cavo per l'uscita TV Matrox</a></span></dt><dt><span class="sect2"><a href="#tvout-ati">7.20.4. Schede ATI</a></span></dt><dt><span class="sect2"><a href="#tvout-nvidia">7.20.5. nVidia</a></span></dt><dt><span class="sect2"><a href="#tvout-neomagic">7.20.6. NeoMagic</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#ports">8. Ports</a></span></dt><dd><dl><dt><span class="sect1"><a href="#linux">8.1. Linux</a></span></dt><dd><dl><dt><span class="sect2"><a href="#debian">8.1.1. Debian packaging</a></span></dt><dt><span class="sect2"><a href="#rpm">8.1.2. RPM packaging</a></span></dt><dt><span class="sect2"><a href="#arm_linux">8.1.3. ARM Linux</a></span></dt></dl></dd><dt><span class="sect1"><a href="#bsd">8.2. *BSD</a></span></dt><dd><dl><dt><span class="sect2"><a href="#freebsd">8.2.1. FreeBSD</a></span></dt><dt><span class="sect2"><a href="#openbsd">8.2.2. OpenBSD</a></span></dt><dt><span class="sect2"><a href="#darwin">8.2.3. Darwin</a></span></dt></dl></dd><dt><span class="sect1"><a href="#unix">8.3. Commercial Unix</a></span></dt><dd><dl><dt><span class="sect2"><a href="#solaris">8.3.1. Solaris</a></span></dt><dt><span class="sect2"><a href="#hp-ux">8.3.2. HP-UX</a></span></dt><dt><span class="sect2"><a href="#aix">8.3.3. AIX</a></span></dt><dt><span class="sect2"><a href="#qnx">8.3.4. QNX</a></span></dt></dl></dd><dt><span class="sect1"><a href="#windows">8.4. Windows</a></span></dt><dd><dl><dt><span class="sect2"><a href="#cygwin">8.4.1. <span class="application">Cygwin</span></a></span></dt><dt><span class="sect2"><a href="#mingw">8.4.2. <span class="application">MinGW</span></a></span></dt></dl></dd><dt><span class="sect1"><a href="#macos">8.5. Mac OS</a></span></dt><dd><dl><dt><span class="sect2"><a href="#osx_gui">8.5.1. MPlayer OS X GUI</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#mencoder">9. Utilizzo base di <span class="application">MEncoder</span></a></span></dt><dd><dl><dt><span class="sect1"><a href="#menc-feat-selecting-codec">9.1. Selezionare codec e formati contenitore</a></span></dt><dt><span class="sect1"><a href="#menc-feat-selecting-input">9.2. Selezionare il file in ingresso o il dispositivo</a></span></dt><dt><span class="sect1"><a href="#menc-feat-mpeg4">9.3. Codificare MPEG-4 ("DivX") in due passaggi</a></span></dt><dt><span class="sect1"><a href="#menc-feat-handheld-psp">9.4. Codificare nel formato video per Sony PSP</a></span></dt><dt><span class="sect1"><a href="#menc-feat-mpeg">9.5. Codificare in formato MPEG</a></span></dt><dt><span class="sect1"><a href="#menc-feat-rescale">9.6. Ridimensionare filmati</a></span></dt><dt><span class="sect1"><a href="#menc-feat-streamcopy">9.7. Copia dei flussi</a></span></dt><dt><span class="sect1"><a href="#menc-feat-enc-images">9.8. Codificare file immagine multipli (JPEG, PNG, TGA, etc.)</a></span></dt><dt><span class="sect1"><a href="#menc-feat-extractsub">9.9. Estrarre sottotitoli DVD in un file VOBsub</a></span></dt><dt><span class="sect1"><a href="#aspect">9.10. Preservare il rapporto di aspetto</a></span></dt></dl></dd><dt><span class="chapter"><a href="#encoding-guide">10. La codifica con <span class="application">MEncoder</span></a></span></dt><dd><dl><dt><span class="sect1"><a href="#menc-feat-dvd-mpeg4">10.1. Produrre un rip di un film da DVD in un
  MPEG-4 ("DivX") di alta qualità</a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-preparing-encode">10.1.1. Prepararsi alla codifica: identificare il materiale sorgente e la frequenza fotogrammi (framerate)</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-preparing-encode-fps">10.1.1.1. Identificare la frequenza fotogrammi (framerate) del sorgente</a></span></dt><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-preparing-encode-material">10.1.1.2. Identificare il materiale sorgente</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-2pass">10.1.2. Quantizzatore costante vs. multipassaggio</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-constraints">10.1.3. Vincoli per una codifica efficiente</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-crop">10.1.4. Tagliare e Ridimensionare</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-resolution-bitrate">10.1.5. Scegliere la risoluzione e il bitrate</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-resolution-bitrate-compute">10.1.5.1. Calcolare la risoluzione</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-filtering">10.1.6. Filtraggio</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-interlacing">10.1.7. Interlacciamento e Telecine</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-encoding-interlaced">10.1.8. Codificare video interlacciato</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-av-sync">10.1.9. Note sulla sincronizzazione Audio/Video</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-codec">10.1.10. Scegliere il codec video</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-audio">10.1.11. Audio</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-muxing">10.1.12. Muxing</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-muxing-filter-issues">10.1.12.1. Migliorare il mux e l'affidabilità di sincronizzazione A/V</a></span></dt><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-muxing-avi-limitations">10.1.12.2. Limitazioni del contenitore AVI</a></span></dt><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-muxing-matroska">10.1.12.3. Mux nel contenitore Matroska</a></span></dt></dl></dd></dl></dd><dt><span class="sect1"><a href="#menc-feat-telecine">10.2. Come trattare telecine e interlacciamento nei DVD NTSC</a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-telecine-intro">10.2.1. Introduzione</a></span></dt><dt><span class="sect2"><a href="#menc-feat-telecine-ident">10.2.2. Come scoprire il tipo di video che possiedi</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-telecine-ident-progressive">10.2.2.1. Progressivo</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-ident-telecined">10.2.2.2. Telecine</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-ident-interlaced">10.2.2.3. Interlacciato</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-ident-mixedpt">10.2.2.4. Progressivo e telecine mescolati</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-ident-mixedpi">10.2.2.5. Progressivo e interlacciato mescolati</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-telecine-encode">10.2.3. Come codificare ciascuna categoria</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-telecine-encode-progressive">10.2.3.1. Progressivo</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-encode-telecined">10.2.3.2. Telecine</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-encode-interlaced">10.2.3.3. Interlacciato</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-encode-mixedpt">10.2.3.4. Progressivo e telecine mescolati</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-encode-mixedpi">10.2.3.5. Progressivo e interlacciato mescolati</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-telecine-footnotes">10.2.4. Note a pie' pagina</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-enc-libavcodec">10.3. Encoding with the <code class="systemitem">libavcodec</code>
  codec family</a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-enc-libavcodec-video-codecs">10.3.1. <code class="systemitem">libavcodec</code>'s
  video codecs</a></span></dt><dt><span class="sect2"><a href="#menc-feat-enc-libavcodec-audio-codecs">10.3.2. <code class="systemitem">libavcodec</code>'s
  audio codecs</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-lavc-encoding-options">10.3.3. Encoding options of libavcodec</a></span></dt><dt><span class="sect2"><a href="#menc-feat-mpeg4-lavc-example-settings">10.3.4. Encoding setting examples</a></span></dt><dt><span class="sect2"><a href="#custommatrices">10.3.5. Custom inter/intra matrices</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-example">10.3.6. Example</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-xvid">10.4. Encoding with the <code class="systemitem">Xvid</code>
  codec</a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-xvid-intro">10.4.1. What options should I use to get the best results?</a></span></dt><dt><span class="sect2"><a href="#menc-feat-xvid-encoding-options">10.4.2. Encoding options of <code class="systemitem">Xvid</code></a></span></dt><dt><span class="sect2"><a href="#menc-feat-xvid-encoding-profiles">10.4.3. Encoding profiles</a></span></dt><dt><span class="sect2"><a href="#menc-feat-xvid-example-settings">10.4.4. Encoding setting examples</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-x264">10.5. Encoding with the
  <code class="systemitem">x264</code> codec</a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-x264-encoding-options">10.5.1. Encoding options of x264</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-x264-encoding-options-intro">10.5.1.1. Introduction</a></span></dt><dt><span class="sect3"><a href="#menc-feat-x264-encoding-options-speedvquality">10.5.1.2. Options which primarily affect speed and quality</a></span></dt><dt><span class="sect3"><a href="#menc-feat-x264-encoding-options-misc-preferences">10.5.1.3. Options pertaining to miscellaneous preferences</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-x264-example-settings">10.5.2. Encoding setting examples</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-video-for-windows">10.6. 
  Encoding with the <code class="systemitem">Video For Windows</code>
  codec family
</a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-enc-vfw-video-codecs">10.6.1. Video for Windows supported codecs</a></span></dt><dt><span class="sect2"><a href="#menc-feat-video-for-windows-bitrate-settings">10.6.2. Using vfw2menc to create a codec settings file.</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-quicktime-7">10.7. Using <span class="application">MEncoder</span> to create
<span class="application">QuickTime</span>-compatible files</a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-quicktime-7-why-use-it">10.7.1. Why would one want to produce <span class="application">QuickTime</span>-compatible Files?</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-constraints">10.7.2. <span class="application">QuickTime</span> 7 limitations</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-crop">10.7.3. Cropping</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-scale">10.7.4. Scaling</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-avsync">10.7.5. A/V sync</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-bitrate">10.7.6. Bitrate</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-example">10.7.7. Encoding example</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-remux">10.7.8. Remuxing as MP4</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-metadata">10.7.9. Adding metadata tags</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-vcd-dvd">10.8. Using <span class="application">MEncoder</span>
  to create VCD/SVCD/DVD-compliant files</a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-vcd-dvd-constraints">10.8.1. Format Constraints</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-constraints-resolution">10.8.1.1. Format Constraints</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-constraints-gop">10.8.1.2. GOP Size Constraints</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-constraints-bitrate">10.8.1.3. Bitrate Constraints</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-vcd-dvd-output">10.8.2. Output Options</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-output-aspect">10.8.2.1. Aspect Ratio</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-a-v-sync">10.8.2.2. Maintaining A/V sync</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-output-srate">10.8.2.3. Sample Rate Conversion</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-vcd-dvd-lavc">10.8.3. Using libavcodec for VCD/SVCD/DVD Encoding</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-lavc-intro">10.8.3.1. Introduction</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-lavc-options">10.8.3.2. lavcopts</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-lavc-examples">10.8.3.3. Examples</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-lavc-advanced">10.8.3.4. Advanced Options</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-vcd-dvd-audio">10.8.4. Encoding Audio</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-audio-toolame">10.8.4.1. toolame</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-audio-twolame">10.8.4.2. twolame</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-audio-lavc">10.8.4.3. libavcodec</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-vcd-dvd-all">10.8.5. Putting it all Together</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-pal-dvd">10.8.5.1. PAL DVD</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-ntsc-dvd">10.8.5.2. NTSC DVD</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-pal-ac3-copy">10.8.5.3. PAL AVI Containing AC-3 Audio to DVD</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-ntsc-ac3-copy">10.8.5.4. NTSC AVI Containing AC-3 Audio to DVD</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-pal-svcd">10.8.5.5. PAL SVCD</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-ntsc-svcd">10.8.5.6. NTSC SVCD</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-pal-vcd">10.8.5.7. PAL VCD</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-ntsc-vcd">10.8.5.8. NTSC VCD</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="chapter"><a href="#faq">11. Frequently Asked Questions</a></span></dt><dt><span class="appendix"><a href="#bugreports">A. Come segnalare i bug (errori)</a></span></dt><dd><dl><dt><span class="sect1"><a href="#bugreports_security">A.1. Come segnalare i bug di sicurezza (errori)</a></span></dt><dt><span class="sect1"><a href="#bugreports_fix">A.2. Come correggere i bug</a></span></dt><dt><span class="sect1"><a href="#bugreports_regression_test">A.3. Come fare delle prove retroattive usando Subversion</a></span></dt><dt><span class="sect1"><a href="#bugreports_report">A.4. Come segnalare i bug</a></span></dt><dt><span class="sect1"><a href="#bugreports_where">A.5. Dove segnalare i bug</a></span></dt><dt><span class="sect1"><a href="#bugreports_what">A.6. Cosa riportare</a></span></dt><dd><dl><dt><span class="sect2"><a href="#bugreports_system">A.6.1. Informazioni di Sistema</a></span></dt><dt><span class="sect2"><a href="#bugreports_hardware">A.6.2. Hardware e driver</a></span></dt><dt><span class="sect2"><a href="#bugreports_configure">A.6.3. Problemi del configure</a></span></dt><dt><span class="sect2"><a href="#bugreports_compilation">A.6.4. Problemi di compilazione</a></span></dt><dt><span class="sect2"><a href="#bugreports_playback">A.6.5. Problemi in riproduzione</a></span></dt><dt><span class="sect2"><a href="#bugreports_crash">A.6.6. Crash</a></span></dt><dd><dl><dt><span class="sect3"><a href="#bugreports_debug">A.6.6.1. Come conservare le informazioni di un crash riproducibile</a></span></dt><dt><span class="sect3"><a href="#bugreports_core">A.6.6.2. Come ricavare informazioni significative da un core dump</a></span></dt></dl></dd></dl></dd><dt><span class="sect1"><a href="#bugreports_advusers">A.7. So quello che sto facendo...</a></span></dt></dl></dd><dt><span class="appendix"><a href="#skin">B. <span class="application">MPlayer</span> skin format</a></span></dt><dd><dl><dt><span class="sect1"><a href="#skin-overview">B.1. Overview</a></span></dt><dd><dl><dt><span class="sect2"><a href="#skin-overview-components">B.1.1. Skin components</a></span></dt><dt><span class="sect2"><a href="#skin-overview-formats">B.1.2. Image formats</a></span></dt><dt><span class="sect2"><a href="#skin-files">B.1.3. Files</a></span></dt></dl></dd><dt><span class="sect1"><a href="#skin-file">B.2. The skin file</a></span></dt><dd><dl><dt><span class="sect2"><a href="#skin-file-main">B.2.1. Main window and playbar</a></span></dt><dt><span class="sect2"><a href="#skin-file-subwindow">B.2.2. Subwindow</a></span></dt><dt><span class="sect2"><a href="#skin-file-menu">B.2.3. Skin menu</a></span></dt></dl></dd><dt><span class="sect1"><a href="#skin-fonts">B.3. Fonts</a></span></dt><dd><dl><dt><span class="sect2"><a href="#skin-fonts-symbols">B.3.1. Symbols</a></span></dt></dl></dd><dt><span class="sect1"><a href="#skin-gui">B.4. GUI messages</a></span></dt><dt><span class="sect1"><a href="#skin-quality">B.5. Creating quality skins</a></span></dt></dl></dd></dl></div><div class="preface" title="Come leggere questa documentazione"><div class="titlepage"><div><div><h2 class="title"><a name="howtoread"></a>Come leggere questa documentazione</h2></div></div></div><p>
Se installi per la prima volta: assicurati di leggere tutto da qui fino alla
fine della sezione sull'installazione e segui i collegamenti che troverai. Se
hai altre domande, ritorna alla <a class="link" href="#toc">Tabella dei Contenuti</a>
e cerca l'argomento, leggi le <a class="xref" href="#faq" title="Capitolo 11. Frequently Asked Questions">FAQ</a>, o prova a ricercare nei
file (con grep, per esempio). Molte domande possono avere una risposta qui da
qualche parte e le restanti probabilmente sono già state poste nelle nostre
<a class="ulink" href="http://www.mplayerhq.hu/design7/mailing_lists.html" target="_top">mailing list</a>.
Controlla gli
<a class="ulink" href="https://lists.mplayerhq.hu/mailman/listinfo" target="_top">archivi</a>, ci
sono un sacco di valide informazioni da trovare.
</p></div><div class="chapter" title="Capitolo 1. Introduzione"><div class="titlepage"><div><div><h2 class="title"><a name="intro"></a>Capitolo 1. Introduzione</h2></div></div></div><p>
<span class="application">MPlayer</span> è un visualizzatore di filmati per Linux
(gira su molte altre piattaforme Unix e architetture di CPU non-x86, vedi
<a class="xref" href="#ports" title="Capitolo 8. Ports">Ports</a>).
Riproduce la maggior parte dei file del tipo MPEG, VOB, AVI, OGG/OGM, VIVO,
ASF/WMA/WMV, QT/MOV/MP4, FLI, RM, NuppelVideo, yuv4mpeg, FILM, RoQ, PVA,
file Matroska, aiutato da molti codec nativi, di Xanim, RealPlayer, o codec DLL
binari di Win32. Puoi guardare
VideoCD, SVCD, DVD, 3ivx, RealMedia, Sorenson, Theora, e anche filmati
MPEG-4 (DivX).
Un'altra importante caratteristica di <span class="application">MPlayer</span> è il
supporto per un'ampia gamma di driver di uscita. Funziona con X11, Xv, DGA,
OpenGL, SVGAlib, fbdev, AAlib, libcaca, DirectFB, ma puoi anche usare GGI e SDL
(e in questo modo tutti i loro driver) e pure alcuni driver specifici di basso
livello (per Matrox, 3Dfx e Radeon, Mach64, Permedia3)!
La maggior parte di essi supporta il ridimensionamento via software o hardware,
così puoi gustarti i filmati a schermo intero.
<span class="application">MPlayer</span> supporta la riproduzione attraverso alcune
schede di decodifica MPEG hardware, come <a class="link" href="#dvb" title="7.18.1. Uscita e ingresso DVB">DVB</a> e
<a class="link" href="#dxr3" title="7.18.3. DXR3/Hollywood+">DXR3/Hollywood+</a>. E cosa dire dei grandi e bei
sottotitoli sfumati con antialias (14 tipi supportati) con font
europei/ISO 8859-1,2 (ungherese, inglese, ceco, etc), cirillici, coreani,
e del visualizzatore su schermo (OnScreen Display, OSD)?
</p><p>
Il riproduttore è decisamente robusto nella riproduzione di file MPEG rovinati
(utile per alcuni VCD) e riproduce file AVI imperfetti, che sono illeggibili
con il famoso <span class="application">Windows Media Player</span>.
Si possono anche leggere gli AVI non indicizzati e puoi ricostruire il loro
indice temporaneamente con l'opzione <tt class="option">-idx</tt> o permanentemente
con <span class="application">MEncoder</span>, abilitando così la ricerca!
Come puoi vedere, la stabilità e la qualità sono lo cose più importanti,
ma anche la velocità è impressionante. C'è anche un potente sistema di
filtri per la manipolazione audio e video.
</p><p>
<span class="application">MEncoder</span> (<span class="application">MPlayer</span>'s Movie
Encoder, Codificatore di film di MPlayer) è un semplice codificatore di film,
progettato per codificare tutti i filmati visualizzabili da
<span class="application">MPlayer</span>
(AVI/ASF/OGG/DVD/VCD/VOB/MPG/MOV/VIV/FLI/RM/NUV/NET/PVA)
in altri formati sempre visualizzabili da <span class="application">MPlayer</span>
(vedi sotto). Può codificare con vari codec, come MPEG-4 (DivX4)
(uno o due passi), <code class="systemitem">libavcodec</code>, audio
PCM/MP3/VBR MP3.
</p><div class="itemizedlist" title="Caratteristiche di MEncoder"><p class="title"><b>Caratteristiche di <span class="application">MEncoder</span></b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Codifica da un'ampia gamma di formati e decodificatori di
  <span class="application">MPlayer</span>
</p></li><li class="listitem"><p>
  Codifica in tutti i formati da
  <code class="systemitem">libavcodec</code> di FFmpeg
</p></li><li class="listitem"><p>
  Codifica video da sintonizzatori TV compatibili V4L
</p></li><li class="listitem"><p>
  Codifica/multiplex in file AVI con interleave con indici corretti
</p></li><li class="listitem"><p>
  Creazione di file da flussi audio esterni
</p></li><li class="listitem"><p>
  Codifica in 1, 2 o 3 passi
</p></li><li class="listitem"><p>
  Audio MP3 VBR
</p></li><li class="listitem"><p>
  Audio PCM
</p></li><li class="listitem"><p>
  Copia dei flussi
</p></li><li class="listitem"><p>
  Sincronizzazione A/V dell'input (basata su PTS, può esser disabilitata con
  l'opzione <tt class="option">-mc 0</tt>)
</p></li><li class="listitem"><p>
  Correzione dei fps con l'opzione <tt class="option">-ofps</tt> (utile codificando
  VOB a 30000/1001 fps in AVI a 24000/1001 fps)
</p></li><li class="listitem"><p>
  Usa il nostro potentissimo sistema di filtri (crop, expand, flip, postprocess,
  rotate, scale, conversione rgb/yuv)
</p></li><li class="listitem"><p>
  Può codificare sottotitoli DVD/VOBsub e sottotitoli testuali nel file di
  uscita
</p></li><li class="listitem"><p>
  Può codificare sottotitoli DVD in formato VOBsub
</p></li></ul></div><p>
<span class="application">MPlayer</span> e <span class="application">MEncoder</span>
possono esser distribuiti nei termini della GNU General Public License Version 2.
</p></div><div class="chapter" title="Capitolo 2. Installazione"><div class="titlepage"><div><div><h2 class="title"><a name="install"></a>Capitolo 2. Installazione</h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="#softreq">2.1. Prerequisiti Software</a></span></dt><dt><span class="sect1"><a href="#features">2.2. Caratteristiche</a></span></dt><dt><span class="sect1"><a href="#gui">2.3. E relativamente alla GUI?</a></span></dt><dt><span class="sect1"><a href="#fonts-osd">2.4. Font e OSD</a></span></dt><dd><dl><dt><span class="sect2"><a href="#truetype-fonts">2.4.1. Font TrueType</a></span></dt><dt><span class="sect2"><a href="#bitmap-fonts">2.4.2. Font bitmap</a></span></dt><dt><span class="sect2"><a href="#osdmenu">2.4.3. Menu OSD</a></span></dt></dl></dd><dt><span class="sect1"><a href="#codec_installation">2.5. Installazione codec</a></span></dt><dd><dl><dt><span class="sect2"><a href="#xvid">2.5.1. Xvid</a></span></dt><dt><span class="sect2"><a href="#x264">2.5.2. <code class="systemitem">x264</code></a></span></dt><dt><span class="sect2"><a href="#aac">2.5.3. AAC</a></span></dt><dt><span class="sect2"><a href="#amr">2.5.4. AMR</a></span></dt><dt><span class="sect2"><a href="#xmms">2.5.5. XMMS</a></span></dt></dl></dd><dt><span class="sect1"><a href="#rtc">2.6. RTC</a></span></dt></dl></div><p>
Una rapida guida di installazione si può trovare nel file
<tt class="filename">README</tt>.
Per favore leggi prima quello, poi torna qui per il resto dei dettagli scabrosi.
</p><p>
In questa sezione verrai guidato attraverso il processo di compilazione e di
configurazione di <span class="application">MPlayer</span>. Non è semplice, ma non
sarà necessariamente difficile. Se ti si presenta un'esperienza diversa da
quella descritta, per favore cerca in questa documentazione e troverai le
risposte.
</p><div class="sect1" title="2.1. Prerequisiti Software"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="softreq"></a>2.1. Prerequisiti Software</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <span class="bold"><strong>binutils</strong></span> - la versione consigliata è
  <span class="bold"><strong>2.11.x</strong></span>.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>gcc</strong></span> - le versioni consigliate sono la 2.95
  e le 3.4+. La 2.96 e le 3.0.x sono conosciute per generare codice bucato,
  anche la 3.1 e la 3.2 hanno problemi, la 3.3 alcuni piccoli.
  Su architettura PowerPC, usa le 4.x.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Xorg/XFree86</strong></span> - la versione consigliata è
  4.3 o successiva. Assicurati che anche i
  <span class="bold"><strong>pacchetti di sviluppo</strong></span> (dev) siano installati,
  altrimenti non funzionerà.
  Non hai assolutamente bisogno di X, alcuni driver di uscita video funzionano
  senza.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>GNU make</strong></span> 3.81
</p></li><li class="listitem"><p>
  <span class="bold"><strong>FreeType</strong></span> - per l'OSD e i sottotitoli è
  richiesta la versione 2.0.9 o successiva.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>ALSA</strong></span> - facoltativo, per il supporto di
  uscita audio ALSA. Richiesta almeno la 0.9.0rc4.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>libjpeg</strong></span> -
  richiesto per il driver opzionale di uscita video JPEG.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>libpng</strong></span> -
  richiesto per il driver opzionale di uscita video PNG.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>directfb</strong></span> - facoltativo, richiesta la
  versione 0.9.13 o successiva per il driver di uscita video directfb.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>lame</strong></span> - 3.90 o successivo consigliato,
  necessario per codificare audio MP3 con <span class="application">MEncoder</span>.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>zlib</strong></span> - consigliato, usato da molti codec.
</p></li><li class="listitem"><p>
  <span class="bold"><strong><a class="ulink" href="http://www.live555.com/mplayer/" target="_top">LIVE555 Streaming Media</a></strong></span>
  - facoltativo, necessario per alcuni flussi RTSP/RTP
</p></li><li class="listitem"><p>
  <span class="bold"><strong>cdparanoia</strong></span> - facoltativo, per supporto CDDA
</p></li><li class="listitem"><p>
  <span class="bold"><strong>libxmms</strong></span> - facoltativo, per il supporto del
  plugin di ingresso XMMS input plugin. Richiesta almeno la 1.2.7.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>libsmb</strong></span> - facoltativo, per il supporto di
  rete SMB
</p></li><li class="listitem"><p>
  <span class="bold"><strong><a class="ulink" href="http://www.underbit.com/products/mad/" target="_top">libmad</a></strong></span>
  - facoltativo, per la decodifica MP3 veloce solo a interi su piattaforme
  senza FPU
</p></li></ul></div></div><div class="sect1" title="2.2. Caratteristiche"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="features"></a>2.2. Caratteristiche</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Decidi se ti serve la GUI (interfaccia grafica). Se sì, vedi la sezione
  <a class="link" href="#gui" title="2.3. E relativamente alla GUI?">GUI</a> prima di compilare.
</p></li><li class="listitem"><p>
  Se vuoi installare <span class="application">MEncoder</span> (il nostro grande
  codificatore per tutte le occasioni), vedi la sezione per
  <a class="link" href="#mencoder" title="Capitolo 9. Utilizzo base di MEncoder"><span class="application">MEncoder</span></a>.
</p></li><li class="listitem"><p>
  Se hai un <span class="bold"><strong>sintonizzatore TV</strong></span> compatibile V4L
  e desideri vedere/catturare e codificare filmati con
  <span class="application">MPlayer</span>, leggi la sezione
  <a class="link" href="#tv-input" title="5.1. Ingresso TV">ingresso TV</a>.
</p></li><li class="listitem"><p>
  Se hai un <span class="bold"><strong>sintonizzatore radio</strong></span> compatibile
  V4L e desideri sentire e registrare il suono con
  <span class="application">MPlayer</span>, leggi la sezione
  <a class="link" href="#radio" title="Capitolo 6. Radio">radio</a>.
</p></li><li class="listitem"><p>
  C'è un buon supporto per <span class="bold"><strong>Menu OSD</strong></span>
  pronto per l'uso. Controlla la sezione <a class="link" href="#subosd" title="3.2. Sottotitoli e OSD">Menu OSD</a>.
</p></li></ul></div><p>
Poi compila <span class="application">MPlayer</span>:
</p><pre class="screen">
./configure
make
make install
</pre><p>
</p><p>
A questo punto, <span class="application">MPlayer</span> è pronto per l'utilizzo.
Controlla se hai un file <tt class="filename">codecs.conf</tt> nella tua directory
utente (<tt class="filename">~/.mplayer/codecs.conf</tt>) rimasto da precedenti
versioni di <span class="application">MPlayer</span>. Se lo trovi, cancellalo.
</p><p>
Gli utenti Debian possono costruirsi un pacchetto .deb per conto loro, è molto
semplice.
Basta eseguire
</p><pre class="screen">fakeroot debian/rules binary</pre><p>
nella directory radice di <span class="application">MPlayer</span>. Vedi
<a class="link" href="#debian" title="8.1.1. Debian packaging">pacchetti Debian</a> per instruzioni dettagliate.
</p><p>
<span class="bold"><strong>Controlla sempre l'output di</strong></span>
<tt class="filename">./configure</tt> e il file
<tt class="filename">configure.log</tt>, essi contengono informazioni su cosa
sarà compilato e cosa no. Puoi anche voler guardare i file
<tt class="filename">config.h</tt> e <tt class="filename">config.mak</tt>.
Se hai alcune librerie installate, ma non rilevate da
<tt class="filename">./configure</tt>, allora controlla di avere anche i file
header corretti (di solito i pacchetti -dev ) e di versioni corrispondenti.
Il file <tt class="filename">configure.log</tt> solitamente ti dice cosa manca.
</p><p>
Anche se non obbligatorio, i font dovrebbero essere installati, per avere l'OSD
e la funzione sottotitoli. Il metodo consigliato è installare un file di
font TTF e dire a <span class="application">MPlayer</span> di usarlo.
Vedi la sezione <a class="link" href="#subosd" title="3.2. Sottotitoli e OSD">Sottotitoli e OSD</a> per i dettagli.
</p></div><div class="sect1" title="2.3. E relativamente alla GUI?"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gui"></a>2.3. E relativamente alla GUI?</h2></div></div></div><p>
La GUI abbisogna di GTK 1.2.x o GTK 2.0 (non è completamente in GTK, ma i
pannelli lo sono), per cui le <code class="systemitem">GTK</code> (e
le controparti di sviluppo, solitamente chiamate
<code class="systemitem">gtk-dev</code>) devono essere installate.
Puoi compilare la GUI specificando <tt class="option">--enable-gui</tt> quando esegui
<tt class="filename">./configure</tt>.
Poi, per girare in modalità GUI, devi lanciare il binario
<span class="command"><strong>gmplayer</strong></span>.
</p><p>
Siccome <span class="application">MPlayer</span> non ha una skin inclusa, devi
scaricarne una se vuoi usare la GUI. Vedi la
<a class="ulink" href="http://www.mplayerhq.hu/dload.html" target="_top">pagina di download</a>.
Dovrebbe essere decompressa nella directory di sistema (<tt class="filename">$PREFIX/share/mplayer/skins</tt>) o dell'utente
<tt class="filename">$HOME/.mplayer/skins</tt>.
<span class="application">MPlayer</span> di default cerca in questi percorsi una
directory chiamata <tt class="filename">default</tt>, ma puoi
usare l'opzione <tt class="option">-skin <em class="replaceable"><code>nomeskin</code></em></tt>,
o la voce <code class="literal">skin=nomeskin</code> nel file di configurazione, per
utilizzare la skin nella directory
<tt class="filename">*/skins/nomeskin</tt>.
</p></div><div class="sect1" title="2.4. Font e OSD"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="fonts-osd"></a>2.4. Font e OSD</h2></div></div></div><p>
Devi dire a <span class="application">MPlayer</span> quale font usare per usufruire
dell'OSD e dei sottotitoli. Un qualsiasi font TrueType o basato su bitmap
funzionerà. Tuttavia si consigliano i font TrueType in quanto hanno una resa
grafica migliore, possono essere ridimensionati correttamente rispetto alla
dimensione del filmato e gestiscono meglio differenti codifiche.
</p><div class="sect2" title="2.4.1. Font TrueType"><div class="titlepage"><div><div><h3 class="title"><a name="truetype-fonts"></a>2.4.1. Font TrueType</h3></div></div></div><p>
Ci sono due modi di far funzionare i font TrueType. Il primo consiste nel
passare l'opzione <tt class="option">-font</tt> sulla riga comando per specificare un
file di font TrueType. Questa opzione sarà una buona candidata da mettere nel
tuo file di configurazione (vedi la pagina di manuale per i dettagli).
Il secondo è creare un collegamento simbolico al font di tua scelta,
con nome <tt class="filename">subfont.ttf</tt>. Sia
</p><pre class="screen">
ln -s <em class="replaceable"><code>/percorso/del/font_di_esempio.ttf</code></em> ~/.mplayer/subfont.ttf
</pre><p>
singolarmente per ciascun utente, oppure uno di sistema:
</p><pre class="screen">
ln -s <em class="replaceable"><code>/percorso/del/font_di_esempio.ttf</code></em> $PREFIX/share/mplayer/subfont.ttf
</pre><p>
</p><p>
Se <span class="application">MPlayer</span> è compilato con il supporto per
<code class="systemitem">fontconfig</code>, i metodi precedenti
non funzioneranno, piuttosto <tt class="option">-font</tt> si aspetterà un nome di
font <code class="systemitem">fontconfig</code> e il
suo default sarà il font sans-serif. Esempio:
</p><pre class="screen">
mplayer -font <em class="replaceable"><code>'Bitstream Vera Sans'</code></em> <em class="replaceable"><code>anime.mkv</code></em>
</pre><p>
</p><p>
Per ottenere una lista dei font conosciuti da
<code class="systemitem">fontconfig</code>, usa il comando
<span class="command"><strong>fc-list</strong></span>.
</p></div><div class="sect2" title="2.4.2. Font bitmap"><div class="titlepage"><div><div><h3 class="title"><a name="bitmap-fonts"></a>2.4.2. Font bitmap</h3></div></div></div><p>
Se per qualche ragione desideri o ti serve utilizzare font bitmap, scaricali
dal nostro sito. Puoi scegliere tra vari
<a class="ulink" href="http://www.mplayerhq.hu/MPlayer/releases/fonts/" target="_top">font ISO</a>
e qualche font <a class="ulink" href="http://www.mplayerhq.hu/MPlayer/contrib/fonts/" target="_top">creato dagli utenti</a>
in varie codifiche.
</p><p>
Decomprimi il file che hai scaricato, in
<tt class="filename">~/.mplayer</tt> o
<tt class="filename">$PREFIX/share/mplayer</tt>.
Poi rinomina o crea un collegamento simbolico ad una delle directory
<tt class="filename">font</tt>, per esempio:
</p><pre class="screen">
ln -s <em class="replaceable"><code>~/.mplayer/arial-24</code></em> ~/.mplayer/font
</pre><p>
</p><pre class="screen">
ln -s <em class="replaceable"><code>$PREFIX/share/mplayer/arial-24</code></em> $PREFIX/share/mplayer/font
</pre><p>
</p><p>
I font dovrebbero avere un file <tt class="filename">font.desc</tt> appropriato che
relazioni le posizioni unicode con la pagina di codici corrente dei sottotitoli
di testo. Un'altra soluzione sarebbe avere sottotitoli in UTF-8 e usare
l'opzione <tt class="option">-utf8</tt> oppure dare al file dei sottotitoli lo stesso
nome del tuo file video, con un'estensione <tt class="filename">.utf</tt> e
posizionarlo nella stessa directory del file video stesso.
</p></div><div class="sect2" title="2.4.3. Menu OSD"><div class="titlepage"><div><div><h3 class="title"><a name="osdmenu"></a>2.4.3. Menu OSD</h3></div></div></div><p>
<span class="application">MPlayer</span> possiede un'interfaccia per i Menu OSD
completamente personalizzabile.
</p><div class="note" title="Nota" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
il menu Preferenze attualmente NON E' IMPLEMENTATO!
</p></div><div class="orderedlist" title="Installazione"><p class="title"><b>Installazione</b></p><ol class="orderedlist" type="1"><li class="listitem"><p>
  compila <span class="application">MPlayer</span> passando
  a <tt class="filename">./configure</tt> l'opzione <tt class="option">--enable-menu</tt>
</p></li><li class="listitem"><p>
  assicurati di avere un font OSD installato
</p></li><li class="listitem"><p>
  copia <tt class="filename">etc/menu.conf</tt> nella tua directory
  <tt class="filename">.mplayer</tt>
</p></li><li class="listitem"><p>
  copia <tt class="filename">etc/input.conf</tt> nella tua directory
  <tt class="filename">.mplayer</tt>, oppure nella directory di
  configurazione di sistema di <span class="application">MPlayer</span> (default:
  <tt class="filename">/usr/local/etc/mplayer</tt>)
</p></li><li class="listitem"><p>
  controlla e modifica <tt class="filename">input.conf</tt> per abilitare i tasti
  di movimento nel menu (è lì spiegato)
</p></li><li class="listitem"><p>
  avvia <span class="application">MPlayer</span> come nell'esempio seguente:
  </p><pre class="screen">mplayer -menu <em class="replaceable"><code>file.avi</code></em></pre><p>
  </p></li><li class="listitem"><p>
  premi quualcuno dei tasti menu che hai definito
</p></li></ol></div></div></div><div class="sect1" title="2.5. Installazione codec"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="codec_installation"></a>2.5. Installazione codec</h2></div></div></div><div class="sect2" title="2.5.1. Xvid"><div class="titlepage"><div><div><h3 class="title"><a name="xvid"></a>2.5.1. Xvid</h3></div></div></div><p>
<a class="ulink" href="http://www.xvid.org" target="_top">Xvid</a> è un codec video libero
compatibile MPEG-4 ASP. Nota che Xvid non è necessario per decodificare video
codificato in Xvid. Viene usata di default
<code class="systemitem">libavcodec</code>, dato che è più veloce.
</p><div class="procedure" title="Installare Xvid"><a name="id2540968"></a><p class="title"><b>Installare <code class="systemitem">Xvid</code></b></p><p>
  Come molti software open source, è disponibili in due modi:
  <a class="ulink" href="http://www.xvid.org/downloads.html" target="_top">rilasci ufficiali</a>
  e la versione in CVS.
  La versione CVS solitamente è solitamente abbastanza stabile da utilizzare,
  visto che la maggior parte delle volte include fix per i bachi che esistono
  nei rilasci.
  Ecco quello che devi fare per far sì che la versione CVS di
  <code class="systemitem">Xvid</code> funzioni con
  <span class="application">MEncoder</span>:
</p><ol class="procedure" type="1"><li class="step" title="Passo 1"><p>
  </p><pre class="screen">cvs -z3 -d:pserver:anonymous@cvs.xvid.org:/xvid login</pre><p>
</p></li><li class="step" title="Passo 2"><p>
  </p><pre class="screen">cvs -z3 -d:pserver:anonymous@cvs.xvid.org:/xvid co xvidcore</pre><p>
</p></li><li class="step" title="Passo 3"><p>
  </p><pre class="screen">cd xvidcore/build/generic</pre><p>
</p></li><li class="step" title="Passo 4"><p>
  </p><pre class="screen">./bootstrap.sh &amp;&amp; ./configure</pre><p>
  Puoi dover aggiungere alcune opzioni (controlla quello che emette
  <span class="command"><strong>./configure --help</strong></span>).
</p></li><li class="step" title="Passo 5"><p>
  </p><pre class="screen">make &amp;&amp; make install</pre><p>
</p></li><li class="step" title="Passo 6"><p>
  Ricompila <span class="application">MPlayer</span>.
</p></li></ol></div></div><div class="sect2" title="2.5.2. x264"><div class="titlepage"><div><div><h3 class="title"><a name="x264"></a>2.5.2. <code class="systemitem">x264</code></h3></div></div></div><p>
<a class="ulink" href="http://developers.videolan.org/x264.html" target="_top"><code class="systemitem">x264</code></a>
è una libreria per creare flussi video H.264.
I sorgenti di <span class="application">MPlayer</span> vengono aggiornati
ogniqualvolta ci sia un cambiamento nelle API di
<code class="systemitem">x264</code>, quindi si consiglia sempre di
utilizzare la versione Subversion di <span class="application">MPlayer</span>.
</p><p>
Se hai un client GIT installato, si possono ottenere i sorgenti più recenti di
x264 col seguente comando:
</p><pre class="screen">git clone git://git.videolan.org/x264.git</pre><p>

Dopodiché lo si compila e installa nel solito modo:
</p><pre class="screen">./configure &amp;&amp; make &amp;&amp; make install</pre><p>

Poi riesegui <tt class="filename">./configure</tt> affinché
<span class="application">MPlayer</span> rilevi la presenza di
<code class="systemitem">x264</code>.
</p></div><div class="sect2" title="2.5.3. AAC"><div class="titlepage"><div><div><h3 class="title"><a name="aac"></a>2.5.3. AAC</h3></div></div></div><p>
E' disponibile da <a class="ulink" href="http://www.audiocoding.com/downloads.html" target="_top">http://www.audiocoding.com/downloads.html</a> un
decodificatore open source che si chiama FAAD2.
<span class="application">MPlayer</span> ne include una copia nei suoi sorgenti.
Se vuoi usare la libreria esterna per qualche altra ragione, installala e passa
<tt class="option">--enable-faad-external</tt> a <tt class="filename">./configure</tt>.
</p><p>
Gli eseguibili di FAAD2 non sono disponibili da audiocoding.com, ma puoi
ottenere con apt(-get) i pacchetti Debian da
<a class="ulink" href="http://www.debian-multimedia.org/" target="_top">Christian Marillat</a>,
gli RPM per Mandrake/Mandriva da <a class="ulink" href="http://plf.zarb.org" target="_top">P.L.F</a>
e quelli per Fedora da <a class="ulink" href="http://rpm.livna.org/" target="_top">Livna</a>.
</p><p>
Se decidi di compilarli dai sorgenti, non ti serve tutto di faad2 per
decodificare i file AAC, ti basta libfaad. Compilala così:
</p><pre class="screen">
cd faad2/
sh bootstrap
./configure
cd libfaad
make
make install
</pre><p>
</p></div><div class="sect2" title="2.5.4. AMR"><div class="titlepage"><div><div><h3 class="title"><a name="amr"></a>2.5.4. AMR</h3></div></div></div><p>
Il codec voce Adaptive Multi-Rate è usato nei telefoni cellulari di terza
generazione (3G).
La referenza per l'implementazione è disponibile da
<a class="ulink" href="http://www.3gpp.org" target="_top">The 3rd Generation Partnership Project</a>
(gratuita per uso personale).
Per abilitarne il supporto, scarica e installa le librerie per
<a class="ulink" href="http://www.penguin.cz/~utx/amr" target="_top">AMR-NB e AMR-WB</a>
seguendo le istruzioni da quella pagina.
Dopodiché ricompila <span class="application">MPlayer</span>.
</p></div><div class="sect2" title="2.5.5. XMMS"><div class="titlepage"><div><div><h3 class="title"><a name="xmms"></a>2.5.5. XMMS</h3></div></div></div><p>
<span class="application">MPlayer</span> può utilizzare i plugin di ingresso di
<span class="application">XMMS</span> per riprodurre molti formati file. Ci sono
plugin per i suoni dei videgiochi SNES, SID (dal Commodore 64), molti formati
Amiga, .xm, .it, VQF, musepack, Bonk, shorten e molti altri. Puoi trovarli sulla
<a class="ulink" href="http://www.xmms.org/plugins.php?category=input" target="_top">pagina dei plugin di ingresso di XMMS</a>.
</p><p>
Per questa caratteristica devi avere <span class="application">XMMS</span> e
compilare <span class="application">MPlayer</span> con
<tt class="filename">./configure --enable-xmms</tt>.
</p></div></div><div class="sect1" title="2.6. RTC"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="rtc"></a>2.6. RTC</h2></div></div></div><p>
Ci sono tre metodi di temporizzazione in <span class="application">MPlayer</span>.

</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <span class="bold"><strong>Per utilizzare il vecchio metodo</strong></span>, non devi
  fare nulla. Utilizza <code class="systemitem">usleep()</code> per gestire la
  sincronizzazione A/V, con una precisione di +/- 10ms.
  Tuttavia delle volte la sincronizzazione serve che sia ancora più precisa.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Il nuovo codice per la temporizzazione</strong></span> usa
  l'RTC (RealTime Clock) per il suo compito, poiché ha timer precisi di 1ms.
  L'opzione <tt class="option">-rtc</tt> lo abilita, ma è richiesto un kernel
  adeguatamente preparato.
  Se stai utilizzando un kernel 2.4.19pre8 o successivo, puoi impostare
  la frequenza massima dell'RTC per gli utenti normali attraverso il
  filesystem <code class="systemitem">/proc </code>. Usa uno dei
  comandi seguenti per abilitare l'RTC per gli utenti normali:
  </p><pre class="screen">echo 1024 &gt; /proc/sys/dev/rtc/max-user-freq</pre><p>
  </p><pre class="screen">sysctl dev/rtc/max-user-freq=1024</pre><p>
  Puoi rendere queste modifiche definitive aggiungendo l'ultimo al file
  <tt class="filename">/etc/sysctl.conf</tt>.
  </p><p>
  Puoi verificare l'efficienza del nuovo temporizzatore nella riga di stato.
  Le funzioni di risparmio energetico dei BIOS di alcuni portatili con CPU
  speedstep interagiscono male con l'RTC. Audio e video possono perdere di
  sincronia. Collegare il cavo di alimentazione prima di accendere il portatile
  pare esser di aiuto. In alcune combinazioni hardware (confermato usando DVD
  non DMA su una scheda ALi1541) l'utilizzo dell'RTC può portare una
  riproduzione saltellante. In questi casi si raccomanda di utilizzare il terzo
  metodo.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>Il terzo codice di temporizzazione</strong></span> viene
  abilitato tramite l'opzione <tt class="option">-softsleep</tt>. Ha l'efficienza
  dell'RTC, ma non lo utilizza. D'altro canto, richiede più CPU.
</p></li></ul></div><p>
</p></div></div><div class="chapter" title="Capitolo 3. Utilizzo"><div class="titlepage"><div><div><h2 class="title"><a name="usage"></a>Capitolo 3. Utilizzo</h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="#commandline">3.1. Riga comando</a></span></dt><dt><span class="sect1"><a href="#subosd">3.2. Sottotitoli e OSD</a></span></dt><dt><span class="sect1"><a href="#control">3.3. Controlli</a></span></dt><dd><dl><dt><span class="sect2"><a href="#ctrl-cfg">3.3.1. Configurazione controlli</a></span></dt><dt><span class="sect2"><a href="#lirc">3.3.2. Controllo da LIRC</a></span></dt><dt><span class="sect2"><a href="#slave-mode">3.3.3. Modalità slave</a></span></dt></dl></dd><dt><span class="sect1"><a href="#streaming">3.4. Riproduzione (streaming) da rete o da pipe</a></span></dt><dd><dl><dt><span class="sect2"><a href="#streaming-save">3.4.1. Salvare il contenuto in streaming</a></span></dt></dl></dd><dt><span class="sect1"><a href="#edl">3.5. Edit Decision Lists (EDL) (liste di decisione di modifica)</a></span></dt><dd><dl><dt><span class="sect2"><a href="#edl_using">3.5.1. Usare un file EDL</a></span></dt><dt><span class="sect2"><a href="#edl_making">3.5.2. Creare un file EDL</a></span></dt></dl></dd><dt><span class="sect1"><a href="#advaudio">3.6. Audio avanzato</a></span></dt><dd><dl><dt><span class="sect2"><a href="#advaudio-surround">3.6.1. Riproduzione Surround/Multicanale</a></span></dt><dd><dl><dt><span class="sect3"><a href="#advaudio-surround-DVD">3.6.1.1. DVD</a></span></dt><dt><span class="sect3"><a href="#advaudio-surround-stereoinfour">3.6.1.2. Riprodurre file stereo su quattro altoparlanti</a></span></dt><dt><span class="sect3"><a href="#advaudio-surround-passthrough">3.6.1.3. AC-3/DTS Passthrough</a></span></dt><dt><span class="sect3"><a href="#hwmpa-surround-passthrough">3.6.1.4. MPEG audio Passthrough</a></span></dt><dt><span class="sect3"><a href="#advaudio-surround-matrix">3.6.1.5. Matrix-encoded audio</a></span></dt><dt><span class="sect3"><a href="#advaudio-surround-hrtf">3.6.1.6. Emulazione del surround nelle cuffie</a></span></dt><dt><span class="sect3"><a href="#advaudio-surround-troubleshooting">3.6.1.7. Risoluzione problemi</a></span></dt></dl></dd><dt><span class="sect2"><a href="#advaudio-channels">3.6.2. Manipolazione dei canali</a></span></dt><dd><dl><dt><span class="sect3"><a href="#advaudio-channels-general">3.6.2.1. Informazioni generali</a></span></dt><dt><span class="sect3"><a href="#advaudio-channels-mono">3.6.2.2. Riprodurre mono con due altoparlanti</a></span></dt><dt><span class="sect3"><a href="#advaudio-channels-copying">3.6.2.3. Copiare/spostare i canali</a></span></dt><dt><span class="sect3"><a href="#advaudio-channels-mixing">3.6.2.4. Miscelare i canali</a></span></dt></dl></dd><dt><span class="sect2"><a href="#advaudio-volume">3.6.3. Regolazione volume via software</a></span></dt></dl></dd></dl></div><div class="sect1" title="3.1. Riga comando"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="commandline"></a>3.1. Riga comando</h2></div></div></div><p>
<span class="application">MPlayer</span> usa una sequenza di riproduzione complessa.
Le opzioni passate sulla riga comando possono venir applicate a tutti i
file/URL o solo ad alcuni, a seconda della loro posizione. Per esempio
</p><pre class="screen">mplayer -vfm ffmpeg movie1.avi movie2.avi</pre><p>
userà i decodificatori FFmpeg per ambedue i file, mentre
</p><pre class="screen">
mplayer -vfm ffmpeg <em class="replaceable"><code>movie1.avi</code></em> <em class="replaceable"><code>movie2.avi</code></em> -vfm dmo
</pre><p>
riprodurrà il secondo file con un decodificatore DMO.
</p><p>
Puoi raggruppare file/URL insieme usando <code class="literal">{</code> e
<code class="literal">}</code>. Torna utile con l'opzione <tt class="option">-loop</tt>:
</p><pre class="screen">mplayer { 1.avi -loop 2 2.avi } -loop 3</pre><p>
Il comando precedente riprodurrà i file in quest'ordine:
1, 1, 2, 1, 1, 2, 1, 1, 2.
</p><p>
Riprodurre un file:
</p><pre class="synopsis">
<span class="command"><strong>mplayer</strong></span> [<em class="replaceable"><code>opzioni</code></em>] [<em class="replaceable"><code>percorso</code></em>/]<em class="replaceable"><code>nomefile</code></em>
</pre><p>
</p><p>
Un altro modo di riprodurre un file:
</p><pre class="synopsis">
<span class="command"><strong>mplayer</strong></span> [<em class="replaceable"><code>opzioni</code></em>] <em class="replaceable"><code>file:///uri-escaped-path</code></em>
</pre><p>
</p><p>
Riprodurre più file:
</p><pre class="synopsis">
<span class="command"><strong>mplayer</strong></span> [<em class="replaceable"><code>opzioni di default</code></em>] [<em class="replaceable"><code>percorso</code></em>/]<em class="replaceable"><code>nomefile1</code></em> [<em class="replaceable"><code>opzioni per nomefile1</code></em>] <em class="replaceable"><code>nomefile2</code></em> [<em class="replaceable"><code>opzioni per nomefile2</code></em>] ...
</pre><p>
</p><p>
Riprodurre VCD:
</p><pre class="synopsis">
<span class="command"><strong>mplayer</strong></span> [<em class="replaceable"><code>opzioni</code></em>] vcd://<em class="replaceable"><code>numerotraccia</code></em> [-cdrom-device <em class="replaceable"><code>/dev/cdrom</code></em>]
</pre><p>
</p><p>
Riprodurre DVD:
</p><pre class="synopsis">
<span class="command"><strong>mplayer</strong></span> [<em class="replaceable"><code>opzioni</code></em>] dvd://<em class="replaceable"><code>numerotitolo</code></em> [-dvd-device <em class="replaceable"><code>/dev/dvd</code></em>]
</pre><p>
</p><p>
Riprodurre da WWW:
</p><pre class="synopsis">
<span class="command"><strong>mplayer</strong></span> [<em class="replaceable"><code>opzioni</code></em>] http://<em class="replaceable"><code>sito.com/file.asf</code></em>
</pre><p>
(possono venir usate anche le playlist)
</p><p>
Riprodurre da RTSP:
</p><pre class="synopsis">
<span class="command"><strong>mplayer</strong></span> [<em class="replaceable"><code>opzioni</code></em>] rtsp://<em class="replaceable"><code>server.di.esempio.com/nomeFlusso</code></em>
</pre><p>
</p><p>
Esempi:
</p><pre class="screen">
mplayer -vo x11 <em class="replaceable"><code>/mnt/Films/Contact/contact2.mpg</code></em>
mplayer vcd://<em class="replaceable"><code>2</code></em> -cdrom-device <em class="replaceable"><code>/dev/hdc</code></em>
mplayer -afm 3 <em class="replaceable"><code>/mnt/DVDtrailers/alien4.vob</code></em>
mplayer dvd://<em class="replaceable"><code>1</code></em> -dvd-device <em class="replaceable"><code>/dev/hdc</code></em>
mplayer -abs 65536 -delay -0.4 -nobps <em class="replaceable"><code>~/movies/test.avi</code></em></pre><p>
</p></div><div class="sect1" title="3.2. Sottotitoli e OSD"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="subosd"></a>3.2. Sottotitoli e OSD</h2></div></div></div><p>
<span class="application">MPlayer</span> può visualizzare sottotitoli insieme con i
file video.
Attualmente sono supportati i seguenti formati:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>VOBsub</p></li><li class="listitem"><p>OGM</p></li><li class="listitem"><p>CC (closed caption)</p></li><li class="listitem"><p>MicroDVD</p></li><li class="listitem"><p>SubRip</p></li><li class="listitem"><p>SubViewer</p></li><li class="listitem"><p>Sami</p></li><li class="listitem"><p>VPlayer</p></li><li class="listitem"><p>RT</p></li><li class="listitem"><p>SSA</p></li><li class="listitem"><p>PJS (Phoenix Japanimation Society)</p></li><li class="listitem"><p>MPsub</p></li><li class="listitem"><p>AQTitle</p></li><li class="listitem"><p>
    <a class="ulink" href="http://unicorn.us.com/jacosub/" target="_top">JACOsub</a>
  </p></li></ul></div><p>
</p><p>
<span class="application">MPlayer</span> può fare il dump dei suddetti formati di
sottotitoli (<span class="bold"><strong>tranne i primi tre</strong></span>) nei formati
di destinazione seguenti, con le rispettive opzioni:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>MPsub: <tt class="option">-dumpmpsub</tt></p></li><li class="listitem"><p>SubRip: <tt class="option">-dumpsrtsub</tt></p></li><li class="listitem"><p>MicroDVD: <tt class="option">-dumpmicrodvdsub</tt></p></li><li class="listitem"><p>JACOsub: <tt class="option">-dumpjacosub</tt></p></li><li class="listitem"><p>Sami: <tt class="option">-dumpsami</tt></p></li></ul></div><p>
</p><p>
<span class="application">MEncoder</span> può fare il dump dei sottotitoli DVD nel
formato <a class="link" href="#menc-feat-extractsub" title="9.9. Estrarre sottotitoli DVD in un file VOBsub">VOBsub</a>.
</p><p>
Le opzioni da riga comando sono leggermente differenti per i diversi formati:
</p><p title="Sottotitoli VOBsub"><b>Sottotitoli VOBsub. </b>
I sottotitoli VOBsub consistono in un grande (qualche megabyte) file
<tt class="filename">.SUB</tt>, e un file <tt class="filename">.IDX</tt> e/o
<tt class="filename">.IFO</tt> facoltativi. Se hai dei file tipo
<tt class="filename"><em class="replaceable"><code>esempio.sub</code></em></tt>,
<tt class="filename"><em class="replaceable"><code>esempio.ifo</code></em></tt> (facoltativo),
<tt class="filename"><em class="replaceable"><code>esempio.idx</code></em></tt> - devi passare a
<span class="application">MPlayer</span> le opzioni <tt class="option">-vobsub esempio
[-vobsubid <em class="replaceable"><code>id</code></em>]</tt>
(il percorso completo è facoltativo). L'opzione <tt class="option">-vobsubid</tt> è
come <tt class="option">-sid</tt> per i DVD, con essa puoi scegliere tra le tracce
(lingue) dei sottotitoli. Nel caso in cui <tt class="option">-vobsubid</tt> sia omessa,
<span class="application">MPlayer</span> cercherà di utilizzare la lingua
fornita dall'opzione <tt class="option">-slang</tt> e ricadrà sul
<code class="systemitem">langidx</code> nel file <tt class="filename">.IDX</tt> per
impostare la lingua dei sottotitoli. Se fallisce, non ci saranno sottotitoli.
</p><p title="Altri sottotitoli"><b>Altri sottotitoli. </b>
Gli altri formati consistono in un file di testo singolo contenente tempo,
posizionamento e informazioni di testo. Utilizzo: se hai un file tipo
<tt class="filename"><em class="replaceable"><code>esempio.txt</code></em></tt>, devi passare
l'opzione <tt class="option">-sub <em class="replaceable"><code>esempio.txt</code></em></tt>
(il percorso completo è facoltativo).
</p><div class="variablelist" title="Regolazione tempi e posizionamento dei sottotitoli:"><p class="title"><b>Regolazione tempi e posizionamento dei sottotitoli:</b></p><dl><dt><span class="term"><tt class="option">-subdelay <em class="replaceable"><code>sec</code></em></tt></span></dt><dd><p>
    Differisce i sottotitoli di <tt class="option"><em class="replaceable"><code>sec</code></em></tt>
    secondi.
    Può essere un valore negativo. Il valore viene aggiunto al contatore
    della posizione nel filmato.
  </p></dd><dt><span class="term"><tt class="option">-subfps <em class="replaceable"><code>FREQUENZA</code></em></tt></span></dt><dd><p>
    Specifica la frequenza fotogrammi/secondo del file sottotitoli
    (valore decimale).
  </p></dd><dt><span class="term"><tt class="option">-subpos <em class="replaceable"><code>0-100</code></em></tt></span></dt><dd><p>
    Specifica la posizione dei sottotitoli.
  </p></dd></dl></div><p>
Se subisci un ritardo crescente tra il filmato e i sottotitoli quando usi un
file sottotitoli MicroDVD, molto facilmente la frequenza del filmato e del file
dei sottotitoli sono diverse. Per favore nota che il formato sottotitoli
MicroDVD usa numeri assoluti di fotogrammi per la sua temporizzazione, ma non
vi è alcuna informazione sugli fps, per cui con tale formato bisognerebbe
usare l'opzione <tt class="option">-subfps</tt>. Se vuoi risolvere questo problema
permanentemente, devi convertire manualmente la frequenza fotogrammi del file
dei sottotitoli.
<span class="application">MPlayer</span> può fare questa conversione per te:

</p><pre class="screen">
mplayer -dumpmicrodvdsub -fps <em class="replaceable"><code>fps_sottotitoli</code></em> -subfps <em class="replaceable"><code>fps_avi</code></em> \
    -sub <em class="replaceable"><code>nomefile_sottotitoli</code></em> <em class="replaceable"><code>dummy.avi</code></em>
</pre><p>
</p><p>
Riguardo i sottotitoli DVD, leggi la sezione <a class="link" href="#dvd" title="4.2. Riproduzione DVD">DVD</a>.
</p></div><div class="sect1" title="3.3. Controlli"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="control"></a>3.3. Controlli</h2></div></div></div><p>
<span class="application">MPlayer</span> ha un livello di controllo completamente
configurabile, guidato da comandi, che ti lascia controllare
<span class="application">MPlayer</span> con la tastiera, il mouse, un joystick o
un telecomando (usando LIRC). Vedi la pagina man per la lista completa dei
controlli da tastiera.
</p><div class="sect2" title="3.3.1. Configurazione controlli"><div class="titlepage"><div><div><h3 class="title"><a name="ctrl-cfg"></a>3.3.1. Configurazione controlli</h3></div></div></div><p>
<span class="application">MPlayer</span> ti permette di collegare un qualsiasi
tasto/bottone ad un qualsiasi comando di <span class="application">MPlayer</span>
usando un semplice file di configurazione.
La sintassi consiste di un valore chiave seguito da un comando. Il percorso del
file di configurazione di default è
<tt class="filename">$HOME/.mplayer/input.conf</tt>, ma può essere reimpostato
usando l'opzione <tt class="option">-input <em class="replaceable"><code>conf</code></em></tt>
(i percorsi sono relativi a <tt class="filename">$HOME/.mplayer</tt>).
</p><p>
Puoi ottenere una lista completa dei valori chiave supportati eseguendo
<span class="command"><strong>mplayer -input keylist</strong></span>
e una lista completa dei comandi disponibili eseguendo
<span class="command"><strong>mplayer -input cmdlist</strong></span>.
</p><div class="example"><a name="input_control_file"></a><p class="title"><b>Esempio 3.1. Un semplice file di controllo dell'input</b></p><div class="example-contents"><pre class="programlisting">
##
## MPlayer input control file
##

RIGHT seek +10
LEFT seek -10
- audio_delay 0.100
+ audio_delay -0.100
q quit
&gt; pt_step 1
&lt; pt_step -1
ENTER pt_step 1 1</pre></div></div><br class="example-break"></div><div class="sect2" title="3.3.2. Controllo da LIRC"><div class="titlepage"><div><div><h3 class="title"><a name="lirc"></a>3.3.2. Controllo da LIRC</h3></div></div></div><p>
Linux Infrared Remote Control - usa un ricevitore IR facile da costruire in
casa, un (quasi) qualsiasi telecomando e con esso puoi controllare la tua
macchina Linux!
Più informazioni su di esso sulla
<a class="ulink" href="http://www.lirc.org" target="_top">homepage di LIRC</a>.
</p><p>
Se hai il pacchetto LIRC installato, <tt class="filename">configure</tt> lo
rileverà. Se tutto è andato bene, <span class="application">MPlayer</span>
scriverà "<code class="systemitem">Configurazione del supporto per LIRC...</code>"
(o "<code class="systemitem">Setting up LIRC support...</code>") all'avvio. Se ci
sarà un errore, te lo dirà. Se non c'è messaggio alcuno circa LIRC,
non vi è il supporto compilato. Tutto qua :-)
</p><p>
Il nome dell'applicazione per <span class="application">MPlayer</span> è
- sorpresa - <tt class="filename">mplayer</tt>.
Puoi usare qualsiasi comando di <span class="application">MPlayer</span> e anche
passare più di un comando separandoli con <code class="literal">\n</code>.
Non dimenticarti di abilitare l'opzione repeat in <tt class="filename">.lircrc</tt>
quando ciò abbia senso (ricerca, volume, etc). Qui c'è un estratto di un
<tt class="filename">.lircrc</tt> di esempio:
</p><pre class="programlisting">
begin
     button = VOLUME_PLUS
     prog = mplayer
     config = volume 1
     repeat = 1
end

begin
    button = VOLUME_MINUS
    prog = mplayer
    config = volume -1
    repeat = 1
end

begin
    button = CD_PLAY
    prog = mplayer
    config = pause
end

begin
    button = CD_STOP
    prog = mplayer
    config = seek 0 1\npause
end</pre><p>
Se non ti piace il percorso standard del file di configurazione di lirc
(<tt class="filename">~/.lircrc</tt>) usa l'opzione <tt class="option">-lircconf
<em class="replaceable"><code>nomefile</code></em></tt> per indicare un altro file.
</p></div><div class="sect2" title="3.3.3. Modalità slave"><div class="titlepage"><div><div><h3 class="title"><a name="slave-mode"></a>3.3.3. Modalità slave</h3></div></div></div><p>
La modalità slave ti permette di costruire semplici frontend per
<span class="application">MPlayer</span>. Se eseguito con l'opzione
<tt class="option">-slave</tt> <span class="application">MPlayer</span> leggerà comandi
separati da un acapo (\n) dalllo standard input (stdin).
I comandi sono documentati nel file
<a class="ulink" href="../../tech/slave.txt" target="_top">slave.txt</a>.
</p></div></div><div class="sect1" title="3.4. Riproduzione (streaming) da rete o da pipe"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="streaming"></a>3.4. Riproduzione (streaming) da rete o da pipe</h2></div></div></div><p>
<span class="application">MPlayer</span> può riprodurre file dalla rete, usando
i protocolli HTTP, FTP, MMS o RTSP/RTP.
</p><p>
La riproduzione funziona semplicemente passando l'URL sulla riga comando.
<span class="application">MPlayer</span> onora la variabile d'ambiente
<code class="envar">http_proxy</code>, usando un proxy quando disponibile.
Si può anche forzare l'uso di un proxy:
</p><pre class="screen">
mplayer <em class="replaceable"><code>http_proxy://proxy.micorsops.com:3128/http://micorsops.com:80/stream.asf</code></em>
</pre><p>
</p><p>
<span class="application">MPlayer</span> può leggere dallo standard input
(<span class="emphasis"><em>non</em></span> named pipes). Ciò può essere usato per riprodurre
via FTP:
</p><pre class="screen">
wget <em class="replaceable"><code>ftp://micorsops.com/qualcosa.avi</code></em> -O - | mplayer -
</pre><p>
</p><div class="note" title="Nota" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
Si raccomanda inoltre di abilitare <tt class="option">-cache</tt> riproducendo da rete:
</p><pre class="screen">
wget <em class="replaceable"><code>ftp://micorsops.com/qualcosa.avi</code></em> -O - | mplayer -cache 8192 -
</pre><p>
</p></div><div class="sect2" title="3.4.1. Salvare il contenuto in streaming"><div class="titlepage"><div><div><h3 class="title"><a name="streaming-save"></a>3.4.1. Salvare il contenuto in streaming</h3></div></div></div><p>
Una volte che riesci nel far riprodurre a <span class="application">MPlayer</span>
il tuo flusso internet preferito, puoi usare l'opzione
<tt class="option">-dumpstream</tt> per salvare il flusso in un file.
Per esempio:
</p><pre class="screen">
mplayer <em class="replaceable"><code>http://217.71.208.37:8006</code></em> -dumpstream -dumpfile <em class="replaceable"><code>stream.asf</code></em>
</pre><p>
salverà il contenuto riprodotto da
<em class="replaceable"><code>http://217.71.208.37:8006</code></em> dentro a
<em class="replaceable"><code>stream.asf</code></em>.
Ciò funziona con tutti i protocolli supportati da
<span class="application">MPlayer</span>, come MMS, RSTP, e così via.
</p></div></div><div class="sect1" title="3.5. Edit Decision Lists (EDL) (liste di decisione di modifica)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="edl"></a>3.5. Edit Decision Lists (EDL) (liste di decisione di modifica)</h2></div></div></div><p>
Il sistema della lista di decisione di modifica (EDL) ti permette di saltare
o di silenziare automaticamente alcune parti dei video durante la riproduzione,
basandosi su un file di configurazione EDL specifico per il filmato.
</p><p>
Questo torna utile per colore che vogliono guardare un film in modalità
"amichevole per la famiglia". Puoi eliminare violenze, profanità,
Jar-Jar Binks... da un filmato, secondo i tuoi gusti personali. Oltre a
ciò, ci sono altri utilizzi, come saltare automaticamente le pubblicità nei
file video che guardi.
</p><p>
Il formato del file EDL è piuttosto scarno. C'è un comando per ogni riga che
indica cosa fare (saltare/silenziare) e quando farlo (usando la posizione in
secondi).
</p><div class="sect2" title="3.5.1. Usare un file EDL"><div class="titlepage"><div><div><h3 class="title"><a name="edl_using"></a>3.5.1. Usare un file EDL</h3></div></div></div><p>
Includi l'opzione <tt class="option">-edl &lt;nomefile&gt;</tt> quando esegui
<span class="application">MPlayer</span>, con il nome del file EDL che vuoi sia
applicato al video.
</p></div><div class="sect2" title="3.5.2. Creare un file EDL"><div class="titlepage"><div><div><h3 class="title"><a name="edl_making"></a>3.5.2. Creare un file EDL</h3></div></div></div><p>
Il formato corrente dei file EDL è:
</p><pre class="programlisting">[secondi inizio] [secondi fine] [azione]</pre><p>
Dove i secondi sono numeri decimali e l'azione è <code class="literal">0</code> per
saltare o <code class="literal">1</code> per silenziare. Esempio:
</p><pre class="programlisting">
5.3   7.1    0
15    16.7   1
420   422    0
</pre><p>
Questo farà saltare il video dal secondo 5.3 al secondo 7.1, poi lo
silenzierà a 15 secondi, toglierà il muto a 16.7 e salterà dal secondo 420
al 422. Queste azioni saranno eseguite quando il tempo della riproduzione
raggiunge i tempi indicati nel file.
</p><p>
Per creare un file EDL da cui partire, usa l'opzione <tt class="option">-edlout
&lt;nomefile&gt;</tt>.
Durante la riproduzione, premi semplicemente <span class="keycap"><b>i</b></span> per segnare
l'inizio e la fine di un blocco di salto. Una voce corrispondente sarà
scritta nel file per quella posizione. Puoi poi tornare indietro e rifinire
il file EDL generato così come cambiare l'operazione di default, che è
saltare il blocco indicato da ogni riga.
</p></div></div><div class="sect1" title="3.6. Audio avanzato"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="advaudio"></a>3.6. Audio avanzato</h2></div></div></div><div class="sect2" title="3.6.1. Riproduzione Surround/Multicanale"><div class="titlepage"><div><div><h3 class="title"><a name="advaudio-surround"></a>3.6.1. Riproduzione Surround/Multicanale</h3></div></div></div><div class="sect3" title="3.6.1.1. DVD"><div class="titlepage"><div><div><h4 class="title"><a name="advaudio-surround-DVD"></a>3.6.1.1. DVD</h4></div></div></div><p>
La maggior parte dei DVD e molti altri file includono audio in surround.
<span class="application">MPlayer</span> supporta la riproduzione in surround, ma non
la abilita di default poiché gli equipaggiamenti audio stereo sono molto più
diffusi. Per riprodurre un file che ha più di due canali audio usa
<tt class="option">-channels</tt>.
Per esempio, per riprodurre un DVD con audio 5.1:
</p><pre class="screen">mplayer dvd://1 -channels 6</pre><p>
Nota che a dispetto del nome "5.1" ci sono attualmente 6 canali discreti.
Se possiedi un equipaggiamento audio surround puoi mettere tranquillamente
l'opzione <tt class="option">channels</tt> nel tuo file di configurazione di
<span class="application">MPlayer</span> <tt class="filename">~/.mplayer/config</tt>.
Per esempio, per avere una riproduzione quadrifonica di default, aggiungi la
riga seguente:
</p><pre class="programlisting">channels=4</pre><p>
<span class="application">MPlayer</span> riprodurrà l'audio in quattro canali quando
tutti e quattro sono disponibili.
</p></div><div class="sect3" title="3.6.1.2. Riprodurre file stereo su quattro altoparlanti"><div class="titlepage"><div><div><h4 class="title"><a name="advaudio-surround-stereoinfour"></a>3.6.1.2. Riprodurre file stereo su quattro altoparlanti</h4></div></div></div><p>
<span class="application">MPlayer</span> non duplica alcun canale di default, né lo
fanno molti driver audio. Se vuoi farlo manualmente:
</p><pre class="screen">mplayer <em class="replaceable"><code>filename</code></em> -af channels=2:2:0:1:0:0</pre><p>
Vedi la sezione sul
<a class="link" href="#advaudio-channels-copying" title="3.6.2.3. Copiare/spostare i canali">copiare i canali</a> per una
spiegazione.
</p></div><div class="sect3" title="3.6.1.3. AC-3/DTS Passthrough"><div class="titlepage"><div><div><h4 class="title"><a name="advaudio-surround-passthrough"></a>3.6.1.3. AC-3/DTS Passthrough</h4></div></div></div><p>
I DVD solitamente hanno un audio surround codificato in formato AC-3
(Dolby Digital) o DTS (Digital Theater System). Alcuni equipaggiamenti audio
moderni sono capaci di decodificare internamente questi formati.
<span class="application">MPlayer</span> può esser configurato in modo da far
passare i dati audio senza decodificarli. Ciò funzionerà solo se hai un
connettore S/PDIF (Sony/Philips Digital Interface) sulla tua scheda audio.
</p><p>
Se il tuo equipaggiamento audio può decodificare sua AC-3 che DTS, puoi
tranquillamente abilitare il passthrough per ambi i formati. In caso contrario,
abilita il passthrough solo per il formato che il tuo equipaggiamento supporta.
</p><div class="itemizedlist" title="Per abilitare il passthrough dalla riga comando:"><p class="title"><b>Per abilitare il passthrough dalla riga comando:</b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Per solo AC-3, usa <tt class="option">-ac hwac3</tt>
</p></li><li class="listitem"><p>
  Per solo DTS, usa <tt class="option">-ac hwdts</tt>
</p></li><li class="listitem"><p>
  Per AC-3 e DTS, usa <tt class="option">-afm hwac3</tt>
</p></li></ul></div><div class="itemizedlist" title="Per abilitare il passthrough nel file di configurazione di MPlayer:"><p class="title"><b>Per abilitare il passthrough nel file di configurazione di
  <span class="application">MPlayer</span>:</b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Per solo AC-3, usa <tt class="option">ac=hwac3,</tt>
</p></li><li class="listitem"><p>
  Per solo DTS, usa <tt class="option">ac=hwdts,</tt>
</p></li><li class="listitem"><p>
  Per AC-3 e DTS, usa <tt class="option">afm=hwac3</tt>
</p></li></ul></div><p>
Nota che c'è una virgola (",") alla fine di <tt class="option">ac=hwac3,</tt> e
<tt class="option">ac=hwdts,</tt>. Ciò farà sì che
<span class="application">MPlayer</span> ricada sui codec che utilizza di solito
quando riproduce un file che non ha audio AC-3 o DTS.
Per <tt class="option">afm=hwac3</tt> non serve una virgola;
<span class="application">MPlayer</span> gestirà comunque la situazione quando viene
specificata una famiglia audio.
</p></div><div class="sect3" title="3.6.1.4. MPEG audio Passthrough"><div class="titlepage"><div><div><h4 class="title"><a name="hwmpa-surround-passthrough"></a>3.6.1.4. MPEG audio Passthrough</h4></div></div></div><p>
Le trasimissioni TV digitali (come DVB e ATSC) e alcuni DVD spesso hanno flussi
audio MPEG (per esser precisi MP2).
Alcuni decodificatori hardware come schede full DVB e adattatori DXR2 possono
decodificare nativamente questo formato.
<span class="application">MPlayer</span> può esser configurato in modo da far
passare i dati audio senza decodificarli.
</p><p>
Per usare questo codec:
</p><pre class="screen"> mplayer -ac hwmpa </pre><p>
</p></div><div class="sect3" title="3.6.1.5. Matrix-encoded audio"><div class="titlepage"><div><div><h4 class="title"><a name="advaudio-surround-matrix"></a>3.6.1.5. Matrix-encoded audio</h4></div></div></div><p>
<span class="emphasis"><em>***DA FARE***</em></span>
</p><p>
Questa sezione deve ancora essere scritta e non può esser completata finché
qualcuno non ci fornisca audio di esempio da testare. Se hai un qualche file
con audio matrix-encoded, sai dove trovarne uno, oppure hai una qualche
informazione che possa aiutare, per favore invia un messaggio alla mailing list
<a class="ulink" href="http://lists.mplayerhq.hu/mailman/listinfo/mplayer-docs" target="_top">MPlayer-DOCS</a>.
Scrivi "[matrix-encoded audio]" nell'oggetto.

</p><p>
Se nessun file o nessuna informazione arriverà, questa sezione sarà rimossa.
</p><p>
Ottimi link:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <a class="ulink" href="http://electronics.howstuffworks.com/surround-sound5.htm" target="_top">http://electronics.howstuffworks.com/surround-sound5.htm</a>
</p></li><li class="listitem"><p>
  <a class="ulink" href="http://www.extremetech.com/article2/0,1697,1016875,00.asp" target="_top">http://www.extremetech.com/article2/0,1697,1016875,00.asp</a>
</p></li></ul></div><p>
</p></div><div class="sect3" title="3.6.1.6. Emulazione del surround nelle cuffie"><div class="titlepage"><div><div><h4 class="title"><a name="advaudio-surround-hrtf"></a>3.6.1.6. Emulazione del surround nelle cuffie</h4></div></div></div><p>
<span class="application">MPlayer</span> include un filtro HRTF (Head Related Transfer
Function) basato su un
<a class="ulink" href="http://sound.media.mit.edu/KEMAR.html" target="_top">progetto MIT</a>
in cui le misurazioni sono prese da microfoni montati su una finta testa umana.
</p><p>
Anche se non è possibile imitare esattamente un sistema surround, il filtro
HRTF di <span class="application">MPlayer</span> fornisce un audio con maggior
immersione nello spazio attraverso cuffie a due canali. Il solito missaggio
semplicemente combina tutti i canali in due; invece combinando i canali,
<tt class="option">hrtf</tt> genera leggere eco, aumenta leggermente le separazioni
stereo, e altera il volume di alcune frequenze. Se HRTF suoni meglio può
dipendere dalla sorgente audio e da una questione di gusto personale, ma è
sicuramente il caso di provarlo.
</p><p>
Per riprodurre un DVD con HRTF:
</p><pre class="screen">mplayer dvd://1 -channels 6 -af hrtf</pre><p>
</p><p>
<tt class="option">hrtf</tt> lavora bene solo con 5 o 6 canali. Inoltre,
<tt class="option">hrtf</tt> richiede un audio a 48kHz. L'audio dei DVD è già a
48kHz, ma se hai un file con una differente frequenza di campionamento rispetto
a quella che vuoi riprodurre con <tt class="option">hrtf</tt> devi ricampionarla:
</p><pre class="screen">
mplayer <em class="replaceable"><code>nomefile</code></em> -channels 6 -af resample=48000,hrtf
</pre><p>
</p></div><div class="sect3" title="3.6.1.7. Risoluzione problemi"><div class="titlepage"><div><div><h4 class="title"><a name="advaudio-surround-troubleshooting"></a>3.6.1.7. Risoluzione problemi</h4></div></div></div><p>
Se non senti nessuno suono uscire dai tuoi canali surround, controlla le
impostazioni del tuo mixer con un programma apposito come
<span class="application">alsamixer</span>; le uscite audio sono spesso silenziate
(mute) e il volume impostato a zero di default.
</p></div></div><div class="sect2" title="3.6.2. Manipolazione dei canali"><div class="titlepage"><div><div><h3 class="title"><a name="advaudio-channels"></a>3.6.2. Manipolazione dei canali</h3></div></div></div><div class="sect3" title="3.6.2.1. Informazioni generali"><div class="titlepage"><div><div><h4 class="title"><a name="advaudio-channels-general"></a>3.6.2.1. Informazioni generali</h4></div></div></div><p>
Sfortunatamente, non c'è uno standard per come i canali siano ordinati.
Gli ordinamenti sotto elencati sono quelli dell'AC-3 e sono abbastanza tipici;
provali e vedi se la tua sorgente corrisponde. I canali sono numerati a partire
dallo 0.

</p><div class="orderedlist" title="mono"><p class="title"><b>mono</b></p><ol class="orderedlist" type="1" compact><li class="listitem" value="0"><p>centrale</p></li></ol></div><p>

</p><div class="orderedlist" title="stereo"><p class="title"><b>stereo</b></p><ol class="orderedlist" type="1" compact><li class="listitem" value="0"><p>sinistro</p></li><li class="listitem"><p>destro</p></li></ol></div><p>

</p><div class="orderedlist" title="quadrifonico"><p class="title"><b>quadrifonico</b></p><ol class="orderedlist" type="1" compact><li class="listitem" value="0"><p>sinistro frontale</p></li><li class="listitem"><p>destro frontale</p></li><li class="listitem"><p>sinistro posteriore</p></li><li class="listitem"><p>destro posteriore</p></li></ol></div><p>

</p><div class="orderedlist" title="surround 4.0"><p class="title"><b>surround 4.0</b></p><ol class="orderedlist" type="1" compact><li class="listitem" value="0"><p>sinistro frontale</p></li><li class="listitem"><p>destro frontale</p></li><li class="listitem"><p>centrale posteriore</p></li><li class="listitem"><p>centrale frontale</p></li></ol></div><p>

</p><div class="orderedlist" title="surround 5.0"><p class="title"><b>surround 5.0</b></p><ol class="orderedlist" type="1" compact><li class="listitem" value="0"><p>sinistro frontale</p></li><li class="listitem"><p>destro frontale</p></li><li class="listitem"><p>sinistro posteriore</p></li><li class="listitem"><p>destrale posteriore</p></li><li class="listitem"><p>centrale frontale</p></li></ol></div><p>

</p><div class="orderedlist" title="surround 5.1"><p class="title"><b>surround 5.1</b></p><ol class="orderedlist" type="1" compact><li class="listitem" value="0"><p>sinistro frontale</p></li><li class="listitem"><p>destro frontale</p></li><li class="listitem"><p>sinistro posteriore</p></li><li class="listitem"><p>destro posteriore</p></li><li class="listitem"><p>centrale frontale</p></li><li class="listitem"><p>subwoofer</p></li></ol></div><p>
</p><p>
L'opzione <tt class="option">-channels</tt> viene usata per richiedere il numero di
canali al decodificatore audio, Alcuni codec audio usano il numero di canali
specificato per decidere se sottomiscelare la sorgente, se necessario.
Nota che ciò non sempre influenza il numero dei canali di uscita. Per esempio,
usando <tt class="option">-channels 4</tt> per riprodurre un file stereo MP3 porterà
comunque ad un'uscita a 2 canali, visto che il codec MP3 non genera i canali
extra.
</p><p>
Il filtro audio <tt class="option">channels</tt> può essere usato per creare o
rimuovere canali ed è utile per controllare il numero di canali passati alla
scheda audio. Vedi le sezioni seguenti per ulteriori informazioni sulla
manipolazione dei canali.
</p></div><div class="sect3" title="3.6.2.2. Riprodurre mono con due altoparlanti"><div class="titlepage"><div><div><h4 class="title"><a name="advaudio-channels-mono"></a>3.6.2.2. Riprodurre mono con due altoparlanti</h4></div></div></div><p>
Il mono suona molto meglio quando riprodotto attraverso due altoparlanti -
specialmente usando delle cuffie. I file audio che hanno veramente un canale
sono riprodotti automaticamente attraverso due altoparlanti; sfortunatamente,
molti file con suono in mono sono in verità codificati come stereo con un
canale slienziato. Il modo più semplice e a prova di cretino per far sì
che entrambi gli altoparlanti emettano lo stesso audio è il filtro
<tt class="option">extrastereo</tt>:
</p><pre class="screen">mplayer <em class="replaceable"><code>nomefile</code></em> -af extrastereo=0</pre><p>
</p><p>
Ciò equilibra ambedue i canali, portando al risultato di entrambi i canali
alla metà del volume di quello originario. La sezione seguente ha esempi di
altri modi di far ciò senza una riduzione del volume, ma sono molto complessi
e richiedono varie opzioni a seconda del canale che vuoi mantenere. Se davvero
devi mantenere il volume, potrebbe essere più semplice sperimentare con il
filtro <tt class="option">volume</tt> e trovare il valore giusto. Per esempio:
</p><pre class="screen">
mplayer <em class="replaceable"><code>nomefile</code></em> -af extrastereo=0,volume=5
</pre><p>
</p></div><div class="sect3" title="3.6.2.3. Copiare/spostare i canali"><div class="titlepage"><div><div><h4 class="title"><a name="advaudio-channels-copying"></a>3.6.2.3. Copiare/spostare i canali</h4></div></div></div><p>
Il filtro <tt class="option">channels</tt> può spostare alcuni o tutti i canali.
Impostare tutte le sotto-opzioni per il filtro <tt class="option">channels</tt> può
essere complicato e richiede un pò di attenzione.

</p><div class="orderedlist"><ol class="orderedlist" type="1" compact><li class="listitem"><p>
  Decidi quanti canali di uscita ti servono. Questa è la prima sotto-opzione.
</p></li><li class="listitem"><p>
  Conta quanti spostamenti di canali farai. Questa è la seconda sotto-opzione.
  Ciascun canale può venir spostato a vari canali diversi allo stesso tempo,
  ma tieni a mente che quando un canale viene spostato (anche verso una
  destinazione sola) il canale sorgente resterà vuoto finché un altro canale
  non verrà spostato su di esso. Per copiare un canale, mantenendo la sorgente
  intatta, sposta semplicemente il canale sia verso la destinazione che verso
  la sorgente. Per esempio:
  </p><pre class="programlisting">
channel 2 --&gt; channel 3
channel 2 --&gt; channel 2</pre><p>
</p></li><li class="listitem"><p>
  Scrivi le copiature di canali come paia di sotto-opzioni. Nota che il primo
  canale è 0, il secondo è 1, etc. L'ordine di queste sotto-opzioni non è
  importante a patto che esse siano correttamente raggruppate in coppie
  <em class="replaceable"><code>sorgente:destinazione</code></em>.
</p></li></ol></div><p>
</p><h5><a name="id2543020"></a>Esempio: un canale in due altoparlanti</h5><p>
Qui c'è un esempio di un altro modo di riprodurre un canali in entrambi gli
altoparlanti. Per questo esempio supponi che il canale sinistro debba essere
riprodotto e il canale destro scartato. Seguendo i passaggi suddetti:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
  In modo da fornire un canale di uscita per ognuno dei due altoparlanti, la
  prima sotto-opzione deve essere "2".
</p></li><li class="listitem"><p>
  Il canale sinistro deve essere spostato al canale destro, e anche spostato
  su sé stesso cosicché non sia vuoto. Questo è un totale di due spostamenti,
  facendo sì che anche la seconda sotto-opzione sia "2".
</p></li><li class="listitem"><p>
  Per spostare il canale sinistro (canale 0) nel canale destro (canale 1), la
  coppia di sotto-opzioni è "0:1", e "0:0" sposta il canale sinistro su sé
  stesso.
</p></li></ol></div><p>
Mettendo tutto insieme si ottiene:
</p><pre class="screen">
mplayer <em class="replaceable"><code>nomefile</code></em> -af channels=2:2:0:1:0:0
</pre><p>
</p><p>
Il vantaggio che ha questo esempio rispetto a <tt class="option">extrastereo</tt> è
che il volume di ciascun canale di uscita è lo stesso del canale di entrata.
Lo svantaggio è che le sotto-opzioni diventano "2:2:1:0:1:1" quando il canale
voluto è quello destro. Inoltre, è più difficile da ricordare e da scrivere.
</p><h5><a name="id2545384"></a>Esempio: canale sinistro in due altoparlanti - scorciatoia</h5><p>
Veramente c'è un modo molto più facile di usare il filtro
<tt class="option">channels</tt> per riprodurre il canale sinistro in entrambi gli
altoparlanti:
</p><pre class="screen">mplayer <em class="replaceable"><code>nomefile</code></em> -af channels=1</pre><p>
Il secondo canale viene scartato, e, senza ulteriori sotto-opzioni, l'unico
canale rimanente resta il solo. I driver della scheda audio automaticamente
riproducono un singolo canale in ambedue gli altoparlanti. Ciò funziona sono
quando il canale voluto è sulla sinistra.
</p><h5><a name="id2545416"></a>Esempio: duplicare i canali frontali sui posteriori</h5><p>
Un'altra operazione comune è duplicare il canali frontali e riprodurli anche
sugli altoparlanti posteriori in un'impostazione quadrifonica.
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
  Ci devono essere quattro canali di uscita. La prima sotto-opzione è "4".
</p></li><li class="listitem"><p>
  Ciascuno dei due canali frontali deve essere spostato sul corrispondente
  posteriore e anche su sé stesso. Quindi sono quattro spostamenti, indi la
  seconda sotto-opzione è "4".
</p></li><li class="listitem"><p>
  Il canale frontale sinistro (canale 0) deve essere spostato sul posteriore
  sinistro (canale 2): "0:2". Il sinistro frontale deve anche venir spostato su
  sé stesso: "0:0". Il canale frontale destro (canale 1) viene spostato sul
  posteriore destro (canale 3): "1:3", e anche su sé stesso: "1:1".
</p></li></ol></div><p>
Combina tutte le sotto-opzioni per ottenere:
</p><pre class="screen">
mplayer <em class="replaceable"><code>nomefile</code></em> -af channels=4:4:0:2:0:0:1:3:1:1
</pre><p>
</p></div><div class="sect3" title="3.6.2.4. Miscelare i canali"><div class="titlepage"><div><div><h4 class="title"><a name="advaudio-channels-mixing"></a>3.6.2.4. Miscelare i canali</h4></div></div></div><p>
Il filtro <tt class="option">pan</tt> può miscelare i canali in proporzione
specificate dall'utente. Questo permette di fare tutto quello che può fare
il filtro <tt class="option">channels</tt> e oltre. Sfortunatamente, le sotto-opzioni
sono molto più complicate.
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
  Decidi con quanti canali lavorare. Puoi aver bisogno di indicare ciò con
  l'opzione <tt class="option">-channels</tt> e/o <tt class="option">-af channels</tt>.
  Gli esempi seguenti di mostreranno quando usare cosa.
</p></li><li class="listitem"><p>
  Decidi quanti canali passare a <tt class="option">pan</tt> (i canali decodificati
  oltre questi vengono scartati). Questa è la prima sotto-opzione, e controlla
  anche quanti canali utilizzare in uscita.
</p></li><li class="listitem"><p>
  Le restanti sotto-opzioni indicano quanto di ogni canale viene miscelato
  in ciascuno degli altri canali. Questa è la parte difficile. Per diminuire
  l'impresa, spezza le sotto-opzioni in diversi gruppi, un gruppo per ogni
  canale di uscita. Ogni sotto-opzione in un gruppo corrisponde ad un canale di
  ingresso. Il numero che specifichi sarà la percentuale del canale di
  ingresso che viene miscelata nel canale di uscita.
  </p><p>
  <tt class="option">pan</tt> accetta valori da 0 a 512, significando dallo 0% al
  51200% del volume originale. Fai attenzione quando usi valori superiori a 1.
  Ciò non solo ti darà un volume più alto, ma se oltrepassi la scala di
  campionamento della tua scheda audio puoi sentire terribili pop e click.
  Se vuoi puoi far seguire <tt class="option">pan</tt> da <tt class="option">,volume</tt> per
  abilitare il clipping, ma è meglio tenere i valori di <tt class="option">pan</tt>
  bassi abbastanza affinché il clipping non sia necessario.
  </p></li></ol></div><p>
</p><h5><a name="id2545589"></a>Esempio: un canale in due altoparlanti</h5><p>
Qui c'è un altro esempio per riprodurre il canale sinistro in due altoparlanti.
Segui i passaggi suddetti:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
  <tt class="option">pan</tt> deve uscire con due canali, indi la prima sotto-opzione
  è "2".
</p></li><li class="listitem"><p>
  Visto che abbiamo due canali di ingresso, ci saranno due gruppi di
  sotto-opzioni.
  Visto che ci sono anche due canali di uscita, ci saranno due sotto-opzioni
  per gruppo.
  Il canale sinistro dal file dovrà finire con volume pieno sui nuovi canali
  sinistro e destro.
  Così il primo gruppo di sotto-opzioni è "1:1".
  Il canale destro dovrebbe venir scartato, così il secondo sarà "0:0".
  Un qualsiasi valore di 0 alla fine può essere omesso, ma per facilità di
  comprensione li lasceremo lì.
</p></li></ol></div><p>
Mettendo insieme queste opzioni si ottiene:
</p><pre class="screen">mplayer <em class="replaceable"><code>nomefile</code></em> -af pan=2:1:1:0:0</pre><p>
Se si vuole il canale destro invece del sinistro, le sotto-opzioni di
<tt class="option">pan</tt> saranno "2:0:0:1:1".
</p><h5><a name="id2545652"></a>Esempio: canale sinistro in due altoparlanti - scorciatoia</h5><p>
Come con <tt class="option">channels</tt>, c'è una scorciatoia che funziona solo col canale sinistro:
</p><pre class="screen">mplayer <em class="replaceable"><code>nomefile</code></em> -af pan=1:1</pre><p>
Visto che <tt class="option">pan</tt> ha solo un canale di ingresso (l'altro canale
viene scartato), c'è un solo gruppo con una sola sotto-opzione, che specifica
che quel solo canale ottenga il 100% di sé stesso.
</p><h5><a name="id2545683"></a>Esempio: sottomiscelare PCM a 6 canali</h5><p>
Il decodificatore di <span class="application">MPlayer</span> per PCM a 6 canali non
è in grado di sottomiscelare. C'è un modo di sottomiscelare PCM usando
<tt class="option">pan</tt>:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
  Il numero di canali di uscita è 2, indi la prima sotto-opzione è "2".
</p></li><li class="listitem"><p>
  Con sei canali di ingresso ci saranno sei gruppi di opzioni. Fortunatamente,
  visto che ci interessa solo l'uscita dei primi due canali, abbiamo solo
  bisogno di preparere due gruppi; i rimanenti quattro gruppi possono essere
  omessi. Attenzione che non tutti i file audio multicanale hanno lo stesso
  ordine dei canali! Questo esempio mostra il sottomissaggio di un file con gli
  stessi canali di AC-3 5.1:
  </p><pre class="programlisting">
0 - frontale sinistro
1 - frontale destro
2 - posteriore sinistro
3 - posteriore destro
4 - frontale centrale
5 - subwoofer</pre><p>
  Il primo gruppo di sotto-opzioni elenca le percentuali del volume originario,
  che, rispettivamente, ogni canale di uscita deve ricevere dal canale frontale
  sinistro: "1:0".
  Il canale frontale destro dovrà finire nell'uscita di destra: "0:1".
  Lo stesso vale per i canali posteriori: "1:0" e "0:1".
  Il canale centrale va su entrambi i canali con metà del volume:
  "0.5:0.5", e il subwoofer va in entrambi a volume pieno: "1:1".
</p></li></ol></div><p>
Metti tutto insieme, per avere:
</p><pre class="screen">
mplayer <em class="replaceable"><code>6-canali.wav</code></em> -af pan=2:1:0:0:1:1:0:0:1:0.5:0.5:1:1
</pre><p>
Le percentuali suddette sono solo un rozzo esempio. Sentiti libero di
modificarle.
</p><h5><a name="id2545762"></a>Esempio: riprodurre audio 5.1 su grossi altoparlanti senza un subwoofer</h5><p>
Se hai un paio di grossi altoparlanti puoi non voler sprecare dei soldi per
compare un subwoofer per un sistema audio 5.1 completo. Se usi
<tt class="option">-channels 5</tt> per richiedere che liba52 decodifichi audio 5.1
in 5.0, il canale del subwoofer viene semplicemente scartato. Se vuoi
distribuire il canale del subwoofer per conto tuo devi sottomiscelarlo a mano
con <tt class="option">pan</tt>:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
  Since <tt class="option">pan</tt> needs to examine all six channels, specify
  <tt class="option">-channels 6</tt> so liba52 decodes them all.
  Siccome pan ha bisogno di esaminare tutti e sei i canali, specifica
  -channels 6 così che liba52 li decodifichi tutti quanti.
</p></li><li class="listitem"><p>
  <tt class="option">pan</tt> outputs to only five channels, the first suboption is 5.
  pan emette solo cinque canali, così la prima sotto-opzione è 5.
</p></li><li class="listitem"><p>
  Sei canali di ingresso e cinque di uscita significano sei gruppi di cinque
  sotto-opzioni.
  </p><div class="itemizedlist"><ul class="itemizedlist" type="disc" compact><li class="listitem"><p>
    Il canale sinistro frontale semplicemente si riproduce su sé stesso:
    "1:0:0:0:0"
  </p></li><li class="listitem"><p>
    Lo stesso per il canale frontale destro:
    "0:1:0:0:0"
  </p></li><li class="listitem"><p>
    Lo stesso per il canale posteriore sinistro:
    "0:0:1:0:0"
  </p></li><li class="listitem"><p>
    E anche per il canale posteriore destro:
    "0:0:0:1:0"
  </p></li><li class="listitem"><p>
    Anche quello centrale frontale:
    "0:0:0:0:1"
  </p></li><li class="listitem"><p>
    E ora dobbiamo decidere cosa fare col subwoofer, per es. metà nel frontale
    destro e metà nel frontale sinistro:
    "0.5:0.5:0:0:0"
  </p></li></ul></div><p>
</p></li></ol></div><p>
Combina tutte queste opzioni per ottenere:
</p><pre class="screen">
mplayer <em class="replaceable"><code>dvd://1</code></em> -channels 6 -af pan=5:1:0:0:0:0:0:1:0:0:0:0:0:1:0:0:0:0:0:1:0:0:0:0:0:1:0.5:0.5:0:0:0
</pre><p>
</p></div></div><div class="sect2" title="3.6.3. Regolazione volume via software"><div class="titlepage"><div><div><h3 class="title"><a name="advaudio-volume"></a>3.6.3. Regolazione volume via software</h3></div></div></div><p>
Alcune tracce audio sono troppo silenziose per essere ascoltate bene senza
amplificazione. Questo diventa un problema quando il tuo equipaggiamento non
può amplificare il segnale per te. L'opzione <tt class="option">-softvol</tt> indica
a <span class="application">MPlayer</span> di utilizzare un mixer interno. Puoi poi
usare i tasti di regolazione volume (di default <span class="keycap"><b>9</b></span> e
<span class="keycap"><b>0</b></span>) per raggiungere livelli di volume molto più alti. Nota che
ciò non bypassa il mixer della tua scheda audio;
<span class="application">MPlayer</span> amplifica solo il segnale prima di inviarlo
alla tua scheda audio. L'esempio che segue è un buon punto di partenza:
</p><pre class="screen">
mplayer <em class="replaceable"><code>file-silente</code></em> -softvol -softvol-max 300
</pre><p>
L'opzione <tt class="option">-softvol-max</tt> specifica il massimo volume permesso di
uscita come una percentuale del volume originario. Per esempio,
<tt class="option">-softvol-max 200</tt> farà sì che il volume sia regolato fino a
due volte il valore originale. E' sicuro indicare un valore alto con
<tt class="option">-softvol-max</tt>; il volume più alto non sarà usato fino a
quando non userai i tasti di regolazione. L'unico svantaggio di un valore alto
è che, dato che <span class="application">MPlayer</span> regola il volume come una
percentuale del massimo, non avrai un controllo così preciso usando i tasti
di regolazione del volume. Usa un valore più basso con
<tt class="option">-softvol-max</tt> e/o specifica <tt class="option">-volstep 1</tt> se ti
serve maggior precisione.
</p><p>
L'opzione <tt class="option">-softvol</tt> funziona controllando il filtro audio
<tt class="option">volume</tt>. Se vuoi riprodurre un file a un dato volume sin
dall'avvio puoi specificare <tt class="option">volume</tt> manualmente:
</p><pre class="screen">mplayer <em class="replaceable"><code>file-silente</code></em> -af volume=10</pre><p>
Questo riprodurrà il file con un guadagno di 10 decibel. Stai attento quando
usi il filtro <tt class="option">volume</tt> - puoi facilmente farti male alle
orecchie se usi un valore troppo alto. Parti dal basso e sali gradualmente fino
a quando capisci quanta regolazione è richiesta. Inoltre, se tu specifichi
valori troppo alti, <tt class="option">volume</tt> può aver bisogno di fare il clip
del segnale per evitare di mandare alla tua scheda audio dati che siano fuori
dalla gamma consentita; ciò risulterà in un audio distorto.
</p></div></div></div><div class="chapter" title="Capitolo 4. Utilizzo CD/DVD"><div class="titlepage"><div><div><h2 class="title"><a name="cd-dvd"></a>Capitolo 4. Utilizzo CD/DVD</h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="#drives">4.1. Lettori CD/DVD</a></span></dt><dd><dl><dt><span class="sect2"><a href="#drives_linux">4.1.1. Linux</a></span></dt><dt><span class="sect2"><a href="#drives_freebsd">4.1.2. FreeBSD</a></span></dt></dl></dd><dt><span class="sect1"><a href="#dvd">4.2. Riproduzione DVD</a></span></dt><dd><dl><dt><span class="sect2"><a href="#region_code">4.2.1. Codici regionali</a></span></dt></dl></dd><dt><span class="sect1"><a href="#vcd">4.3. Riproduzione VCD</a></span></dt></dl></div><div class="sect1" title="4.1. Lettori CD/DVD"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="drives"></a>4.1. Lettori CD/DVD</h2></div></div></div><p>
I lettori CD-ROM recenti possono raggiungere velocità molto alte, ma molti
lettori sono capaci di girare a velocità ridotte. Ci sono diversi motivi che
possono farti pensare di cambiare la velocità di un'unità CD-ROM:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Ci sono state notifiche di errori di lettura ad alte velocità, specialmente
  con CD-ROM malamente pressati. Ridurre la velocità può prevenire la
  perdita di dati in queste circostanze.
</p></li><li class="listitem"><p>
  Molti lettori CD-ROM sono fastidiosamente rumorosi, una minor velocità
  può ridurre il rumore.
</p></li></ul></div><div class="sect2" title="4.1.1. Linux"><div class="titlepage"><div><div><h3 class="title"><a name="drives_linux"></a>4.1.1. Linux</h3></div></div></div><p>
Puoi diminuire la velocità delle unità CD-ROM IDE con
<span class="command"><strong>hdparm</strong></span>, <span class="command"><strong>setcd</strong></span> o <span class="command"><strong>cdctl</strong></span>.
Funziona così:
</p><pre class="screen">hdparm -E <em class="replaceable"><code>[velocità]</code></em> <em class="replaceable"><code>[dispositivo cdrom]</code></em></pre><p>
</p><pre class="screen">setcd -x <em class="replaceable"><code>[velocità]</code></em> <em class="replaceable"><code>[dispositivo cdrom]</code></em></pre><p>
</p><pre class="screen">cdctl -bS <em class="replaceable"><code>[velocità]</code></em></pre><p>
</p><p>
Se stai usando l'emulazione SCSI, puoi dover applicare le impostazioni al
lettore IDE reale, e non al dispositivo emulato come SCSI.
</p><p>
Se hai i privilegi di root può essere di aiuto anche il comando seguente:
</p><pre class="screen">echo file_readahead:2000000 &gt; /proc/ide/<em class="replaceable"><code>[dispositivo cdrom]</code></em>/settings</pre><p>
</p><p>
</p><pre class="screen">hdparm -d1 -a8 -u1 <em class="replaceable"><code>[dispositivo cdrom]</code></em></pre><p>
Ciò imposta la lettura in prefetch dei file a 2MB, che aiuta con CD-ROM
graffiati. Se la imposti troppo alta, il lettore continuerà ad aumentare e
diminuire la velocità, e le prestazioni diminuiranno drasticamente.
Si raccomanda di regolare il tuo lettore CD-ROM anche con
<span class="command"><strong>hdparm</strong></span>:
</p><pre class="screen">hdparm -d1 -a8 -u1 <em class="replaceable"><code>[dispositivo cdrom]</code></em></pre><p>
</p><p>
Questo abilita l'accesso in DMA, la pre-lettura, e la mascheratura IRQ (leggi
la pagina man di <span class="command"><strong>hdparm</strong></span> per una spiegazione dettagliata).
</p><p>
Per favore fai riferimento a
"<tt class="filename">/proc/ide/<em class="replaceable"><code>[dispositivo cdrom]</code></em>/settings</tt>"
per regolare con precisione il tuo CD-ROM.
</p><p>
I lettori SCSI non hanno un modo uniforme di impostare questi parametri (ne
conosci uno? diccelo!). C'è uno strumento che funziona con i
<a class="ulink" href="http://das.ist.org/~georg/" target="_top">lettori SCSI Plextor</a>.
</p></div><div class="sect2" title="4.1.2. FreeBSD"><div class="titlepage"><div><div><h3 class="title"><a name="drives_freebsd"></a>4.1.2. FreeBSD</h3></div></div></div><p>velocità:
</p><pre class="screen">
cdcontrol [-f <em class="replaceable"><code>dispositivo</code></em>] speed <em class="replaceable"><code>[velocità]</code></em>
</pre><p>
</p><p>DMA:
</p><pre class="screen">
sysctl hw.ata.atapi_dma=1
</pre><p>
</p></div></div><div class="sect1" title="4.2. Riproduzione DVD"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dvd"></a>4.2. Riproduzione DVD</h2></div></div></div><p>
Per una lista completa delle opzioni disponibili per favore leggi la pagina man.
La sintassi per riprodurre un DVD normale è la seguente:
</p><pre class="screen">
mplayer dvd://<em class="replaceable"><code>&lt;traccia&gt;</code></em> [-dvd-device <em class="replaceable"><code>&lt;dispositivo&gt;</code></em>]
</pre><p>
</p><p>
Esempio:
</p><pre class="screen">mplayer dvd://1 -dvd-device /dev/hdc</pre><p>
</p><p>
Se hai compilato <span class="application">MPlayer</span> con il supporto per dvdnav,
la sintassi è la stessa, tranne che devi usare dvdnav:// invece di dvd://.
</p><p>
Il dispositivo DVD di default è <tt class="filename">/dev/dvd</tt>. Se la tua
impostazione è diversa, crea un collegamento simbolico o indica il dispositivo
giusto dalla riga comando con l'opzione <tt class="option">-dvd-device</tt>.
</p><p>
<span class="application">MPlayer</span> usa <code class="systemitem">libdvdread</code> e
<code class="systemitem">libdvdcss</code> per la riproduzione e la decrittazione dei
DVD. Queste due librerie sono contenute nei sorgenti di
<span class="application">MPlayer</span>, non hai bisogno di installarle
separatamente. Puoi anche usare le controparti di sistema delle due librerie,
ma questa non è la soluzione raccomandata, in quanto può portare a bachi,
incompatibilità di librerie e minor velocità.
</p><div class="note" title="Nota" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
Nel caso di problemi di decodifica di DVD, prova a disabilitare il supermount,
o qualsiasi altra utilità. Alcuni lettori RPC-2 possono anche aver bisogno di
avere il codice di zona impostato.
</p></div><p title="Decrittazione DVD"><b>Decrittazione DVD. </b>
La decrittazione dei DVD viene fatta da <code class="systemitem">libdvdcss</code>. La
modalità può esser specificata attraverso la variabile d'ambiente
<code class="envar">DVDCSS_METHOD</code>, vedi la pagina di manuale per i dettagli.
</p><div class="sect2" title="4.2.1. Codici regionali"><div class="titlepage"><div><div><h3 class="title"><a name="region_code"></a>4.2.1. Codici regionali</h3></div></div></div><p>
I lettori DVD al giorno d'oggi sono venduti con una costrizione senza senso
chiamata <a class="ulink" href="http://it.wikipedia.org/wiki/DVD-Video#Codici_regionali" target="_top">codice regionale</a>
(<a class="ulink" href="http://en.wikipedia.org/wiki/DVD_region_code" target="_top">in inglese</a>).
Questa è una strategia per forzare i lettori DVD ad accettare solamente DVD
prodotti per una delle sei diverse regioni in cui è stato diviso il mondo.
Come un gruppo di persone possano sedersi attorno ad un tavolo, partorire
un'idea del genere ed aspettarsi che il mondo del 21° secolo si pieghi ai loro
voleri, è aldilà di ogni comprensione.
</p><p>
I lettori che forzano l'impostazione regionale solo via software sono anche
conosciuti come lettori RPC-1, quelli che lo gestiscono via hardware come RPC-2.
I lettori RPC-2 permettono la modifica della regione per cinque volte, prima
che resti bloccata.
Sotto Linux puoi usare lo strumento
<a class="ulink" href="http://linvdr.org/projects/regionset/" target="_top">regionset</a> per
per impostare il codice regionale del tuo lettore DVD.
</p><p>
Grazie al cielo, è possibile convertire lettori RPC-2 in lettori RPC-1
attraverso un aggiornamento del firmware. Inserisci il modello del tuo lettore
DVD nel tuo motore di ricerca preferito oppure dai un'occhiata ai forum e alle
sezioni di download di
<a class="ulink" href="http://www.rpc1.org/" target="_top">"The firmware page"</a>.
Anche se si devono applicare le solite precauzioni per l'aggiornamento del
firmware, le esperienze relative alla rimozione della forzatura del codice
regionale sono generalmente positive.
</p></div></div><div class="sect1" title="4.3. Riproduzione VCD"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="vcd"></a>4.3. Riproduzione VCD</h2></div></div></div><p>
Per una lista completa delle opzioni disponibili per favore leggi la pagina man.
La sintassi per riprodurre un Video CD (VCD) normale è la seguente:
</p><pre class="screen">mplayer vcd://<em class="replaceable"><code>&lt;traccia&gt;</code></em> [-cdrom-device <em class="replaceable"><code>&lt;dispositivo&gt;</code></em>]</pre><p>
Esempio:
</p><pre class="screen">mplayer vcd://2 -cdrom-device /dev/hdc</pre><p>
Il dispositivo VCD di default è <tt class="filename">/dev/cdrom</tt>. Se la tua
impostazione è diversa, crea un collegamento simbolico o indica il dispositivo
giusto dalla riga comando con l'opzione <tt class="option">-cdrom-device</tt>.
</p><div class="note" title="Nota" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
Perlomeno i lettori CD-ROM Plextor e alcuni Toshiba SCSI hanno prestazioni
orribili leggendo i VCD. Questo perché l'<code class="systemitem">ioctl</code>
CDROMREADRAW non è implementata appieno per questi lettori. Se hai una qualche
conoscenza della programmazione SCSI, per favore
<a class="ulink" href="../../tech/patches.txt" target="_top">aiutaci</a> ad implementare un supporto
SCSI generico per i VCD.
</p></div><p>
Nel frattempo puoi estrarre i dati dal VCD con
<a class="ulink" href="http://ftp.ntut.edu.tw/ftp/OS/Linux/packages/X/viewers/readvcd/" target="_top">readvcd</a>
e riprodurre con <span class="application">MPlayer</span> il file così ricavato.
</p><p title="Struttura VCD"><b>Struttura VCD. </b>
Un Video CD (VCD) è fatto di settori CD-ROM XA, per es. tracce CD-ROM mode 2
form 1 e 2:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  La prima traccia è in formato mode 2 form 2 il che significa che usa una
  correzione errori L2. La traccia contiene un filesystem ISO-9660 con 2048
  byte/settore. Il filesystem contiene delle informazioni metadati VCD, così
  come fermi-immagine spesso usati nei menu. I segmenti MPEG per i menu possono
  anche essere salvati nella prima traccia, ma gli MPEG devono essere
  spezzettati in una serie di blocchi di 150 settori. Il filesystem ISO-9660
  può contenere altri file o programmi che non sono essenziali per le
  operazioni VCD.
</p></li><li class="listitem"><p>
  Le seconde e restanti tracce spesso sono tracce MPEG (filmato) di basso
  livello di 2324 byte/settore, contenenti un pacchetto dati MPEG PS per
  settore. Queste sono in formato mode 2 form 1, così da poter archiviare più
  dati per settore con la perdita di qualche correzione di errore. E' anche
  valido avere tracce CD-DA in un VCD dopo la prima traccia.
  In alcuni sistemi operativi c'è qualche trucchetto che fa apparire queste
  tracce non ISO-9660 in un filesystem. In altri sistemi operativi come
  GNU/Linux non è (ancora) così. Qui i dati MPEG
  <span class="bold"><strong>non possono venir montati</strong></span>. Siccome molti
  film sono dentro questo tipo di tracce, dovresti provare prima
  <tt class="option">vcd://2</tt>.
</p></li><li class="listitem"><p>
  Ci sono dischi VCD senza la prima traccia (traccia singola e proprio nessun
  filesystem). Essi sono comunque riproducibili, ma non possono essere montati.
</p></li><li class="listitem"><p>
  La definizione dello standard VCD viene chiamato il "White Book" Philips, e
  non è disponibile on-line visto che deve essere acquistato da Philips.
  Informazioni più dettagliate sui Video CD si possono trovare nella
  <a class="ulink" href="http://www.vcdimager.org/pub/vcdimager/manuals/0.7/vcdimager.html#SEC4" target="_top">documentazione di vcdimager</a>.
</p></li></ul></div><p title="Struttura VCD">
</p><p title="Riguardo i file .DAT"><b>Riguardo i file .DAT. </b>
Il file .DAT da ~600MB visibile sulla prima traccia del filsystem VCD montato
non è un vero file! Viene anche detto "ISO gateway", creato per permettere a
Windows di gestire tali tracce (Windows non permette alle applicazioni alcun
accesso di basso livello ai dispositivi). Sotto Linux non puoi copiare o
riprodurre questi file (contengono spazzatura). Sotto Windows è possibile
che il driver iso9660 emuli la lettura a basso livello delle tracce nel file.
Per riprodurre un file .DAT ti serve il driver per il kernel che si può
trovare nella versione per Linux di PowerDVD. Esso ha un driver modificato per
il filesystem iso9660 (<tt class="filename">vcdfs/isofs-2.4.X.o</tt>), che è in
grado di emulare le tracce di basso livello attraverso quel file fantasma .DAT.
Se monti il disco usando il loro driver, puoi poi copiare e anche riprodurre i
file .DAT con <span class="application">MPlayer</span>. Ma non funzionerà col driver
iso9660 standard del kernel Linux! Usa invece <tt class="option">vcd://</tt>.
Alternative per copiare i VCD sono il nuovo driver del kernel
<a class="ulink" href="http://www.elis.rug.ac.be/~ronsse/cdfs/" target="_top">cdfs</a> (non incluso
nel kernel ufficiale), che mostra le sessioni dei CD come file immagine, e
<a class="ulink" href="http://cdrdao.sf.net/" target="_top">cdrdao</a>, un'applicazione per
copiare/fare il dump di CD bit-per-bit.
</p></div></div><div class="chapter" title="Capitolo 5. TV"><div class="titlepage"><div><div><h2 class="title"><a name="tv"></a>Capitolo 5. TV</h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="#tv-input">5.1. Ingresso TV</a></span></dt><dd><dl><dt><span class="sect2"><a href="#tv-compilation">5.1.1. Compilazione</a></span></dt><dt><span class="sect2"><a href="#tv-tips">5.1.2. Consigli per l'uso</a></span></dt><dt><span class="sect2"><a href="#tv-examples">5.1.3. Esempi</a></span></dt></dl></dd><dt><span class="sect1"><a href="#tv-teletext">5.2. Televideo (teletext)</a></span></dt><dd><dl><dt><span class="sect2"><a href="#tv-teletext-implementation-notes">5.2.1. Note sull'implementazione</a></span></dt><dt><span class="sect2"><a href="#tv-teletext-usage">5.2.2. Usare il televideo</a></span></dt><dt><span class="sect2"><a href="#tv-teletext-hotkeys">5.2.3. Tasti comando per il televideo</a></span></dt></dl></dd></dl></div><div class="sect1" title="5.1. Ingresso TV"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tv-input"></a>5.1. Ingresso TV</h2></div></div></div><p>
Questa sezione tratta di come abilitare la <span class="bold"><strong>
visione/acquisizione da sintonizzatori TV compatibili V4L</strong></span>. Vedi la
pagina man per una descrizione delle opzioni e i controlli da tastiera per la TV.
</p><div class="sect2" title="5.1.1. Compilazione"><div class="titlepage"><div><div><h3 class="title"><a name="tv-compilation"></a>5.1.1. Compilazione</h3></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Passo 1"><p>
  Per prima cosa, devi ricompilare. <tt class="filename">./configure</tt> rileverà
  gli header del kernel per la roba v4l e l'esistenza delle voci
  <tt class="filename">/dev/video*</tt>. Se ciò esiste, il supporto TV verrà
  compilato (guarda l'emissione di <tt class="filename">./configure</tt>).
</p></li><li class="step" title="Passo 2"><p>
  Assicurati che il tuo sintonizzatore funzioni con altri software TV per
  Linux, per esempio <span class="application">XawTV</span>.
</p></li></ol></div></div><div class="sect2" title="5.1.2. Consigli per l'uso"><div class="titlepage"><div><div><h3 class="title"><a name="tv-tips"></a>5.1.2. Consigli per l'uso</h3></div></div></div><p>
La lista completa delle opzioni è disponibile nella pagina di manuale.
Qui ci sono giusto alcuni consigli:

</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Usa l'opzione <tt class="option">channels</tt>. Un esempio:
  </p><pre class="screen">-tv channels=26-MTV1,23-TV2</pre><p>
  Spiegazione: con questa opzione, solo i canali 26 e 23 saranno
  utilizzabili. Ci sarà un simpatico testo OSD quando cambi canale, mostrante
  il nome del canale stesso. Gli spazi nel nome di canale devono essere
  sostituiti con il carattere "_".
</p></li><li class="listitem"><p>
  Scegli una sana dimensione dell'immagine. Le dimensioni dell'immagine
  risultante dovrebbero essere divisibili per 16.
</p></li><li class="listitem"><p>
  Se catturi il video con una risoluzione verticale maggiore di metà della
  risoluzione completa (per es. 288 per PAL o 240 per NTSC), allora i
  'fotogrammi' che otterrai saranno reali coppie interlacciate di campi.
  A seconda di quello che vuoi fare con il video puoi lasciarle in questa forma,
  deinterlacciarle distruttivamente, oppure spezzare le coppie in campi singoli.
  </p><p>
  In caso contrario otterrai un filmato che risulta distorto durante le scene
  ad alto movimento e il controllore della frequenza probabilmente sarà
  incapace di mantenere la frequenza specificata, visto che gli artefatti
  dell'interlacciamento producono un alto numero di dettagli e quindi occupano
  molta banda. Puoi abilitare il deinterlacciamento con
  <tt class="option">-vf pp=DEINT_TYPE</tt>. Solitamente <tt class="option">pp=lb</tt> fa un
  buon lavoro, ma può essere oggetto di preferenze personali.
  Vedi anche gli altri algoritmi di deinterlacciamento nel manuale e provali.
  </p></li><li class="listitem"><p>
  Taglia via le zone morte. Quando catturi video, le zone sui bordi spesso
  sono nere o contengono del disturbo. Questo consuma un sacco di banda non
  necessaria. Per essere precisi non sono le zone nere in sé, ma quel salto tra
  il nero e la parte chiara dell'immagine video che la sprecano, ma ciò non è
  importante per adesso. Prima di iniziare l'acquisizione, imposta gli
  argomenti dell'opzione <tt class="option">crop</tt> affinché tutta la porcheria ai
  margini venga tagliata via. E ancora, non dimenticarti di mantenere 'sane'
  le dimensioni dell'immagine risultante.
</p></li><li class="listitem"><p>
  Controlla il carico della CPU. Non dovrebbe oltrepassare il 90% nella
  maggior parte del tempo. Se hai un grosso buffer di cattura,
  <span class="application">MEncoder</span> può gestire un sovraccarico per pochi
  secondi, ma non di più. E' meglio disattivare screensaver 3D OpenGL e cose
  del genere.
</p></li><li class="listitem"><p>
  Non pacioccare con il clock di sistema. <span class="application">MEncoder</span>
  usa il clock di sistema per gestire la sincronizzazione A/V. Se tu modifichi
  il clock di sistema (specialmente all'indietro nel tempo),
  <span class="application">MEncoder</span> resta confuso e perderai dei
  fotogrammi. Questo è un fattore importante se sei collegato alla rete e usi
  un qualche software di sincronizzazione dell'ora come NTP. Dovresti
  disabilitare NTP durante il processo di acquisizione se vuoi che la cattura
  sia affidabile.
</p></li><li class="listitem"><p>
  Non modificare <tt class="option">outfmt</tt> (il formato di uscita) a meno che tu
  non sappia cosa stia facendo oppure la tua scheda/il tuo driver non supportino
  davvero quello di default (spazio colore YV12). Nelle precedenti versioni di
  <span class="application">MPlayer</span>/<span class="application">MEncoder</span>
  era necessario indicare il formato di uscita. Questo problema dovrebbe
  esser stato risolto nelle versioni correnti e outfmt non è più richiesto,
  e quello di default va bene la maggior parte delle volte. Per esempio, se stai
  catturando in DivX con <code class="systemitem">libavcodec</code> e
  specifichi <tt class="option">outfmt=RGB24</tt> per aumentare la qualità delle
  immagini acquisite, l'immagine stessa verraà comunque convertita di nuovo
  in YV12, perciò l'unica cosa che otterrai sarà spreco di CPU.
</p></li><li class="listitem"><p>
  Ci sono vari modi per la cattura dell'audio. Puoi acquisire il suono sia
  usando la tua scheda audio attraverso una connessione via cavo esterna tra la
  scheda video e il line-in, sia usando l'ADC integrato nel chip bt878.
  Nell'ultimo caso, devi caricare il driver
  <span class="bold"><strong>btaudio</strong></span>. Leggi il file
  <tt class="filename">linux/Documentation/sound/btaudio</tt> (nei sorgenti del
  kernel, non di <span class="application">MPlayer</span>) per alcune istruzioni su
  come usare tale driver.
</p></li><li class="listitem"><p>
  Se <span class="application">MEncoder</span> non può aprire il dispositivo audio,
  assicurati che sia veramente disponibile. Ci sono alcuni problemi con sound
  server come aRts (KDE) o ESD (GNOME). Se hai una scheda audio full duplex
  (quasi tutte le schede decenti lo supportano, ad oggi), e stai usando KDE,
  prova a controllare l'opzione "full duplex" nel menu preferenze del sound
  server.
</p></li></ul></div><p>
</p></div><div class="sect2" title="5.1.3. Esempi"><div class="titlepage"><div><div><h3 class="title"><a name="tv-examples"></a>5.1.3. Esempi</h3></div></div></div><div class="informalexample"><p>
Uscita fasulla, verso AAlib :)
</p><pre class="screen">mplayer -tv driver=dummy:width=640:height=480 -vo aa tv://</pre><p>
</p></div><div class="informalexample"><p>
Ingresso da V4L standard:
</p><pre class="screen">
mplayer -tv driver=v4l:width=640:height=480:outfmt=i420 -vc rawi420 -vo xv tv://
</pre><p>
</p></div><div class="informalexample"><p>
Un esempio più complesso. Questo fa sì che <span class="application">MEncoder</span>
catturi l'immagine PAL completa, tagli i margini, e deinterlacci l'immagine
usando un algoritmo di sfumatura lineare. L'audio viene compresso con una
frequenza costante di 64kbps, usando il codec LAME. Questa impostazione è
utilizzabile per acquisire film.
</p><pre class="screen">
mencoder -tv driver=v4l:width=768:height=576 -oac mp3lame -lameopts cbr:br=64\
    -ovc lavc -lavcopts vcodec=mpeg4:vbitrate=900 \
    -vf crop=720:544:24:16,pp=lb -o <em class="replaceable"><code>uscita.avi</code></em> tv://
</pre><p>
</p></div><div class="informalexample"><p>
Questo in più ridimensionerà l'immagine a 384x288 e comprimerà il video
con una frequenza di 350kbps in modalità ad alta qualità. L'opzione vqmax
rilascia il quantizzatore e permette al compressore video di raggiungere
davvero una così bassa frequenza anche a spese della qualità. Questo puà
essere usato per acquisire lunghe serie TV, dove la qualità video non è
così importante.
</p><pre class="screen">
mencoder -tv driver=v4l:width=768:height=576 \
    -ovc lavc -lavcopts vcodec=mpeg4:vbitrate=350:vhq:vqmax=31:keyint=300 \
    -oac mp3lame -lameopts cbr:br=48 -sws 1 -o <em class="replaceable"><code>uscita.avi</code></em>\
    -vf crop=720:540:24:18,pp=lb,scale=384:288 tv://
</pre><p>
E' anche possibile specificare dimensioni immagine inferiori nell'opzione
<tt class="option">-tv</tt> e omettere il ridimensionamento software ma questo
approccio usa la massima informazione disponibile ed è un po' più
resiliente ai disturbi. I chip bt8x8 possono calcolare la media dei pixel solo
sulla direzione orizzontale a causa di una limitazione hardware.
</p></div></div></div><div class="sect1" title="5.2. Televideo (teletext)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tv-teletext"></a>5.2. Televideo (teletext)</h2></div></div></div><p>
Il televideo è attualmente disponibile solo in
<span class="application">MPlayer</span> per i driver v4l e v4l2.
</p><div class="sect2" title="5.2.1. Note sull'implementazione"><div class="titlepage"><div><div><h3 class="title"><a name="tv-teletext-implementation-notes"></a>5.2.1. Note sull'implementazione</h3></div></div></div><p>
<span class="application">MPlayer</span> gestisce il testo normale, la grafica e i
collegamenti per la navigazione.
Sfortunatamente, le pagine colorate non sono ancora decodificate completamente -
tutte le pagine vengono mostrate in scala di grigi.
Vengono gestite anche le pagine dei sottotitoli (conosciute anche come
'Closed Captions').
</p><p>
<span class="application">MPlayer</span> inizia a memorizzare nella cache tutte le
pagine di televideo sin dall'inizio della ricezione dall'ingresso TV, perciò
non devi attendere fino a quando si carica la pagina voluta.
</p><p>
Nota: usare il televideo con <tt class="option">-vo xv</tt> genera strani colori.
</p></div><div class="sect2" title="5.2.2. Usare il televideo"><div class="titlepage"><div><div><h3 class="title"><a name="tv-teletext-usage"></a>5.2.2. Usare il televideo</h3></div></div></div><p>
Per abilitare la decodifica del televideo devi specificare il dispositivo VBI da
cui ottenere i dati televideo (solitamente <tt class="filename">/dev/vbi0</tt> per
Linux). Puoi fare ciò speificando <tt class="option">tdevice</tt> nel tuo file di
configurazione, come mostrato qui sotto:
</p><pre class="screen">tv=tdevice=/dev/vbi0</pre><p>
</p><p>
Potresti voler indicare il codice di lingua del televideo per la tua zona.
Per elencare tutti i codici di zona disponibili usa
</p><pre class="screen">tv=tdevice=/dev/vbi0:tlang=<em class="replaceable"><code>-1</code></em></pre><p>
Qui c'è un esempio per il russo:
</p><pre class="screen">tv=tdevice=/dev/vbi0:tlang=<em class="replaceable"><code>33</code></em></pre><p>
</p><p>
</p></div><div class="sect2" title="5.2.3. Tasti comando per il televideo"><div class="titlepage"><div><div><h3 class="title"><a name="tv-teletext-hotkeys"></a>5.2.3. Tasti comando per il televideo</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Tasto</th><th>Descrizione</th></tr></thead><tbody><tr><td>X</td><td>Abilita/disabilita il televideo</td></tr><tr><td>C</td><td>Passa attraverso le modalità di visione del televideo (opaco,
  trasparente, opaco invertito, trasparente invertito</td></tr><tr><td>Sinistra/Destra</td><td>Va alla pagina precedente/successiva del televideo</td></tr><tr><td>PaginaSu/PaginaGiù</td><td>Va alla sottopagina successiva/precedente del televideo</td></tr><tr><td>cifre</td><td>Indica il numero della pagina del televideo a cui andare</td></tr></tbody></table></div></div></div></div><div class="chapter" title="Capitolo 6. Radio"><div class="titlepage"><div><div><h2 class="title"><a name="radio"></a>Capitolo 6. Radio</h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="#radio-input">6.1. Ingresso radio</a></span></dt><dd><dl><dt><span class="sect2"><a href="#radio-compilation">6.1.1. Compilazione</a></span></dt><dt><span class="sect2"><a href="#radio-tips">6.1.2. Consigli per l'uso</a></span></dt><dt><span class="sect2"><a href="#radio-examples">6.1.3. Esempi</a></span></dt></dl></dd></dl></div><div class="sect1" title="6.1. Ingresso radio"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="radio-input"></a>6.1. Ingresso radio</h2></div></div></div><p>
Questa sezione tratta di come abilitare l'ascolto della radio da un
sintonizzatore compatibile V4L. Guarda la pagina man per una descrizione delle
opzioni e dei controlli di tastiera per la radio.
</p><div class="sect2" title="6.1.1. Compilazione"><div class="titlepage"><div><div><h3 class="title"><a name="radio-compilation"></a>6.1.1. Compilazione</h3></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Passo 1"><p>
  Per prima cosa devi compilare <span class="application">MPlayer</span> usando
  <tt class="filename">./configure</tt> con <tt class="option">--enable-radio</tt> e
  (se vuoi il supporto per la cattura) <tt class="option">--enable-radio-capture</tt>.
</p></li><li class="step" title="Passo 2"><p>
  Assicurati che il tuo sintonizzatore funzioni con altri software radio per
  Linux, per esempio <span class="application">XawTV</span>.
</p></li></ol></div></div><div class="sect2" title="6.1.2. Consigli per l'uso"><div class="titlepage"><div><div><h3 class="title"><a name="radio-tips"></a>6.1.2. Consigli per l'uso</h3></div></div></div><p>
La lista completa delle opzioni è disponibile nella pagina di manuale.
Qui ci sono giusto alcuni consigli:

</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Usa l'opzione <tt class="option">channels</tt>. Un esempio:
  </p><pre class="screen">-radio channels=104.4-Sibir,103.9-Maximum</pre><p>
  Spiegazione: con questa opzione, solo le stazioni radio 104.4 e 103.9 saranno
  utilizzabili. Ci sarà un simpatico testo OSD quando cambi canale, mostrante
  il nome del canale stesso. Gli spazi nel nome di canale devono essere
  sostituiti con il carattere "_".
</p></li><li class="listitem"><p>
  Ci sono vari modi per catturare l'audio. Puoi catturare il suono sia usando
  la tua scheda video attraverso un cavo di connessione esterno tra la scheda
  video e la line-in, ovvero usare l'ADC integrato nel chip saa7134.
  Nell'ultimo caso, devi caricare il driver
  <code class="systemitem">saa7134-alsa</code> o <code class="systemitem">saa7134-oss</code>.
</p></li><li class="listitem"><p>
  <span class="application">MEncoder</span> non può essere utilizzato per la cattura
  audio, poiché per funzionare richiede un flusso video. Per cui puoi usare o
  <span class="application">arecord</span> dal progetto ALSA oppure usare l'opzione
  <tt class="option">-ao pcm:file=file.wav</tt>. Nell'ultimo caso non sentirai suono
  alcuno (a meno che tu non stia usando un cavo line-in e abbia tolto il mute
  dal line-in).
</p></li></ul></div><p>
</p></div><div class="sect2" title="6.1.3. Esempi"><div class="titlepage"><div><div><h3 class="title"><a name="radio-examples"></a>6.1.3. Esempi</h3></div></div></div><div class="informalexample"><p>
Ingresso da V4L standard (usando un cavo su line-in, cattura disabilitata):
</p><pre class="screen">mplayer radio://104.4</pre><p>
</p></div><div class="informalexample"><p>
Ingresso da V4L standard (usando un cavo su line-in, cattura disabilitata,
interfaccia V4Lv1):
</p><pre class="screen">mplayer -radio driver=v4l radio://104.4</pre><p>
</p></div><div class="informalexample"><p>
Riprodurre il secondo canale della lista canali:
</p><pre class="screen">mplayer -radio channels=104.4=Sibir,103.9=Maximm radio://2</pre><p>
</p></div><div class="informalexample"><p>
Ridirigere il suono dall'ADC integrato della scheda radio al bus PCI.
In questo esempio il sintonizzatore viene usato come una seconda scheda audio
(ALSA device hw:1,0). Per schede basate su saa7134 deve esser caricato il modulo
<code class="systemitem">saa7134-alsa</code> o <code class="systemitem">saa7134-oss</code>.
</p><pre class="screen">
mplayer -rawaudio rate=32000 radio://2/capture \
    -radio adevice=hw=1.0:arate=32000:channels=104.4=Sibir,103.9=Maximm
</pre><p>
</p><div class="note" title="Nota" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
Usando i nomi dispositivi ALSA, i due punti devono esser sostituiti con il
segno di uguale, le virgole con punti.
</p></div><p>
</p></div></div></div></div><div class="chapter" title="Capitolo 7. Dispositivi di uscita video"><div class="titlepage"><div><div><h2 class="title"><a name="video"></a>Capitolo 7. Dispositivi di uscita video</h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="#mtrr">7.1. Impostare gli MTRR</a></span></dt><dt><span class="sect1"><a href="#xv">7.2. Xv</a></span></dt><dd><dl><dt><span class="sect2"><a href="#tdfx">7.2.1. Schede 3dfx</a></span></dt><dt><span class="sect2"><a href="#s3">7.2.2. Schede S3</a></span></dt><dt><span class="sect2"><a href="#nvidia">7.2.3. Schede nVidia</a></span></dt><dt><span class="sect2"><a href="#ati">7.2.4. Schede ATI</a></span></dt><dt><span class="sect2"><a href="#neomagic">7.2.5. Schede NeoMagic</a></span></dt><dt><span class="sect2"><a href="#trident">7.2.6. Schede Trident</a></span></dt><dt><span class="sect2"><a href="#kyro">7.2.7. Schede Kyro/PowerVR</a></span></dt><dt><span class="sect2"><a href="#intel">7.2.8. Schede Intel</a></span></dt></dl></dd><dt><span class="sect1"><a href="#dga">7.3. DGA</a></span></dt><dt><span class="sect1"><a href="#sdl">7.4. SDL</a></span></dt><dt><span class="sect1"><a href="#svgalib">7.5. SVGAlib</a></span></dt><dt><span class="sect1"><a href="#fbdev">7.6. Uscita su framebuffer (FBdev)</a></span></dt><dt><span class="sect1"><a href="#mga_vid">7.7. Framebuffer Matrox (mga_vid)</a></span></dt><dt><span class="sect1"><a href="#tdfxfb">7.8. Supporto YUV per 3Dfx</a></span></dt><dt><span class="sect1"><a href="#tdfx_vid">7.9. tdfx_vid</a></span></dt><dt><span class="sect1"><a href="#opengl">7.10. Uscita OpenGL</a></span></dt><dt><span class="sect1"><a href="#aalib">7.11. AAlib – Visualizzazione in modalità testuale</a></span></dt><dt><span class="sect1"><a href="#caca">7.12. 
<code class="systemitem">libcaca</code> – Libreria Color ASCII Art
</a></span></dt><dt><span class="sect1"><a href="#vesa">7.13. VESA - uscita attraverso il VESA BIOS</a></span></dt><dt><span class="sect1"><a href="#x11">7.14. X11</a></span></dt><dt><span class="sect1"><a href="#vidix">7.15. VIDIX</a></span></dt><dd><dl><dt><span class="sect2"><a href="#svgalib_helper">7.15.1. svgalib_helper</a></span></dt><dt><span class="sect2"><a href="#vidix-ati">7.15.2. Schede ATI</a></span></dt><dt><span class="sect2"><a href="#vidix-mga">7.15.3. Schede Matrox</a></span></dt><dt><span class="sect2"><a href="#vidix-trident">7.15.4. Schede Trident</a></span></dt><dt><span class="sect2"><a href="#vidix-3dlabs">7.15.5. Schede 3DLabs</a></span></dt><dt><span class="sect2"><a href="#vidix-nvidia">7.15.6. Schede nVidia</a></span></dt><dt><span class="sect2"><a href="#vidix-sis">7.15.7. Schede SiS</a></span></dt></dl></dd><dt><span class="sect1"><a href="#directfb">7.16. DirectFB</a></span></dt><dt><span class="sect1"><a href="#dfbmga">7.17. DirectFB/Matrox (dfbmga)</a></span></dt><dt><span class="sect1"><a href="#mpeg_decoders">7.18. Decodificatori MPEG</a></span></dt><dd><dl><dt><span class="sect2"><a href="#dvb">7.18.1. Uscita e ingresso DVB</a></span></dt><dt><span class="sect2"><a href="#dxr2">7.18.2. DXR2</a></span></dt><dt><span class="sect2"><a href="#dxr3">7.18.3. DXR3/Hollywood+</a></span></dt></dl></dd><dt><span class="sect1"><a href="#other">7.19. Altri dispositivi di visualizzazione</a></span></dt><dd><dl><dt><span class="sect2"><a href="#zr">7.19.1. Zr</a></span></dt><dt><span class="sect2"><a href="#blinkenlights">7.19.2. Blinkenlights</a></span></dt></dl></dd><dt><span class="sect1"><a href="#tvout">7.20. Gestione uscita TV-out</a></span></dt><dd><dl><dt><span class="sect2"><a href="#tvout-mga-g400">7.20.1. Schede Matrox G400</a></span></dt><dt><span class="sect2"><a href="#tv-out_matrox_g450">7.20.2. Schede Matrox G450/G550</a></span></dt><dt><span class="sect2"><a href="#tv-out_matrox_cable">7.20.3. Costruire un cavo per l'uscita TV Matrox</a></span></dt><dt><span class="sect2"><a href="#tvout-ati">7.20.4. Schede ATI</a></span></dt><dt><span class="sect2"><a href="#tvout-nvidia">7.20.5. nVidia</a></span></dt><dt><span class="sect2"><a href="#tvout-neomagic">7.20.6. NeoMagic</a></span></dt></dl></dd></dl></div><div class="sect1" title="7.1. Impostare gli MTRR"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mtrr"></a>7.1. Impostare gli MTRR</h2></div></div></div><p>
Si consiglia vivamente di controllare che i registri MTRR siano impostati
correttamente, al fine di migliorare molto le prestazioni.
</p><p>
Fai un <span class="command"><strong>cat /proc/mtrr</strong></span>:
</p><pre class="screen">
<code class="prompt">--($:~)--</code> cat /proc/mtrr
reg00: base=0xe4000000 (3648MB), size=  16MB: write-combining, count=9
reg01: base=0xd8000000 (3456MB), size= 128MB: write-combining, count=1</pre><p>
</p><p>
E' giusto, mostra la mia Matrox G400 con 16MB di memoria. L'ho fatto da
XFree 4.x.x, che imposta i registri MTRR automaticamente.
</p><p>
Se non ha funzionato, devi farlo a mano. Per prima cosa, devi trovare
l'indirizzo di base. Hai 3 modi per trovarlo:

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
  dai messaggi di avvio di X11, per esempio:
  </p><pre class="screen">
(--) SVGA: PCI: Matrox MGA G400 AGP rev 4, Memory @ 0xd8000000, 0xd4000000
(--) SVGA: Linear framebuffer at 0xD8000000</pre><p>
</p></li><li class="listitem"><p>
  da <tt class="filename">/proc/pci</tt> (usa il comando
  <span class="command"><strong>lspci -v</strong></span>):
  </p><pre class="screen">
01:00.0 VGA compatible controller: Matrox Graphics, Inc.: Unknown device 0525
Memory at d8000000 (32-bit, prefetchable)</pre><p>
</p></li><li class="listitem"><p>
  dai messaggi del driver del kernel mga_vid (usa <span class="command"><strong>dmesg</strong></span>):
  </p><pre class="screen">mga_mem_base = d8000000</pre><p>
</p></li></ol></div><p>
</p><p>
Ora troviamo la dimensione della memoria. Questo è molto facile, converti
semplicemente la video RAM in esadecimale, o usa questa tabella:
</p><div class="informaltable"><table border="0"><colgroup><col><col></colgroup><tbody><tr><td>1 MB</td><td>0x100000</td></tr><tr><td>2 MB</td><td>0x200000</td></tr><tr><td>4 MB</td><td>0x400000</td></tr><tr><td>8 MB</td><td>0x800000</td></tr><tr><td>16 MB</td><td>0x1000000</td></tr><tr><td>32 MB</td><td>0x2000000</td></tr></tbody></table></div><p>
</p><p>
Ora che sai l'indirizzo di base e la dimensione della memoria, impostiamo i
registri MTRR!
Per esempio, per la scheda Matrox suddetta (<code class="literal">base=0xd8000000</code>)
con 32MB di ram (<code class="literal">size=0x2000000</code>) esegui semplicemente:
</p><pre class="screen">
echo "base=0xd8000000 size=0x2000000 type=write-combining" &gt; /proc/mtrr
</pre><p>
</p><p>
Non tutte le CPU hanno gli MTRR. Per esempio le CPU K6-2 più vecchie (intorno
ai 266MHz, stepping 0) non hanno degli MTRR, ma gli stepping 12 invece sì
(esegui <span class="command"><strong>cat /proc/cpuinfo</strong></span> per verificarlo).
</p></div><div class="sect1" title="7.2. Xv"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="xv"></a>7.2. Xv</h2></div></div></div><p>
In XFree86 4.0.2 o successivi, puoi utilizzare le funzioni YUV hardware della
tua scheda usando l'estensione XVideo. Questo è quello che fa l'opzione
<tt class="option">-vo xv</tt>. Inoltre, il driver supporta l'impostazione di
luminosità/contrasto/tonalità/etc (a meno che tu non usi il vecchio e
lento codec DirectShow DivX, che le supporta ovunque), vedi la pagina man.
</p><p>
In order to make this work, be sure to check the following:
Per far sì che funzioni, assicurati di controllare le seguenti:

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
  Che tu usi XFree86 4.0.2 o superiore (le versioni precedenti non hanno XVideo)
</p></li><li class="listitem"><p>
  Che la tua scheda supporti l'accelerazione hardware (le schede moderne
  la supportano)
</p></li><li class="listitem"><p>
  Che X carichi l'estensione XVideo, è un qualcosa del genere:
  </p><pre class="programlisting">(II) Loading extension XVideo</pre><p>
  in <tt class="filename">/var/log/XFree86.0.log</tt>
  </p><div class="note" title="Nota" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
   Questo carica solo l'estensione per XFree86. In una buona installazione
   viene sempre caricata, e non significa che il supporto per l'XVideo della
   <span class="bold"><strong>scheda</strong></span> sia presente!
  </p></div><p>
</p></li><li class="listitem"><p>
  Che la tua scheda abbia il supporto Xv sotto Linux. Per controllare, prova con
  <span class="command"><strong>xvinfo</strong></span>, è parte della distribuzione di XFree86. Dovrebbe
  mostrarti un lungo testo, simile al seguente:
  </p><pre class="screen">
X-Video Extension version 2.2
screen #0
  Adaptor #0: "Savage Streams Engine"
    number of ports: 1
    port base: 43
    operations supported: PutImage
    supported visuals:
      depth 16, visualID 0x22
      depth 16, visualID 0x23
    number of attributes: 5
(...)
    Number of image formats: 7
      id: 0x32595559 (YUY2)
        guid: 59555932-0000-0010-8000-00aa00389b71
        bits per pixel: 16
        number of planes: 1
        type: YUV (packed)
      id: 0x32315659 (YV12)
        guid: 59563132-0000-0010-8000-00aa00389b71
        bits per pixel: 12
        number of planes: 3
        type: YUV (planar)
(...etc...)</pre><p>
  Deve supportare i formati pixel YUY2 packed e YV12 planar per poter essere
  utilizzabile con <span class="application">MPlayer</span>.
</p></li><li class="listitem"><p>
  E infine, controlla che <span class="application">MPlayer</span> sia stato compilato
  col supporto per 'xv'. Lancia un <span class="command"><strong>mplayer -vo help | grep xv </strong></span>.
  Se il supporto per 'xv' è compilato, dovrebbe uscire una linea come la
  seguente:
  </p><pre class="screen">  xv      X11/Xv</pre><p>
</p></li></ol></div><p>
</p><div class="sect2" title="7.2.1. Schede 3dfx"><div class="titlepage"><div><div><h3 class="title"><a name="tdfx"></a>7.2.1. Schede 3dfx</h3></div></div></div><p>
I vecchi driver 3dfx avevano notoriamente dei problemi con l'accelerazione
XVideo, non erano compatibili con gli spazi colore YV12 e YUY2. Verifica di
avere XFree86 4.2.0 o superiore, può gestire YV12 e YUY2, mentre le versioni
precedenti, 4.1.0 incluso,
<span class="bold"><strong>vanno in crash con YV12</strong></span>. Se hai degli strani
risultati usando <tt class="option">-vo xv</tt>, prova SDL (anch'essa ha XVideo) e vedi
se aiuta. Controlla la sezione su <a class="link" href="#sdl" title="7.4. SDL">SDL</a> per i dettagli.
</p><p>
<span class="bold"><strong>OPPURE</strong></span>, prova il NUOVO driver
<tt class="option">-vo tdfxfb</tt>! Vedi la sezione
<a class="link" href="#tdfxfb" title="7.8. Supporto YUV per 3Dfx">tdfxfb</a>
</p></div><div class="sect2" title="7.2.2. Schede S3"><div class="titlepage"><div><div><h3 class="title"><a name="s3"></a>7.2.2. Schede S3</h3></div></div></div><p>
Le S3 Savage3D dovrebbero funzionare bene, ma per le Savage4, usa XFree86 4.0.3
o superiore (nel caso tu abbia problemi di immagini, prova a 16bpp). Per le
S3 Virge invece: c'è il supporto per xv, ma la scheda in sé è molto lenta,
per cui ti conviene venderla.
</p><p>
Non c'è un driver framebuffer nativo per le schede S3 Virge simile a tdfxfb.
Configura il tuo framebuffer (per es. aggiungi
"<tt class="option">vga=792 video=vesa:mtrr</tt>" alla riga di avvio del kernel) e usa
<tt class="option">-vo s3fb</tt> (<tt class="option">-vf yuy2</tt> e <tt class="option">-dr</tt>
aiutano).
</p><div class="note" title="Nota" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
Non è ben chiaro il perché i modelli Savage non abbiano il supporto YV12 e
facciano la conversione con il driver (lento). Se pensi sia colpa della scheda,
cerca un driver più recente, o chiedi gentilmente di un driver abilitato
MMX/3DNow! sulla mailing list MPlayer-users.
</p></div></div><div class="sect2" title="7.2.3. Schede nVidia"><div class="titlepage"><div><div><h3 class="title"><a name="nvidia"></a>7.2.3. Schede nVidia</h3></div></div></div><p>
nVidia non è sempre una scelta molto buona sotto Linux... Il driver
open-source di XFree86 supporta la maggior parte di queste schede, ma in alcuni
casi, dovrai usare il driver proprietario a sorgenti chiusi di nVidia,
disponibile sul
<a class="ulink" href="http://www.nvidia.com/object/linux.html" target="_top">sito nVidia</a>.
Ti servirà sempre questo driver anche se vuoi l'accelerazione 3D.
</p><p>
Le schede Riva128 non hanno il supporto XVideo con il driver nVidia di
XFree86 :(
Lamentati con nVidia.
</p><p>
Tuttavia, <span class="application">MPlayer</span> contiene un driver
<a class="link" href="#vidix" title="7.15. VIDIX">VIDIX</a> per la maggior parte delle schede nVidia.
Attualmente è a livello di sviluppo beta e ha alcuni problemi. Per
ulteriori informazioni, vedi la sezione
<a class="link" href="#vidix-nvidia" title="7.15.6. Schede nVidia">VIDIX nVidia</a>.
</p></div><div class="sect2" title="7.2.4. Schede ATI"><div class="titlepage"><div><div><h3 class="title"><a name="ati"></a>7.2.4. Schede ATI</h3></div></div></div><p>
Il <a class="ulink" href="http://gatos.sf.net" target="_top">driver GATOS</a>
(che dovresti usare a meno che tu non abbia una Rage128 o una Radeon) di
default ha il VSYNC abilitato. Ciò significa che la velocità di decodifica
(!) è sincronizzata alla frequenza di aggiornamento del monitor. Se la
riproduzione ti pare lenta, prova a disabilitare in qualche modo VSYNC, o ad
impostare la frequenza di aggiornamento a n*(fps del film) Hz.
</p><p>
Read the <a class="link" href="#vidix" title="7.15. VIDIX">VIDIX</a> section.
Radeon VE - se ti serve X, per questa scheda usa XFree86 4.2.0 o superiore.
Il TV out non è supportato. Ovviamente con <span class="application">MPlayer</span>
puoi felicemente avere un display <span class="bold"><strong>accelerato</strong></span>,
con o senza l'<span class="bold"><strong>uscita TV</strong></span>, e non servono
librerie né X.
Leggi la sezione <a class="link" href="#vidix" title="7.15. VIDIX">VIDIX</a>.
</p></div><div class="sect2" title="7.2.5. Schede NeoMagic"><div class="titlepage"><div><div><h3 class="title"><a name="neomagic"></a>7.2.5. Schede NeoMagic</h3></div></div></div><p>
Queste schede si possono trovare in molti portatili. Devi usare XFree86 4.3.0 o
superiore, o alternativamente usare i
<a class="ulink" href="http://www.mplayerhq.hu/MPlayer/contrib/NeoMagic-driver/" target="_top">driver con Xv</a>
di Stefan Seyfried.
Scegli semplicemente quello che ti serve in base alla tua versione di XFree86.
</p><p>
XFree86 4.3.0 include il supporto per Xv, caomunque Bohdan Horst ha postato
una piccola <a class="ulink" href="http://www.mplayerhq.hu/MPlayer/contrib/NeoMagic-driver/neo_driver.patch" target="_top">patch</a> ai sorgenti di XFree86 che velocizza fino a
quattro volte le operazioni sul framebuffer (quindi XVideo).
La patch è stata poi incorporata in XFree86 CVS e dovrebbe esserci nei rilasci
successivi al 4.3.0.
</p><p>
Per permettere la riproduzione di contenuti della dimensione DVD, modifica il
tuo XF86Config in questo modo:
</p><pre class="programlisting">
Section "Device"
    [...]
    Driver "neomagic"
    <span class="emphasis"><em>Option "OverlayMem" "829440"</em></span>
    [...]
EndSection</pre><p>
</p></div><div class="sect2" title="7.2.6. Schede Trident"><div class="titlepage"><div><div><h3 class="title"><a name="trident"></a>7.2.6. Schede Trident</h3></div></div></div><p>
Se vuoi usare Xv con una scheda Trident, assunto il fatto che con 4.1.0 non
funziona, intalla Xfree 4.2.0. Il 4.2.0 aggiunge il supporto per Xv a schermo
intero con la scheda Cyberblade XP.
</p><p>
Alternativamente, <span class="application">MPlayer</span> contiene un driver
<a class="link" href="#vidix" title="7.15. VIDIX">VIDIX</a> per le schede Cyberblade/i1.
</p></div><div class="sect2" title="7.2.7. Schede Kyro/PowerVR"><div class="titlepage"><div><div><h3 class="title"><a name="kyro"></a>7.2.7. Schede Kyro/PowerVR</h3></div></div></div><p>
Se vuoi usare Xv con una scheda basata su Kyro (per esempio la Hercules
Prophet 4000XT), dovresti scaricare i driver dal
<a class="ulink" href="http://www.powervr.com/" target="_top">sito di PowerVR</a>.
</p></div><div class="sect2" title="7.2.8. Schede Intel"><div class="titlepage"><div><div><h3 class="title"><a name="intel"></a>7.2.8. Schede Intel</h3></div></div></div><p>
Queste schede si possono trovare in molti portatili. Si consiglia un Xorg
recente.
</p><p>
Per permettere la riproduzione di contenuti a dimensione DVD (o superiore)
modifica il tuo file di configurazione XF86Config/xorg.conf nel modo seguente:
</p><pre class="programlisting">
Section "Device"
    [...]
    Driver "intel"
    <span class="emphasis"><em>Option "LinearAlloc" "6144"</em></span>
    [...]
EndSection
</pre><p>
L'assenza di questa opzione di solito porta a un errore del tipo
</p><pre class="screen">X11 error: BadAlloc (insufficient resources for operation)</pre><p>
quando si cerca di usare <tt class="option">-vo xv</tt>.
</p></div></div><div class="sect1" title="7.3. DGA"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dga"></a>7.3. DGA</h2></div></div></div><p title="PREAMBOLO"><b>PREAMBOLO. </b>
Questa documento cerca di spiegare in poche parole cosa sia DGA e cosa possa
fare (e cosa no) il driver di uscita video DGA di
<span class="application">MPlayer</span>.
</p><p title="COS'E' DGA"><b>COS'E' DGA. </b>
<acronym class="acronym">DGA</acronym> è il nome breve di <span class="emphasis"><em>Direct Graphics
Access</em></span> (accesso grafico diretto) ed è un modo per fa sì
che un programma scavalchi l'X server e modifichi direttamente la memoria
del framebuffer. In termini tecnici la memoria del framebuffer viene
rimappata nello spazio di memoria del tuo processo.
Questo è permesso dal kernel solo se hai provilegi di superutente. Puoi averli
o autenticandoti come <code class="systemitem">root</code> o
impostando il bit SUID sull'eseguibile di <span class="application">MPlayer</span>
(<span class="bold"><strong>sconsigliato</strong></span>).
</p><p>
Ci sono due versioni di DGA: DGA1 usato da XFree 3.x.x e DGA2 che è stato
introdotto con XFree 4.0.1.
</p><p>
DGA1 fornisce solamente accesso diretto al framebuffer come descritto sopra.
Per modificare la risoluzione del segnale video devi affidarti all'estensione
XVidMode.
</p><p>
DGA2 include le funzionalità dell'estensione XVidMode e inoltre permette la
modifica della profondità di colore del display. Così, anche se stai facendo
girare un X server con profondità di 32 bit, puoi passare a una di 15 e
viceversa.
</p><p>
Tuttavia DGA ha dei punti deboli. Sembra sia in qualche modo dipendente dal
chip grafico utilizzato e dall'implementazione del driver video dell'X server
che controlla tale chip. Per cui non funziona su tutti i sistemi...
</p><p title="INSTALLARE IL SUPPORTO PER DGA IN MPLAYER"><b>INSTALLARE IL SUPPORTO PER DGA IN MPLAYER. </b>
Per prima cosa assicurati che X carichi l'estensione DGA, guarda in
<tt class="filename">/var/log/XFree86.0.log</tt>:

</p><pre class="programlisting">(II) Loading extension XFree86-DGA</pre><p title="INSTALLARE IL SUPPORTO PER DGA IN MPLAYER">

Attenzione, si <span class="bold"><strong>consiglia vivamente </strong></span>
XFree86 4.0.x o superiore!
Il driver DGA di <span class="application">MPlayer</span> viene rilevato
automaticamente da <tt class="filename">./configure</tt>, ovvero puoi forzarlo
con <tt class="option">--enable-dga</tt>.
</p><p>
Se il driver non è riuscito a reimpostare una risoluzione inferiore, fai delle
prove con le opzioni <tt class="option">-vm</tt> (solo con X 3.3.x),
<tt class="option">-fs</tt>, <tt class="option">-bpp</tt>, <tt class="option">-zoom</tt> per trovare
una modalità video in cui ci stia il film. Per ora non c'è un convertitore :(
</p><p>
Diventa <code class="systemitem">root</code>. A DGA serve l'accesso
da root per essere in grado di scrivere direttamente sulla memoria video. Se
vuoi eseguirlo come utente, allora installa <span class="application">MPlayer</span>
SUID root:

</p><pre class="screen">
chown root <em class="replaceable"><code>/usr/local/bin/mplayer</code></em>
chmod 750 <em class="replaceable"><code>/usr/local/bin/mplayer</code></em>
chmod +s <em class="replaceable"><code>/usr/local/bin/mplayer</code></em>
</pre><p>

Ora funziona anche da utente normale.
</p><div class="caution" title="Rischi di sicurezza" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Rischi di sicurezza</h3><p>
Questo porta un <span class="bold"><strong>grosso</strong></span> rischio di sicurezza!
Non farlo <span class="bold"><strong>mai</strong></span> su un server o su un computer
che può essere utilizzato da altre persone, perché si possono ottenere
privilegi di root attraverso <span class="application">MPlayer</span> SUID root.
</p></div><p>
Ora usa l'opzione <tt class="option">-vo dga</tt>, e sei a cavallo! (speralo:)
Potresti anche provare se ti funziona l'opzione
<tt class="option">-vo sdl:driver=dga</tt>!
E' molto più veloce!
</p><p title="MODIFICARE LA RISOLUZIONE"><a name="dga-modelines"></a><b>MODIFICARE LA RISOLUZIONE. </b>
Il driver DGA permette la modifica della risoluzione del segnale di uscita.
Questo evita la necessità di eseguire un (lento) ridimensionamento software e
allo stesso tempo fornisce un'immagine a schermo pieno. Idealmente dovrebbe
ridimensionarsi alla risoluzione precisa (rispettando il rapporto di aspetto)
dei dati video, ma l'X server permette solo di impostare le risoluzioni
precedentemente definite in <tt class="filename">/etc/X11/XF86Config</tt>
(<tt class="filename">/etc/X11/XF86Config-4</tt> per XFree 4.X.X).
Queste ultime sono conosciute come "modelines" e dipendono dalle potenzialità
del tuo hardware video. Il server X legge questo file di configurazione
all'avvio e disabilita le modelines incompatibili col tuo hardware.
Puoi scoprire quali modalità ti restano attraverso il file di log di X11.
Si può trovare qui: <tt class="filename">/var/log/XFree86.0.log</tt>.
</p><p>
Queste modalità si sa che funzionano correttamente con un chip Riva128,
usando il driver nv.o del server X.
</p><pre class="programlisting">
Section "Modes"
  Identifier "Modes[0]"
  Modeline "800x600"  40     800 840 968 1056  600 601 605 628
  Modeline "712x600"  35.0   712 740 850 900   400 410 412 425
  Modeline "640x480"  25.175 640 664 760 800   480 491 493 525
  Modeline "400x300"  20     400 416 480 528   300 301 303 314 Doublescan
  Modeline "352x288"  25.10  352 368 416 432   288 296 290 310
  Modeline "352x240"  15.750 352 368 416 432   240 244 246 262 Doublescan
  Modeline "320x240"  12.588 320 336 384 400   240 245 246 262 Doublescan
EndSection
</pre><p title="DGA &amp; MPLAYER"><b>DGA &amp; MPLAYER. </b>
DGA is used in two places with <span class="application">MPlayer</span>: The SDL
driver can be made to make use of it (<tt class="option">-vo sdl:driver=dga</tt>) and
within the DGA driver (<tt class="option">-vo dga</tt>). The above said is true
for both; in the following sections I'll explain how the DGA driver for
<span class="application">MPlayer</span> works.
DGA viene usato con <span class="application">MPlayer</span> in due posti: può
essere usato attraverso il driver SDL (<tt class="option">-vo sdl:driver=dga</tt>) e
con il driver DGA (<tt class="option">-vo dga</tt>). Quanto detto sopra è valido per
entrambi; nei paragrafi seguenti viene spiegato come il driver DGA funziona per
<span class="application">MPlayer</span>.

</p><p title="CARATTERISTICHE"><b>CARATTERISTICHE. </b>
Il driver DGA viene utilizzato specificando <tt class="option">-vo dga</tt> sulla riga
comando. Il comportamento di default è di passare ad una risoluzione il più
vicino possibile a quella originaria del video. Ignora volutamente le opzioni
<tt class="option">-vm</tt> e <tt class="option">-fs</tt> (abilitazione ridimensionamento
video e schermo intero) - cerca sempre di coprire la più vasta area possibile
dello schermo reimpostando la modalità video, evitando così di sprecare cicli
della CPU per ridimensionare l'immagine. Se la modalità video selezionata non
ti piace, puoi forzarlo a scegliere la modalità più prossima alla risoluzione
specificata con <tt class="option">-x</tt> e <tt class="option">-y</tt>. Impostando l'opzione
<tt class="option">-v</tt>, il driver DGA emetterà, tra una sacco ci altre cose,
un'elenco delle risoluzioni supportate dal tuo file
<tt class="filename">XF86Config</tt>. Se hai DGA2, puoi anche forzarlo ad utilizzare
una data profondità usando l'opzione <tt class="option">-bpp</tt>. Profondità
valide sono 15, 16, 24 e 32. Se queste profondità siano supportate nativamente
oppure se debba venir effettuata una conversione (eventualmente lenta), dipende
dal tuo hardware.
</p><p>
Se dovessi essere abbastanza fortunato da avere sufficiente memoria fuori dalla
visualizzazione per poterci far stare un'immagine intera, il driver DGA userà
un buffering doppio, fornendo una riproduzione più fluida. Ti dirà quando il
doppio buffering sarà abilitato o no.
</p><p>
"Doppio buffering" significa che il fotogramma successivo del video viene
disegnato nella memoria fuori dello schermo, mentre il fotogramma corrente
viene mostrato. Quando il fotogramma successivo è pronto, il chip grafico
rivece solo l'indirizzo in memoria del nuovo fotogramma e semplicemente prende
da là i dati da mostrare. Nel frattempo l'altro buffer di memoria viene
riempito con altri dati video.
</p><p>
Il doppio buffering può venir abilitato usando l'opzione
<tt class="option">-double</tt> e disabilitato con <tt class="option">-nodouble</tt>.
L'opzione attuale di default è di disabilitarlo. Usando il driver DGA, la
visualizzazione dati su schermo (OSD, onscreen display) funziona solo con il
doppio buffering abilitato. In ogni caso, abilitare il doppio buffering può
portare una pesante penalizzazione della velocità (sul mio K6-II+ 525 usa
un ulteriore 20% di tempo di CPU) in dipendenza dall'implementazione per DGA
del tuo hardware.
</p><p title="PROBLEMI DI VELOCITA'"><b>PROBLEMI DI VELOCITA'. </b>
In generale, l'accesso DGA al framebuffer dovrebbe essere almeno veloce quanto
utilizzare il driver X11, con il beneficio aggiunto di ottenere un'immagine a
schermo intero. I valori di velocità percentuale emessi da
<span class="application">MPlayer</span> devono essere interpretati con un po' di
attenzione, dato che per esempio con il driver X11 non includono il tempo usato
dal server X per il disegno effettivo. Attacca un terminale sulla seriale della
tua macchina e lancia <span class="command"><strong>top</strong></span> per vedere cosa stia davvero
succedendo.
</p><p>
In linea di massima, l'aumento di velocità usando DGA rispetto all'utilizzo
'normale' di X11 dipende fortemente dalla tua scheda video e da quanto bene il
relativo modulo del server X sia ottimizzato.
</p><p>
Se hai un sistema lento, è meglio usare una profondità di 15 o 16 bit, visto
che richiedono solo la metà della banda di memoria di una visualizzazion a
32 bit.
</p><p>
Usare una profondità di 24 è una buona idea anche se la tua scheda supporta
nativamente solo quella a 32 bit, dato che trasferisce il 25% dei dati in meno
rispetto alla modalità a 32/32.
</p><p>
Ho visto alcuni file AVI riprodotti su Pentium MMX 266. Le CPU AMD K6-2 possono
lavorare a 400 MHz e oltre.
</p><p title="PROBLEMI/BACHI CONOSCIUTI"><b>PROBLEMI/BACHI CONOSCIUTI. </b>
Bene, secondo gli sviluppatori di XFree, DGA è quasi una bestia. Ti dicono che
è meglio non usarla. La sua implementazione non è sempre perfetta con tutti i
driver dei chip per XFree che ci sono là fuori.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Con XFree 4.0.3 e <tt class="filename">nv.o</tt> c'è un baco che porta ad avere
  strani colori.
</p></li><li class="listitem"><p>
  I driver ATI hanno bisogno che la modalità sia reimpostata più di una
  volta dopo aver utilizzato DGA.
</p></li><li class="listitem"><p>
  Alcuni driver semplicemente non riescono a tornare alla risoluzione normale
  (Usa
  <span class="keycap"><b>Ctrl</b></span>+<span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>Keypad +</b></span>
  e
  <span class="keycap"><b>Ctrl</b></span>+<span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>Keypad -</b></span>
  per cambiarla manualmente).
</p></li><li class="listitem"><p>
  Alcuni driver semplicemente mostrano strani colori.
</p></li><li class="listitem"><p>
  Alcuni driver mentono riguardo alla memoria che mappano nello spazio
  indirizzi del processo, perciò vo_dga non usa il doppio buffering (SIS?).
</p></li><li class="listitem"><p>
  Alcuni driver sembra che falliscano nel fornire almeno una modalità valida.
  In questo caso il driver DGA andrà in crash raccontandoti di una modalità
  senza senso tipo 100000x100000 o qualcosa di simile.
</p></li><li class="listitem"><p>
  L'OSD funziona solo col doppio buffering abilitato (altrimenti sfarfalla).
</p></li></ul></div></div><div class="sect1" title="7.4. SDL"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="sdl"></a>7.4. SDL</h2></div></div></div><p>
<acronym class="acronym">SDL</acronym> (Simple Directmedia Layer) è praticamente un'interfaccia
unificata audio/video. I programmi che la usano non sanno che driver video o
audio SDL usi davvero, ma conoscono solo l'interfaccia. Per esempio un porting
di Doom che usi SDL può girara sopra a svgalib, aalib, X, fbdev e altro, devi
semplicemente specificare (per esempio) il driver video da usare attraverso la
variabile d'ambiente <code class="envar">SDL_VIDEODRIVER</code>. In teoria, perlomeno.
</p><p>
Con <span class="application">MPlayer</span>, usiamo la sua potenzialità di
ridimensionamento via software del driver di X11 per le schede che non
gestiscono XVideo, fino a quando non faremo il nostro (più veloce, più bello)
ridimensionatore software. Abbiamo anche usato la sua uscita per aalib, ma ora
abbiamo la nostra che è più comoda. La sua modalità per DGA era migliore
della nostra fino a poco tempo fa. Hai capito, no? :)
</p><p>
Aiuta anche con alcuni driver/schede bacate, se il video è scattoso (non per
problemi di sistema lento) oppure l'audio è saltellante.
</p><p>
L'uscita video SDL supporta la visualizzazione dei sottotitoli sotto al filmato
ovvero sulla striscia nera (se presente).
</p></div><div class="sect1" title="7.5. SVGAlib"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="svgalib"></a>7.5. SVGAlib</h2></div></div></div><p title="INSTALLAZIONE"><b>INSTALLAZIONE. </b>
Affinché <span class="application">MPlayer</span> compili il suo driver per SVGAlib
(autorilevato, ma può essere forzato), devi installare svgalib e il suo
pacchetto di sviluppo e non dimenticare di modificare
<tt class="filename">/etc/vga/libvga.config</tt> in modo che corrisponda alla tua
scheda e al tuo monitor.
</p><div class="note" title="Nota" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
Assicurati di non usare l'opzione <tt class="option">-fs</tt>, dato che attiva
l'utilizzo del ridimensionatore software, ed è lento. Se davvero ti serve, usa
l'opzione <tt class="option">-sws 4</tt>, che porterà una bassa qualità, ma è in
qualche modo più veloce.
</p></div><p title="SUPPORTO PER EGA (4BPP)"><b>SUPPORTO PER EGA (4BPP). </b>
SVGAlib include EGAlib, e <span class="application">MPlayer</span> ha la possibilità
di mostrare qualsiasi filmato in 16 colori, utilizzabile in queste situazioni:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Scheda EGA con monitor EGA: 320x200x4bpp, 640x200x4bpp, 640x350x4bpp
</p></li><li class="listitem"><p>
  Scheda EGA con monitor CGA: 320x200x4bpp, 640x200x4bpp
</p></li></ul></div><p>
Il valore dei bpp (bit per pixel) deve essere impostato a 4 manualmente:
<tt class="option">-bpp 4</tt>
</p><p>
Il filmato probabilmente deve essere rimpicciolito per starci nella modalità
EGA:
</p><pre class="screen">-vf scale=640:350</pre><p>
or
</p><pre class="screen">-vf scale=320:200</pre><p>
</p><p>
Per questo ci serve una funzione di ridimensionamento veloce ma a bassa
qualità:
</p><pre class="screen">-sws 4</pre><p>
</p><p>
Forse la correzione automatica dell'aspetto va disattivata:
</p><pre class="screen">-noaspect</pre><p>
</p><div class="note" title="Nota" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
Secondo la mia esperienza la qualità migliore dell'immagine su schermi EGA
può essere ottenuta diminuendo un pochino la luminosità:
<tt class="option">-vf eq=-20:0</tt>. Sul mio sistema ho anche bisogno di abbassare
la frequenza audio, dato che era rovinata a 44kHz:
<tt class="option">-srate 22050</tt>.
</p></div><p>
Puoi abilitare l'OSD e i sottotitoli solo con il filtro <tt class="option">expand</tt>,
vedi la pagina man per i parametri precisi.
</p></div><div class="sect1" title="7.6. Uscita su framebuffer (FBdev)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="fbdev"></a>7.6. Uscita su framebuffer (FBdev)</h2></div></div></div><p>
Se compilare l'uscita FBdev o no viene rilevato automaticamente da
<tt class="filename">./configure</tt>. Leggi nei sorgenti del kernel la
documentazione sul framebuffer (<tt class="filename">Documentation/fb/*</tt>) per
ulteriori informazioni.
</p><p>
Se la tua scheda non supporta lo standard VBE 2.0 (vecchie schede ISA/PCI, come
la S3 Trio64), ma solo VBE 1.2 (o precedente?): bene, c'è ancora VESAfb, ma
ddovrai caricare SciTech Display Doctor (conosciuto precedentemente come UniVBE)
prima di avviare Linux. Usa un disco di avvio DOS o qualcosa del genere. E non
dimenticare di registrare il tuo UniVBE ;))
</p><p>
L'uscita su FBdev richiede principalmente alcuni parametri addizionali:
</p><div class="variablelist"><dl><dt><span class="term"><tt class="option">-fb</tt></span></dt><dd><p>
    specifica il dispositivo framebuffer da usare (default:
    <tt class="filename">/dev/fb0</tt>)
  </p></dd><dt><span class="term"><tt class="option">-fbmode</tt></span></dt><dd><p>
    nome della modalità da usare (come in <tt class="filename">/etc/fb.modes</tt>)
  </p></dd><dt><span class="term"><tt class="option">-fbmodeconfig</tt></span></dt><dd><p>
    file di configirazione delle modalità (default:
    <tt class="filename">/etc/fb.modes</tt>)
  </p></dd><dt><span class="term"><tt class="option">-monitor-hfreq</tt>, </span><span class="term"><tt class="option">-monitor-vfreq</tt>, </span><span class="term"><tt class="option">-monitor-dotclock</tt></span></dt><dd><p>
    valori <span class="bold"><strong>importanti</strong></span>, vedi
    <tt class="filename">example.conf</tt>
  </p></dd></dl></div><p>
Se vuoi passare a una modalità particolare, allora usa
</p><pre class="screen">
mplayer -vm -fbmode <em class="replaceable"><code>nome_modalità</code></em> <em class="replaceable"><code>nomefile</code></em>
</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <tt class="option">-vm</tt> da sola può scegliere la modalità più adatta da
  <tt class="filename">/etc/fb.modes</tt>. Può essere usata anche insieme con le
  opzioni <tt class="option">-x</tt> e <tt class="option">-y</tt>. L'opzione
  <tt class="option">-flip</tt> è supportata solo se il formato pixel del film
  corrisponde al formato pixel della modalità video. Stai attento al valore
  di bpp, il driver fbdev cerca di usare prima quello corrente, poi quello che
  indichi tramite l'opzione <tt class="option">-bpp</tt> option.
</p></li><li class="listitem"><p>
  l'opzione <tt class="option">-zoom</tt> non è supportata
  (usa <tt class="option">-vf scale</tt>). Non puoi usare modalità a 8bbp (o meno).
</p></li><li class="listitem"><p>
  Probabilmente vuoi disabilitare il cursore:
  </p><pre class="screen">echo -e '\033[?25l'</pre><p>
  o
  </p><pre class="screen">setterm -cursor off</pre><p>
  e il salvaschermo:
  </p><pre class="screen">setterm -blank 0</pre><p>
  Per riabilitare il cursore:
  </p><pre class="screen">echo -e '\033[?25h'</pre><p>
  o
  </p><pre class="screen">setterm -cursor on</pre><p>
</p></li></ul></div><div class="note" title="Nota" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
La modifica della modalità video di FBdev <span class="emphasis"><em>non funziona</em></span>
con il framebuffer VESA, e non chiederla, visto che non è una limitazione di
<span class="application">MPlayer</span>.
</p></div></div><div class="sect1" title="7.7. Framebuffer Matrox (mga_vid)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mga_vid"></a>7.7. Framebuffer Matrox (mga_vid)</h2></div></div></div><p>
<code class="systemitem">mga_vid</code> è un'incrocio di un driver di uscita video e
di un modulo del kernel, che utilizza il ridimensionatore e l'overlay video
delle Matrox G200/G400/G450/G550 per effettuare una conversione dello spazio
colore YUV-&gt;RGB e un ridimensionamento video arbitrario.
<code class="systemitem">mga_vid</code> ha un supporto hardware per VSYNC con triplo
buffering. Funziona sia in una console su framebuffer che dentro X, ma solo con
Linux 2.4.x.
</p><p>
Per una versione del driver per Linux 2.6.x controlla
<a class="ulink" href="http://attila.kinali.ch/mga/" target="_top">http://attila.kinali.ch/mga/</a> oppure butta un occhio sul
repository Subversion esterno di mga_vid, che si può ottenere tramite

</p><pre class="screen">
svn checkout svn://svn.mplayerhq.hu/mga_vid
</pre><p>
</p><div class="procedure" title="Installazione:"><a name="id2553813"></a><p class="title"><b>Installazione:</b></p><ol class="procedure" type="1"><li class="step" title="Passo 1"><p>
  Per usarlo devi innanzitutto compilare <tt class="filename">drivers/mga_vid.o</tt>:
  </p><pre class="screen">
cd drivers
make drivers</pre><p>
</p></li><li class="step" title="Passo 2"><p>
  Poi esegui (come <code class="systemitem">root</code>)
  </p><pre class="screen">make install-drivers</pre><p>
  che dovrebbe installare il modulo e creare per te il nodo del dispositivo.
  Carica il driver con
  </p><pre class="screen">insmod mga_vid.o</pre><p>
</p></li><li class="step" title="Passo 3"><p>
  Dovresti verificare il rilevamento della dimensione della memoria usando il
  comando <span class="command"><strong>dmesg</strong></span>. Se è errato, usa l'opzione
  <tt class="option">mga_ram_size</tt> (prima fai <span class="command"><strong>rmmod mga_vid</strong></span>),
  indicando in MB la dimensione della memoria della scheda:
  </p><pre class="screen">insmod mga_vid.o mga_ram_size=16</pre><p>
</p></li><li class="step" title="Passo 4"><p>
  Per far sì che venga caricato/scaricato quando serve, prima inserisci la
  riga seguente alla fine di <tt class="filename">/etc/modules.conf</tt>:

  </p><pre class="programlisting">alias char-major-178 mga_vid</pre><p>
</p></li><li class="step" title="Passo 5"><p>
  Ora devi (ri)compilare <span class="application">MPlayer</span>,
  <span class="command"><strong>./configure</strong></span> rileverà <tt class="filename">/dev/mga_vid</tt> e
  compilerà il driver 'mga'. Si potrà usare da
  <span class="application">MPlayer</span> con <tt class="option">-vo mga</tt> se sei su una
  console matroxfb, oppure <tt class="option">-vo xmga</tt> se sei sotto XFree86 3.x.x
  o 4.x.x.
</p></li></ol></div><p>
Il driver mga_vid collabora con Xv.
</p><p>
Si può leggere il file del dispositivo <tt class="filename">/dev/mga_vid</tt> per
alcune informazioni, per esempio facendo
</p><pre class="screen">cat /dev/mga_vid</pre><p>
e ci si può scrivere per modificare la luminosità:
</p><pre class="screen">echo "brightness=120" &gt; /dev/mga_vid</pre><p>
</p><p>
Nella stessa directory c'è un'applicazione di test che si chiama
<span class="command"><strong>mga_vid_test</strong></span>. Se tutto funziona bene, dovrebbe disegnare
immagini di 256x256 sullo schermo.
</p></div><div class="sect1" title="7.8. Supporto YUV per 3Dfx"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tdfxfb"></a>7.8. Supporto YUV per 3Dfx</h2></div></div></div><p>
Questo driver usa il driver tdfx del kernel per il framebuffer per riprodurre
filmati con accelerazione YUV. Ti serve un kernel con supporto per tdfxfb e
ricompilare con
</p><pre class="screen">./configure --enable-tdfxfb</pre><p>
</p></div><div class="sect1" title="7.9. tdfx_vid"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tdfx_vid"></a>7.9. tdfx_vid</h2></div></div></div><p>
Questo è un'incrocio di un driver di uscita video e di un modulo del kernel,
simile a <a class="link" href="#mga_vid" title="7.7. Framebuffer Matrox (mga_vid)">mga_vid</a>. Ti serve un kernel 2.4.x con
il driver <code class="systemitem">agpgart</code>, visto che
<code class="systemitem">tdfx_vid</code> usa AGP. Passa
<tt class="option">--enable-tdfxfb</tt> a <span class="command"><strong>configure</strong></span> per compilare
il driver di uscita video e compila il module del kernel con le istruzioni
seguenti.
</p><div class="procedure" title="Installare il modulo del kernel tdfx_vid.o:"><a name="id2554089"></a><p class="title"><b>Installare il modulo del kernel tdfx_vid.o:</b></p><ol class="procedure" type="1"><li class="step" title="Passo 1"><p>
  Compila <tt class="filename">drivers/tdfx_vid.o</tt>:
  </p><pre class="screen">
cd drivers
make drivers</pre><p>
</p></li><li class="step" title="Passo 2"><p>
  Poi esegui (come <code class="systemitem">root</code>)
  </p><pre class="screen">make install-drivers</pre><p>
  che dovrebbe installare il modulo e creare per te il nodo del dispositivo.
  Carica il driver con
  </p><pre class="screen">insmod tdfx_vid.o</pre><p>
</p></li><li class="step" title="Passo 3"><p>
  Per far sì che venga caricato/scaricato quando serve, prima inserisci la
  riga seguente alla fine di <tt class="filename">/etc/modules.conf</tt>:


  </p><pre class="programlisting">alias char-major-178 tdfx_vid</pre><p>
</p></li></ol></div><p>
Nella stessa directory c'è un'applicazione di test che si chiama
<span class="command"><strong>tdfx_vid_test</strong></span>. Se tutto funziona bene, dovrebbe fornire
alcune informazioni utili.
</p></div><div class="sect1" title="7.10. Uscita OpenGL"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="opengl"></a>7.10. Uscita OpenGL</h2></div></div></div><p>
<span class="application">MPlayer</span> supporta la riproduzione di filmati usando
OpenGL, ma se se la tua piattaforma/driver supportano xv come è il caso di un
PC con Linux, allora usa xv, le prestazioni OpenGL sono pesantemente peggiori.
Se hai un'implementazione di X11 senza xv, OpenGL è una valida alternativa.
</p><p>
Sfortunatamente non tutti i driver supportano questa caratteristica. I driver
Utah-GLX (per XFree86 3.3.6) la supportano per tutte le schede.
Vedi <a class="ulink" href="http://utah-glx.sf.net" target="_top">http://utah-glx.sf.net</a> per dettagli su come installarli.
</p><p>
XFree86(DRI) 4.0.3 or later supports OpenGL with Matrox and Radeon cards,
4.2.0 or later supports Rage128.
Vedi <a class="ulink" href="http://dri.sf.net" target="_top">http://dri.sf.net</a> for download and installation
instructions.
XFree86(DRI) 4.0.3 o successivi supportano OpenGL con schede Matrox e Radeon,
4.2.0 o successivi supportano le Rage128.
Leggi su <a class="ulink" href="http://dri.sf.net" target="_top">http://dri.sf.net</a> le istruzioni per scaricarli ed
installare.
</p><p>
Un consiglio per i nostri utenti: l'uscita video GL può essere usata per
ottenere un'uscita sincronizzata su vsync. Devi impostare una variabile
d'ambiente (perlomeno con nVidia):
</p><p>
<span class="command"><strong>export __GL_SYNC_TO_VBLANK=1</strong></span>
</p></div><div class="sect1" title="7.11. AAlib – Visualizzazione in modalità testuale"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="aalib"></a>7.11. AAlib – Visualizzazione in modalità testuale</h2></div></div></div><p>
AAlib è una libreria per mostrare elementi grafici in modalità testuale,
usando un potente renderizzatore ASCII. Ci sono <span class="emphasis"><em>valanghe</em></span>
di programmi che la utilizzano, come Doom, Quake, etc.
<span class="application">MPlayer</span> ne include un driver facilmente utilizzabile.
Se <tt class="filename">./configure</tt> trova AAlib installata, il driver di uscita
video per aalib verrà compilato.
</p><p>
Puoi usare alcune chiavi nella finestra AA per modificare le opzioni di
renderizzazione:
</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Chiave</th><th>Azione</th></tr></thead><tbody><tr><td><span class="keycap"><b>1</b></span></td><td>
  diminuisce il contrasto
</td></tr><tr><td><span class="keycap"><b>2</b></span></td><td>
  aumenta il contrasto
</td></tr><tr><td><span class="keycap"><b>3</b></span></td><td>
  diminuisce la luminosità
</td></tr><tr><td><span class="keycap"><b>4</b></span></td><td>
  aumenta la luminosità
</td></tr><tr><td><span class="keycap"><b>5</b></span></td><td>
  abilita/disabilita il fast rendering
</td></tr><tr><td><span class="keycap"><b>6</b></span></td><td>
  imposta la modalità di dithering (nessuna, distribuzione di errore,
  Floyd Steinberg)
</td></tr><tr><td><span class="keycap"><b>7</b></span></td><td>
  inverte l'immagine
</td></tr><tr><td><span class="keycap"><b>8</b></span></td><td>
  passa tra i controlli di aa e quelli di <span class="application">MPlayer</span>
</td></tr></tbody></table></div><div class="variablelist" title="Si possono usare le seguenti opzioni sulla riga di comando:"><p class="title"><b>Si possono usare le seguenti opzioni sulla riga di comando:</b></p><dl><dt><span class="term"><tt class="option">-aaosdcolor=<em class="replaceable"><code>V</code></em></tt></span></dt><dd><p>
    modifica il colore OSD
  </p></dd><dt><span class="term"><tt class="option">-aasubcolor=<em class="replaceable"><code>V</code></em></tt></span></dt><dd><p>
    modifica il colore dei sottitoli
    </p><p>
    dove <em class="replaceable"><code>V</code></em> può essere:
    <code class="literal">0</code> (normale),
    <code class="literal">1</code> (scuro),
    <code class="literal">2</code> (grassetto),
    <code class="literal">3</code> (font grassetto),
    <code class="literal">4</code> (invertito),
    <code class="literal">5</code> (speciale).
  </p></dd></dl></div><div class="variablelist" title="AAlib di suo fornisce un po' di opzioni. Di seguito alcune importanti:"><p class="title"><b>AAlib di suo fornisce un po' di opzioni. Di seguito alcune
importanti:</b></p><dl><dt><span class="term"><tt class="option">-aadriver</tt></span></dt><dd><p>
    Impostra il driver aa preferito (X11, curses, Linux).
  </p></dd><dt><span class="term"><tt class="option">-aaextended</tt></span></dt><dd><p>
    Usa tutti e 256 i caratteri.
  </p></dd><dt><span class="term"><tt class="option">-aaeight</tt></span></dt><dd><p>
    Usa ASCII a otto bit.
  </p></dd><dt><span class="term"><tt class="option">-aahelp</tt></span></dt><dd><p>
    Lista tutte le opzioni per aalib.
  </p></dd></dl></div><div class="note" title="Nota" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
La renderizzazione è molto pesante per la CPU, specialmente usando AA-on-X
(usando aalib su X), ed è più leggera su una console standard, senza
framebuffer. Usa SVGATextMode per impostare una modalità a molti caratteri,
poi divertiti! (le schede Hercules con seconda uscita sono mitiche :))
(ma IMHO puoi usare l'opzione <tt class="option">-vf 1bpp</tt> per avere grafica su
hgafb:)
</p></div><p>
Usa l'opzione <tt class="option">-framedrop</tt> se il tuo computer non è abbastanza
veloce da renderizzare tutti i fotogrammi!
</p><p>
Riproducendo su un terminale, avrai migliore velocità e qualità usando il
driver Linux, non ncurses (<tt class="option">-aadriver linux</tt>). Ma devi anche
avere accesso a
<tt class="filename">/dev/vcsa<em class="replaceable"><code>&lt;terminale&gt;</code></em></tt>!
Questo non è rilevato automaticamente da aalib, ma vo_aa cerca di trovare la
modalità migliore. Leggi <a class="ulink" href="http://aa-project.sf.net/tune" target="_top">http://aa-project.sf.net/tune</a> per
altri consigli di impostazioni.
</p></div><div class="sect1" title="7.12.  libcaca – Libreria Color ASCII Art"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="caca"></a>7.12. 
<code class="systemitem">libcaca</code> – Libreria Color ASCII Art
</h2></div></div></div><p>
La libreria <a class="ulink" href="http://sam.zoy.org/projects/libcaca/" target="_top"><code class="systemitem">libcaca</code></a>
è una libreria grafica che emette testo al posto di pixel, indi può funzionare
su schede video più vecchie o su terminali di testo. Non è dissimile dalla
famosa libreria <code class="systemitem">AAlib</code>.
<code class="systemitem">libcaca</code> ha bisogno di un terminale per
poter funzionare, perciò dovrebbe funzionare su tutti i sistemi Unix (incluso
Mac OS X) usando la libreria <code class="systemitem">slang</code>
ovvero la libreria <code class="systemitem">ncurses</code>, sotto DOS
usando la libreria <code class="systemitem">conio.h</code>, e nei
sistemi Windows usando <code class="systemitem">slang</code> o
<code class="systemitem">ncurses</code> (tramite l'emulazione Cygwin)
oppure <code class="systemitem">conio.h</code>. Se
<tt class="filename">./configure</tt> rileva la presenza di
<code class="systemitem">libcaca</code>, il driver di uscita video per
caca verrà compilato.
</p><div class="itemizedlist" title="Le differenze rispetto ad AAlib sono le seguenti:"><p class="title"><b>Le differenze rispetto ad <code class="systemitem">AAlib</code>
  sono le seguenti:</b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
   16 colori disponibili per l'emissione a caratteri (256 coppie di colori)
</p></li><li class="listitem"><p>
   dithering del colore dell'immagine
</p></li></ul></div><div class="itemizedlist" title="Ma libcaca ha anche le seguenti limitazioni:"><p class="title"><b>Ma <code class="systemitem">libcaca</code> ha anche le seguenti
  limitazioni:</b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
   nessun supporto per luminosià, contrasto, gamma
</p></li></ul></div><p>
Puoi utilizzare alcuni tasti nella finestra caca per modificare le opzioni di
renderizzazione:
</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Chiave</th><th>Azione</th></tr></thead><tbody><tr><td><span class="keycap"><b>d</b></span></td><td>
  Attiva/disattiva il metodo di dithering di
  <code class="systemitem">libcaca</code>.
</td></tr><tr><td><span class="keycap"><b>a</b></span></td><td>
  Attiva/disattiva l'antialias di
  <code class="systemitem">libcaca</code>.
</td></tr><tr><td><span class="keycap"><b>b</b></span></td><td>
  Attiva/disattiva lo sfondo di
  <code class="systemitem">libcaca</code>.
</td></tr></tbody></table></div><div class="variablelist" title="libcaca terrà anche conto di alcune variabili d'ambiente:"><p class="title"><b><code class="systemitem">libcaca</code> terrà anche conto di
  alcune variabili d'ambiente:</b></p><dl><dt><span class="term"><tt class="option">CACA_DRIVER</tt></span></dt><dd><p>
    Imposta il driver caca richiesto. Per es. ncurses, slang, x11.
  </p></dd><dt><span class="term"><tt class="option">CACA_GEOMETRY (solo X11)</tt></span></dt><dd><p>
    Specifica il numero di righe e colonne. Per es. 128x50.
  </p></dd><dt><span class="term"><tt class="option">CACA_FONT (solo X11)</tt></span></dt><dd><p>
    Specifica il font da usare. Per es. fixed, nexus.
  </p></dd></dl></div><p>
Usa l'opzione <tt class="option">-framedrop</tt> se il tuo computer non è abbastanza
veloce per renderizzare tutti i fotogrammi.
</p></div><div class="sect1" title="7.13. VESA - uscita attraverso il VESA BIOS"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="vesa"></a>7.13. VESA - uscita attraverso il VESA BIOS</h2></div></div></div><p>
Questo driver è stato progettato ed introdotto come un
<span class="bold"><strong>driver generico</strong></span> per qualsiasi scheda video che
abbia un BIOS compatibile con VESA VBE 2.0. Un altro vantaggio di questo driver
è che cerca di attivare l'uscita TV.
La <em class="citetitle">VESA BIOS EXTENSION (VBE) Versione 3.0 Data: 16 settembre
1998</em> (pagina 70) dice:
</p><div class="blockquote"><blockquote class="blockquote"><p title="Dual-Controller Designs"><b>Dual-Controller Designs. </b>
VBE 3.0 supports the dual-controller design by assuming that since both
controllers are typically provided by the same OEM, under control of a
single BIOS ROM on the same graphics card, it is possible to hide the fact
that two controllers are indeed present from the application. This has the
limitation of preventing simultaneous use of the independent controllers,
but allows applications released before VBE 3.0 to operate normally. The
VBE Function 00h (Return Controller Information) returns the combined
information of both controllers, including the combined list of available
modes. When the application selects a mode, the appropriate controller is
activated. Each of the remaining VBE functions then operates on the active
controller.
</p></blockquote></div><p>
Perciò usando questo driver hai qualche possibilità di far funzionare
l'uscita TV (si presume che spesso l'uscita TV sia almeno un'uscita a sè
stante).
</p><div class="itemizedlist" title="VANTAGGI"><p class="title"><b>VANTAGGI</b></p><ul class="itemizedlist" type="disc" compact><li class="listitem"><p>
  Puoi riuscire a guardare film <span class="bold"><strong>anche se Linux non
  riconosce</strong></span> il tuo hardware grafico.
</p></li><li class="listitem"><p>
  Non ti serve avere alcuna cosa relativa alla grafica (come X11 (AKA XFree86),
  fbdev e così via) sul tuo Linux. Questo driver può venir utilizzato dalla
  <span class="bold"><strong>modalità testo</strong></span>.
</p></li><li class="listitem"><p>
  Hai qualche possibilità di avere l'<span class="bold"><strong>uscita TV
  funzionante</strong></span> (per le schede ATI perlomeno è così).
</p></li><li class="listitem"><p>
  Questo driver chiama la funzione <code class="function">int 10h</code> percui non è
  un emulatore - fa riferimento a cose <span class="bold"><strong>reali</strong></span>
  del BIOS <span class="bold"><strong>reale</strong></span> in
  <span class="emphasis"><em>modalità reale</em></span> (attualmente in modalità vm86).
</p></li><li class="listitem"><p>
  Con esso puoi usare VIDIX, potendo ottenere contemporaneamente un'uscita
  video accelerata <span class="bold"><strong>e</strong></span> e l'uscita TV!
  (consigliato per schede ATI)
  </p></li><li class="listitem"><p>
  Se hai VESA VBE 3.0+ e hai specificato in qualche dove
  <tt class="option">monitor-hfreq, monitor-vfreq, monitor-dotclock</tt> (nel file di
  configurazione o dalla riga comando) otterrai la massima frequenza di
  aggiornamento possibile (usando formule generiche di temporizzazione).
  Per abilitare questa funzionalità devi specificare
  <span class="bold"><strong>tutte</strong></span> le opzioni per il tuo monitor.
</p></li></ul></div><div class="itemizedlist" title="SVANTAGGI"><p class="title"><b>SVANTAGGI</b></p><ul class="itemizedlist" type="disc" compact><li class="listitem"><p>
   Funziona solo su <span class="bold"><strong>sistemi x86</strong></span>.
</p></li><li class="listitem"><p>
  Può essere usato solo da <code class="systemitem">root</code>.
</p></li><li class="listitem"><p>
  Attualmente è disponibile solo per <span class="bold"><strong>Linux</strong></span>.
</p></li></ul></div><div class="important" title="Importante" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Importante</h3><p>
Non usare questo driver con <span class="bold"><strong>GCC 2.96</strong></span>!
Non funzionerà!
</p></div><div class="variablelist" title="OPZIONI DELLA RIGA COMANDO DISPONIBILI PER VESA"><p class="title"><b>OPZIONI DELLA RIGA COMANDO DISPONIBILI PER VESA</b></p><dl><dt><span class="term"><tt class="option">-vo vesa:<em class="replaceable"><code>opzioni</code></em></tt></span></dt><dd><p>
    attualmente riconosciute: <code class="literal">dga</code> per forzare la modalità
    dga e <code class="literal">nodga</code> per disabilitarla. In modalità dga puoi
    abilitare il doppio buffering con l'opzione <tt class="option">-double</tt>.
    Nota: puoi omettere questi parametri per abilitare
    l'<span class="bold"><strong>auto-rilevazione</strong></span> della modalità dga.
  </p></dd></dl></div><div class="itemizedlist" title="PROBLEMI CONOSCIUTI E SOLUZIONI"><p class="title"><b>PROBLEMI CONOSCIUTI E SOLUZIONI</b></p><ul class="itemizedlist" type="disc" compact><li class="listitem"><p>
  Se hai dei font <span class="bold"><strong>NLS</strong></span> installati sulla tua
  macchina Linux ed utilizzi il driver VESA in modalità testo, allora dopo
  essere uscito da<span class="application">MPlayer</span> avrai i
  <span class="bold"><strong>font ROM</strong></span> caricati al posto di quelli locali.
  Puoi ricaricare i font locali usando lo strumento
  <span class="command"><strong>setsysfont</strong></span> per Mandrake/Mandriva, ad esempio
  (<span class="bold"><strong>consiglio</strong></span>: lo stesso strumento viene
  usato per la localizzazione di fbdev).
</p></li><li class="listitem"><p>
  Alcuni <span class="bold"><strong>driver grafici per Linux</strong></span> non
  modificano nella memoria DOS la
  <span class="bold"><strong>modalità BIOS</strong></span> attiva.
  Per cui se hai questo problema - usa sempre il driver VESA dalla
  <span class="bold"><strong>modalità testo</strong></span>. Altrimenti verrà
  comunque attivata la modalità testo (#03) e dovrai riavviare il tuo
  computer.
</p></li><li class="listitem"><p>
  Spesso dopo aver dismesso il driver VESA ottieni uno schermo
  <span class="bold"><strong>nero</strong></span>. Per riportare il tuo schermo allo
  stato originario - salta semplicemente ad unìaltra console (premendo
  <span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>F&lt;x&gt;</b></span>) poi
  ritorna alla console precedente allo stesso modo.
</p></li><li class="listitem"><p>
  Per avere <span class="bold"><strong>l'uscita TV funzionante</strong></span> devi avere
  il connettore TV collegato prima di avviare il tuo PC, visto che il BIOS
  video si inizializza solo una volta durante il passaggio POST.
</p></li></ul></div></div><div class="sect1" title="7.14. X11"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="x11"></a>7.14. X11</h2></div></div></div><p>
Da evitare se possibile. Uscita su X11 (utilizza l'estensione della memoria
condivisa), senza alcuna accelerazione hardware. Gestisce il ridimensionamento
software (accelerato MMX/3DNow/SSE, ma sempre lento), usa le opzioni
<tt class="option">-fs -zoom</tt>. La maggior parte delle schede gestisce un
ridimensionamento hardware, usa per queste l'uscita <tt class="option">-vo xv</tt>,
oppure <tt class="option">-vo xmga</tt> per le schede Matrox.
</p><p>
Il problema è che i driver di molte schede non supportano l'accelerazione
hardware sulla seconda uscita o TV. In quei casi, vedi delle finestre blu/verdi
al posto del film. In questi casi torna utile questo driver, ma ti serve una
CPU potente per effettuare il ridimensionamento software. Non usare il driver
di uscita SDL + ridimensionamento software, ha una peggior qualità
dell'immagine.
</p><p>
Il ridimensionamento software è molto lento, ti conviene piuttosto cambiare la
modalità video. E' molto facile. Guarda le
<a class="link" href="#dga-modelines" title="MODIFICARE LA RISOLUZIONE">modeline della sezione DGA</a>, e inseriscile
nel tuo <tt class="filename">XF86Config</tt>.

</p><div class="itemizedlist"><ul class="itemizedlist" type="disc" compact><li class="listitem"><p>
  Se hai XFree86 4.x.x: usa l'opzione <tt class="option">-vm</tt>. Passerà alla
  risoluzione che meglio si adatta al tuo film. Se non lo fa:
</p></li><li class="listitem"><p>
  With XFree86 3.x.x: you have to cycle through available resolutions
  Con XFree86 3.x.x: devi passare attraverso le risoluzioni disponibili con i
  tasti
  <span class="keycap"><b>Ctrl</b></span>+<span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>Keypad +</b></span>
  e
  <span class="keycap"><b>Ctrl</b></span>+<span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>Keypad -</b></span>.
</p></li></ul></div><p>
</p><p>
Se non trovi le modalità che hai aggiunto, controlla l'emissione di XFree86.
Alcuni driver non possono usare dei pixelclock che servono per modalità a
bassa risoluzione.
</p></div><div class="sect1" title="7.15. VIDIX"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="vidix"></a>7.15. VIDIX</h2></div></div></div><p title="PREAMBOLO"><b>PREAMBOLO. </b>
<acronym class="acronym">VIDIX</acronym> è un nome breve che sta per
<span class="bold"><strong>VID</strong></span>eo
<span class="bold"><strong>I</strong></span>nterface
per *ni<span class="bold"><strong>X</strong></span>.
VIDIX è stato progettato ed introdotto com un'interfaccia per driver veloci
nello spazio utente, fornendo delle prestazioni video come quelle che fornisce
mga_vid per le schede Matrox. E' anche molto portabile.
</p><p>
Quest'interfaccia è stata progettata come un tentativo di riunire le
interfacce di accelerazione video già esistenti (conosciute come mga_vid,
rage128_vid, radeon_vid, pm3_vid) in uno schema fissato. Fornisce un'interfaccia
di alto livello a chip conosciuti come BES (BackEnd scalers) o OV (Video
Overlays). Non fornisce un'interfaccia a basso livello a cose conosciute come
server grafici (non voglio entrare in competizione con il gruppo di X11 per le
modifiche alla modalità grafica). Per es. l'obiettivo principale di
quest'intarfaccia è quello di velocizzare la riproduzione video.
</p><div class="itemizedlist" title="USO"><p class="title"><b>USO</b></p><ul class="itemizedlist" type="disc" compact><li class="listitem"><p>
  Puoi usare un driver di uscita video a sé stante: <tt class="option">-vo xvidix</tt>.
  Questo driver è stato sviluppato come un front-end tra X11 e la tecnologia
  VIDIX. Richiede l'X server e può funzionare solo dentro all'X server stesso.
  Nota che, visto che accede direttamente all'hardware e oltrepassa il driver X,
  le immagini memorizzate nella memoria della scheda video possono venir
  corrotte. Puoi evitarlo limitando la dimensione della memoria video usata da
  X con l'opzine "VideoRam" nella sezione device di XF86Config. Dovresti
  impostare tale opzione alla quantità di memoria della tua scheda meno 4MB.
  Se hai meno di 8MB di ram video, puoi usare invece l'opzione
  "XaaNoPixmapCache" nella sezione screen.
</p></li><li class="listitem"><p>
  C'è poi un driver VIDIX per la console: <tt class="option">-vo cvidix</tt>.
  Questo richiede per la maggior parte delle schede un framebuffer
  inizializzato e funzionante  (altrimenti incasinerai solamente lo schermo), e
  otterrai un effetto simile a <tt class="option">-vo mga</tt> o
  <tt class="option">-vo fbdev</tt>. Le schede nVidia tuttavia sono in grado di
  emettere video completamente grafico su vere console di testo. Vedi la sezione
  <a class="link" href="#vidix-nvidia" title="7.15.6. Schede nVidia">nvidia_vid</a> per ulteriori informazioni.
  Per evitare il testo sui bordi e il cursore lampeggiante, prova qualcosa tipo
  </p><pre class="screen">setterm -cursor off &gt; /dev/tty9</pre><p>
  (presumendo che <code class="systemitem">tty9</code> non venga utilizzata) e poi
  passa a <code class="systemitem">tty9</code>.
  D'altro canto, <tt class="option">-colorkey 0</tt> dovrebbe mostrarti il video sullo
  "sfondo", anche se questo dipende dal fatto che colorkey funzioni bene o no.
  </p></li><li class="listitem"><p>
  Puoi usare un sotto-dispositivo VIDIX che sia stato applicato a vari driver
  di uscita video, così: <tt class="option">-vo vesa:vidix</tt>
  (<span class="bold"><strong>solo per Linux</strong></span>) e
  <tt class="option">-vo fbdev:vidix</tt>.
</p></li></ul></div><p>
In verità non conta quale driver di uscita video venga usato con
<span class="bold"><strong>VIDIX</strong></span>.
</p><div class="itemizedlist" title="PREREQUISITI"><p class="title"><b>PREREQUISITI</b></p><ul class="itemizedlist" type="disc" compact><li class="listitem"><p>
  La scheda video dovrebbe essere in modalità grafica (tranne le schede nVidia
  con il driver di uscita <tt class="option">-vo cvidix</tt>).
</p></li><li class="listitem"><p>
  Il driver di uscita video di <span class="application">MPlayer</span> dovrebbe
  conoscere la modalità video attiva ed essere in grado di fornire al
  sotto-dispositivo VIDIX alcune caratteristiche video del server.
</p></li></ul></div><p title="MODI DI UTILIZZO"><b>MODI DI UTILIZZO. </b>
Quando VIDIX viene usato come un
<span class="bold"><strong>sotto-dispositivo</strong></span> (<tt class="option">-vo
vesa:vidix</tt>) allora la configurazione della modalità video viene
eseguita dal dispositivo di uscita video
(<span class="bold"><strong>vo_server</strong></span>, in breve). Perciò puoi passare
sulla riga comando di <span class="application">MPlayer</span> le stesse chiavi per
vo_server. Inoltre accetta <tt class="option">-double</tt> come un parametro globale
(si consiglia di usare questa opzione con VIDIX almeno per le schede ATI).
Come <tt class="option">-vo xvidix</tt>, attualmente riconosce le seguenti opzioni:
<tt class="option">-fs -zoom -x -y -double</tt>.
</p><p>
Poi puoi specificare il driver VIDIX direttamente sulla riga comando come una
terza sotto-opzione:
</p><pre class="screen">
mplayer -vo xvidix:mga_vid.so -fs -zoom -double <em class="replaceable"><code>file.avi</code></em>
</pre><p>
o
</p><pre class="screen">
mplayer -vo vesa:vidix:radeon_vid.so -fs -zoom -double -bpp 32 <em class="replaceable"><code>file.avi</code></em>
</pre><p>
ma è pericoloso e non dovresti farlo. In questo caso il driver indicato verrà
forzato e i risultati sono imprevedibili (potrebbe mandarti il computer in
<span class="bold"><strong>freeze</strong></span>). Dovresti farlo SOLO se sei
assolutamente sicuro che funzionerà e <span class="application">MPlayer</span> non
lo farà automaticamente. Per favore dillo agli sviluppatori. Il modo corretto
è utilizzare VIDIX senza argomenti per abilitare la rilevazione automatica del
driver.
</p><div class="sect2" title="7.15.1. svgalib_helper"><div class="titlepage"><div><div><h3 class="title"><a name="svgalib_helper"></a>7.15.1. svgalib_helper</h3></div></div></div><p>
Visto che VIDIX richiede un accesso diretto all'hardware puoi sia eseguirlo come
root, sia impostare il bit SUID sull'eseguibile di
<span class="application">MPlayer</span>.
(<span class="bold"><strong>Attenzione: questo è un rischio di sicurezza!</strong></span>)
Alternativamente puoi usare uno modulo del kernel speciale, come questo:
</p><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Passo 1"><p>
  Scarica la <a class="ulink" href="http://www.arava.co.il/matan/svgalib/" target="_top">versione di
  sviluppo</a> di svgalib (1.9.x).
</p></li><li class="step" title="Passo 2"><p>
  Compila il modulo nella directory
  <tt class="filename">svgalib_helper</tt> (si trova dentro la
  directory <tt class="filename">svgalib-1.9.17/kernel/</tt> se hai
  scaricato i sorgenti dal sito di svgalib) e caricalo nel kernel.
</p></li><li class="step" title="Passo 3"><p>
  Per creare i dispositivi necessari nella directory
  <tt class="filename">/dev</tt>, esegui, da utente root,
  </p><pre class="screen">make device</pre><p> nella directory
  <tt class="filename">svgalib_helper</tt>.
</p></li><li class="step" title="Passo 4"><p>
  Poi esegui di nuovo <tt class="filename">configure</tt> passando i parametri
  <tt class="option">--enable-svgalib_helper</tt> e
  <tt class="option">--with-extraincdir=<em class="replaceable"><code>/percorso/dei/sorgenti/di/svgalib_helper</code></em>kernel/svgalib_helper</tt>,
  dove <em class="replaceable"><code>/percorso/dei/sorgenti/di/svgalib_helper</code></em> deve
  puntare al percorso dove hai estratto i sorgenti di svgalib_helper.
</p></li><li class="step" title="Passo 5"><p>
  Ricompila.
</p></li></ol></div></div><div class="sect2" title="7.15.2. Schede ATI"><div class="titlepage"><div><div><h3 class="title"><a name="vidix-ati"></a>7.15.2. Schede ATI</h3></div></div></div><p>
Attualmente la maggior parte delle schede ATI è supportata nativamente, dalle
Mach64 alle più recenti Radeon.
</p><p>
Ci sono due binari compilati: <tt class="filename">radeon_vid</tt> per le Radeon e
<tt class="filename">rage128_vid</tt> per le schede Rage 128. Puoi forzare
l'utilizzo di uno dei due, oppure lasciare che il sistema VIDIX provi tutti i
driver disponibili.
</p></div><div class="sect2" title="7.15.3. Schede Matrox"><div class="titlepage"><div><div><h3 class="title"><a name="vidix-mga"></a>7.15.3. Schede Matrox</h3></div></div></div><p>
Le Matrox G200, G400, G450 and G550 sono state riportate come funzionanti.
</p><p>
Il driver supporta gli equalizzatori video e dovrebbe essere veloce quasi quanto
il <a class="link" href="#mga_vid" title="7.7. Framebuffer Matrox (mga_vid)">framebuffer Matrox</a>.
</p></div><div class="sect2" title="7.15.4. Schede Trident"><div class="titlepage"><div><div><h3 class="title"><a name="vidix-trident"></a>7.15.4. Schede Trident</h3></div></div></div><p>
C'è un driver disponibile per il chipset Trident Cyberblade/i1, che si può
trovare sulle schede madri VIA Epia.
</p><p>
Il driver è scritto e mantenuto da
<a class="ulink" href="http://www.blackfiveservices.co.uk/EPIAVidix.shtml" target="_top">Alastair M. Robinson</a>.
</p></div><div class="sect2" title="7.15.5. Schede 3DLabs"><div class="titlepage"><div><div><h3 class="title"><a name="vidix-3dlabs"></a>7.15.5. Schede 3DLabs</h3></div></div></div><p>
Anche se esiste un driver per i chip 3DLabs GLINT R3 e Permedia3, nessuno lo ha
provato, perciò delle informazioni sono benvenute.
</p></div><div class="sect2" title="7.15.6. Schede nVidia"><div class="titlepage"><div><div><h3 class="title"><a name="vidix-nvidia"></a>7.15.6. Schede nVidia</h3></div></div></div><p>
Una caratteristica unica del driver nvidia_vid è la sua abilità nel mostrare
video su di una
<span class="bold"><strong>semplice, pura, console di testo</strong></span> - senza alcun
framebuffer o qualche magia di X. Per questo fine, dovremo usare il driver di
uscita video <tt class="option">cvidix</tt>, come mostrato nell'esempio che segue:
</p><pre class="screen">mplayer -vo cvidix <em class="replaceable"><code>esempio.avi</code></em></pre><p>
</p></div><div class="sect2" title="7.15.7. Schede SiS"><div class="titlepage"><div><div><h3 class="title"><a name="vidix-sis"></a>7.15.7. Schede SiS</h3></div></div></div><p>
Questo codice è davvero sperimentale, proprio come nvidia_vid.
</p><p>
E' stato testato su SiS 650/651/740 (i chipset più diffusi usati nelle versioni
SiS dello "Shuttle XPC").
</p><p>
Si attendono resoconti!
</p></div></div><div class="sect1" title="7.16. DirectFB"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="directfb"></a>7.16. DirectFB</h2></div></div></div><div class="blockquote"><blockquote class="blockquote"><p>
"DirectFB is a graphics library which was designed with embedded systems
in mind. It offers maximum hardware accelerated performance at a minimum
of resource usage and overhead." - citazione da
<a class="ulink" href="http://www.directfb.org" target="_top">http://www.directfb.org</a>
</p></blockquote></div><p>Ometterò le caratteristiche di DirectFB da questa sezione.</p><p>
Anche se <span class="application">MPlayer</span> non è supportato come un "provider
video" in DirectFB, questo driver di uscita video abiliterà la riproduzione
video tramite DirectFB. Sarà - ovviamente - accelerata, la velocità di
DirectFB sulla mia Matrox G400 è la stessa di XVideo.
</p><p>
Cerca sempre di utilizzare la versione più recente di DirectFB. Sulla riga
comando puoi usare le opzioni di DirectFB, usando <tt class="option">-dfbopts</tt>.
La scelta del livello può essere fatta con il metodo del sotto-dispositivo,
per es.:
<tt class="option">-vo directfb:2</tt> (il livello -1 è il default: autorilevazione)
</p></div><div class="sect1" title="7.17. DirectFB/Matrox (dfbmga)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dfbmga"></a>7.17. DirectFB/Matrox (dfbmga)</h2></div></div></div><p>
Leggi per favore la sezione <a class="link" href="#directfb" title="7.16. DirectFB">principale di DirectFB</a>
per le informazioni generali.
</p><p>
Questo driver di uscita video abiliterà il CRTC2 (sulla seconda uscita) delle
schede Matrox G400/G450/G550, mostrando il video
<span class="bold"><strong>independentemente</strong></span> rispetto alla prima uscita.
</p><p>
Ville Syrjala's ha un
<a class="ulink" href="http://www.sci.fi/~syrjala/directfb/Matrox_TV-out_README.txt" target="_top">README</a>
e un
<a class="ulink" href="http://www.sci.fi/~syrjala/directfb/matrox-tv-out-howto" target="_top">HOWTO</a>
sul suo sito, che spiegano come far funzionare l'uscita TV DirectFB sulle schede
Matrox.
</p><div class="note" title="Nota" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
La prima versione di DirectFB con cui siamo riusciti a farlo funzionare è la
0.9.17 (ha problemi, gli serve la patch <code class="systemitem">surfacemanager</code>
dal sito suddetto). Portare il codice per CRTC2 in
<a class="link" href="#mga_vid" title="7.7. Framebuffer Matrox (mga_vid)">mga_vid</a> è in progetto da anni,
sono benvenute delle <a class="ulink" href="../../tech/patches.txt" target="_top">patch</a>.
</p></div></div><div class="sect1" title="7.18. Decodificatori MPEG"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mpeg_decoders"></a>7.18. Decodificatori MPEG</h2></div></div></div><div class="sect2" title="7.18.1. Uscita e ingresso DVB"><div class="titlepage"><div><div><h3 class="title"><a name="dvb"></a>7.18.1. Uscita e ingresso DVB</h3></div></div></div><p>
<span class="application">MPlayer</span> supporta le schede con chipset DVB Siemens
di produttori come Siemens, Technotrend, Galaxis o Hauppauge. I driver DVB più
recenti sono disponibili sul
<a class="ulink" href="http://www.linuxtv.org" target="_top">sito di Linux TV</a>.
Se vuoi eseguire la transcodifica software dovresti avere almeno una CPU a 1GHz.
</p><p>
Configure dovrebbe rilevare la tua scheda DVB. Se non lo fa, forzalo con
</p><pre class="screen">./configure --enable-dvb</pre><p>
Se hai gli header ost in un percorso non standard, imposta il percorso con
</p><pre class="screen">
./configure --with-extraincdir=<em class="replaceable"><code>directory sorgenti DVB</code></em>/ost/include
</pre><p>
Poi compila ed installa come al solito.</p><p title="USO"><b>USO. </b>
La decodifica hardware di flussi contententi video MPEG-1/2 e/o audio MPEG puà
essere effettuata con questo comando:
</p><pre class="screen">
mplayer -ao mpegpes -vo mpegpes <em class="replaceable"><code>file.mpg|vob</code></em>
</pre><p title="USO">
</p><p>
La decodfica di qualsiasi altro tipo di flusso video richiede la transcodifica
in MPEG-1, indi è lenta a potrebbe non valerne la pena, specialmente se il tuo
computer è lento.
Si puà ottenere usando un comando come questo:
</p><pre class="screen">
mplayer -ao mpegpes -vo mpegpes <em class="replaceable"><code>tuofile.ext</code></em>
mplayer -ao mpegpes -vo mpegpes -vf expand <em class="replaceable"><code>tuofile.ext</code></em>
</pre><p>
Fai attenzione che le schede DVB supportano solo le altezze 288 e 576 per PAL
oppure 240 e 480 per NTSC. <span class="bold"><strong>Devi</strong></span> ridimensionare
le altre altezze aggiungendo <tt class="option">scale=larghezza:altezza</tt>, con la
larghezza e l'altezza volute, all'opzione <tt class="option">-vf</tt>. Le schede DVB
accettano diverse larghezze, come 720, 704, 640, 512, 480, 352 etc. ed
effettuano il ridimensionamento hardware sulla direzione orizzontale, perciò
nella maggior parte deiu casi non ti serve ridimensionare in orizzontale.
Per un MPEG-4 (DivX) a 512x384 (aspetto 4:3), prova:
</p><pre class="screen">mplayer -ao mpegpes -vo mpegpes -vf scale=512:576</pre><p>
</p><p>
Se hai un film in widescreen e non vuoi ridimensionarlo ad altezza piena,
puoi usare il filtro <tt class="option">expand=w:h</tt> per aggiungere delle bande
nere. Per guardare un MPEG-4 (DivX) a 640x384, prova:
</p><pre class="screen">
mplayer -ao mpegpes -vo mpegpes -vf expand=640:576 <em class="replaceable"><code>file.avi</code></em>
</pre><p>
</p><p>
Se la tua CPU è troppo lenta per un MPEG-4 (DivX) intero a 720x576, prova a
rimpicciolirlo:
</p><pre class="screen">
mplayer -ao mpegpes -vo mpegpes -vf scale=352:576 <em class="replaceable"><code>file.avi</code></em>
</pre><p>
</p><p>
Se la velocità non migliora, prova a rimpicciolirlo anche in verticale:
</p><pre class="screen">
mplayer -ao mpegpes -vo mpegpes -vf scale=352:288 <em class="replaceable"><code>file.avi</code></em>
</pre><p>
</p><p>
Per l'OSD e i sottotitoli usa la caratteristica OSD del filtro expand. Quindi,
al posto di <tt class="option">expand=w:h</tt> o <tt class="option">expand=w:h:x:y</tt>, usa
<tt class="option">expand=w:h:x:y:1</tt> (il quinto parametro <tt class="option">:1</tt> alla
fine abiliterà il rendering dell'OSD). Potresti voler spostare leggermente
verso l'alto l'immagine per ottenere una banda nera più ampia per i
sottotitoli. Potresti anche voler spostare più in alto i sottotitoli, se sono
al di fuori dello schermo della tua TV, usa l'opzione
<tt class="option">-subpos &lt;0-100&gt;</tt> (<tt class="option">-subpos 80</tt> è una
buona scelta).
</p><p>
Per poter riprodurre un film non a 25fps su una TV PAL ovvero con una CPU
lenta, aggiungi l'opzione <tt class="option">-framedrop</tt>.
</p><p>
Per mantenere il rapporto di aspetto dei file MPEG-4 (DivX) e ottenere i
parametri ottimali per il ridimensionamento (ridimensionamento orizzontale
hardware e verticale software mantenendo il giusto rapporto di aspetto), usa il
nuovo filtro dvbscale:
</p><pre class="screen">
per una TV a  4:3: -vf dvbscale,scale=-1:0,expand=-1:576:-1:-1:1
per una TV a 16:9: -vf dvbscale=1024,scale=-1:0,expand=-1:576:-1:-1:1
</pre><p>
</p><p title="TV Digitale (modulo d'ingresso DVB)"><b>TV Digitale (modulo d'ingresso DVB). </b>Puoi usare la tua scheda TV per guardare la TV Digitale.</p><p>
Dovresti avere installati i programmi <span class="command"><strong>scan</strong></span> e
<span class="command"><strong>szap/tzap/czap/azap</strong></span>; essi sono inclusi nel pacchetto dei
driver.
</p><p>
Verifica che i tuoi driver funzionino correttamente attraverso un programma tipo
<a class="ulink" href="http://sf.net/projects/dvbtools/" target="_top"><span class="command"><strong>dvbstream</strong></span></a>
(che è la base del modulo d'ingresso DVB).
</p><p>
Ora dovresti riempire un file <tt class="filename">~/.mplayer/channels.conf</tt>,
con la sintassi accettata da <span class="command"><strong>szap/tzap/czap/azap</strong></span>, o fare in
modo che <span class="command"><strong>scan</strong></span> lo riempia per te.
</p><p>
Se hai più di un tipo di scheda (per es. Satellitare, Terrestre, Via Cavo e
ATSC) puoi salvare i tuoi file dei canali come
<tt class="filename">~/.mplayer/channels.conf.sat</tt>,
<tt class="filename">~/.mplayer/channels.conf.ter</tt>,
<tt class="filename">~/.mplayer/channels.conf.cbl</tt>,
e <tt class="filename">~/.mplayer/channels.conf.atsc</tt>,
rispettivamente, per spingere implicitamente <span class="application">MPlayer</span>
ad usare questi file invece che <tt class="filename">~/.mplayer/channels.conf</tt>,
e devi solamente specificare quale scheda usare.
</p><p>
Assicurati di avere <span class="emphasis"><em>solo</em></span> canali in chiaro nel tuo file
<tt class="filename">channels.conf</tt>, altrimenti
<span class="application">MPlayer</span> resterà in attesa di una trasmissione non
criptata.
</p><p>
Nei tuoi campi audio e video puoi usare una sintassi espansa:
<tt class="option">...:pid[+pid]:...</tt> (fino ad un massimo di 6 pid ciascuno);
in questo caso <span class="application">MPlayer</span> includerà nel flusso tutti
i pid indicati, oltre al pid 0 (che contiene il PAT).
Si consiglia di includere in ogni riga i pid PMT e PCR per il canale
corrispondente (se conosciuti).
Puoi anche specificare 8192, che seleziona tutti i pid su quella frequenza e
puoi anche passare con TAB attraverso i programmi.
Potrebbe aver bisogno di più banda, anche se le schede economiche passano
sempre tutti canali al kernel, per cui non fa molta differenza per queste.
Altri utilizzi possibili sono: pid televideo, seconda traccia audio, etc...
</p><p>
Se <span class="application">MPlayer</span> si lamenta frequentemente di
</p><pre class="screen">Troppi pacchetti video/audio nel buffer</pre><p> oppure noti una
desincronizzazione crescente tra l'audio e il video, verifica la presenza del
pid PCR nel tuo flusso (serve per adeguarsi alla modalità di buffering del
trasmettitore) e/o prova ad usare il demuxer MPEG-TS di libavformat aggiungendo
<tt class="option">-demuxer lavf -lavfdopts probesize=128</tt> alla tua riga comando.
</p><p>
Per vedere il primo dei canali presenti nella tua lista, esegui
</p><pre class="screen">mplayer dvb://</pre><p>
</p><p>
Se vuoi guardare un canale in particolare, come R1, esegui
</p><pre class="screen">mplayer dvb://<em class="replaceable"><code>R1</code></em></pre><p>
</p><p>
Se hai più di una scheda puoi anche dover specificare il numero della scheda
dove il canale si vede (per es. 2) con la sintassi:
</p><pre class="screen">mplayer dvb://<em class="replaceable"><code>2@R1</code></em></pre><p>
</p><p>
Per cambiare canale premi i tasti <span class="keycap"><b>h</b></span> (successivo) e
<span class="keycap"><b>k</b></span> (precedente), oppure usa il
<a class="link" href="#osdmenu" title="2.4.3. Menu OSD">menu OSD</a>.
</p><p>
Per disabilitare temporaneamente il flusso video o audio, copia quello che
segue in <tt class="filename">~/.mplayer/input.conf</tt>:
</p><pre class="screen">
% set_property  switch_video -2
&amp; step_property switch_video
? set_property  switch_audio -2
^ step_property switch_audio
</pre><p>
(Reimpostando i comandi da tastiera come si preferisce.) Premendo il tasto
corrispondente a switch_x -2, il flusso relativo verrà chiuso;
premendo il tasto corrispondente a step_x il flusso verrà riaperto.
Nota che quando ci sono più flussi audio e video nel multiplex questo
meccanismo non funzionerà nel modo che ci si aspetta.
</p><p>
Durante la riproduzione (non durante la registrazione), per evitare
saltellamenti e messaggi di errore tipo 'Il tuo sistema è troppo LENTO',
si consiglia di aggiungere
</p><pre class="screen">
-mc 10 -speed 0.97 -af scaletempo
</pre><p>
alla riga comando, impostando i parametri di scaletempo come si preferisce.
</p><p>
Se il tuo <tt class="filename">~/.mplayer/menu.conf</tt> contiene una voce
<code class="literal">&lt;dvbsel&gt;</code>, come quella nel file di esempio
<tt class="filename">etc/dvb-menu.conf</tt> (che puoi usare per sovrascrivere
<tt class="filename">~/.mplayer/menu.conf</tt>), il menu principale mostrerà una
voce di sotto-menu che ti lascerà scegliere uno dei canali presenti nel tuo
<tt class="filename">channels.conf</tt>, possibilmente preceduto da un menu con la
lista delle schede disponibili, se ve ne è più di una utilizzabile da
<span class="application">MPlayer</span>.
</p><p>
Se vuoi salvare su disco un programma puoi usare
</p><pre class="screen">
mplayer -dumpfile <em class="replaceable"><code>r1.ts</code></em> -dumpstream dvb://<em class="replaceable"><code>R1</code></em>
</pre><p>
</p><p>
Se vuoi registrarlo in un formato diverso (ri-codificandolo) puoi invece
lanciare un comando come
</p><pre class="screen">
mencoder -o <em class="replaceable"><code>r1.avi</code></em> -ovc xvid -xvidencopts bitrate=800 \
    -oac mp3lame -lameopts cbr:br=128 -pp=ci dvb://<em class="replaceable"><code>R1</code></em>
</pre><p>
</p><p>
Leggi la pagina man per una lista di opzioni che puoi passare al modulo di
ingresso DVB.
</p><p title="FUTURO"><b>FUTURO. </b>
Se hai domande o vuoi ricevere gli annunci di nuove caratteristiche e vuoi
partecipare a discussioni su questo argomento, iscriviti alla nostra mailing
list
<a class="ulink" href="http://lists.mplayerhq.hu/mailman/listinfo/mplayer-dvb" target="_top">MPlayer-DVB</a>.
Per favore tieni presente che la lingua della lista è l'inglese.
</p><p>
In futuro puoi aspettarti la possibilità di mostrare OSD e sottotitoli usando
la caratteristica nativa delle schede DVB, così come una riproduzione più
fluida di film non a 25fps e transcodifica in tempo reale tra MPEG-2 e MPEG-4
(decompressione parziale).
</p></div><div class="sect2" title="7.18.2. DXR2"><div class="titlepage"><div><div><h3 class="title"><a name="dxr2"></a>7.18.2. DXR2</h3></div></div></div><p>
<span class="application">MPlayer</span> fornisce una riproduzione accelerata
hardware con la scheda Creative DXR2.
</p><p>
Prima di tutto ti serviranno dei driver DXR2 correttamente installati. Puoi
trovare i driver e le istruzioni per l'installazione sul sito
<a class="ulink" href="http://dxr2.sf.net/" target="_top">DXR2 Resource Center</a>.
</p><div class="variablelist" title="USO"><p class="title"><b>USO</b></p><dl><dt><span class="term"><tt class="option">-vo dxr2</tt></span></dt><dd><p>Abilita l'uscita TV.</p></dd><dt><span class="term"><tt class="option">-vo dxr2:x11</tt> or <tt class="option">-vo dxr2:xv</tt></span></dt><dd><p>Abilita in X11 l'uscita su Overlay.</p></dd><dt><span class="term"><tt class="option">-dxr2 &lt;option1:option2:...&gt;</tt></span></dt><dd><p>
  Questa opzione viene usata per controllare il driver DXR2.
  </p></dd></dl></div><p>
Il chipset di overlay usato sulla DXR2 ha una qualità piuttosto bassa, ma le
impostazioni di default dovrebbero funzionare per chiunque. L'OSD potrebbe
essre utilizzabile con l'overlay (non sulla TV) disegnandolo nella chiave
colore. Con le impostazioni di default della chiave colore puoi ottenere
risultati variabili, spesso vedrai la chiave colore attorno ai caratteri o
qualche altro effetto strambo. Ma se imposti correttamente le opzioni della
chiave colore dovresti ricavare dei risultati accettabili.
</p><p>Per favore vedi nella pagina man le opzioni disponibili.</p></div><div class="sect2" title="7.18.3. DXR3/Hollywood+"><div class="titlepage"><div><div><h3 class="title"><a name="dxr3"></a>7.18.3. DXR3/Hollywood+</h3></div></div></div><p>
<span class="application">MPlayer</span> fornisce una riproduzione accelerata con le
schede Creative DXR3 e Sigma Designs Hollywood Plus. Queste schede usano
entrambe il chip em8300 di decodifica MPEG di Sigma Designs.
</p><p>
Prima di tutto ti serviranno dei driver DXR3/H+ correttamente installati,
versione 0.12.0 o successiva. Puoi trovare i driver e le istruzioni per
l'installazione sul sito
<a class="ulink" href="http://dxr3.sf.net/" target="_top">DXR3 &amp; Hollywood Plus per Linux</a>.
<tt class="filename">configure</tt> dovrebbe rilevare automaticamente la tua scheda,
la compilazione dovrebbe concludersi senza problemi.
</p><div class="variablelist" title="USO"><p class="title"><b>USO</b></p><dl><dt><span class="term"><tt class="option">-vo dxr3:prebuf:sync:norm=x:<em class="replaceable"><code>dispositivo</code></em></tt></span></dt><dd><p>
<tt class="option">overlay</tt> attiva l'overlay (sovrapposizione) invece che l'uscita
TV. Per funzionare richiede un'impostazione dell'overlay adeguatamente
configurata. Il modo più semplice di configurare l'overlay è eseguire prima
autocal. Poi lanciare mplayer con l'uscita dxr3 e, senza l'overlay abilitato,
eseguire dxr3view. In dxr3view puoi giocherellare con le impostazioni
dell'overlay e vederne il risultato in tempo reale, forse questa funzionalità
sarà utilizzabile in futueo dalla GUI di <span class="application">MPlayer</span>.
Una volta che l'overlay sarà correttamente configurato, non ti servirà più
dxr3view.
<tt class="option">prebuf</tt> abilita il pre-buffering. Il pre-buffering è una
funzionalità del chip em8300 che gli permette di contenere più di un
fotogramma video per volta. Questo significa che quando stai usando il
pre-buffering, <span class="application">MPlayer</span> cercherà di mantenere il
buffer video constantemente pieno di dati.
Se sei su una macchina lenta, l'uso della CPU di
<span class="application">MPlayer</span> sarà vicino, o pari, al 100%.
Questo è particolarmente vero se riproduci flussi MPEG puri (come DVD, SVCD e
così via), visto che <span class="application">MPlayer</span> non dovrà
ricodificarli in MPEG riempirà il buffer molto velocemente.
Con il pre-buffering la riproduzione video è
<span class="bold"><strong>molto</strong></span> meno sensibile all'utilizzo della CPU da
parte di altri programmi, non scarterà fotogrammi a meno che tale applicazione
prenda possesso della CPU per un tempo lungo.
Quando viene usato senza pre-buffering, l'em8300 è molto più sensibile al
carico della CPU, per cui si consiglia caldamente di abilitare l'opzione
<tt class="option">-framedrop</tt> di <span class="application">MPlayer</span> per evitare
un'ulteriore perdita di sincronia.
<tt class="option">sync</tt> abiliterà il nuovo motore di sincronizzazione.
Questa attualmente è una caratteristica sperimentale. Con il motore di
sincronizzazione abilitato, l'orologio interno dell'em8300 verrà tenuto
constantemente sotto controllo, se inizia a spostarsi dall'orologio di
<span class="application">MPlayer</span> verrà resettato causando lo scarto da parte
dell'em8300 di tutti i fotogrammi rimasti indietro.
<tt class="option">norm=x</tt> imposterà la norma TV della scheda DXR3 senza il
bisogno di strumenti esterni come em8300setup. Norme valide sono 5 = NTSC,
4 = PAL-60, 3 = PAL. Norme speciali sono 2 (auto-impostazione usando PAL/PAL-60)
e 1 (auto-impostazione usando PAL/NTSC) poiché decidono quale norma usare
in base alla frequenza fotogrammi del filmato. norm = 0 (default) non modifica
la norma corrente.
<tt class="option"><em class="replaceable"><code>dispositivo</code></em></tt> = numero del dipositivo da usare se hai più di una scheda em8300. Ognuna di queste opzioni può essere
tralasciata.
<tt class="option">:prebuf:sync</tt> sembra funzionare molto bene riproducendo filmati
MPEG-4 (DivX). Alcune persone hanno notificato problemi usando l'opzione prebuf
riproducendo file MPEG-1/2.
Potresti voler provare dapprima l'esecuzione senza alcuna opzione, se hai
problemi di sincronizzazione, o problemi coi sottotitoli DVD, fai un tentativo
con <tt class="option">:sync</tt>.
</p></dd><dt><span class="term"><tt class="option">-ao oss:/dev/em8300_ma-<em class="replaceable"><code>X</code></em></tt></span></dt><dd><p>
  Per l'uscita audio, dove <em class="replaceable"><code>X</code></em> è il numero del
  dispositivo (0 per una scheda sola).
  </p></dd><dt><span class="term"><tt class="option">-af resample=<em class="replaceable"><code>xxxxx</code></em></tt></span></dt><dd><p>
  This does not work with digital audio output (<tt class="option">-ac hwac3</tt>).
  L'em8300 non può riprodurre frequenze inferiori a 44100Hz. Se la frequenza
  è minore di 44100Hz imposta 44100Hz oppure 48000Hz a seconda di quale sia la
  più prossima. Per es. se il film usa 22050Hz allora usa 44100Hz come
  44100 / 2 = 22050, se è 24000Hz usa 48000Hz come 48000 / 2 = 24000 e così
  via.
  </p></dd><dt><span class="term"><tt class="option">-vf lavc</tt></span></dt><dd><p>
  Per visualizzare contenuti non MPEG sull'em8300 (per es. MPEG-4 (DivX) o
  RealVideo) devi specificare un filtro video MPEG-1 come
  <code class="systemitem">libavcodec</code> (lavc).
  Vedi la pagina man per ulteriori informazioni circa <tt class="option">-vf lavc</tt>.
  Attualmente non c'è modo di impostare gli fps dell'em8300, il che significa
  che sono fissati a 30000/1001 fps.
  A causa di ciò si raccomanda caldamente di usare
  <tt class="option">-vf lavc=<em class="replaceable"><code>qualità</code></em>:25</tt> soprattutto
  se stai usando il pre-buffering. Allora perché 25 e non 30000/1001?
  Bene, il fatto è che quando usi 30000/1001 l'immagine diventa un pochino
  saltellante. La ragione di ciò ci è sconosciuta.
  Se li imposti a qualcosa tra 25 e 27 l'immagine diventa stabile.
  Per adesso tutto quello che possiamo fare è accettarlo empiricamente.
  </p></dd><dt><span class="term"><tt class="option">-vf expand=-1:-1:-1:-1:1</tt></span></dt><dd><p>
  Anche se il driver DXR3 può posizionare qualche OSD sul video MPEG-1/2/4, ha
  una qualità decisamente inferiore del tipico OSD di
  <span class="application">MPlayer</span>, e ha anche molti problemi di
  aggiornamento. La riga comando suddetta dapprima converte il video in ingresso
  a MPEG-4 (questo è obbligatorio, scusa), poi applica un filtro expand che non
  espande nulla (-1: default), ma aggiunge all'immagine l'OSD normale
  (questo è ciò che fa l'"1" alla fine).
  </p></dd><dt><span class="term"><tt class="option">-ac hwac3</tt></span></dt><dd><p>
  L'em8300 supporta la riproduzione audio AC-3 (in surround) attraverso l'uscita
  digitale della scheda. Vedi l'opzione <tt class="option">-ao oss</tt> più sopra,
  deve essere usata per specificare l'uscita DXR3 al posto di una scheda audio.
  </p></dd></dl></div></div></div><div class="sect1" title="7.19. Altri dispositivi di visualizzazione"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="other"></a>7.19. Altri dispositivi di visualizzazione</h2></div></div></div><div class="sect2" title="7.19.1. Zr"><div class="titlepage"><div><div><h3 class="title"><a name="zr"></a>7.19.1. Zr</h3></div></div></div><p>
Questo è un driver video (<tt class="option">-vo zr</tt>) per un buon numero di schede
di cattura/riproduzione MJPEG (provato con DC10+ e Buz, e dovrebbe funzionare
per LML33, la DC10). Il driver lavora codificando il fotogramma in JPEG e poi
inviandolo alla scheda. Per la codifica JPEG viene usata, e richiesta,
<code class="systemitem">libavcodec</code>.
Con la modalità speciale <span class="emphasis"><em>cinerama</em></span>, puoi guardare filmati
in verà modalità widescreen a patto che tu abbia due proiettori e due
schede MJPEG. Proporzionalmente alla risoluzione e alle impostazioni della
qualità, questo driver può richiedere molta potenza di CPU, ricordati di
specificare <tt class="option">-framedrop</tt> se la tua macchina è troppo lenta.
Nota: il mio AMD K6-2 350MHz è (con <tt class="option">-framedrop</tt>) abbastanza
adeguato per riprodurre materiale VCD e film rimpiccioliti.
</p><p>
Il driver comunica col driver del kernel disponibile su
<a class="ulink" href="http://mjpeg.sf.net" target="_top">http://mjpeg.sf.net</a>, indi devi avere per prima cosa questo
funzionante. La presenza di una scheda MJPEG è autorilevata dallo script
<tt class="filename">configure</tt>, se la rilevazione fallisce, forzala con
</p><pre class="screen">./configure --enable-zr</pre><p>
</p><p>
L'uscita può essere controllata con varie opzioni, una descrizione dettagliata
delle opzioni si trova nella pagina man, una lista breve delle opzioni si può
avere eseguendo
</p><pre class="screen">mplayer -zrhelp</pre><p>
</p><p>
Cose come il ridimensionamento e l'OSD (on screen display) non sono gestite da
questo driver ma possono essere ottenute usado dei filtri video. Per esempio,
supponi di avere un film a una risoluzione di 512x272 e vuoi vederlo a schermo
intero con un'ampiezza di 768, 384 o 192. Per ragioni di prestazioni e di
qualità, io sceglierei di ridimensionare il film a 384x204 usando il
ridimensionatore software bilineae veloce. La riga comando diventa
</p><pre class="screen">
mplayer -vo zr -sws 0 -vf scale=384:204 <em class="replaceable"><code>filmato.avi</code></em>
</pre><p>
</p><p>
Il ritaglio può essere eseguito dal filtro <tt class="option">crop</tt> e da questo
driver di per sé. Supponi che un film sia troppo ampio per vedersi dal tuo
Buz e che tu voglia usare <tt class="option">-zrcrop</tt> per ridurre l'ampiezza del
film, allora dovrai lanciare il comando seguente
</p><pre class="screen">
mplayer -vo zr -zrcrop 720x320+80+0 <em class="replaceable"><code>benhur.avi</code></em>
</pre><p>
</p><p>
Se vuoi usare il filtro <tt class="option">crop</tt>, dovresti lanciare
</p><pre class="screen">
mplayer -vo zr -vf crop=720:320:80:0 <em class="replaceable"><code>benhur.avi</code></em>
</pre><p>
</p><p>
Ulteriori presenze di <tt class="option">-zrcrop</tt> evocano la modalità
<span class="emphasis"><em>cinerama</em></span>, per es. puoi distribuire il filmato su varie TV
o proiettori per creare uno schermo più grande.
Supponi di avere due proiettori. Quello di sinistra è collegato al tuo Buz su
<tt class="filename">/dev/video1</tt> e quello di destra è connesso al tuo DC10+ su
<tt class="filename">/dev/video0</tt>. Il film ha una risoluzione di 704x288.
Supponi inoltre di volere il proiettore di destra in bianco e nero e che quello
di sinistra debba avere fotogrammi JPEG con una qualità 10, allora dovrai
eseguire il comando seguente
</p><pre class="screen">
mplayer -vo zr -zrdev /dev/video0 -zrcrop 352x288+352+0 -zrxdoff 0 -zrbw \
    -zrcrop 352x288+0+0 -zrdev /dev/video1 -zrquality 10 \
	<em class="replaceable"><code>film.avi</code></em>
</pre><p>
</p><p>
Vedi che le opzioni che ci sono prima della seconda <tt class="option">-zrcrop</tt> si
applicano solo al DC10+ e che le opzioni dopo la seconda
<tt class="option">-zrcrop</tt> si applicano al Buz. Il massino numero di schede MJPEG
contemporanee in <span class="emphasis"><em>cinerama</em></span> è quattro, per cui puoi
costruire un muro video di 2x2.
</p><p>
Infine una nota importante: non avviare o fermare XawTV sul dispoitivo di
riproduzione durante la riproduzione stessa, o ti manderà in crash il
computer. Va tuttavia bene <span class="bold"><strong>PRIMA</strong></span> lanciare
XawTV, <span class="bold"><strong>POI</strong></span> avviare
<span class="application">MPlayer</span>, attendere l'uscita di
<span class="application">MPlayer</span>, e <span class="bold"><strong>DOPO</strong></span>
fermare XawTV.
</p></div><div class="sect2" title="7.19.2. Blinkenlights"><div class="titlepage"><div><div><h3 class="title"><a name="blinkenlights"></a>7.19.2. Blinkenlights</h3></div></div></div><p>
Il driver è in grado di riprodurre usando il protocollo UDP Blinkenlights. Se
non sai cosa siano
<a class="ulink" href="http://www.blinkenlights.de/" target="_top">Blinkenlights</a> o il suo
successore  <a class="ulink" href="http://www.blinkenlights.de/arcade/" target="_top">Arcade</a>,
scoprilo. Anche se probabilmente questo è uno degli ultimi driver video usati,
senza dubbio è il più figo che <span class="application">MPlayer</span> abbia da
offrire. Guarda solo alcuni dei
<a class="ulink" href="http://www.blinkenlights.de/video.en.html" target="_top">video documentali di
Blinkenlights</a>.
Sul video Arcade puoi vedere il driver di uscita video Blinkenlights in azione
alla posizione 00:07:50.
</p></div></div><div class="sect1" title="7.20. Gestione uscita TV-out"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tvout"></a>7.20. Gestione uscita TV-out</h2></div></div></div><div class="sect2" title="7.20.1. Schede Matrox G400"><div class="titlepage"><div><div><h3 class="title"><a name="tvout-mga-g400"></a>7.20.1. Schede Matrox G400</h3></div></div></div><p>
Sotto Linux hai due modi per far funzionare l'uscita TV delle G400:
</p><div class="important" title="Importante" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Importante</h3><p>
Per le istruzioni per l'uscita TV-out su Matrox G450/G550, vedi per favore la
sezione successiva!
</p></div><div class="variablelist"><dl><dt><span class="term">XFree86</span></dt><dd><p>
    Usando il driver e il modulo HAL, disponibile dal
    <a class="ulink" href="http://www.matrox.com" target="_top">sito Matrox</a>. Questo ti farò
    avere X sulla TV.
    </p><p>
    <span class="bold"><strong>Questo metodo non ti fornirà una riproduzione
    accelerate</strong></span> come sotto Windows! La seconda uscita ha solo il
    framebuffer YUV, il <span class="emphasis"><em>BES</em></span> (Back End Scaler, il
    ridimensionatore sulle schede G200/G400/G450/G550) non funziona su di esso!
    Il driver per Windows in qualche modo aggira il problema, probabilmente
    usando il motore 3D per ridimensionare, e il framebuffer YUV per mostrare
    l'immagine ridimensionata. Se vuoi davvero usare X, uitlizza le opzioni
    <tt class="option">-vo x11 -fs -zoom</tt>, ma sarà
    <span class="bold"><strong>LENTO</strong></span>, e avrà la protezione di copia
    <span class="bold"><strong>Macrovision</strong></span> abilitata (puoi "correggere"
    Macrovision usando questo
    <a class="ulink" href="http://avifile.sf.net/mgamacro.pl" target="_top">script perl</a>).
    </p></dd><dt><span class="term">Framebuffer</span></dt><dd><p>
    Usando i <span class="bold"><strong>moduli matroxfb</strong></span> nei kernel 2.4.
    I kernel 2.2 non hanno in sé la funzionalità TVout, indi sono
    inutilizzabili per questo fine. Devi abilitare TUTTE le caratteristiche
    specifiche per matroxfb durante la compilazione (tranne MultiHead), e
    compilarle dentro ai <span class="bold"><strong>moduli</strong></span>!
    Devi anche abilitare I2C e mettere gli strumenti
    <span class="application">matroxset</span>, <span class="application">fbset</span>
    e <span class="application">con2fb</span> in un percorso eseguibile (path).
    </p><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Passo 1"><p>
      Quindi carica nel kernel i moduli <code class="systemitem">matroxfb_Ti3026,
      matroxfb_maven, i2c-matroxfb, matroxfb_crtc2</code>.
      La tua console in modalità testo entrerà in modalità framebuffer
      (senza via di ritorno!).
    </p></li><li class="step" title="Passo 2"><p>
      Dopodiché imposta il monitor e la TV come ti garba usando gli strumenti
      citati sopra.
    </p></li><li class="step" title="Passo 3"><p>
      Evvai. L'operazione successiva è far sparire il cursore a blocco di tty1
      (o quello che è) e disabilitare lo spegnimento dello schermo. Esegui i
      comandi seguenti:

      </p><pre class="screen">
echo -e '\033[?25l'
setterm -blank 0</pre><p>
      or
      </p><pre class="screen">
setterm -cursor off
setterm -blank 0</pre><p>

      Probabilmente vuoi mettere i suddetti in uno script e anche vuotare lo
      schermo. Per ripristinare il cursore:
      </p><pre class="screen">echo -e '\033[?25h'</pre><p> o
      </p><pre class="screen">setterm -cursor on</pre><p>
    </p></li><li class="step" title="Passo 4"><p>
      Yeah kewl. Avvia la riproduzione del film con
      </p><pre class="screen">
mplayer -vo mga -fs -screenw 640 -screenh 512 <em class="replaceable"><code>nomefile</code></em></pre><p>

      (se usi X, adesso passa alla matroxfb con per esempio
      <span class="keycap"><b>Ctrl</b></span>+<span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>F1</b></span>.)
      Sostituisci <code class="literal">640</code> e <code class="literal">512</code> se imposti la
      risoluzione ad un'altra...
    </p></li><li class="step" title="Passo 5"><p>
      <span class="bold"><strong>Goditi la ultra-veloce ultra-accessoriata uscita TV
      Matrox (megli di Xv)!</strong></span>
    </p></li></ol></div></dd></dl></div><p title="Costruire un cavo per uscita TV-out Matrox"><b>Costruire un cavo per uscita TV-out Matrox. </b>
Nessuno si assume alcuna responsabilità, né risponde di alcuna danno causato
da questa documentazione.
</p><p title="Cavo per G400"><b>Cavo per G400. </b>
Il quarto pin del connettore CRTC2 è il segnale video composito. La terra sono
il sesto, settimo e ottavo pin (informazioni fornite da Balázs Rácz).
</p><p title="Cavo per G450"><b>Cavo per G450. </b>
Il primo pin del connettore CRTC2 è il segnale video composito. La terra sono
il quinto, sesto, settimo e quindicesimo pin (5, 6, 7, 15) (informazioni
fornite da Balázs Rácz).
</p></div><div class="sect2" title="7.20.2. Schede Matrox G450/G550"><div class="titlepage"><div><div><h3 class="title"><a name="tv-out_matrox_g450"></a>7.20.2. Schede Matrox G450/G550</h3></div></div></div><p>
La gestione dell'uscita TV per queste schede è stata aggiunta solo
recentemente e non è ancora nel kernel ufficiale.
Attualmente il modulo <span class="bold"><strong>mga_vid</strong></span> non può essere
utilizzato, per quanto ne so, perché il driver G450/G550 funziona solo in una
modalità: il primo chip CRTC (con molte più funzioni) sul primo schermo (sul
monitor), e il secondo CRTC (niente <span class="bold"><strong>BES</strong></span> - per
chiarimenti su BES, vedi la sezione sopra sulla G400) sulla TV. Perciò per ora
puoi usare solo il driver di uscita <span class="emphasis"><em>fbdev</em></span> di
<span class="application">MPlayer</span>.
</p><p>
The first CRTC can't be routed to the second head currently. The author of the
kernel matroxfb driver - Petr Vandrovec - will maybe make support for this, by
displaying the first CRTC's output onto both of the heads at once, as currently
recommended for G400, see the section above.
</p><p>
La patch necessaria per il kernel e l'HOWTO dettagliato sono scaricabili da
<a class="ulink" href="http://www.bglug.ca/matrox_tvout/" target="_top">http://www.bglug.ca/matrox_tvout/</a>
</p></div><div class="sect2" title="7.20.3. Costruire un cavo per l'uscita TV Matrox"><div class="titlepage"><div><div><h3 class="title"><a name="tv-out_matrox_cable"></a>7.20.3. Costruire un cavo per l'uscita TV Matrox</h3></div></div></div><p>
Nessuno si prende alcuna responsabilità, né garantisce per qualsiasi danno
causato da questa documentazione.
</p><p title="Cavo per G400"><b>Cavo per G400. </b>
Il quarto pin del connettore CRTC2 è il segnale video composito. La terra sono
il sesto, settimo e ottavo pin. (informazioni fornite da Balázs Rácz)
</p><p title="Cavo per G450"><b>Cavo per G450. </b>
Il primo pin del connettore CRTC2 è il segnale video composito. La terra sono
il quinto, sesto, settimo e quindicesimo pin (5, 6, 7, 15).
(informazioni fornite da Balázs Kerekes)
</p></div><div class="sect2" title="7.20.4. Schede ATI"><div class="titlepage"><div><div><h3 class="title"><a name="tvout-ati"></a>7.20.4. Schede ATI</h3></div></div></div><p title="PREAMBOLO"><b>PREAMBOLO. </b>
Attualmente ATI non vuole supportare alcuno dei suoi chip TV-out sotto Linux a
causa della loro tecnologia Macrovision sotto licenza.
</p><div class="itemizedlist" title="SITUAZIONE USCITA TV DELLE SCHEDE ATI IN LINUX"><p class="title"><b>SITUAZIONE USCITA TV DELLE SCHEDE ATI IN LINUX</b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <span class="bold"><strong>ATI Mach64</strong></span>:
  supportata da <a class="ulink" href="http://gatos.sf.net" target="_top">GATOS</a>.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>ASIC Radeon VIVO</strong></span>:
  supportata da <a class="ulink" href="http://gatos.sf.net" target="_top">GATOS</a>.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Radeon</strong></span> e <span class="bold"><strong>Rage128</strong></span>:
  supportate da <span class="application">MPlayer</span>!
  Controlla le sezioni <a class="link" href="#vesa" title="7.13. VESA - uscita attraverso il VESA BIOS">driver VESA</a> e
  <a class="link" href="#vidix" title="7.15. VIDIX">VIDIX</a>.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Rage Mobility P/M, Radeon, Rage 128, Mobility M3/M4</strong></span>:
  supportate da
  <a class="ulink" href="http://www.stud.uni-hamburg.de/users/lennart/projects/atitvout/" target="_top">atitvout</a>.
</p></li></ul></div><p>
Con le altre schede usa semplicemente il driver <a class="link" href="#vesa" title="7.13. VESA - uscita attraverso il VESA BIOS">VESA</a>
senza VIDIX. Tuttavia ti serve una CPU potente.
</p><p>
Un'unica cosa ti serve fare - <span class="bold"><strong>Assicurati di avere il
connettore TV collegato prima di avviare il tuo PC</strong></span> dato che il BIOS
video si inizializza solamente durante il passaggio POST.
</p></div><div class="sect2" title="7.20.5. nVidia"><div class="titlepage"><div><div><h3 class="title"><a name="tvout-nvidia"></a>7.20.5. nVidia</h3></div></div></div><p>
Per prima cosa, DEVI scaricare i driver proprietari a sorgenti chiusi da
<a class="ulink" href="http://nvidia.com" target="_top">http://nvidia.com</a>.
Non sarà spiegato il processo di installazione e configurazione visto che non
esula lo scopo di questa documentazione.
</p><p>
Dopo che XFree86, XVideo, e l'accelerazione 3D funzionano correttamente,
modifica la sezione Device della tua scheda nel file
<tt class="filename">XF86Config</tt>, secondo l'esempio seguente (adattalo alla tua
scheda/TV):

</p><pre class="programlisting">
Section "Device"
        Identifier      "GeForce"
        VendorName      "ASUS"
        BoardName       "nVidia GeForce2/MX 400"
        Driver          "nvidia"
        #Option         "NvAGP" "1"
        Option          "NoLogo"
        Option          "CursorShadow"  "on"

        Option          "TwinView"
        Option          "TwinViewOrientation" "Clone"
        Option          "MetaModes" "1024x768,640x480"
        Option          "ConnectedMonitor" "CRT, TV"
        Option          "TVStandard" "PAL-B"
        Option          "TVOutFormat" "Composite"
EndSection
</pre><p>
</p><p>
Sicuramente la cosa importante è la parte TwinView.
</p></div><div class="sect2" title="7.20.6. NeoMagic"><div class="titlepage"><div><div><h3 class="title"><a name="tvout-neomagic"></a>7.20.6. NeoMagic</h3></div></div></div><p>
Il chip NeoMagic si trova in unìampia gamma di portatili, alcuni dei quali sono
equipaggiati con un codificatore TV analogico semplice, alcuni ne hanno uno
avanzato.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  E' stato riportato che si può ottenere un'uscita TV affidabile usando
  <tt class="option">-vo fbdev</tt> o <tt class="option">-vo fbdev2</tt>.
  Devi avere vesafb compilato nel kernel e passare i seguenti parametri sulla
  riga di avvio del kernel:
  <tt class="option">append="video=vesafb:ywrap,mtrr" vga=791</tt>.
  Dovresti far partire <span class="application">X</span>, poi passare alla modalità
  in console con per es.
  <span class="keycap"><b>Ctrl</b></span>+<span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>F1</b></span>.
  Se non avvii <span class="application">X</span> prima di lanciare
  <span class="application">MPlayer</span> dalla console, il video diventa lento e
  frammentato (chiarimenti sono benvenuti).
  Collegati in console, poi lancia il comando seguente:

  </p><pre class="screen">clear; mplayer -vo fbdev -zoom -cache 8192 dvd://</pre><p>

  Ora dovresti vedere il filmato in console, che riempie circa la metà dello
  schermo LCD del tuo portatile. Per passare alla TV premi per tre volte
  <span class="keycap"><b>Fn</b></span>+<span class="keycap"><b>F5</b></span>.
  Provato su un Tecra 8000, kernel 2.6.15 con vesafb, ALSA v1.0.10.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Chip di codifica Chrontel 70xx</strong></span>:
  Si trova negli IBM Thinkpad 390E e facilmente altri Thinkpad o portatili.
  </p><p>
  Devi usare <tt class="option">-vo vesa:neotv_pal</tt> per PAL o
  <tt class="option">-vo vesa:neotv_ntsc</tt> per NTSC.
  Fornirà la funzione di uscita TV nelle modalità a 16 e 8 bpp seguenti:
  </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>NTSC 320x240, 640x480 e forse anche 800x600.</p></li><li class="listitem"><p>PAL  320x240, 400x300, 640x480, 800x600.</p></li></ul></div><p>
  La modalità 512x384 non è supportata dal BIOS. Per attivare l'uscita TV
  devi ridimensionare l'immagine a una risoluzione diversa. Se riesci a vedere
  un immagine sullo schermo a 640x480 o a 800x600 ma non a 320x240 o ad altre
  risoluzioni inferiori devi sostituire due tabelle in
  <tt class="filename">vbelib.c</tt>. Vedi la funzione vbeSetTV per i dettagli.
  In questo caso per favore contatta l'autore.
  </p><p>
  Problemi conosciuti: solo VESA, non è implementato alcun controllo come
  luminosità, contrasto, livello del nero, filtro per lo sfarfallio.
  </p></li></ul></div><p>
</p></div></div></div><div class="chapter" title="Capitolo 8. Ports"><div class="titlepage"><div><div><h2 class="title"><a name="ports"></a>Capitolo 8. Ports</h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="#linux">8.1. Linux</a></span></dt><dd><dl><dt><span class="sect2"><a href="#debian">8.1.1. Debian packaging</a></span></dt><dt><span class="sect2"><a href="#rpm">8.1.2. RPM packaging</a></span></dt><dt><span class="sect2"><a href="#arm_linux">8.1.3. ARM Linux</a></span></dt></dl></dd><dt><span class="sect1"><a href="#bsd">8.2. *BSD</a></span></dt><dd><dl><dt><span class="sect2"><a href="#freebsd">8.2.1. FreeBSD</a></span></dt><dt><span class="sect2"><a href="#openbsd">8.2.2. OpenBSD</a></span></dt><dt><span class="sect2"><a href="#darwin">8.2.3. Darwin</a></span></dt></dl></dd><dt><span class="sect1"><a href="#unix">8.3. Commercial Unix</a></span></dt><dd><dl><dt><span class="sect2"><a href="#solaris">8.3.1. Solaris</a></span></dt><dt><span class="sect2"><a href="#hp-ux">8.3.2. HP-UX</a></span></dt><dt><span class="sect2"><a href="#aix">8.3.3. AIX</a></span></dt><dt><span class="sect2"><a href="#qnx">8.3.4. QNX</a></span></dt></dl></dd><dt><span class="sect1"><a href="#windows">8.4. Windows</a></span></dt><dd><dl><dt><span class="sect2"><a href="#cygwin">8.4.1. <span class="application">Cygwin</span></a></span></dt><dt><span class="sect2"><a href="#mingw">8.4.2. <span class="application">MinGW</span></a></span></dt></dl></dd><dt><span class="sect1"><a href="#macos">8.5. Mac OS</a></span></dt><dd><dl><dt><span class="sect2"><a href="#osx_gui">8.5.1. MPlayer OS X GUI</a></span></dt></dl></dd></dl></div><p>
Binary packages of <span class="application">MPlayer</span> are available from several
sources. We have a list of places to get
<a class="ulink" href="http://www.mplayerhq.hu/design7/projects.html#unofficial_packages" target="_top">unofficial packages</a>
for various systems on our homepage.
However, <span class="bold"><strong>none of these packages are supported</strong></span>.
Report problems to the authors, not to us.
</p><div class="sect1" title="8.1. Linux"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="linux"></a>8.1. Linux</h2></div></div></div><div class="sect2" title="8.1.1. Debian packaging"><div class="titlepage"><div><div><h3 class="title"><a name="debian"></a>8.1.1. Debian packaging</h3></div></div></div><p>
To build a Debian package, run the following command in the
<span class="application">MPlayer</span> source directory:

</p><pre class="screen">fakeroot debian/rules binary</pre><p>

If you want to pass custom options to configure, you can set up the
<code class="envar">DEB_BUILD_OPTIONS</code> environment variable. For instance,
if you want GUI and OSD menu support you would use:

</p><pre class="screen">DEB_BUILD_OPTIONS="--enable-gui --enable-menu" fakeroot debian/rules binary</pre><p>

You can also pass some variables to the Makefile. For example, if you want
to compile with gcc 3.4 even if it's not the default compiler:

</p><pre class="screen">CC=gcc-3.4 DEB_BUILD_OPTIONS="--enable-gui" fakeroot debian/rules binary</pre><p>

To clean up the source tree run the following command:

</p><pre class="screen">fakeroot debian/rules clean</pre><p>

As root you can then install the <tt class="filename">.deb</tt> package as usual:

</p><pre class="screen">dpkg -i ../mplayer_<em class="replaceable"><code>version</code></em>.deb</pre><p>
</p></div><div class="sect2" title="8.1.2. RPM packaging"><div class="titlepage"><div><div><h3 class="title"><a name="rpm"></a>8.1.2. RPM packaging</h3></div></div></div><p>
To build an RPM package, run the following command in the
<span class="application">MPlayer</span> source directory:

</p><pre class="screen">FIXME: insert proper commands here</pre><p>
</p></div><div class="sect2" title="8.1.3. ARM Linux"><div class="titlepage"><div><div><h3 class="title"><a name="arm_linux"></a>8.1.3. ARM Linux</h3></div></div></div><p>
<span class="application">MPlayer</span> works on Linux PDAs with ARM CPU e.g. Sharp
Zaurus, Compaq Ipaq. The easiest way to obtain
<span class="application">MPlayer</span> is to get it from one of the
<a class="ulink" href="http://www.openzaurus.org" target="_top">OpenZaurus</a> package feeds.
If you want to compile it yourself, you should look at the
<a class="ulink" href="http://openzaurus.bkbits.net:8080/buildroot/src/packages/mplayer?nav=index.html%7Csrc/.%7Csrc/packages" target="_top">mplayer</a>
and the
<a class="ulink" href="http://openzaurus.bkbits.net:8080/buildroot/src/packages/libavcodec?nav=index.html%7Csrc/.%7Csrc/packages" target="_top">libavcodec</a>
directory in the OpenZaurus distribution buildroot. These always have the latest
Makefile and patches used for building a SVN <span class="application">MPlayer</span>.
If you need a GUI frontend, you can use xmms-embedded.
</p></div></div><div class="sect1" title="8.2. *BSD"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="bsd"></a>8.2. *BSD</h2></div></div></div><p>
<span class="application">MPlayer</span> runs on all known BSD flavors.
There are ports/pkgsrc/fink/etc versions of <span class="application">MPlayer</span>
available that are probably easier to use than our raw sources.
</p><p>
If <span class="application">MPlayer</span> complains about not finding
<tt class="filename">/dev/cdrom</tt> or <tt class="filename">/dev/dvd</tt>,
create an appropriate symbolic link:
</p><pre class="screen">ln -s /dev/<em class="replaceable"><code>your_cdrom_device</code></em> /dev/cdrom</pre><p>
</p><p>
To use Win32 DLLs with <span class="application">MPlayer</span> you will need to
re-compile the kernel with "<code class="envar">option USER_LDT</code>"
(unless you run FreeBSD-CURRENT,
where this is the default).
</p><div class="sect2" title="8.2.1. FreeBSD"><div class="titlepage"><div><div><h3 class="title"><a name="freebsd"></a>8.2.1. FreeBSD</h3></div></div></div><p>
If your CPU has SSE, recompile your kernel with
"<code class="envar">options CPU_ENABLE_SSE</code>" (FreeBSD-STABLE or kernel
patches required).
</p></div><div class="sect2" title="8.2.2. OpenBSD"><div class="titlepage"><div><div><h3 class="title"><a name="openbsd"></a>8.2.2. OpenBSD</h3></div></div></div><p>
Due to limitations in different versions of gas (relocation vs MMX), you
will need to compile in two steps: First make sure that the non-native as
is first in your <code class="envar">$PATH</code> and do a <span class="command"><strong>gmake -k</strong></span>, then
make sure that the native version is used and do <span class="command"><strong>gmake</strong></span>.
</p><p>
As of OpenBSD 3.4 the hack above is no longer needed.
</p></div><div class="sect2" title="8.2.3. Darwin"><div class="titlepage"><div><div><h3 class="title"><a name="darwin"></a>8.2.3. Darwin</h3></div></div></div><p>
See the <a class="link" href="#macos" title="8.5. Mac OS">Mac OS</a> section.
</p></div></div><div class="sect1" title="8.3. Commercial Unix"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="unix"></a>8.3. Commercial Unix</h2></div></div></div><p>
<span class="application">MPlayer</span> has been ported to a number of commercial
Unix variants. Since the development environments on these systems tend to be
different from those found on free Unixes, you may have to make some manual
adjustments to make the build work.
</p><div class="sect2" title="8.3.1. Solaris"><div class="titlepage"><div><div><h3 class="title"><a name="solaris"></a>8.3.1. Solaris</h3></div></div></div><p>
Solaris still has broken, POSIX-incompatible system tools and shell in default
locations. Until a bold step out of the computing stone age is made, you will
have to add <tt class="filename">/usr/xpg4/bin</tt> to your
<code class="systemitem">PATH</code>.
</p><p>
<span class="application">MPlayer</span> should work on Solaris 2.6 or newer.
Use the SUN audio driver with the <tt class="option">-ao sun</tt> option for sound.
</p><p>
On <span class="bold"><strong>UltraSPARCs</strong></span>,
<span class="application">MPlayer</span> takes advantage of their
<span class="bold"><strong>VIS</strong></span> extensions
(equivalent to MMX), currently only in
<code class="systemitem">libmpeg2</code>,
<code class="systemitem">libvo</code>
and <code class="systemitem">libavcodec</code>, but not in
<code class="systemitem">mp3lib</code>. You can watch a VOB file
on a 400MHz CPU. You'll need
<a class="ulink" href="http://www.sun.com/sparc/vis/mediaLib.html" target="_top"><code class="systemitem">mLib</code></a>
installed.
</p><p><span class="bold"><strong>Caveat:</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <span class="bold"><strong>mediaLib</strong></span> is
  <span class="bold"><strong>currently disabled</strong></span> by default in
  <span class="application">MPlayer</span> because of brokenness. SPARC users
  who build MPlayer with mediaLib support have reported a thick,
  green-tint on video encoded and decoded with libavcodec. You may enable
  it if you wish with:
  </p><pre class="screen">./configure --enable-mlib</pre><p>
  You do this at your own risk. x86 users should
  <span class="bold"><strong>never</strong></span> use mediaLib, as this will
  result in very poor MPlayer performance.
</p></li></ul></div><p>
On Solaris SPARC, you need the GNU C/C++ Compiler; it does not matter if
GNU C/C++ compiler is configured with or without the GNU assembler.
</p><p>
On Solaris x86, you need the GNU assembler and the GNU C/C++ compiler,
configured to use the GNU assembler! The <span class="application">MPlayer</span>
code on the x86 platform makes heavy use of MMX, SSE and 3DNOW! instructions
that cannot be compiled using Sun's assembler
<tt class="filename">/usr/ccs/bin/as</tt>.
</p><p>
The <tt class="filename">configure</tt> script tries to find out, which assembler
program is used by your "gcc" command (in case the autodetection
fails, use the
<tt class="option">--as=<em class="replaceable"><code>/wherever/you/have/installed/gnu-as</code></em></tt>
option to tell the <tt class="filename">configure</tt> script where it can find GNU
"as" on your system).
</p><p>Solutions to common problems:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Error message from <tt class="filename">configure</tt> on a Solaris x86 system
  using GCC without GNU assembler:
  </p><pre class="screen">
% configure
...
Checking assembler (/usr/ccs/bin/as) ... , failed
Please upgrade(downgrade) binutils to 2.10.1...</pre><p>
  (Solution: Install and use a gcc configured with
  <tt class="option">--with-as=gas</tt>)
</p><p>
Typical error you get when building with a GNU C compiler that does not
use GNU as:
</p><pre class="screen">
% gmake
...
gcc -c -Iloader -Ilibvo -O4 -march=i686 -mcpu=i686 -pipe -ffast-math
     -fomit-frame-pointer  -I/usr/local/include   -o mplayer.o mplayer.c
Assembler: mplayer.c
"(stdin)", line 3567 : Illegal mnemonic
"(stdin)", line 3567 : Syntax error
... more "Illegal mnemonic" and "Syntax error" errors ...
</pre><p>
</p></li><li class="listitem"><p>
  <span class="application">MPlayer</span> may segfault when decoding
  and encoding video that uses the win32codecs:
  </p><pre class="screen">
...
Trying to force audio codec driver family acm...
Opening audio decoder: [acm] Win32/ACM decoders
sysi86(SI86DSCR): Invalid argument
Couldn't install fs segment, expect segfault


MPlayer interrupted by signal 11 in module: init_audio_codec
...</pre><p>
  This is because of a change to sysi86() in Solaris 10 and pre-Solaris
  Nevada b31 releases. This has been fixed in Solaris Nevada b32;
  however, Sun has yet to backport the fix to Solaris 10. The MPlayer
  Project has made Sun aware of the problem and a patch is currently in
  progress for Solaris 10. More information about this bug can be found
  at:
  <a class="ulink" href="http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6308413" target="_top">http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6308413</a>.
</p></li><li class="listitem"><p>
Due to bugs in Solaris 8,
you may not be able to play DVD discs larger than 4 GB:
</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>
  The sd(7D) driver on Solaris 8 x86 has a bug when accessing a disk block &gt;4GB
  on a device using a logical blocksize != DEV_BSIZE
  (i.e. CD-ROM and DVD media).
  Due to a 32Bit int overflow, a disk address modulo 4GB is accessed
  (<a class="ulink" href="http://groups.yahoo.com/group/solarisonintel/message/22516" target="_top">http://groups.yahoo.com/group/solarisonintel/message/22516</a>).
  This problem does not exist in the SPARC version of Solaris 8.
</p></li><li class="listitem"><p>
  A similar bug is present in the hsfs(7FS) file system code (AKA ISO9660),
  hsfs may not not support partitions/disks larger than 4GB, all data is
  accessed modulo 4GB
  (<a class="ulink" href="http://groups.yahoo.com/group/solarisonintel/message/22592" target="_top">http://groups.yahoo.com/group/solarisonintel/message/22592</a>).
  The hsfs problem can be fixed by installing
  patch 109764-04 (SPARC) / 109765-04 (x86).
</p></li></ul></div></li></ul></div></div><div class="sect2" title="8.3.2. HP-UX"><div class="titlepage"><div><div><h3 class="title"><a name="hp-ux"></a>8.3.2. HP-UX</h3></div></div></div><p>
Joe Page hosts a detailed HP-UX <span class="application">MPlayer</span>
<a class="ulink" href="http://users.rcn.com/joepage/mplayer_on_hpux11.htm" target="_top">HOWTO</a>
by Martin Gansser on his homepage. With these instructions the build should
work out of the box. The following information is taken from this HOWTO.
</p><p>
You need GCC 3.4.0 or later and SDL 1.2.7 or later.
HP cc will not produce a working program, prior GCC versions are buggy.
For OpenGL functionality you need to install Mesa and the gl and gl2 video
output drivers should work, speed may be very bad, depending on the CPU speed,
though. A good replacement for the rather poor native HP-UX sound system is
GNU esound.
</p><p>
Create the DVD device
scan the SCSI bus with:

</p><pre class="screen">
# ioscan -fn

Class          I            H/W   Path          Driver    S/W State    H/W Type        Description
...
ext_bus 1    8/16/5      c720  CLAIMED INTERFACE  Built-in SCSI
target  3    8/16/5.2    tgt   CLAIMED DEVICE
disk    4    8/16/5.<span class="bold"><strong>2</strong></span>.<span class="bold"><strong>0</strong></span>  sdisk CLAIMED DEVICE     <span class="bold"><strong>PIONEER DVD-ROM DVD-305</strong></span>
                         /dev/dsk/c1t2d0 <span class="bold"><strong>/dev/rdsk/c1t2d0</strong></span>
target  4    8/16/5.7    tgt   CLAIMED DEVICE
ctl     <span class="bold"><strong>1</strong></span>    8/16/5.7.0  sctl  CLAIMED DEVICE     Initiator
                         /dev/rscsi/c1t7d0 /dev/rscsi/c1t7l0 /dev/scsi/c1t7l0
...
</pre><p>

The screen output shows a Pioneer DVD-ROM at SCSI address 2.
The card instance for hardware path 8/16 is 1.
</p><p>
Create a link from the raw device to the DVD device.
</p><pre class="screen">
ln -s /dev/rdsk/c<em class="replaceable"><code>&lt;SCSI bus instance&gt;</code></em>t<em class="replaceable"><code>&lt;SCSI target ID&gt;</code></em>d<em class="replaceable"><code>&lt;LUN&gt;</code></em> /dev/<em class="replaceable"><code>&lt;device&gt;</code></em>
</pre><p>
Example:
</p><pre class="screen">ln -s /dev/rdsk/c1t2d0 /dev/dvd</pre><p>
</p><p>
Below are solutions for some common problems:

</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Crash at Start with the following error message:
  </p><pre class="screen">
/usr/lib/dld.sl: Unresolved symbol: finite (code) from /usr/local/lib/gcc-lib/hppa2.0n-hp-hpux11.00/3.2/../../../libGL.sl</pre><p>
  </p><p>
  This means that the function <code class="systemitem">.finite().</code> is not
  available in the standard HP-UX math library.
  Instead there is <code class="systemitem">.isfinite().</code>.
  Solution: Use the latest Mesa depot file.
  </p></li><li class="listitem"><p>
  Crash at playback with the following error message:
  </p><pre class="screen">
/usr/lib/dld.sl: Unresolved symbol: sem_init (code) from /usr/local/lib/libSDL-1.2.sl.0</pre><p>
  </p><p>
  Solution: Use the extralibdir option of configure
  <tt class="option">--with-extralibdir="/usr/lib -lrt"</tt>
  </p></li><li class="listitem"><p>
  MPlayer segfaults with a message like this:
  </p><pre class="screen">
Pid 10166 received a SIGSEGV for stack growth failure.
Possible causes: insufficient memory or swap space, or stack size exceeded maxssiz.
Segmentation fault</pre><p>
  </p><p>
  Solution:
  The HP-UX kernel has a default stack size of 8MB(?) per process.(11.0 and
  newer 10.20 patches let you increase <code class="systemitem">maxssiz</code> up to
  350MB for 32-bit programs). You need to extend
  <code class="systemitem">maxssiz</code> and recompile the kernel (and reboot).
  You can use SAM to do this.
  (While at it, check out the <code class="systemitem">maxdsiz</code> parameter for
  the maximum amount of data a program can use.
  It depends on your applications, if the default of 64MB is enough or not.)
  </p></li></ul></div><p>
</p></div><div class="sect2" title="8.3.3. AIX"><div class="titlepage"><div><div><h3 class="title"><a name="aix"></a>8.3.3. AIX</h3></div></div></div><p>
<span class="application">MPlayer</span> builds successfully on AIX 5.1,
5.2, and 5.3, using GCC 3.3 or greater. Building
<span class="application">MPlayer</span> on AIX 4.3.3 and below is
untested. It is highly recommended that you build
<span class="application">MPlayer</span> using GCC 3.4 or greater,
or if you are building on POWER5, GCC 4.0 is required.
</p><p>
CPU detection is still a work in progress.
The following architectures have been tested:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>604e</p></li><li class="listitem"><p>POWER3</p></li><li class="listitem"><p>POWER4</p></li></ul></div><p>
The following architectures are untested, but should still work:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>POWER</p></li><li class="listitem"><p>POWER2</p></li><li class="listitem"><p>POWER5</p></li></ul></div><p>
</p><p>
Sound via the Ultimedia Services is not supported, as Ultimedia was
dropped in AIX 5.1; therefore, the only option is to use the AIX Open
Sound System (OSS) drivers from 4Front Technologies at
<a class="ulink" href="http://www.opensound.com/aix.html" target="_top">http://www.opensound.com/aix.html</a>.
4Front Technologies freely provides OSS drivers for AIX 5.1 for
non-commercial use; however, there are currently no sound output
drivers for AIX 5.2 or 5.3. This means <span class="bold"><strong>AIX 5.2
and 5.3 are not capable of MPlayer audio output, presently.</strong></span>
</p><p>Solutions to common problems:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  If you encounter this error message from <tt class="filename">./configure</tt>:
  </p><pre class="screen">
$ ./configure
...
Checking for iconv program ... no
No working iconv program found, use
--charset=US-ASCII to continue anyway.
Messages in the GTK-2 interface will be broken then.</pre><p>
  This is because AIX uses non-standard character set names; therefore,
  converting MPlayer output to another character set is currently not
  supported. The solution is to use:
  </p><pre class="screen">$ ./configure --charset=noconv</pre><p>
  </p></li></ul></div></div><div class="sect2" title="8.3.4. QNX"><div class="titlepage"><div><div><h3 class="title"><a name="qnx"></a>8.3.4. QNX</h3></div></div></div><p>
You'll need to download and install SDL for QNX. Then run
<span class="application">MPlayer</span> with <tt class="option">-vo sdl:driver=photon</tt>
and <tt class="option">-ao sdl:nto</tt> options, it should be fast.
</p><p>
The <tt class="option">-vo x11</tt> output will be even slower than on Linux,
since QNX has only X <span class="emphasis"><em>emulation</em></span> which is very slow.
</p></div></div><div class="sect1" title="8.4. Windows"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="windows"></a>8.4. Windows</h2></div></div></div><p>
Yes, <span class="application">MPlayer</span> runs on Windows under
<a class="ulink" href="http://www.cygwin.com/" target="_top"><span class="application">Cygwin</span></a>
and
<a class="ulink" href="http://www.mingw.org/" target="_top"><span class="application">MinGW</span></a>.
It does not have an official GUI yet, but the command line version
is completely functional. You should check out the
<a class="ulink" href="http://lists.mplayerhq.hu/mailman/listinfo/mplayer-cygwin/" target="_top">MPlayer-cygwin</a>
mailing list for help and latest information.
Official Windows binaries can be found on the
<a class="ulink" href="http://www.mplayerhq.hu/design7/dload.html" target="_top">download page</a>.
Installer packages and simple GUI frontends are available from external
sources, we have collected then in the Windows section of our
<a class="ulink" href="http://www.mplayerhq.hu/design7/projects.html#windows" target="_top">projects page</a>.
</p><p>
If you wish to avoid using the command line, a simple trick is
to put a shortcut on your desktop that contains something like the
following in the execute section:
</p><pre class="screen"><em class="replaceable"><code>c:\path\to\</code></em>mplayer.exe %1</pre><p>
This will make <span class="application">MPlayer</span> play any movie that is
dropped on the shortcut. Add <tt class="option">-fs</tt> for fullscreen mode.
</p><p>
Best results are achieved with the native DirectX video output driver
(<tt class="option">-vo directx</tt>). Alternatives are OpenGL and SDL, but OpenGL
performance varies greatly between systems and SDL is known to
distort video or crash on some systems. If the image is
distorted, try turning off hardware acceleration with
<tt class="option">-vo directx:noaccel</tt>. Download
<a class="ulink" href="http://www.mplayerhq.hu/MPlayer/contrib/win32/dx7headers.tgz" target="_top">DirectX 7 header files</a>
to compile the DirectX video output driver. Furthermore you need to have
DirectX 7 or later installed for the DirectX video output driver to work.
</p><p>
<a class="link" href="#vidix" title="7.15. VIDIX">VIDIX</a> now works under Windows as
<tt class="option">-vo winvidix</tt>, although it is still experimental
and needs a bit of manual setup. Download
<a class="ulink" href="http://www.mplayerhq.hu/MPlayer/releases/win32/dhahelperwin/dhahelper.sys" target="_top">dhahelper.sys</a> or
<a class="ulink" href="http://www.mplayerhq.hu/MPlayer/releases/win32/dhahelperwin/withmtrr/dhahelper.sys" target="_top">dhahelper.sys (with MTRR support)</a>
and copy it to the <tt class="filename">vidix/dhahelperwin</tt>
directory in your <span class="application">MPlayer</span> source tree.
Open a console and type
</p><pre class="screen">make install-dhahelperwin</pre><p>
as Administrator. After that you will have to reboot.
</p><p>
For best results <span class="application">MPlayer</span> should use a
colorspace that your video card supports in hardware. Unfortunately many
Windows graphics drivers wrongly report some colorspaces as supported in
hardware. To find out which, try
</p><pre class="screen">
mplayer -benchmark -nosound -frames 100 -vf format=<em class="replaceable"><code>colorspace</code></em> <em class="replaceable"><code>movie</code></em>
</pre><p>
where <em class="replaceable"><code>colorspace</code></em> can be any colorspace
printed by the <tt class="option">-vf format=fmt=help</tt> option. If you
find a colorspace your card handles particularly bad
<tt class="option">-vf noformat=<em class="replaceable"><code>colorspace</code></em></tt>
will keep it from being used. Add this to your config file to permanently
keep it from being used.
</p><p>There are special codec packages for Windows available on our
  <a class="ulink" href="http://www.mplayerhq.hu/design7/dload.html" target="_top">download page</a>
  to allow playing formats for which there is no native support yet.
  Put the codecs somewhere in your path or pass
  <tt class="option">--codecsdir=<em class="replaceable"><code>c:/path/to/your/codecs</code></em></tt>
  (alternatively
  <tt class="option">--codecsdir=<em class="replaceable"><code>/path/to/your/codecs</code></em></tt>
  only on <span class="application">Cygwin</span>) to <tt class="filename">configure</tt>.
  We have had some reports that Real DLLs need to be writable by the user
  running <span class="application">MPlayer</span>, but only on some systems (NT4).
  Try making them writable if you have problems.
  </p><p>
You can play VCDs by playing the <tt class="filename">.DAT</tt> or
<tt class="filename">.MPG</tt> files that Windows exposes on VCDs. It works like
this (adjust for the drive letter of your CD-ROM):
</p><pre class="screen">mplayer <em class="replaceable"><code>d:/mpegav/avseq01.dat</code></em></pre><p>
Alternatively, you can play a VCD track directly by using:
</p><pre class="screen">mplayer vcd://<em class="replaceable"><code>&lt;track&gt;</code></em> -cdrom-device <em class="replaceable"><code>d:</code></em>
</pre><p>
DVDs also work, adjust <tt class="option">-dvd-device</tt> for the drive letter
of your DVD-ROM:
</p><pre class="screen">
mplayer dvd://<em class="replaceable"><code>&lt;title&gt;</code></em> -dvd-device <em class="replaceable"><code>d:</code></em>
</pre><p>
The <span class="application">Cygwin</span>/<span class="application">MinGW</span>
console is rather slow. Redirecting output or using the
<tt class="option">-quiet</tt> option has been reported to improve performance on
some systems. Direct rendering (<tt class="option">-dr</tt>) may also help.
If playback is jerky, try
<tt class="option">-autosync 100</tt>. If some of these options help you, you
may want to put them in your config file.
</p><div class="note" title="Nota" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
If you have a Pentium 4 and are experiencing a crash using the
RealPlayer codecs, you may need to disable hyperthreading support.
</p></div><div class="sect2" title="8.4.1. Cygwin"><div class="titlepage"><div><div><h3 class="title"><a name="cygwin"></a>8.4.1. <span class="application">Cygwin</span></h3></div></div></div><p>
You need to run <span class="application">Cygwin</span> 1.5.0 or later in
order to compile <span class="application">MPlayer</span>.
</p><p>
DirectX header files need to be extracted to
<tt class="filename">/usr/include/</tt> or
<tt class="filename">/usr/local/include/</tt>.
</p><p>
Instructions and files for making SDL run under
<span class="application">Cygwin</span> can be found on the
<a class="ulink" href="http://www.libsdl.org/extras/win32/cygwin/" target="_top">libsdl site</a>.
</p></div><div class="sect2" title="8.4.2. MinGW"><div class="titlepage"><div><div><h3 class="title"><a name="mingw"></a>8.4.2. <span class="application">MinGW</span></h3></div></div></div><p>
You need <span class="application">MinGW</span> 3.1.0 or later and MSYS 1.0.9 or
later. Tell the MSYS postinstall that <span class="application">MinGW</span> is
installed.
</p><p>
Extract DirectX header files to
<tt class="filename">/mingw/include/</tt>.
</p><p>
MOV compressed header support requires
<a class="ulink" href="http://www.gzip.org/zlib/" target="_top">zlib</a>,
which <span class="application">MinGW</span> does not provide by default.
Configure it with <tt class="option">--prefix=/mingw</tt> and install
it before compiling <span class="application">MPlayer</span>.
</p><p>
Complete instructions for building <span class="application">MPlayer</span>
and necessary libraries can be found in the
<a class="ulink" href="http://www.mplayerhq.hu/MPlayer/contrib/win32/MPlayer-MinGW-Howto.txt" target="_top">MPlayer MinGW HOWTO</a>.
</p></div></div><div class="sect1" title="8.5. Mac OS"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="macos"></a>8.5. Mac OS</h2></div></div></div><p>
<span class="application">MPlayer</span> does not work on Mac OS versions before
10, but should compile out-of-the-box on Mac OS X 10.2 and up.
The preferred compiler is the Apple version of
GCC 3.x or later.
You can get the basic compilation environment by installing Apple's
<a class="ulink" href="http://developer.apple.com/tools/download/" target="_top">Xcode</a>.
If you have Mac OS X 10.3.9 or later and QuickTime 7
you can use the <tt class="option">corevideo</tt> video output driver.
</p><p>
Unfortunately, this basic environment will not allow you to take advantage
of all the nice features of <span class="application">MPlayer</span>.
For instance, in order to have OSD support compiled in, you will
need to have <code class="systemitem">fontconfig</code>
and <code class="systemitem">freetype</code> libraries
installed on your machine. Contrary to other Unixes such as most
Linux and BSD variants, OS X does not have a package system
that comes with the system.
</p><p>
There are at least two to choose from:
<a class="ulink" href="http://fink.sourceforge.net/" target="_top">Fink</a> and
<a class="ulink" href="http://www.macports.org/" target="_top">MacPorts</a>.
Both of them provide about the same service (i.e. a lot of packages to
choose from, dependency resolution, the ability to simply add/update/remove
packages, etc...).
Fink offers both precompiled binary packages or building everything from
source, whereas MacPorts only offers building from source.
The author of this guide chose MacPorts for the simple fact that its basic
setup was more lightweight.
Later examples will be based on MacPorts.
</p><p>
For instance, to compile <span class="application">MPlayer</span> with OSD support:
</p><pre class="screen">sudo port install pkg-config</pre><p>
This will install <span class="application">pkg-config</span>, which is a system for
managing library compile/link flags.
<span class="application">MPlayer</span>'s <code class="systemitem">configure</code> script
uses it to properly detect libraries.
Then you can install <span class="application">fontconfig</span> in a
similar way:
</p><pre class="screen">sudo port install fontconfig</pre><p>
Then you can proceed with launching <span class="application">MPlayer</span>'s
<code class="systemitem">configure</code> script (note the
<code class="systemitem">PKG_CONFIG_PATH</code> and <code class="systemitem">PATH</code>
environment variables so that <code class="systemitem">configure</code> finds the
libraries installed with MacPorts):
</p><pre class="screen">
PKG_CONFIG_PATH=/opt/local/lib/pkgconfig/ PATH=$PATH:/opt/local/bin/ ./configure
</pre><p>
</p><div class="sect2" title="8.5.1. MPlayer OS X GUI"><div class="titlepage"><div><div><h3 class="title"><a name="osx_gui"></a>8.5.1. MPlayer OS X GUI</h3></div></div></div><p>
You can get a native GUI for <span class="application">MPlayer</span> together with
precompiled <span class="application">MPlayer</span> binaries for Mac OS X from the
<a class="ulink" href="http://mplayerosx.sf.net/" target="_top">MPlayerOSX</a> project, but be
warned: that project is not active anymore.
</p><p>
Fortunately, <span class="application">MPlayerOSX</span> has been taken over
by a member of the <span class="application">MPlayer</span> team.
Preview releases are available from our
<a class="ulink" href="http://mplayerhq.hu/dload.html" target="_top">download page</a>
and an official release should arrive soon.
</p><p>
In order to build <span class="application">MPlayerOSX</span> from source
yourself, you need the <code class="systemitem">mplayerosx</code>, the
<code class="systemitem">main</code> and a copy of the
<code class="systemitem">main</code> SVN module named
<code class="systemitem">main_noaltivec</code>.
<code class="systemitem">mplayerosx</code> is the GUI frontend,
<code class="systemitem">main</code> is MPlayer and
<code class="systemitem">main_noaltivec</code> is MPlayer built without AltiVec
support.
</p><p>
To check out SVN modules use:
</p><pre class="screen">
svn checkout svn://svn.mplayerhq.hu/mplayerosx/trunk/ mplayerosx
svn checkout svn://svn.mplayerhq.hu/mplayer/trunk/ main
</pre><p>
</p><p>
In order to build <span class="application">MPlayerOSX</span> you will need to
set up something like this:
</p><pre class="screen">
MPlayer_source_directory
   |
   |---&gt;main           (MPlayer Subversion source)
   |
   |---&gt;main_noaltivec (MPlayer Subversion source configured with --disable-altivec)
   |
   \---&gt;mplayerosx     (MPlayer OS X Subversion source)
</pre><p>
You first need to build main and main_noaltivec.
</p><p>
To begin with, in order to ensure maximum backwards compatibility, set an
environment variable:
</p><pre class="screen">export MACOSX_DEPLOYMENT_TARGET=10.3</pre><p>
</p><p>
Then, configure:
</p><p>
If you configure for a G4 or later CPU with AltiVec support, do as follows:
</p><pre class="screen">
./configure --disable-gl --disable-x11
</pre><p>
If you configure for a G3-powered machine without AltiVec, use:
</p><pre class="screen">
./configure --disable-gl --disable-x11 --disable-altivec
</pre><p>
You may need to edit <tt class="filename">config.mak</tt> and change
<code class="systemitem">-mcpu</code> and <code class="systemitem">-mtune</code>
from <code class="systemitem">74XX</code> to <code class="systemitem">G3</code>.
</p><p>
Continue with
</p><pre class="screen">make</pre><p>
then go to the mplayerosx directory and type
</p><pre class="screen">make dist</pre><p>
This will create a compressed <code class="systemitem">.dmg</code> archive
with the ready to use binary.
</p><p>
You can also use the <span class="application">Xcode</span> 2.1 project;
the old project for <span class="application">Xcode</span> 1.x does
not work anymore.
</p></div></div></div><div class="chapter" title="Capitolo 9. Utilizzo base di MEncoder"><div class="titlepage"><div><div><h2 class="title"><a name="mencoder"></a>Capitolo 9. Utilizzo base di <span class="application">MEncoder</span></h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="#menc-feat-selecting-codec">9.1. Selezionare codec e formati contenitore</a></span></dt><dt><span class="sect1"><a href="#menc-feat-selecting-input">9.2. Selezionare il file in ingresso o il dispositivo</a></span></dt><dt><span class="sect1"><a href="#menc-feat-mpeg4">9.3. Codificare MPEG-4 ("DivX") in due passaggi</a></span></dt><dt><span class="sect1"><a href="#menc-feat-handheld-psp">9.4. Codificare nel formato video per Sony PSP</a></span></dt><dt><span class="sect1"><a href="#menc-feat-mpeg">9.5. Codificare in formato MPEG</a></span></dt><dt><span class="sect1"><a href="#menc-feat-rescale">9.6. Ridimensionare filmati</a></span></dt><dt><span class="sect1"><a href="#menc-feat-streamcopy">9.7. Copia dei flussi</a></span></dt><dt><span class="sect1"><a href="#menc-feat-enc-images">9.8. Codificare file immagine multipli (JPEG, PNG, TGA, etc.)</a></span></dt><dt><span class="sect1"><a href="#menc-feat-extractsub">9.9. Estrarre sottotitoli DVD in un file VOBsub</a></span></dt><dt><span class="sect1"><a href="#aspect">9.10. Preservare il rapporto di aspetto</a></span></dt></dl></div><p>
Per la lista completa delle opzioni disponibili ed esempi per
<span class="application">MEncoder</span>, leggi per favore la pagina di manuale. Per
una serie di esempi pronti all'uso e guide dettagliate sull'utilizzo di
svariati parametri di codifica leggi le
<a class="ulink" href="../../tech/encoding-tips.txt" target="_top">indicazioni per la codifica</a>
che sono stati selezionati da vari thread sulla mailing list MPlayer-users.
Cerca
<a class="ulink" href="http://lists.mplayerhq.hu/pipermail/mencoder-users/" target="_top">qui</a>
negli archivi e soprattutto per cose più vecchie, anche
<a class="ulink" href="http://lists.mplayerhq.hu/pipermail/mplayer-users/" target="_top">qui</a> per
una buona serie di discussioni riguardanti tutti gli aspetti e i problemi
relativi alla codifica con <span class="application">MEncoder</span>.
</p><div class="sect1" title="9.1. Selezionare codec e formati contenitore"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-selecting-codec"></a>9.1. Selezionare codec e formati contenitore</h2></div></div></div><p>
I codec audio e video per la codifica vengono selezionati rispettivamente con
le opzioni <tt class="option">-oac</tt> e <tt class="option">-ovc</tt>.
Esegui per esempio:
</p><pre class="screen">mencoder -ovc help</pre><p>
per elencare tutti i codec video supportati dalla versione di
<span class="application">MEncoder</span> sul tuo sistema.
Sono disponibili le scelte seguenti:
</p><p>
Codec audio:
</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Nome codec audio</th><th>Descrizione</th></tr></thead><tbody><tr><td>mp3lame</td><td>codifica in MP3 VBR, ABR o CBR MP3 tramite LAME</td></tr><tr><td>lavc</td><td>usa uno dei codec audio di
  <a class="link" href="#menc-feat-enc-libavcodec-audio-codecs" title="10.3.2. libavcodec's audio codecs"><code class="systemitem">libavcodec</code></a></td></tr><tr><td>faac</td><td>codificatore audio FAAC AAC</td></tr><tr><td>toolame</td><td>codificatore MPEG Audio Layer 2</td></tr><tr><td>twolame</td><td>codificatore MPEG Audio Layer 2 basato su tooLAME</td></tr><tr><td>pcm</td><td>audio PCM non compresso</td></tr><tr><td>copy</td><td>non ricodifica, copia solo il flusso compresso</td></tr></tbody></table></div><p>
</p><p>
Codec video:
</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Nome codec video</th><th>Descrizione</th></tr></thead><tbody><tr><td>lavc</td><td>usa uno dei codec video di <a class="link" href="#menc-feat-enc-libavcodec-video-codecs" title="10.3.1. libavcodec's video codecs"><code class="systemitem">libavcodec</code></a></td></tr><tr><td>xvid</td><td>Xvid, codec MPEG-4 Advanced Simple Profile (ASP)</td></tr><tr><td>x264</td><td>x264, codec MPEG-4 Advanced Video Coding (AVC), AKA H.264</td></tr><tr><td>nuv</td><td>nuppel video, utilizzato da alcune applicazioni in tempo reale</td></tr><tr><td>raw</td><td>fotogrammi video non compressi</td></tr><tr><td>copy</td><td>non ricodifica, copia solo il flusso compresso</td></tr><tr><td>frameno</td><td>usato per codifica a 3 passaggi (non consigliato)</td></tr></tbody></table></div><p>
</p><p>
I formati contenitore di uscita si selezionano con l'opzione
<tt class="option">-of</tt>.
Scrivi:
</p><pre class="screen">mencoder -of help</pre><p>
per elencare tutti i contenitori supportati dalla versione di
<span class="application">MEncoder</span> sul tuo sistema.
Sono disponibili le scelte seguenti:
</p><p>
Formati contenitore:
</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Nome formato contenitore</th><th>Descrizione</th></tr></thead><tbody><tr><td>lavf</td><td>uno dei contenitori supportati da
  <code class="systemitem">libavformat</code></td></tr><tr><td>avi</td><td>Audio-Video Interleaved</td></tr><tr><td>mpeg</td><td>MPEG-1 e MPEG-2 PS</td></tr><tr><td>rawvideo</td><td>flusso video grezzo (nessun mux - solo un flusso video)</td></tr><tr><td>rawaudio</td><td>flusso audio grezzo (nessun mux - solo un flusso audio)</td></tr></tbody></table></div><p>
Il contenitore AVI è il formato contenitore nativo per
<span class="application">MEncoder</span>, il che significa che è quello meglio
gestito e quello per cui <span class="application">MEncoder</span> è stato
progettato.
Come su specificato, si possono utilizzare altri formati contenitore, ma
potresti avere qualche problema utilizzandoli.
</p><p>
Contenitori <code class="systemitem">libavformat</code>:
</p><p>
Se hai impostato <code class="systemitem">libavformat</code> per fare
il mux del file di uscita (usando <tt class="option">-of lavf</tt>), il giusto formato
contenitore verrà determinato dall'estensione del file di uscita.
Puoi forzare un formato contenitore specifico con l'opzione
<tt class="option">format</tt> di <code class="systemitem">libavformat</code>.

</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>nome contenitore <code class="systemitem">libavformat</code></th><th>Descrizione</th></tr></thead><tbody><tr><td>mpg</td><td>MPEG-1 e MPEG-2 PS</td></tr><tr><td>asf</td><td>Advanced Streaming Format</td></tr><tr><td>avi</td><td>Audio-Video Interleaved</td></tr><tr><td>wav</td><td>Audio Waveform</td></tr><tr><td>swf</td><td>Macromedia Flash</td></tr><tr><td>flv</td><td>Macromedia Flash video</td></tr><tr><td>rm</td><td>RealMedia</td></tr><tr><td>au</td><td>SUN AU</td></tr><tr><td>nut</td><td>contenitore "aperto" NUT (sperimentale e non ancora spec-compliant)</td></tr><tr><td>mov</td><td>QuickTime</td></tr><tr><td>mp4</td><td>formato MPEG-4</td></tr><tr><td>dv</td><td>contenitore Sony Digital Video</td></tr><tr><td>mkv</td><td>contenitore "aperto" audio/video Matroska</td></tr></tbody></table></div><p>
Come puoi notare, <code class="systemitem">libavformat</code> permette
a <span class="application">MEncoder</span> di fare il mux in una buona quantità
di contenitori.
Sfortunatamente, dato che <span class="application">MEncoder</span> non è stato
progettato dall'inizio per supportare formati contenitore diversi da AVI,
dovresti essere piuttosto paranoici riguardo al file risultante.
Assicurati per favore che la sincronizzazione audio/video sia a posto e che il
file possa essere riprodotto correttamente da altri programmi oltre a
<span class="application">MPlayer</span>.
</p><div class="example"><a name="encode_to_macromedia_flash_format"></a><p class="title"><b>Esempio 9.1. codificare nel formato Macromedia Flash</b></p><div class="example-contents"><p>
Creare un video Macromedia Flash che sia riproducibile in un browser internet
con il plugin Macromedia Flash:
</p><pre class="screen">
mencoder <em class="replaceable"><code>input.avi</code></em> -o <em class="replaceable"><code>output.flv</code></em> -of lavf \
    -oac mp3lame -lameopts abr:br=56 -srate 22050 -ovc lavc \
    -lavcopts vcodec=flv:vbitrate=500:mbd=2:mv0:trell:v4mv:cbp:last_pred=3
</pre><p>
</p></div></div><br class="example-break"></div><div class="sect1" title="9.2. Selezionare il file in ingresso o il dispositivo"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-selecting-input"></a>9.2. Selezionare il file in ingresso o il dispositivo</h2></div></div></div><p>
<span class="application">MEncoder</span> può codificare da file o direttamente da
un disco DVD o VCD.
Includi semplicemente nella riga comando il nome file per codificare dal file
stesso, oppure <tt class="option">dvd://</tt><em class="replaceable"><code>numero_titolo</code></em>
o <tt class="option">vcd://</tt><em class="replaceable"><code>numero_traccia</code></em> per
codificare da un titolo DVD o da una traccia VCD.
Se hai già copiato un DVD sul tuo disco fisso (puoi usare uno strumento come
<span class="application">dvdbackup</span>, disponibile per la maggior parte dei
sistemi) e desideri codificare da tale copia, dovresti ancora usare la sintassi
<tt class="option">dvd://</tt>, insieme con <tt class="option">-dvd-device</tt> seguita dal
percorso della radice del DVD copiato.

Le opzioni <tt class="option">-dvd-device</tt> e <tt class="option">-cdrom-device</tt>
possono anche essere usate per reimpostare i percorsi dei dispositivi al fine
di leggere direttamente dal disco, se i valori di default
<tt class="filename">/dev/dvd</tt> e <tt class="filename">/dev/cdrom</tt> non funzionano
sul tuo sistema.
</p><p>
Durante la codifica da DVD, spesso si vogliono selezionare un capitolo o una
serie di capitoli da codificare.
Per questo fine puoi usare l'opzione <tt class="option">-chapter</tt>.
Per esempio, <tt class="option">-chapter</tt> <em class="replaceable"><code>1-4</code></em>
codificherà solo i capitoli dall'1 al 4 dal DVD.
Questo è particolarmente utile se vuoi fare una codifica in 1400 MB destinata
a due CD, visto che puoi esser sicuro che il punto di divisione sia proprio tra
un capitolo e l'altro invece che a metà di una scena.
</p><p>
Se hai una scheda di acquisizione TV supportata, puoi anche codificare dal
dispositivo di ingresso TV.
Usa <tt class="option">tv://</tt><em class="replaceable"><code>numero_canale</code></em> come
nome file e <tt class="option">-tv</tt> per configurare varie opzioni di acquisizione.
L'ingresso DVB funziona in modo simile.
</p></div><div class="sect1" title='9.3. Codificare MPEG-4 ("DivX") in due passaggi'><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-mpeg4"></a>9.3. Codificare MPEG-4 ("DivX") in due passaggi</h2></div></div></div><p>
La definizione viene dal fatto che questo metodo codifica il file
<span class="emphasis"><em>due volte</em></span>. La prima codifica (dubbed pass) genera alcuni
file temporanei (<tt class="filename">*.log</tt>) con una dimensione di pochi
megabyte, non cancellarli dopo il primo passaggio (puoi cancellare l'AVI o
meglio ancora non creare alcun video ridirezionandolo verso
<tt class="filename">/dev/null</tt> o verso <tt class="filename">NUL</tt> sotto Windows).
Nel secondo passaggio viene creato il secondo file di output, usando i dati
del bitrate presi dai file temporanei. Il file risultante avrà una qualità
dell'immagine decisamente migliore. Se questa è la prima volta che senti
parlare di quasta cosa ti conviene leggere qualcuna delle guide disponibili su
internet.
</p><div class="example"><a name="copy_audio_track"></a><p class="title"><b>Esempio 9.2. copiare la traccia audio</b></p><div class="example-contents"><p>
La codifica in due passaggi della seconda traccia di un DVD in un AVI MPEG-4
("DivX") copiando la traccia audio.
</p><pre class="screen">
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:vpass=1 -oac copy -o /dev/null
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell:vpass=2 \
    -oac copy -o <em class="replaceable"><code>output.avi</code></em>
</pre><p>
</p></div></div><br class="example-break"><div class="example"><a name="encode_audio_track"></a><p class="title"><b>Esempio 9.3. codificare la traccia audio</b></p><div class="example-contents"><p>
La codifica in due passaggi della seconda traccia di un DVD in un AVI MPEG-4
("DivX") codificando la traccia audio in MP3.
Fai attenzione se usi questo metodo, dato che in alcuni casi può portare
desincronizzazione audio/video.
</p><pre class="screen">
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:vpass=1 \
    -oac mp3lame -lameopts vbr=3 -o /dev/null
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell:vpass=2 \
    -oac mp3lame -lameopts vbr=3 -o <em class="replaceable"><code>output.avi</code></em>
</pre><p>
</p></div></div><br class="example-break"></div><div class="sect1" title="9.4. Codificare nel formato video per Sony PSP"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-handheld-psp"></a>9.4. Codificare nel formato video per Sony PSP</h2></div></div></div><p>
<span class="application">MEncoder</span> fornisce la codifica in formato video Sony
PSP, ma, relativamente alla revisione del software PSP, i vincoli possono
essere diverse.
Dovresti accertarti di rispettare i seguenti vincoli:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <span class="bold"><strong>Bitrate</strong></span>: non dovrebbe oltrepassare i
  1500kbps, tuttavia, versioni precedenti supportavano quasi ogni frequenza a
  patto che l'intestazione non dicesse che era troppo alta.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Dimensioni</strong></span>: la larghezza e l'altezza del
  video PSP dovrebbero essere multipli di 16 e il prodotto larghezza * altezza
  dovrebbe essere &lt;= 64000.
  In alcune circostanze, potrebbe essere possibile che la PSP riproduca
  risoluzioni più grandi.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Audio</strong></span>: la frequenza dovrebbe essere 24kHz
  per video MPEG-4, e 48kHz per H.264.
</p></li></ul></div><p>
</p><div class="example"><a name="encode_for_psp"></a><p class="title"><b>Esempio 9.4. codificare per PSP</b></p><div class="example-contents"><p>
</p><pre class="screen">
mencoder -ofps 30000/1001 -af lavcresample=24000 -vf harddup -of lavf \
    -oac lavc -ovc lavc -lavcopts aglobal=1:vglobal=1:vcodec=mpeg4:acodec=aac \
    -lavfopts format=psp \
    <em class="replaceable"><code>input.video</code></em> -o <em class="replaceable"><code>output.psp</code></em>
</pre><p>
Nota che puoi impostare il titolo del video con
<tt class="option">-info name=<em class="replaceable"><code>TitoloFilmato</code></em></tt>.
</p></div></div><br class="example-break"></div><div class="sect1" title="9.5. Codificare in formato MPEG"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-mpeg"></a>9.5. Codificare in formato MPEG</h2></div></div></div><p>
<span class="application">MEncoder</span> può generare file nel formato di output
MPEG (MPEG-PS).
Di solito, quando stai usando video MPEG-1 o MPEG-2, è perché stai codificando
per un formato vincolato come SVCD, VCD, o DVD.
Le richieste specifiche per questi formati sono spiegate nella sezione
<a class="link" href="#menc-feat-vcd-dvd" title="10.8. Using MEncoder to create VCD/SVCD/DVD-compliant files">creazione di VCD e DVD</a>.
</p><p>
Per modificare il formato file di uscita di <span class="application">MEncoder</span>,
usa l'opzione <tt class="option">-of mpeg</tt>.
</p><div class="informalexample"><p>
Esempio:
</p><pre class="screen">
mencoder <em class="replaceable"><code>input.avi</code></em> -of mpeg -ovc lavc -lavcopts vcodec=mpeg1video \
    -oac copy <em class="replaceable"><code>altre_opzioni</code></em> -o <em class="replaceable"><code>output.mpg</code></em>
</pre><p>
Creare un file MPEG-1 che possa essere riprodotto da sistemi con un supporto
multimediale minimale, come l'installazione di default di Windows:
</p><pre class="screen">
mencoder <em class="replaceable"><code>input.avi</code></em> -of mpeg -mpegopts format=mpeg1:tsaf:muxrate=2000 \
    -o <em class="replaceable"><code>output.mpg</code></em> -oac lavc -lavcopts acodec=mp2:abitrate=224 -ovc lavc \
    -lavcopts vcodec=mpeg1video:vbitrate=1152:keyint=15:mbd=2:aspect=4/3
</pre><p>
Lo stesso, ma usando il muxer MPEG di
<code class="systemitem">libavformat</code>:
</p><pre class="screen">
mencoder <em class="replaceable"><code>input.avi</code></em> -o <em class="replaceable"><code>VCD.mpg</code></em> -ofps 25 -vf scale=352:288,harddup -of lavf \
    -lavfopts format=mpg -oac lavc -lavcopts acodec=mp2:abitrate=224 -ovc lavc \
    -lavcopts vcodec=mpeg1video:vrc_buf_size=327:keyint=15:vrc_maxrate=1152:vbitrate=1152:vmax_b_frames=0
</pre><p>
</p></div><div class="note" title="Consiglio:" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Consiglio:</h3><p>
Se per qualche motivo la qualità video del secondo passaggio non ti soddisfa,
puoi rilanciare la tua codifica video con un diverso bitrate di uscita,
sempre che tu abbia tenuto i file con le statistiche del passaggio precedente.
Questo è possbilie dato che l'obiettivo principale del file delle statistiche
è registrarsi la complessità di ciascun frame, che non dipende direttamente
dal bitrate. Dovresti tuttavia essere consapevole che otterrai i risultati
migliori se tutti i passaggi sono eseguiti con bitrate non troppo diversi tra
loro.
</p></div></div><div class="sect1" title="9.6. Ridimensionare filmati"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-rescale"></a>9.6. Ridimensionare filmati</h2></div></div></div><p>
Spesso emerge la necessità di ridimensionare le immagini del filmato.
Le ragioni possono essere molte: diminuire la dimensione del file, la banda di
rete, etc... Molte persone ridimensionano anche quando convertono DVD o CVD in
AVI DivX. Se desideri ridimensionare, leggi la sezione
<a class="link" href="#aspect" title="9.10. Preservare il rapporto di aspetto">Preservare il rapporto di aspetto</a>.
</p><p>
Il processo di ridimensionamento è gestito dal filtro video
<code class="literal">scale</code>:
<tt class="option">-vf scale=<em class="replaceable"><code>larghezza</code></em>:<em class="replaceable"><code>altezza</code></em></tt>.
La sua qualità può essere impostata con l'opzione <tt class="option">-sws</tt>.
Se non è specificato, <span class="application">MEncoder</span> userà 2: bicubico.
</p><p>
Uso:
</p><pre class="screen">
mencoder <em class="replaceable"><code>input.mpg</code></em> -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell \
    -vf scale=640:480 -o <em class="replaceable"><code>output.avi</code></em>
</pre><p>
</p></div><div class="sect1" title="9.7. Copia dei flussi"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-streamcopy"></a>9.7. Copia dei flussi</h2></div></div></div><p>
<span class="application">MEncoder</span> può gestire i flussi in ingresso in due
modi: <span class="bold"><strong>codifica</strong></span> o
<span class="bold"><strong>copia</strong></span>. Questa sezione tratta la
<span class="bold"><strong>copia</strong></span>.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <span class="bold"><strong>Flussi video</strong></span> (opzione <tt class="option">-ovc copy</tt>):
  si possono fare delle cose carine :) Come infilare (senza converzione!) video
  FLI o VIVO o MPEG-1 in un file AVI! Di sicuro solo
  <span class="application">MPlayer</span> può riprodurre file siffatti :)
  E probabilmente non ha alcuna utilità. Razionalmente: la copia dei flussi
  video può essere utile per esempio quando si deve codificare solo il flusso
  audio (come da PCM non compresso a MP3).
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Flussi audio</strong></span> (opzione <tt class="option">-oac copy</tt>):
  direttamente. E' possibile prendere un file audio esterno (MP3, WAV) e farne
  il mux nel flusso di uscita. Usa l'opzione
  <tt class="option">-audiofile <em class="replaceable"><code>nomefile</code></em></tt> per farlo.
</p></li></ul></div><p>
Usare <tt class="option">-oac copy</tt> per copiare da un formato contenitore ad un
altro potrebbe richiedere l'utilizzo di <tt class="option">-fafmttag</tt> per
conservare l'etichetta del formato audio del file di partenza.
Per esempio, se stai convertendo un file NSV con audio AAC a un contenitore AVI,
l'etichetta del formato audio sarà sbagliata e bisognerà modificarla.
Per una lista delle etichette dei formati audio, controlla
<tt class="filename">codecs.conf</tt>.
</p><p>
Esempio:
</p><pre class="screen">
mencoder <em class="replaceable"><code>input.nsv</code></em> -oac copy -fafmttag 0x706D \
    -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell -o <em class="replaceable"><code>output.avi</code></em>
</pre><p>
</p></div><div class="sect1" title="9.8. Codificare file immagine multipli (JPEG, PNG, TGA, etc.)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-enc-images"></a>9.8. Codificare file immagine multipli (JPEG, PNG, TGA, etc.)</h2></div></div></div><p>
<span class="application">MEncoder</span> è in grado di creare filmati da uno o più
file immagine JPEG, PNG, TGA o altri. Con una semplioce copia fotogrammi può
creare file MJPEG (Motion JPEG), MPNG (Motion PNG) o MTGA (Motion TGA).
</p><div class="orderedlist" title="Spiegazione del processo:"><p class="title"><b>Spiegazione del processo:</b></p><ol class="orderedlist" type="1"><li class="listitem"><p>
  <span class="application">MEncoder</span> <span class="emphasis"><em>decodifica</em></span> le
  immagini in entrata con <code class="systemitem">libjpeg</code>
  (decodificando PNG, userà <code class="systemitem">libpng</code>).
</p></li><li class="listitem"><p>
  <span class="application">MEncoder</span> passa poi le immagini decodificate al
  compressore video scelto (DivX4, Xvid, FFmpeg msmpeg4, etc.).
</p></li></ol></div><p title="Esempi"><b>Esempi. </b>
La spiegazione dell'opzione <tt class="option">-mf</tt> è nella pagina man.

</p><div class="informalexample"><p>
Creare un file MPEG-4 da tutti i file JPEG nella directory corrente:
</p><pre class="screen">
mencoder mf://*.jpg -mf w=800:h=600:fps=25:type=jpg -ovc lavc \
    -lavcopts vcodec=mpeg4:mbd=2:trell -oac copy -o <em class="replaceable"><code>output.avi</code></em>
</pre><p>
</p></div><p title="Esempi">

</p><div class="informalexample"><p>
Creare un file MPEG-4 da alcuni file JPEG nella directory corrente:
</p><pre class="screen">
mencoder mf://<em class="replaceable"><code>frame001.jpg,frame002.jpg</code></em> -mf w=800:h=600:fps=25:type=jpg \
    -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell -oac copy -o <em class="replaceable"><code>output.avi</code></em>
</pre><p>
</p></div><p title="Esempi">

</p><div class="informalexample"><p>
Creare un file MPEG-4 da una lista definita di file JPEG (lista.txt nella
directory corrente contiene la lista dei file da usare come sorgente, uno per
riga):
</p><pre class="screen">
mencoder mf://<em class="replaceable"><code>@lista.txt</code></em> -mf w=800:h=600:fps=25:type=jpg \
    -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell -oac copy -o <em class="replaceable"><code>output.avi</code></em>
</pre><p>
</p></div><p title="Esempi">

Puoi mescolare diversi tipi di immagine, senza considerare il metodo che usi
— nomi file singoli, wildcard o file da una lista — posto ovviamente
che abbiano la stessa dimensione.
Per cui puoi per es. prendere il fotogramma dei titoli da un file PNG e poi
fare una presentazione delle tue foto in JPEG.

</p><div class="informalexample"><p>
Creare un file Motion JPEG (MJPEG) da tutti i file JPEG nella directory
corrente:
</p><pre class="screen">
mencoder mf://*.jpg -mf w=800:h=600:fps=25:type=jpg -ovc copy -oac copy -o <em class="replaceable"><code>output.avi</code></em>
</pre><p>
</p></div><p title="Esempi">

</p><div class="informalexample"><p>
Creare un file non compresso da tutti i file PNG nella directory corrente:
</p><pre class="screen">
mencoder mf://*.png -mf w=800:h=600:fps=25:type=png -ovc raw -oac copy -o <em class="replaceable"><code>output.avi</code></em>
</pre><p>
</p></div><p title="Esempi">

</p><div class="note" title="Nota" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
La larghezza deve essere un intero multipli di 4, è una limitazione del
formato grezzo RAW RGB AVI.
</p></div><p title="Esempi">

</p><div class="informalexample"><p>
Creare un file Motion PNG (MPNG) da tutti i file PNG nella directory corrente:
</p><pre class="screen">
mencoder mf://*.png -mf w=800:h=600:fps=25:type=png -ovc copy -oac copy -o <em class="replaceable"><code>output.avi</code></em></pre><p>
</p></div><p title="Esempi">

</p><div class="informalexample"><p>
Creare un file Motion TGA (MTGA) da tutti i file TGA nella directory corrente:
</p><pre class="screen">
mencoder mf://*.tga -mf w=800:h=600:fps=25:type=tga -ovc copy -oac copy -o <em class="replaceable"><code>output.avi</code></em></pre><p>
</p></div><p title="Esempi">
</p></div><div class="sect1" title="9.9. Estrarre sottotitoli DVD in un file VOBsub"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-extractsub"></a>9.9. Estrarre sottotitoli DVD in un file VOBsub</h2></div></div></div><p>
<span class="application">MEncoder</span> è in grado di estrarre i sottotitoli da un
DVD in file formattati VOBsub. Essi sono composti da una coppia di file che
terminano in <tt class="filename">.idx</tt> e <tt class="filename">.sub</tt> e sono
solitamente compressi in un singolo archivio <tt class="filename">.rar</tt>.
<span class="application">MPlayer</span> può riprodurli con le opzioni
<tt class="option">-vobsub</tt> e <tt class="option">-vobsubid</tt>.
</p><p>
Specifica il nome di base (per es. senza l'estensione <tt class="filename">.idx</tt>
o <tt class="filename">.sub</tt>) del file di uscita con <tt class="option">-vobsubout</tt>
e l'indice per questo sottotitolo nel file risultante con
<tt class="option">-vobsuboutindex</tt>.
</p><p>
Se i dati in entrata non arrivano da un DVD usa <tt class="option">-ifo</tt> per
indicare il file <tt class="filename">.ifo</tt> che serve per costruire il
risultante file <tt class="filename">.idx</tt>.
</p><p>
Se i dati in entrata non arrivano da un DVD e non hai il file
<tt class="filename">.ifo</tt> dovrai usare l'opzione <tt class="option">-vobsubid</tt> per
impostare l'id della lingua da scrivere nel file <tt class="filename">.idx</tt>.
</p><p>
Se esistono già i file <tt class="filename">.idx</tt> e <tt class="filename">.sub</tt>
ogni esecuzione aggiungerà il sottotitolo selezionato. Perciò dovresti
cancellarli prima di iniziare.
</p><div class="example"><a name="copying_two_subtitles_from_a_dvd_while_doing_two_pass_encoding"></a><p class="title"><b>Esempio 9.5. Copiare due sottotitoli da un DVD durante la codifica in due passaggi</b></p><div class="example-contents"><pre class="screen">
rm <em class="replaceable"><code>sottotitoli.idx</code></em> <em class="replaceable"><code>sottotitoli.sub</code></em>
mencoder dvd://1 -oac copy -ovc lavc -lavcopts vcodec=mpeg4:vpass=1 \
    -vobsubout <em class="replaceable"><code>sottotitoli</code></em> -vobsuboutindex 0 -sid 2
mencoder dvd://1 -oac copy -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell:vpass=2 \
    -vobsubout <em class="replaceable"><code>sottotitoli</code></em> -vobsuboutindex 1 -sid 5</pre></div></div><br class="example-break"><div class="example"><a name="copying_a_french_subtitle_from_an_mpeg_file"></a><p class="title"><b>Esempio 9.6. Copiare i sottotitoli francesi da un file MPEG</b></p><div class="example-contents"><pre class="screen">
rm <em class="replaceable"><code>sottotitoli.idx</code></em> <em class="replaceable"><code>sottotitoli.sub</code></em>
mencoder <em class="replaceable"><code>film.mpg</code></em> -ifo <em class="replaceable"><code>film.ifo</code></em> -vobsubout <em class="replaceable"><code>sottotitoli</code></em> -vobsuboutindex 0 \
    -vobsuboutid fr -sid 1 -nosound -ovc copy
</pre></div></div><br class="example-break"></div><div class="sect1" title="9.10. Preservare il rapporto di aspetto"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="aspect"></a>9.10. Preservare il rapporto di aspetto</h2></div></div></div><p>
I file dei DVD e dei VCD (per es. MPEG-1/2) contengono un valore del rapporto
d'aspetto che instruisce il riproduttore su come ridimensionare il flusso video,
così gli umani non avranno teste a uovo (es.: 480x480 + 4:3 = 640x480).
Tuttavia, codificando in file AVI (DivX), devi fare attenzione che
l'intestazione AVI non salva questo valore. Ridimensionare il film è disgustoso
e una perdita di tempo, ci deve essere un modo migliore!
</p><p>C'è</p><p>
MPEG-4 ha un caratteristica unica: il flusso video può contenere il rapporto
di aspetto che serve. Sì, proprio come i MPEG-1/2 (DVD, SVCD) e H.263.
Tristemente, ci sono pochi riproduttori oltre ad
<span class="application">MPlayer</span> che gestiscono questo attributo MPEG-4.
</p><p>
Questa caratteristica può essere usata solo con il codec
<code class="systemitem">mpeg4</code> di
<code class="systemitem">libavcodec</code>.
Ricorda: anche se <span class="application">MPlayer</span> riprodurrà correttamente
il file generato, altri riproduttori potrebbero usare il rapporto di aspetto
sbagliato.
</p><p>
Devi assolutamente tagliare le bande nere sopra e sotto all'immagine del film.
Vedi la pagina man per l'utilizzo dei filtri <code class="systemitem">cropdetect</code>
e <code class="systemitem">crop</code>.
</p><p>
Uso
</p><pre class="screen">mencoder <em class="replaceable"><code>svcd-di-esempio.mpg</code></em> -vf crop=714:548:0:14 -oac copy -ovc lavc \
    -lavcopts vcodec=mpeg4:mbd=2:trell:autoaspect -o <em class="replaceable"><code>output.avi</code></em></pre><p>
</p></div></div><div class="chapter" title="Capitolo 10. La codifica con MEncoder"><div class="titlepage"><div><div><h2 class="title"><a name="encoding-guide"></a>Capitolo 10. La codifica con <span class="application">MEncoder</span></h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="#menc-feat-dvd-mpeg4">10.1. Produrre un rip di un film da DVD in un
  MPEG-4 ("DivX") di alta qualità</a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-preparing-encode">10.1.1. Prepararsi alla codifica: identificare il materiale sorgente e la frequenza fotogrammi (framerate)</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-preparing-encode-fps">10.1.1.1. Identificare la frequenza fotogrammi (framerate) del sorgente</a></span></dt><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-preparing-encode-material">10.1.1.2. Identificare il materiale sorgente</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-2pass">10.1.2. Quantizzatore costante vs. multipassaggio</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-constraints">10.1.3. Vincoli per una codifica efficiente</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-crop">10.1.4. Tagliare e Ridimensionare</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-resolution-bitrate">10.1.5. Scegliere la risoluzione e il bitrate</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-resolution-bitrate-compute">10.1.5.1. Calcolare la risoluzione</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-filtering">10.1.6. Filtraggio</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-interlacing">10.1.7. Interlacciamento e Telecine</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-encoding-interlaced">10.1.8. Codificare video interlacciato</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-av-sync">10.1.9. Note sulla sincronizzazione Audio/Video</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-codec">10.1.10. Scegliere il codec video</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-audio">10.1.11. Audio</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-muxing">10.1.12. Muxing</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-muxing-filter-issues">10.1.12.1. Migliorare il mux e l'affidabilità di sincronizzazione A/V</a></span></dt><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-muxing-avi-limitations">10.1.12.2. Limitazioni del contenitore AVI</a></span></dt><dt><span class="sect3"><a href="#menc-feat-dvd-mpeg4-muxing-matroska">10.1.12.3. Mux nel contenitore Matroska</a></span></dt></dl></dd></dl></dd><dt><span class="sect1"><a href="#menc-feat-telecine">10.2. Come trattare telecine e interlacciamento nei DVD NTSC</a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-telecine-intro">10.2.1. Introduzione</a></span></dt><dt><span class="sect2"><a href="#menc-feat-telecine-ident">10.2.2. Come scoprire il tipo di video che possiedi</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-telecine-ident-progressive">10.2.2.1. Progressivo</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-ident-telecined">10.2.2.2. Telecine</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-ident-interlaced">10.2.2.3. Interlacciato</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-ident-mixedpt">10.2.2.4. Progressivo e telecine mescolati</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-ident-mixedpi">10.2.2.5. Progressivo e interlacciato mescolati</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-telecine-encode">10.2.3. Come codificare ciascuna categoria</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-telecine-encode-progressive">10.2.3.1. Progressivo</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-encode-telecined">10.2.3.2. Telecine</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-encode-interlaced">10.2.3.3. Interlacciato</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-encode-mixedpt">10.2.3.4. Progressivo e telecine mescolati</a></span></dt><dt><span class="sect3"><a href="#menc-feat-telecine-encode-mixedpi">10.2.3.5. Progressivo e interlacciato mescolati</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-telecine-footnotes">10.2.4. Note a pie' pagina</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-enc-libavcodec">10.3. Encoding with the <code class="systemitem">libavcodec</code>
  codec family</a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-enc-libavcodec-video-codecs">10.3.1. <code class="systemitem">libavcodec</code>'s
  video codecs</a></span></dt><dt><span class="sect2"><a href="#menc-feat-enc-libavcodec-audio-codecs">10.3.2. <code class="systemitem">libavcodec</code>'s
  audio codecs</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-lavc-encoding-options">10.3.3. Encoding options of libavcodec</a></span></dt><dt><span class="sect2"><a href="#menc-feat-mpeg4-lavc-example-settings">10.3.4. Encoding setting examples</a></span></dt><dt><span class="sect2"><a href="#custommatrices">10.3.5. Custom inter/intra matrices</a></span></dt><dt><span class="sect2"><a href="#menc-feat-dvd-mpeg4-example">10.3.6. Example</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-xvid">10.4. Encoding with the <code class="systemitem">Xvid</code>
  codec</a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-xvid-intro">10.4.1. What options should I use to get the best results?</a></span></dt><dt><span class="sect2"><a href="#menc-feat-xvid-encoding-options">10.4.2. Encoding options of <code class="systemitem">Xvid</code></a></span></dt><dt><span class="sect2"><a href="#menc-feat-xvid-encoding-profiles">10.4.3. Encoding profiles</a></span></dt><dt><span class="sect2"><a href="#menc-feat-xvid-example-settings">10.4.4. Encoding setting examples</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-x264">10.5. Encoding with the
  <code class="systemitem">x264</code> codec</a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-x264-encoding-options">10.5.1. Encoding options of x264</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-x264-encoding-options-intro">10.5.1.1. Introduction</a></span></dt><dt><span class="sect3"><a href="#menc-feat-x264-encoding-options-speedvquality">10.5.1.2. Options which primarily affect speed and quality</a></span></dt><dt><span class="sect3"><a href="#menc-feat-x264-encoding-options-misc-preferences">10.5.1.3. Options pertaining to miscellaneous preferences</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-x264-example-settings">10.5.2. Encoding setting examples</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-video-for-windows">10.6. 
  Encoding with the <code class="systemitem">Video For Windows</code>
  codec family
</a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-enc-vfw-video-codecs">10.6.1. Video for Windows supported codecs</a></span></dt><dt><span class="sect2"><a href="#menc-feat-video-for-windows-bitrate-settings">10.6.2. Using vfw2menc to create a codec settings file.</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-quicktime-7">10.7. Using <span class="application">MEncoder</span> to create
<span class="application">QuickTime</span>-compatible files</a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-quicktime-7-why-use-it">10.7.1. Why would one want to produce <span class="application">QuickTime</span>-compatible Files?</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-constraints">10.7.2. <span class="application">QuickTime</span> 7 limitations</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-crop">10.7.3. Cropping</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-scale">10.7.4. Scaling</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-avsync">10.7.5. A/V sync</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-bitrate">10.7.6. Bitrate</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-example">10.7.7. Encoding example</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-remux">10.7.8. Remuxing as MP4</a></span></dt><dt><span class="sect2"><a href="#menc-feat-quicktime-7-metadata">10.7.9. Adding metadata tags</a></span></dt></dl></dd><dt><span class="sect1"><a href="#menc-feat-vcd-dvd">10.8. Using <span class="application">MEncoder</span>
  to create VCD/SVCD/DVD-compliant files</a></span></dt><dd><dl><dt><span class="sect2"><a href="#menc-feat-vcd-dvd-constraints">10.8.1. Format Constraints</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-constraints-resolution">10.8.1.1. Format Constraints</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-constraints-gop">10.8.1.2. GOP Size Constraints</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-constraints-bitrate">10.8.1.3. Bitrate Constraints</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-vcd-dvd-output">10.8.2. Output Options</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-output-aspect">10.8.2.1. Aspect Ratio</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-a-v-sync">10.8.2.2. Maintaining A/V sync</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-output-srate">10.8.2.3. Sample Rate Conversion</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-vcd-dvd-lavc">10.8.3. Using libavcodec for VCD/SVCD/DVD Encoding</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-lavc-intro">10.8.3.1. Introduction</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-lavc-options">10.8.3.2. lavcopts</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-lavc-examples">10.8.3.3. Examples</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-lavc-advanced">10.8.3.4. Advanced Options</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-vcd-dvd-audio">10.8.4. Encoding Audio</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-audio-toolame">10.8.4.1. toolame</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-audio-twolame">10.8.4.2. twolame</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-audio-lavc">10.8.4.3. libavcodec</a></span></dt></dl></dd><dt><span class="sect2"><a href="#menc-feat-vcd-dvd-all">10.8.5. Putting it all Together</a></span></dt><dd><dl><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-pal-dvd">10.8.5.1. PAL DVD</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-ntsc-dvd">10.8.5.2. NTSC DVD</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-pal-ac3-copy">10.8.5.3. PAL AVI Containing AC-3 Audio to DVD</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-ntsc-ac3-copy">10.8.5.4. NTSC AVI Containing AC-3 Audio to DVD</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-pal-svcd">10.8.5.5. PAL SVCD</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-ntsc-svcd">10.8.5.6. NTSC SVCD</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-pal-vcd">10.8.5.7. PAL VCD</a></span></dt><dt><span class="sect3"><a href="#menc-feat-vcd-dvd-all-ntsc-vcd">10.8.5.8. NTSC VCD</a></span></dt></dl></dd></dl></dd></dl></div><div class="sect1" title='10.1. Produrre un rip di un film da DVD in un MPEG-4 ("DivX") di alta qualità'><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-dvd-mpeg4"></a>10.1. Produrre un rip di un film da DVD in un
  MPEG-4 ("DivX") di alta qualità</h2></div></div></div><p>
Una domanda frequente è "Come posso generare il rip con la migliore qualità
per una dimensione data?". Un'altra domanda è "Come posso fare il rip da DVD
migliore in assoluto? Non mi interessa la dimensione del file, voglio solo la
più alta qualità."
</p><p>
L'ultima domanda è perlomeno forse posta malamente. Dopo tutto, se non ti
interessa la dimensione del file, perché non ti copi semplicemente l'intero
flusso video MPEG-2 dal DVD? Certo, avrai un AVI di 5GB, prendere o lasciare,
ma se vuoi la miglior qualità e non ti importa della dimensione, è
sicuramente la scelta migliore.
</p><p>
Invero, la ragione per cui vuoi codificare un DVD in MPEG-4 è proprio perché
ti interessa <span class="bold"><strong>davvero</strong></span> la dimensione del file.
</p><p>
E' difficile offrire una ricetta da libro su come generare un rip da DVD in
qualità molto alta. Bisogna considerare vari fattori, e dovresti comprendere
questi dettagli, altrimenti alla fine probabilmente sarai insoddisfatto del
risultato. Più sotto evidenziamo alcuni di questi argomenti e poi passiamo ad
esaminare un esempio. Partiamo dal principio che per codificare il video tu
stia usando <code class="systemitem">libavcodec</code> anche se la
teoria si applica allo stesso modo agli altri codec.
</p><p>
Se questo ti sembra troppo, dovresti probabilmente usare una delle belle
interfacce elencate nella
<a class="ulink" href="http://www.mplayerhq.hu/design7/projects.html#mencoder_frontends" target="_top">sezione su MEncoder</a>
nella pagina dei progetti collegati (related projects).
In tal modo riuscirai ad ottenere rip di alta qualità senza pensarci troppo,
dato che la maggior parte di questi strumenti sono progettati per prendere
decisioni sagge al tuo posto.
</p><div class="sect2" title="10.1.1. Prepararsi alla codifica: identificare il materiale sorgente e la frequenza fotogrammi (framerate)"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-preparing-encode"></a>10.1.1. Prepararsi alla codifica: identificare il materiale sorgente e la frequenza fotogrammi (framerate)</h3></div></div></div><p>
Prima ancora di pensare a codificare un film, devi fare alcuni passi
preliminari.
</p><p>
Il primo e più importante passo prima della codifica dovrebbe essere
determinare il tipo di contenuto che stai trattando.
Se il tuo materiale di partenza arriva da un DVD o da TV in
broadcast/via cavo/satellite, sarà salvato in uno dei due formati: NTSC per
il Nord America e il Giappone, PAL per l'Europa, etc...
E' importante tuttavia comprendere che questo è solo il formato per la
trasmissione in televisione, e spesso <span class="bold"><strong>non</strong></span>
corrisponde al formato originario del film.
L'esperienza insegna che il materiale NTSC è molto più difficile da
codificare, perché ci sono più elementi da identificare nel sorgente.
Per generare una codifica adeguata, devi sapere il formato originario.
Il non tenerne conto porterà a molti __flaws__ nella tua codifica, inclusi
artefatti orrendi __combing__ (interlacing) e fotogrammi duplicati o addirittura
perduti.
Oltre ad essere brutti, gli artefatti influenzano negativamente l'efficienza
della codifica: otterrai una peggior qualità a parità di bitrate.
</p><div class="sect3" title="10.1.1.1. Identificare la frequenza fotogrammi (framerate) del sorgente"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-dvd-mpeg4-preparing-encode-fps"></a>10.1.1.1. Identificare la frequenza fotogrammi (framerate) del sorgente</h4></div></div></div><p>
C'è qui un elenco di tipi comuni di materiale sorgente, dove facilmente si
trovano e le loro proprietà:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <span class="bold"><strong>Film standard</strong></span>: prodotti per la visione
  su schermi da cinema a 24fps.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Video PAL</strong></span>: registrati con una videocamera
  PAL a 50 campi al secondo.
  Un campo è composto dalle sole linee pari o dispari di un fotogramma.
  La televisione è stata progettata per aggiornarle alternativamente come un
  metodo economico di compressione analogica.
  L'occhio umano teoricamente compensa la cosa, ma una volta che capisci come
  funziona l'interlacciatura imparerai a vederla anche in TV e non ti piacerà
  più la TV.
  Due campi <span class="bold"><strong>non</strong></span> fanno un fotogramma intero,
  poiché sono registrati a 1/50 di secondo di distanza nel tempo e quindi non
  si allineano a meno che non ci sia movimento alcuno.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Video NTSC</strong></span>: registrati con una videocamera
  NTSC a 60000/1001 campi al secondi, o 60 campi al secondo nell'era precedente
  al colore.
  Per il resto sono simili ai PAL.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Animazione</strong></span>: solitamente disegnati a 24fps,
  ma se ne trovano anche in tipologie con frequenza di fotogrammi mista.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Computer Graphics (CG)</strong></span>: possono essere con
  qualsiasi frequenza di fotogrammi, ma alcuni sono più comuni di altri;
  sono tipici 24 e 30 fotogrammi al secondo per NTSC e 25fps per PAL.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Vecchi Film</strong></span>: varie e più basse frequenze di
  fotogrammi.
</p></li></ul></div></div><div class="sect3" title="10.1.1.2. Identificare il materiale sorgente"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-dvd-mpeg4-preparing-encode-material"></a>10.1.1.2. Identificare il materiale sorgente</h4></div></div></div><p>
I film composti da fotogrammi sono indicati come "progressivi", mentre quelli
composti da campi indipendenti sono chiamati "interlacciati" o video - anche se
quest'ultimo termine è ambiguo.
</p><p>
Per complicare ulteriormente le cose, alcuni film possono essere un misto di
molti dei suddetti.
</p><p>
La più importante distinzione da farsi tra tutti questi formati è che alcuni
sono basati su fotogrammi mentre gli altri sono basati su campi.
<span class="bold"><strong>Ogniqualvolta</strong></span> un film viene preparato per la
visualizzazione in televisione (DVD inclusi), viene convertito in un formato
basato su campi.
I vari metodi con cui si può fare sono conosciuti nel loro insieme come
"telecine", di cui il tristemente famoso "3:2 pulldown" NTSC è una tipologia.
A meno che il materiale originale sia anch'esso basato su campi (e con la stessa
frequenza di campi) otterrai un filmato in un formato diverso da quello che è
in origine.
</p><div class="itemizedlist" title='Ci sono vari tipi usuali di "pulldown":'><p class="title"><b>Ci sono vari tipi usuali di "pulldown":</b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <span class="bold"><strong>Pulldown PAL 2:2</strong></span>: il più bello di tutti.
  Ciascun fotogramma viene mostrato per la durata di due campi, estraendo le
  linee pari e dispari e mostrandole alternativamente.
  Se il materiale di origine è a 24fps questo processo velocizza il filmato
  del 4%.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Pulldown PAL 2:2:2:2:2:2:2:2:2:2:2:3</strong></span>:
  Ogni dodicesimo fotogramma viene mostrato per la durata di tre campi, invece
  che solamente per due.
  Questo evita il problema dell'aumento del 4% di velocità, ma rende il
  processo molto più difficile da __reversare__.
  Solitamente viene usato nelle produzioni musicali, dove modificare del 4% la
  velocità rovinerebbe pesantemente la colonna sonora.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Telecine NTSC 3:2</strong></span>: i fotogrammi vengono
  mostrati alternativamente per la durata di 3 o 2 campi.
  Questo porta ad una frequenza di campi di 2.5 volte la frequenza orginaria.
  Il risultato viene anche leggermente rallentato da 60 campi al secondo fino a
  60000/1001 campi al secondo, per mantenere la frequenza dei campi di NTSC.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Pulldown NTSC 2:2</strong></span>: utilizzato per mostrare
  materiale a 30fps su NTSC.
  Carino, proprio come il pulldown PAL 2:2.
</p></li></ul></div><p>
Ci sono anche alcuni metodi per convertire tra video NTSC e PAL, ma gli
arogmenti relativi non sono obiettivo di questa guida.
Se ti trovi di fronte a un film di questo genere e lo vuoi codificare, la tua
scelta migliore è cercarne una copia nel formato originale.
La conversione tra questi due formati è altamente distruttiva e non può
essere __reversed__ in maniera pulita, perciò la tua codifica __soffrirà__
molto se eseguita da una sorgente convertita.
</p><p>
Quando il video viene salvato du un DVD, coppie consecutive di campi sono
raggruppati in un fotogramma, anche se non sono pensati per esser mostrati
nello stesso momento.
Lo standard MPEG-2 usato sui DVD e per la TV digitale fornisce un modo sia per
codificare i fotogrammi progressivi originali, che uno per memorizzare
nell'intestazione del fotogramma il numero dei campi per cui il fotogramma
stesso debba essere mostrato.
Se viene usato questo metodo il filmato verrà spesso indicato come
"soft telecine", visto che il procedimento indica semplicemente al lettore DVD
di applicare il pulldown al film, invece che modificare il film stesso.
Questa situazione è decisamente preferibile, dato che può essere facilmente
__reversed__ (__actually ignored__) dal condificatore, e dato che mantiene la
massima qualità.
Tuttavia, molti studi di produzione DVD e di trasmissione non usano tecniche di
codifica appropriate, ma al contrario producono filmati con "hard telecine", in
cui i campi sono sotanzialmente duplicati nell'MPEG-2 codificato.
</p><p>
Le modalità per gestire questi casi verranno descritte
<a class="link" href="#menc-feat-telecine" title="10.2. Come trattare telecine e interlacciamento nei DVD NTSC">più avanti in questa guida</a>.
Per adesso ti lasciamo alcune indicazioni su come identificare il tipo di
materiale che stai trattando:
</p><div class="itemizedlist" title="Regioni NTSC:"><p class="title"><b>Regioni NTSC:</b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Se <span class="application">MPlayer</span> dice che la frequenza fotogrammi passa
  a 24000/1001 durante la visione del film e non ritorna come prima, è quasi
  sicuramente un qualche contenuto progressivo che è stato modificato in
  "soft telecine".
</p></li><li class="listitem"><p>
  Se <span class="application">MPlayer</span> dice che la frequenza fotogrammi va
  avanti e indietro tra 24000/1001 e 30000/1001 e ogni tanto vedi delle "righe",
  allora ci sono varie possibilità.
  Le parti a 24000/1001 fps sono quasi certamente contenuto progressivo, in
  "soft telecine", ma le parti a 30000/1001 fps possono essere sia contenuto in
  "hard telecine" a 24000/1001 fps che video NTSC a 60000/1001 campi al secondo.
  Usa le stesse linee guida dei due casi seguenti per determinare quale.
</p></li><li class="listitem"><p>
  Se <span class="application">MPlayer</span> non mostra mai una modifica alla
  frequenza dei fotogrammi e ogni singolo fotogramma con del movimento appare
  "rigato", il tuo filmato è video NTSC a 60000/1001 campi al secondo.
</p></li><li class="listitem"><p>
  Se <span class="application">MPlayer</span> non mostra mai una modifica alla
  frequenza dei fotogrammi e due fotogrammi ogni cinque sono "rigati", il tuo
  film è contenuto a 24000/1001fps in "hard telecine".
</p></li></ul></div><div class="itemizedlist" title="Regioni PAL:"><p class="title"><b>Regioni PAL:</b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Se non vedi mai alcuna "riga", il tuo film è pulldown 2:2.
</p></li><li class="listitem"><p>
  Se vedi delle "righe" che vanno e vengono ogni mezzo secondo,
  allora il tuo film è pulldown 2:2:2:2:2:2:2:2:2:2:2:3.
</p></li><li class="listitem"><p>
  Se vedi sempre "righe" durante il movimento, allora il tuo film è video
  PAL a 50 campi al secondo.
</p></li></ul></div><div class="note" title="Consiglio:" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Consiglio:</h3><p>
  <span class="application">MPlayer</span> può rallentare la riproduzione del film
  con l'opzione -speed o riprodurlo fotogramma per fotogramma.
  Prova ad usare <tt class="option">-speed</tt> 0.2 per guardare molto lentamente il
  film o premi ripetutamente il tasto "<span class="keycap"><b>.</b></span>" per riprodurre un
  fotogramma per volta ed identificare la sequenza, se non riesci a vederla a
  velocità normale.
</p></div></div></div><div class="sect2" title="10.1.2. Quantizzatore costante vs. multipassaggio"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-2pass"></a>10.1.2. Quantizzatore costante vs. multipassaggio</h3></div></div></div><p>
E' possibile codificare il filmato in un'ampia gamma di qualità.
Con i codificatori video moderni e un pelo di compressione pre-codec
(ridimensionando e ripulendo), è possibile raggiungere una qualità molto
buona in 700 MB, per un film di 90-110 minuti in widescreen.
Inoltre tutti i film tranne i più lunghi possono essere codificati con una
qualità pressoché perfetta in 1400 MB.
</p><p>
Ci sono tre approcci per codificare il video: bitrate costante (CBR),
quantizzatore costante, e multipassaggio (ABR, o bitrate medio).
</p><p>
La complessità dei fotogrammi di un filmato, e di conseguenza il numero di
bit necessari per comprimerli, può variare molto da una scena ad un'altra.
I codificatori video moderni possono adattarsi via via a queste necessità
e cambiare il bitrate.
In modalità semplici come CBR, tuttavia, i codificatori non sanno il bitrate
necessario alle scene venture e perciò non possono stare sopra al bitrate
richiesto per lunghi periodi di tempo.
Modalità più avanzate, come la codifica in multipassaggio, possono tener
conto delle statistiche del passo precedente; questo corregge il problema
suddetto.
</p><div class="note" title="Nota:" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota:</h3><p>
La maggior parte dei codec che gestisce la codifica in ABR può usare solo la
codifica a due passaggi mentre altri come
<code class="systemitem">x264</code>,
<code class="systemitem">Xvid</code> e
<code class="systemitem">libavcodec</code> gestiscono il
multipassaggio, che migliora leggermente la qualità ad ogni passo, anche se
tale moglioramento non è più misurabile né visibile veramente oltre il
quarto passo o giù di lì.
Perciò in questa sezione due passaggi e multipassaggio avranno lo stesso
significato.
</p></div><p>
In ambedue i modi, il codec video (come
<code class="systemitem">libavcodec</code>) spezza il fotogramma video
in macroblocchi da 16x16 pixel e poi applica un quantizzatore a ciascun
macroblocco. Più basso è il quantizzatore, migliore sarà la qualità e
più alto il bitrate.
Il metodo usato dal codificatore del filmato per determinare quale quantizzatore
utilizzare per un dato macroblocco varia ed è altamente configurabile.
(Questa è una semplificazione estrema del vero processo, ma il concetto di base
è comodo per capire.)
</p><p>
Quando specifichi un bitrate constante, il codec video codificherà il video,
scartando dettagli tanto quanto è necessario e il meno possibile, in modo da
rimanere al di sotto del bitrate voluto. Se non ti interessa davvero la
dimensione del file, potresti anche usare CBR e specificare un bitrate
infinito. (In pratica, questo significa un valore abbastanza alto da non porre
limiti, come 10000Kbit.) Con nessun limite sul bitrate, il risultato è che il
codec userà il quantizzatore più basso possibile per ciascun macroblocco
(come specificato da <tt class="option">vqmin</tt> per
<code class="systemitem">libavcodec</code>, che è 2 di default).
Appena specifichi un bitrate abbastanza basso tale che il codec venga forzato
ad utilizzare un quantizzatore più alto, allora stai sicuramente diminuendo la
qualità del tuo video.
Per evitarlo, dovresti probabilmente ridurre la dimensione del tuo video,
seguendo il metodo descritto più avanti in questa guida.
In generale dovresti evitare del tutto CBR se ti interessa la qualità.
</p><p>
Con il quantizzatore costante, il codec utilizza lo stesso quantizzatore per
ogni macroblocco, come specificato dall'opzione <tt class="option">vqscale</tt> (per
<code class="systemitem">libavcodec</code>).
Se vuoi la più alta qualità possibile di rip, sempre ignorantdo il bitrate,
puoi usare <tt class="option">vqscale=2</tt>.
Ciò porterà gli stessi bitrate e PSNR (peak signal-to-noise ratio) come CBR
con <tt class="option">vbitrate</tt>=infinito e <tt class="option">vqmin</tt> di default a 2.
</p><p>
Il problema con la quantizzazione costante è che usa il quantizzatore indicato
sia che il macroblocco ne abbia bisogno o no. Perciò è possibile che venga
usato un quantizzatore più alto su un macroblocco senza sacrificare la
qualità visiva. Perché sprecare i bit di un quantizzatore basso che non
serve? La tua CPU ha tanti cicli fin quando c'è tempo, ma c'è solo un certo
numero di bit sul tuo disco rigido.
</p><p>
Con una codifica a due passi, il primo codificherà il filmato come se fosse
CBR, ma manterrà una registrazione delle caratteristiche di ogni fotogramma.
Questi dati sono poi utilizzati durante il secondo passo in modo da effettuare
scelte intelligenti su quale quantizzatore usare. Durante le scene con azione
veloce o molti dettagliate, verrano usati più probabilmente quantizzatori più
alti, e durante scene lente o con pochi dettagli, verranno usati quantizzatori
più bassi. Solitamente è molto più importante la quantità di movimento
che la quantità di dettagli.
</p><p>
Se usi <tt class="option">vqscale=2</tt>, allora stai sprecando dei bit. Se usi
<tt class="option">vqscale=3</tt>, allora non stai ottenendo la miglior qualità.
Supponi di rippare un DVD a <tt class="option">vqscale=3</tt> e che il risultato sia
1800Kbit. Se fai una codifica a due passi con <tt class="option">vbitrate=1800</tt> il
video risultante avrà una <span class="bold"><strong>qualità superiore</strong></span>
a <span class="bold"><strong>parità di bitrate</strong></span>.
</p><p>
Dato che ora sei convinto che i due passaggi siano la strada da percorrere, la
vera domanda adesso è quale bitrate usare? La risposta à che non c'è una
risposta definitiva. Idealmente vuoi scegliere un bitrate che porti al miglior
equilibrio tra qualità e dimensione del file. Tutto ciò varia in dipendenza
del video di origine.
</p><p>
Se la dimensione non è importante, un buon punto di partenza per un rip di
qualità molto elevata è intorno a 2000Kbit più o meno 200Kbit.
Per video con scene di azione veloce o con molti dettagli, oppure se
semplicemente hai l'occhio critico, potresti scegliere 2400 o 2600.
Per alcuni DVD potresti non notare alcuna differenza a 1400Kbit. Sperimentare
con alcune scene a vari bitrate è una buona idea per farsi un'opinione.
</p><p>
Se punti a una data dimensione, dovrai calcolare il bitrate in un qualche modo.
Prima di farlo, però, devi sapere quanto spazio devi riservare per la traccia
(le tracce) audio, per cui devi dapprima fare il
<a class="link" href="#menc-feat-dvd-mpeg4-audio" title="10.1.11. Audio">rip di queste</a>.
Puoi calcolare il bitrate con l'equazione che segue:
<code class="systemitem">bitrate = (dimensione_voluta_in_Mbytes - dimensione_audio_in_Mbytes)
* 1024 * 1024 / lunghezza_in_secondi * 8 / 1000</code>
Per esempio, per far stare un film di due ore su un CD da 702MB, con 60MB di
traccia audio, il bitrate video diventerà:
<code class="systemitem">(702 - 60) * 1024 * 1024 / (120*60) * 8 / 1000
= 740kbps</code>
</p></div><div class="sect2" title="10.1.3. Vincoli per una codifica efficiente"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-constraints"></a>10.1.3. Vincoli per una codifica efficiente</h3></div></div></div><p>
A causa della natura del tipo di compressione MPEG, ci sono alcuni vincoli da
seguire per avere la massima qualità.
L'MPEG divide il video in quadrati da 16x16 chiamati macroblocchi, ciascuno di
essi composto da blocchi 4x4 con informazioni sulla luminanza (intensità) e
due blocchi da 8x8 a metà risoluzione per la crominanza (colore) (uno per
l'asse rosso-ciano e l'altro per l'asse blu-giallo).
Anche se la larghezza e l'altezza del tuo filmato non sono multipli di 16 il
codificatore userà tanti macroblocchi 16x16 in modo da coprire tutta la
superficie dell'immagine, e lo spazio in esubero sarà sprecato.
Indi, per migliorare la qualità a una dimensione prefissata è una brutta
idea utilizzare dimensioni che non siano multiple di 16.
</p><p>
La maggior parte dei DVD ha anche alcune con bordi neri sui lati. Lasciarli lì
avrà un'influenza <span class="bold"><strong>molto</strong></span> negativa sulla
qualità in svariati modi.
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
  Il tipo di compressione MPEG è pesantemente dipendente dalle trasformazioni
  di dominio frequenti, in particolare la "trasformazione discreta del coseno"
  (Discrete Cosine Transform (DCT)), che xxièe' simile alla trasformazione di
  Fourier. Quest'approccio di codifica è efficiente nella rappresentazione di
  motivi e transizioni delicate, ma trova difficoltà con spigoli più
  definiti. Per codificarli deve usare molti più bit oppure apparirà un
  artefatto conosciuto come 'ringing'.
  </p><p>
  La trasformazione di frequenza (DCT) prende luogo separatemente in ogni
  macroblocco (praticamente in ogni blocco) perciò questo problema si applica
  solo quando lo spigolo definito è dentro a un blocco. Se il bordo nero inizia
  esattamente sul lato di un multiplo di 16, questo non e' un problema.
  Tuttavia i bordi neri sui DVD difficilmente sono ben allineati, perciò
  nella realtà dovrai sempre tagliarli via per evitare questi problemi.
  </p></li></ol></div><p>
Oltre alle trasformazioni del dominio di frequenza, il tipo di compressione
MPEG usa dei vettori di movimento per rappresetare le variazioni da un
fotogramma al successivo. Naturalmente i vettori di movimento funzionano molto
meno bene per i nuovi contenuti che arrivano dai bordi dell'immagine, dato che
non erano presenti nel fotogramma precedente. Fintanto che l'immagine arriva
fino al bordo dell'area codificata, i vettori di movimento non incontrano
alcun problema con li contenuto che esce dall'immagine. Tuttavia ci possono
esser problemi quando ci sono dei bordi neri:
</p><div class="orderedlist"><ol class="orderedlist" start="2" type="1"><li class="listitem"><p>
  Per ogni macroblocco il tipo di compressione MPEG memorizza un vettore, che
  identifica quale parte del fotogramma precedente debba essere copiata nel
  macroblocco stesso, come base per predire il fotogramma successivo. Serve
  codificare solo le differenze restanti. Se un macroblocco oltrepassa il
  bordo dell'immagine e contiene parte del bordo nero, allora i vettori di
  movimento provenienti da altre zone dell'immagine ricopriranno il bordo
  nero. Questo significa che si devono utilizzare molti bit o per riannerire il
  bordo che è stato ricoperto, oppure (più verosimilmente) un vettore di
  movimento non sarà proprio usato e tutti i cambiamenti in questo
  macroblocco dovranno venir esplicitamente codificate. In un modo o nell'altro
  si ricuce di gran lunga l'efficienza della codifica.
  </p><p>
  Inoltre questo problema si applica solo se i bordi neri non sono allinati
  su limiti di multipli di 16.
  </p></li><li class="listitem"><p>
  Immagina infine di avere un macroblocco all'interno dell'immagine, ed un
  oggetto che passa da questo blocco verso il bordo dell'immagine. La
  codifica MPEG non può dire "copia la parte che è dentro all'immagine, ma
  non il bordo nero". Perciò anche il bordo nero vi verrà copiato
  all'interno, e molti bit saranno sprecati codificando l'immagine che si
  suppone stia lì.
  </p><p>
  Se l'immagine arriva al limite della superficie codificata, l'MPEG ha una
  particolare ottimizzazione che consta nel copiare ripetutamente i pixel sul
  bordo dell'immagine quando un vettore di movimento arriva dall'esterno della
  superficie codificata. Questa funzionalità diventa inutile quando il film
  ha dei bordi neri. Diversamente dai problemi 1 e 2, allineare i bordi a
  multipli di 16 in questo caso non aiuta.
  </p></li><li class="listitem"><p>
  A dispetto del fatto che i bordi siano completamente neri e non cambino mai,
  c'è perlomeno un piccolo spreco nell'avere più macroblocchi.
</p></li></ol></div><p>
Per tutte queste ragioni si consiglia di tagliar via completamente i bordi neri.
Inoltre, se c'è una zona di rumore/distorsione sui bordi dell'immagine,
tagliarla migliorerà ancora l'efficienza di codifica. I puristi videofili che
vogliono mantenere il più possibile l'originale potrebbero obiettare su questo
taglio, ma a meno di non codificare a una quantizzazione costante, la qualità
guadagnata tagliando sorpasserà di gran lunga la quantità di informazioni
perse sui bordi.
</p></div><div class="sect2" title="10.1.4. Tagliare e Ridimensionare"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-crop"></a>10.1.4. Tagliare e Ridimensionare</h3></div></div></div><p>
Ricorda dalla sezione precedente che la dimensione finale dell'immagine che
codifichi dovrebbe essere un multiplo di 16 (sia in larghezza che altezza).
Si può ottenere ciò tagliando, ridimensionando o combinando le due cose.
</p><p>
Quando tagli, ci sono alcune linee guida che si devono seguire per evitare di
rovinare il tuo filmato.
Il formato YUV abituale, 4:2:0, memorizza le informazioni sulla crominanza
(colore) sottocampionate, per es. la crominanza viene campionata in ogni
direzione solo la metà di quanto venga la luminanza (intensità).
Osserva questo diagramma, dove L indica i punti di campionamente della
luminanza e C quelli della crominanza.
</p><div class="informaltable"><table border="1" width="40%"><colgroup><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"></colgroup><tbody><tr><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td></tr><tr><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td></tr><tr><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td></tr><tr><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td></tr><tr><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td></tr><tr><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td></tr></tbody></table></div><p>
Come puoi vedere, le righe e le colonne dell'immagine vengono sempre a coppie.
Quindi i tuoi valori di spostamento e dimensione <span class="emphasis"><em>devono</em></span>
essere numeri pari.
Se non lo sono la crominanza non sarà più allineata correttamente con la
luminanza.
In teoria è possibile tagliare con uno spostamento dispari, ma richiede che la
crominanza venga ricampionata, il che potenzialmente è un'operazione in perdita
e non è gestita dal filtro crop.
</p><p>
Inoltre, il video interlacciato viene campionato come segue:
</p><div class="informaltable"><table border="1" width="80%"><colgroup><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"></colgroup><tbody><tr><td colspan="8" align="center">Campo superiore</td><td colspan="8" align="center">Campo inferiore</td></tr><tr><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td></tr><tr><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td></tr><tr><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td></tr><tr><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td></tr><tr><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td></tr><tr><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td></tr><tr><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td></tr><tr><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td></tr><tr><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td></tr><tr><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td></tr><tr><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td><td colspan="2" align="center">C</td></tr><tr><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td><td align="center">L</td></tr></tbody></table></div><p>
Come puoi notare, il motivo non si ripete fino a dopo 4 linee.
Quindi per il video interlacciato, il tuo spostamento sull'asse y e l'altezza
devono essere multipli di 4.
</p><p>
La risoluzione nativa DVD è 720x480 per NTSC e 720x576 per PAL, ma c'è un
flag per l'aspetto che indica se è full-screen (4:3) o wide-screen (16:9).
Molti (se non quasi tutti) i DVD in widescreen non sono esattamente 16:9 e
possono essere sia 1.85:1 o 2.35:1 (cinescope). Questo significa che nel video
ci saranno bordi neri  che bisogna tagliare via.
</p><p>
<span class="application">MPlayer</span> fornisce un filtro che rileva i valori di
taglio e fornisce il rettangolo per crop (<tt class="option">-vf cropdetect</tt>).
Esegui <span class="application">MPlayer</span> con <tt class="option">-vf cropdetect</tt> ed
emetterà le impostazioni di taglio per crop al fine di rimuovere i bordi.
Dovresti lasciare andare avanti il film abbastanza da ottenere valori di taglio
precisi.
</p><p>
Dopodiché prova con <span class="application">MPlayer</span> i valori ottenuti usando
la linea comando emessa da <tt class="option">cropdetect</tt>, e correggi il
rettangolo se e come serve.
Il filtro <tt class="option">rectangle</tt> può esserti di aiuto, dato che ti
permette di impostare interattivamente la posizione del rettangolo di taglio
sopra al filmato.
Ricordati di seguire le linee guida sui multipli in modo da non disallineare
i piani di crominanza.
</p><p>
In talune occasioni, il ridimensionamento può essere indesiderabile.
Il ridimensionamento sulla direzione verticale è difficoltoso con video
interlacciato e se vuoi mantenere l'interlacciamento, dovresti evitare il
ridimensionamento.
Se non ridimensionerai, ma vuoi comunque usare dimensioni multiple di 16,
dovrai tagliare di più.
Evita di tagliare di meno, dato che i bordi neri sono un male per la codifica!
</p><p>
Dato che MPEG-4 usa macroblocchi 16x16 vorrai esser sicuro che ambedue le
dimensioni del video che stai per codificare siano multiple di 16, altrimenti
perderai in qualità, soprattutto a bitrate più bassi. Puoi farlo abbassando
la larghezza e l'altezza del rettangolo di taglio al multiplo di 16 più vicino.
Come detto precedentemente, quando tagli, vorrai aumentare lo scostamento Y
della metà della differenza tra la nuova e la vecchia altezza, in modo che il
video risultante sia preso dal centro del fotogramma. Inoltre, a causa del modo
in cui il video DVD viene campionato, assicurati che lo scostamento sia un
numero pari. (Infatti, come regola, non utilizzare mai valori dispari per alcun
parametro quando tagli e ridimensioni un video.) Se non ti va di scartare dei
pixel in più, potresti piuttosto preferire il ridimensionamento del video.
Prenderemo in esame questa situazione più avanti.
Puoi in verità lasciare che tutte le considerazioni suddette vengano fatte
dal filtro <tt class="option">cropdetect</tt>, visto che ha un parametro
<tt class="option">round</tt> facoltativo, che è impostato a 16 di default.
</p><p>
Fai anche attenzione ai pixel "mezzi neri" sui bordi. Assicurati di tagliare
anch'essi, altrimenti sprecherai bit più utili altrove.
</p><p>
Dopo aver detto e fatto tutto ciò, probabilmente avrei un vide i cui pixel
non saranno proprio 1.85:1 o 2.35:1, ma piuttosto un valore vicino. Potresti
calcolare a mano il nuovo rapporto di aspetto, ma
<span class="application">MEncoder</span> ha un'opzione per <code class="systemitem">libavcodec</code> chiamata <tt class="option">autoaspect</tt>
che lo farà per te. Non aumentare assolutamente le dimensioni del video per
avere i pixel quadrati, a meno che tu non voglia sprecare il tuo spazio disco.
Il ridimensionamento dovrebbe essere eseguito in riproduzione, e per definire
la risoluzione giusta il riproduttore userà l'aspetto memorizzato nell'AVI.
Sfortunatamente non tutti i riproduttori verificano l'informazione sul rapporto
perciò potresti voler comunque effettuare il ridimensionamento.
</p></div><div class="sect2" title="10.1.5. Scegliere la risoluzione e il bitrate"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-resolution-bitrate"></a>10.1.5. Scegliere la risoluzione e il bitrate</h3></div></div></div><p>
A meno che tu non stia per codificare con quantizzazione costante devi
impostare un bitrate.
La logica del bitrate è abbastanza semplice.
Normalmente il bitrate viene misurato in kilobit (1000 bit) al secondo.
La dimensione del filmato sul disco è il bitrate moltiplicato per la durata
del filmato, più un piccolo quantitativo in "surplus" (vedi per esempio la
sezione sul
<a class="link" href="#menc-feat-dvd-mpeg4-muxing-avi-limitations" title="10.1.12.2. Limitazioni del contenitore AVI">contenitore AVI</a>).
Altri parametri come ridimensionamento, taglio, etc...
<span class="bold"><strong>non</strong></span> influiscono sulla dimensione del file a
meno che tu non cambi anche il bitrate!
</p><p>
Il bitrate <span class="bold"><strong>non</strong></span> è direttamente proporzionale
alla risoluzione.
Tanto per capirci, un file 320x240 a 200 kbit/sec non avrà la stessa qualità
dello stesso filmato a 640x480 e 800 kbit/sec!
Ci sono due ragioni per ciò:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
  <span class="bold"><strong>Percettiva</strong></span>: noti di più gli artefatti MPEG
  quando sono più grandi!
  Gli artefatti appaiono a livello dei blocchi (8x8).
  Il tuo occhio non noterà errori in 4800 piccoli blocchi tanti quanti ne
  vedrà in 1200 grossi blocchi (assumendo che tu li stia ridimensionando tutti
  e due a schermo intero).
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Teorica</strong></span> : quando rimpicciolisci un immagine
  ma usi la stessa dimensione dei blocchi (8x8) per la trasformazione spaziale
  della frequenza, hai più dati nelle bande ad alta frequenza. In parole
  povere, ogni pixel contiene più dettagli di quanti ne contenesse prima.
  Quindi anche se la tua immagine rimpicciolita contiene 1/4 delle informazioni
  sulle direzioni spaziali, potrebbe ancora contenere una gran parte delle
  informazioni nel dominio delal frequenza (assumendo che le alte frequenze
  siano sotto-utilizzate nell'immagine di origine a 640x480).
</p></li></ol></div><p>
</p><p>
Guide precendenti hanno consigliato di scegliere un bitrate e una risoluzione
in base ad un approccio "bit al secondo", ma di solito ciò non è valido a
causa delle ragioni suddette.
Una stima migliore pare essere che il bitrate è proporzionale alla radice
quadrata della risoluzione, per cui 320x240 e 400 kbit/sec sarà
paragonabile a 640x480 a 800 kbit/sec.
Tuttavia ciò non è stato verificato con certezza empirica o teorica.
Inoltre, dato che i filmati hanno diversi livelli di disturbo, dettaglio, angoli
di movimento, etc..., è vano dare consigli generici su bit per lunghezza della
diagonale (analogamente a bit per pixel, usando la radice quadrata).
</p><p>
Finora abbiamo parlato della difficoltà nel scegliere un bitrate e una
risoluzione.
</p><div class="sect3" title="10.1.5.1. Calcolare la risoluzione"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-dvd-mpeg4-resolution-bitrate-compute"></a>10.1.5.1. Calcolare la risoluzione</h4></div></div></div><p>
I passaggi seguenti ti guideranno nel calcolo della risoluzione per la tua
codifica senza distorcere troppo il video, tenendo in considerazione vari tipo
di informazioni riguardo la sorgente video.
Per prima cosa dovresti calcolare il rapporto di aspetto codificato:
<code class="systemitem">ARc = (Wc x (ARa / PRdvd )) / Hc</code>

</p><div class="itemizedlist" title="dove:"><p class="title"><b>dove:</b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Wc e Hc sono la larghezza e l'altezza del video tagliato,
</p></li><li class="listitem"><p>
  ARa è il rapporto di aspetto mostrato, che di solito è 4/3 o 16/9,
</p></li><li class="listitem"><p>
  PRdvd à il rapporto del pixel del DVD che è uguale a 1.25=(720/576) per DVD
  PAL e 1.5=(720/480) per DVD NTSC.
</p></li></ul></div><p>
</p><p>
Dopo puoi calcolare la risoluzione X e Y, basandoti su un dato fattore
di qualità di compressione (Compression Quality, CQ):
<code class="systemitem">ResY = INT(SQRT( 1000*Bitrate/25/ARc/CQ )/16) * 16</code>
and
<code class="systemitem">ResX = INT( ResY * ARc / 16) * 16</code>
</p><p>
Okay, ma cos'è la CQ?
Il CQ rappresenta il numero di bit per pixel e per fotogramma in codifica.
Parlando più semplicemente, più alto è la CQ, più difficilmente si vedranno
codificati degli artefatti.
Tuttavia, se desideri una particolare dimensione per il tuo film (per esempio
1 o 2 CD), hai un numero limitato di bit da utilizzare; devi quindi trovare un
buon compromesso tra compressione e qualità.
</p><p>
La CQ dipende dal bitrate, dall'efficienza del codec video e dalla risoluzione
del filmato.
Per alzare la CQ, di solito dovrai rimpicciolire il filmato visto che il bitrate
viene calcolato in funzione della dimensione voluta e della lunghezza del
filmato, che sono delle costanti.
Con codec MPEG-4 ASP come <code class="systemitem">Xvid</code> e
<code class="systemitem">libavcodec</code>, una CQ inferiore a 0.18
solitamente genera un'immagine abbastanza squadrettata, perché non ci sono
abbastanza bit per codificare l'informazione di ogni macroblocco. (MPEG4, come
molti altri codec, ragruppa i pixel in blocchi di pixel per comprimere
l'immagine; se non ci sono abbastanza bit, si vedono i bordi dei blocchi.)
E' saggio anche prendere una CQ compresa tra 0.20 e 0.22 per un rip a 1 CD,
e 0.26-0.28 per un rip a 2 CD con impostazioni standard di codifica.
Opzioni più evolute di codifica come quelle qui indicate per
<a class="link" href="#menc-feat-mpeg4-lavc-example-settings" title="10.3.4. Encoding setting examples"><code class="systemitem">libavcodec</code></a>
e
<a class="link" href="#menc-feat-xvid-example-settings" title="10.4.4. Encoding setting examples"><code class="systemitem">Xvid</code></a>
dovrebbero permetterti di ottenere la stessa qualità con CQ compresa tra
0.18 e 0.20 per un rip da 1 CD, e da 0.24 a 0.26 per 2 CD.
Con codec MPEG-4 AVC come <code class="systemitem">x264</code>,
puoi usare una CQ che varia da 0.14 a 0.16 con opzioni standard di codifica, e
dovresti riuscire a scendere tra 0.10 e 0.12 con <a class="link" href="#menc-feat-x264-example-settings" title="10.5.2. Encoding setting examples">impostazioni avanzate di codifica
<code class="systemitem">x264</code></a>.
</p><p>
Prendi per favore nota che CQ è solo un valore indicativo, dato che dipende dal
contenuto che  viene codificato, una CQ di 0.18 può andar bene per un Bergman,
mentre per un film come Matrix, che contiene molte scene ad alta velocità, no.
D'altro canto è inutile portare la CQ oltre 0.30 dato che sprecherai dei bit
senza avere alcun guadagno visibile in qualità.
Nota anche che come detto precedentemente in questa guida, per video a bassa
risoluzione serve una CQ più alta (in rapporto, per esempio, alla risoluzione
DVD) perché si vedano bene.
</p></div></div><div class="sect2" title="10.1.6. Filtraggio"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-filtering"></a>10.1.6. Filtraggio</h3></div></div></div><p>
Imparare come usare i filtri video di <span class="application">MEncoder</span> è
essenziale per produrre delle buone codfiche.
Tutta l'elaborazione video è eseguita attraverso i filtri -- taglio,
ridimensionamento, aggiustamento del colore, rimozione del disturbo, rilevamento
margini, deinterlacciatura, telecine, telecine inverso, e deblocco, solo per
nominarne qualcuno.
Insieme con la vasta gamma di formati di entrata gestiti, la varietà dei
filtri disponibili in <span class="application">MEncoder</span> è uno dei suoi
più grandi vantaggi sugli altri programmi similari.
</p><p>
I filtri vengono caricati in catena usando l'opzione -vf:

</p><pre class="screen">-vf filtro1=opzioni,filtro2=opzioni,...</pre><p>

La maggior parte dei filtri riceve alcune opzioni numeriche separate da due
punti, ma la sintassi per le opzioni cambia da filtro a filtro, indi leggiti la
pagina man per i dettagli sul filtro che desideri usare.
</p><p>
I filtri lavorano sul video nell'ordine in cui vengono caricati.
Per esempio la catena seguente:

</p><pre class="screen">-vf crop=688:464:12:4,scale=640:464</pre><p>

dapprima taglia la zona 688x464 dell'immagine con uno scostamento dall'alto a
sinistra di (12,4), e poi ridimensiona il risultato a 640x464.
</p><p>
Taluni filtri devono essere caricati all'inizio o vicino all'inizio della
catena di filtri, in modo da trarre vantaggio dalle informazioni che arrivano
dal decoder video, che potrebbero essere perse o invalidate da altri filtri.
Gli esempi principali sono <tt class="option">pp</tt> (post elaborazione
(postprocessing), solo quando esegue operazioni di deblock o dering),
<tt class="option">spp</tt> (un altra post elaborazione per eliminare artefatti MPEG),
<tt class="option">pullup</tt> (telecine inverso), e <tt class="option">softpulldown</tt>
(per passare da telecine soft a hard).
</p><p>
In generale vorrai filtrare il meno possibile in modo da rimaner fedele alla
sorgente DVD originale. Il taglio è spesso necessario (com detto sopra), ma
evita di ridimensionare il video. Anche se alcune volte si preferisce
rimpicciolire per poter usare quantizzatori più alti, vogliamo evitare ciò:
ricorda che abbiamo sin dall'inizio deciso di investire bit in qualità.
</p><p>
In più, non reimpostare la gamma, il contrasto, la luminosità, etc...
Quello che si vede bene sul tuo schermo potrebbe non vedersi bene su altro.
Queste modifiche dovrebbero esser fatte solo durante la riproduzione.
</p><p>
Una cosa che voresti però fare è tuttavia far passare il video attraverso un
leggero filtro di rimozione disturbo, come <tt class="option">-vf hqdn3d=2:1:2</tt>.
Ancora, è una questione di poter meglio utilizzare quei bit: perché sprecarli
codificando disturbo mentre puoi semplicemente aggiungerlo di nuovo durante la
riproduzione? Alzando i parametri per <tt class="option">hqdn3d</tt> aumenterà
ancora la compressione, ma se aumenti troppo i valori, rischi un degrado pesante
dell'immagine. I valori sopra consigliati (<tt class="option">2:1:2</tt>) sono
abbastanza conservativi; sentiti libero di sperimentare con valori più alti e
verificare da solo il risultato.
</p></div><div class="sect2" title="10.1.7. Interlacciamento e Telecine"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-interlacing"></a>10.1.7. Interlacciamento e Telecine</h3></div></div></div><p>
Quasi tutti i film vengono ripresi a 24 fps. Dato che NTSC è 30000/1001 fps,
si devono eseguire alcune elaborazioni affinché questo video a 24 fps sia
letto al giusto framerate NTSC. Il processo è chiamato "3:2 pulldown", meglio
conosciuto come "telecine" (poiché pulldown viene spesso applicato durante il
processo di telecine), e descritto rozzamente, agisce rallentando il film a
24000/1001 fps, e ripetendo ogni quarto fotogramma.
</p><p>
Non viene invece eseguita alcuna elaborazione sul video per i DVD PAL, che
girano a 25 fps. (Tecnicamente, PAL può subire il telecine, chiamato
"2:2 pulldown", ma non è usanza abituale.) Il film a 24 fps viene
semplicemente riprodotto a 25 fps. Il risultato è che il filmato è leggermente
più veloce, ma a meno che tu non sia un alieno, probabilmente non noterai la
differenza.
La maggior parte dei DVD PAL hanno audio corretto ai picchi, in modo che quando
siano riprodotti a 25 fps le cose suonino giuste, anche se la traccia audio
(e quindi tutto il filmato) ha un tempo di riproduzione che è il 4% inferiore
ai DVD NTSC.
</p><p>
A causa del fatto che il video nei DVD PAL non è stato alterato, non dovrai
preoccuperti molto della frequenza fotogrammi. La sorgente è 25 fps, e il tuo
rip sarà a 25 fps. Tuttavia, se stai codificando un film da DVD NTSC,
potresti dover applicare il telecine inverso.
</p><p>
Per film ripresi a 24 fps, il video sul DVD NTSC è o con telecine a 30000/1001,
oppure è progressivo a 24000/1001 fps e destinato a subire il telecine al volo
da un lettore DVD. D'altro canto le serie TV sono solitamente solo
interlacciate, senza telecine. Questa non è una regola ferrea: alcune serie TV
sono interlacciate (come Buffy the Vampire Slayer) mentre alcune sono un misto
di progressivo e interlacciato (come Angel, o 24).
</p><p>
Si consiglia vivamente di leggere la sezione su
<a class="link" href="#menc-feat-telecine" title="10.2. Come trattare telecine e interlacciamento nei DVD NTSC">Come trattare il telecine e l'interlacciamento nei DVD NTSC</a>
per imparare come gestire le varie possibilità.
</p><p>
Ciononostante, se stai principalmente rippando solo film, solitamente ti
troverai di fronte a video a 24 fps progressivo o con telecine, nel qual caso
puoi usare il filtro <tt class="option">pullup</tt> <tt class="option">-vf
pullup,softskip</tt>.
</p></div><div class="sect2" title="10.1.8. Codificare video interlacciato"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-encoding-interlaced"></a>10.1.8. Codificare video interlacciato</h3></div></div></div><p>
Se il film che vuoi codificare è interlacciato (video NTSC o PAL) dovrai
scegliere se vuoi de-interlacciare o no.
Se da un lato de-interlacciare renderà il tuo filmato utilizzabile su
schermi a scansione progressiva come monitor di computer o proiettori, porta
con sé un costo: la frequenza dei campi di 50 o 60000/1001 campi al secondo
viene dimezzata a 25 o 30000/1001 fotogrammi al secondo, e circa la metà delle
informazioni nel tuo film saranno perdute, in scene con movimento significativo.
</p><p>
Per di più, se stai codificando puntando ad alta qualità di archiviazione.
si consiglia di non de-interlacciare.
Puoi sempre de-interlacciare il film durante la riproduzione attraverso
dispositivi a scansione progressiva.
La potenza dei computer attuali forza per i riproduttori l'utilizzo di un filtro
di de-interlacciamento, che porta un leggero degrado dell'immagine.
Ma i lettori del futuro saranno in grado di simulare lo schermo di una TV,
de-interlacciando a piena frequenza di campi e interpolando 50 o 60000/1001
fotogrammi interi al secondo dal video interlacciato
</p><p>
Bisogna porre speciale attenzione quando si lavora con video interlacciato:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
  Altezza e scostamento del taglio devono essere multipli di 4.
</p></li><li class="listitem"><p>
  Qualsiasi ridimensionamento verticale va fatto in modalità interlacciata.
</p></li><li class="listitem"><p>
  I filtri di post elaborazione e di rimozione disturbo potrebbero non
  funzionare come ci si aspetta a meno che tu non ponga particolare attenzione
  per farli lavorare su un campo per volta, e possono rovinare il video quando
  usati in modo non corretto.
</p></li></ol></div><p>
Tenendo a mente queste cose, ecco il nostro primo esempio:
</p><pre class="screen">
mencoder <em class="replaceable"><code>capture.avi</code></em> -mc 0 -oac lavc -ovc lavc -lavcopts \
    vcodec=mpeg2video:vbitrate=6000:ilme:ildct:acodec=mp2:abitrate=224
</pre><p>
Nota le opzioni <tt class="option">ilme</tt> e <tt class="option">ildct</tt>.
</p></div><div class="sect2" title="10.1.9. Note sulla sincronizzazione Audio/Video"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-av-sync"></a>10.1.9. Note sulla sincronizzazione Audio/Video</h3></div></div></div><p>
Gli algoritmi di sincronizzazione audio/video di
<span class="application">MEncoder</span> sono stati progettati con l'intento di
recuperare file con sincronia danneggiata.
In alcuni casi tuttavia, possono generare inutili duplicazioni o scarti di
fotogrammi, e possibilmente leggera desincronia A/V quando vengono usati con
sorgenti buone (i problemi di sincronizzazione A/V accadono solo se elabori o
copi la traccia audio mentre transcodifichi il video, il che è decisamente
consigliato).
Perciò potresti dover passare ad una sincronizzazione di base con l'opzione
<tt class="option">-mc 0</tt>, o metterla nel tuo file di configurazione
<code class="systemitem">~/.mplayer/mencoder</code>, sempre che tu stia lavorando con
buone sorgenti (DVD, acquisizione TV, rip MPEG-4 ad alta qualità, etc) e non
con file ASF/RM/MOV rovinati.
</p><p>
Se vuoi proteggerti ulteriormente da strani salti e duplicazioni di fotogrammi,
puoi usare sia <tt class="option">-mc 0</tt> che <tt class="option">-noskip</tt>.
Questo disabiliterà <span class="emphasis"><em>tutte</em></span> le sincronizzazioni A/V, e
copierà i fotogrammi uno ad uno, perciò è inutilizzabile se stai usando dei
filtri che aggiungono o rimuovono arbitrariamente fotogrammi, ovvero se il
tuo file sorgente ha una frequenza fotogrammi non costante!
Quindi l'utilizzo di <tt class="option">-noskip</tt> in linea di massima si sconsiglia.
</p><p>
Si sa che la cosiddetta codifica audio in "tre passi", che
<span class="application">MEncoder</span> gestisce, può causare desincronizzazione
A/V.
Il che capiterà prontamente se viene usata insieme con alcuni filtri, per cui
si consiglia di <span class="emphasis"><em>non</em></span> usare la modalità audio a tre passi.
Questa caratteristica viene lasciata solo per finalità di compatibilità e
per utenti esperti che sanno quando sia adeguato usarla e quando no.
Se non hai mai sentito parlar prima della modalità a tre passi, dimenticati
di averla anche solo sentita nominare!
</p><p>
Ci sono anche stati rapporti di desincronia A/V codificando con
<span class="application">MEncoder</span> da stdin.
Non farlo! Usa sempre come ingresso un file o un dispositivo CD/DVD/etc.
</p></div><div class="sect2" title="10.1.10. Scegliere il codec video"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-codec"></a>10.1.10. Scegliere il codec video</h3></div></div></div><p>
Quale possa esere il miglior codec video dipende da molti fattori, come
dimensione, qualità, possibilita di farne lo streaming, usabilit, diffusione,
alcuni dei quali dipendono fortemente dai gusti personali e dalle variabili
tecniche in gioco.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  E' abbastanza facile da capire che i codec più recenti sono fatti per
  aumentare qualità e compressione.
  Quindi gli autori di questa guida e moltra altra gente suggeriscono che non
  potete sbagliare
  <sup>[<a name="fn-menc-feat-dvd-mpeg4-codec-cpu" href="#ftn.fn-menc-feat-dvd-mpeg4-codec-cpu" class="footnote">1</a>]</sup>
  quando scegliete un qualche codec MPEG-4 AVC come
  <code class="systemitem">x264</code> piuttosto che un codec MPEG-4
  ASP come l'MPEG-4 di <code class="systemitem">libavcodec</code> o
  <code class="systemitem">Xvid</code>.
  (Per sviluppatori avenzati di codec potrebbe essere interessante leggere
  l'opinione di Michael Niedermayer sul
  "<a class="ulink" href="http://guru.multimedia.cx/?p=10" target="_top">perché MPEG-4 ASP faccia schifo</a>"
  (in inglese).)
  Analogamente dovresti ottenere una miglior qualità usando MPEG-4 ASP rispetto
  a quella ottenuta con codec MPEG-2.
  </p><p>
  Tuttavia, i codec più recenti che sono sotto pesante sviluppo possono avere
  problemi che non sono ancora stati scoperti, e che possono rovinare una
  codifica.
  Questo è semplicemente il contrappasso per usare la tecnologia di punta.
  </p><p>
  Inoltre iniziare ad utilizzare un codec nuovo richiede l'utilizzo di un po'
  di tempo per familiarizzare con le sue opzioni, affinché tu sappia cosa
  impostare per ottenere la qualità dell'immagine voluta.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>Compatibilità Hardware</strong></span>:
  Solitamente ci va un po' di tempo prima che i lettori da tavolo incomincino ad
  includere il supporto per il video codec più recente.
  Il risultato è che la maggior parte legge MPEG-1 (come i VCD, XVCD e KVCD),
  MPEG-2 (come DVD, SVCD e KVCD) e MPEG-4 ASP (come DivX,
  LMP4 di <code class="systemitem">libavcodec</code> e
  <code class="systemitem">Xvid</code>)
  (attenzione: solitamente non sono gestite tutte le caratteristiche
  MPEG-4 ASP).
  Fai per favore riferimento alle specifiche tecniche del tuo lettore (ove
  disponibili) o cerca su internet per ulteriori informazioni.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Miglior qualità per tempo di codifica</strong></span>:
  Codec che sono in giro da parecchio tempo (come MPEG-4 di
  <code class="systemitem">libavcodec</code> e
  <code class="systemitem">Xvid</code>) sono spesso molto ottimizzati
  con ogni tipo di algoritmo furbo e codice SIMD in assembly.
  Per questo tendono a fornire il miglior rapporto tra qualità e tempo di
  codifica. Tuttavia, possono avere delle opzioni avanzate che, quando
  abilitate, rendono la codifica molto lenta fornendo poco guadagno.
  </p><p>
  Se stai cercando di incrementare la velocità dovresti cercare di non
  modificare troppo le impostazioni di default del codec video (anche se
  dovresti comunque provare le altre opzioni che sono citate in altre sezioni
  di questa guida).
  </p><p>
  Puoi tenere in considerazione anche la scelta di un codec che possa eseguire
  elaborazioni multi-thread, anche se ciò è utile solo per utenti di macchine
  con più di una CPU.
  MPEG-4 di <code class="systemitem">libavcodec</code> lo permette,
  ma il guadagno in velocità è limitato, e c'è un leggere effetto negativo
  sulla qualità dell'immagine.
  La codifica multi-thread di <code class="systemitem">Xvid</code>,
  attivata dall'opzione <tt class="option">threads</tt>, può essere usata per
  accelerare la velocità di codifica — tipicamente di circa il 40-60%
  — con poco se non nessun degrado dell'immagine.
  Anche <code class="systemitem">x264</code> permette la codifica in
  multi-thread, la quale attualmente velocizza la codifica del 94% per core di
  CPU mentre abbassa il PSNR tra 0.005dB e 0.01dB, con impostazioni tipiche.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>Gusto personale</strong></span>:
  Qui è dove capita l'irrazionale: per la stessa ragione per cui alcuni
  restano attaccati a DivX 3 per anni, mentre nuovi codec stanno
  facendo meraviglie, alcuni personaggi preferiranno
  <code class="systemitem">Xvid</code> o MPEG-4 di
  <code class="systemitem">libavcodec</code> a
  <code class="systemitem">x264</code>.
  </p><p>
  Dovresti prendere le tue decisioni; non prendere consigli da gente che
  fanno giuramenti su un codec.
  Prendi alcuni pezzi di esempio da sorgenti grezze e compara le diverse
  opzioni di codifica e di codec per trovare quello che ti garba di più.
  Il miglior codec è quello che riesci a gestire al meglio, e quello che ai
  tuoi occhi e sul tuo schermo si vede meglio.
  <sup>[<a name="fn-menc-feat-dvd-mpeg4-codec-playback" href="#ftn.fn-menc-feat-dvd-mpeg4-codec-playback" class="footnote">2</a>]</sup>!
  </p></li></ul></div><p>
Fai per favore riferimento alla sezione
<a class="link" href="#menc-feat-selecting-codec" title="9.1. Selezionare codec e formati contenitore">selezionare codec e formati contenitore</a>
per avere un elenco dei codec usabili.
</p></div><div class="sect2" title="10.1.11. Audio"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-audio"></a>10.1.11. Audio</h3></div></div></div><p>
L'audio è un problema di decisamente più facile soluzione: se ti interessa la
qualità, lascialo semplicemente com'è.
Anche i flussi AC-3 5.1 sono al massimo a 448Kbit/s, e ne valgono ogni bit.
Potresti esser tentato di trascodificare l'audio in Vorbis ad alta qualità, ma
solo perché a tutt'oggi non hai un decodificatore AC-3 pass-through ciò non
significa che non ne avrai uno in futuro. Assicura un futuro ai tuoi rip da DVD
preservando il flusso in AC-3.
Puoi mantenere il flusso AC-3 anche copiandolo direttamente nel flusso video
<a class="link" href="#menc-feat-mpeg4" title='9.3. Codificare MPEG-4 ("DivX") in due passaggi'>durante la codifica</a>.
Puoi anche estrarre il flusso AC-3 al fine di farne il mux in contenitori come
NUT o Matroska.
</p><pre class="screen">
mplayer <em class="replaceable"><code>file_sorgente.vob</code></em> -aid 129 -dumpaudio -dumpfile <em class="replaceable"><code>suono.ac3</code></em>
</pre><p>
effettuerà il dump della traccia audio numero 129 dal file
<em class="replaceable"><code>file_sorgente.vob</code></em> nel file
<em class="replaceable"><code>suono.ac3</code></em> (NB: i file VOB da DVD spesso usano una
numerazione dell'audio diversa, il che significa che la traccia audio 129 è la
seconda traccia del file).
</p><p>
Alcune volte invece, non hai davvero altra scelta se non comprimere
ulteriormente il suono per poter usare più bit per il video.
La maggior parte delle persone sceglie di comprimere l'audio con i codec MP3
ovvero Vorbis.
Mentre quest'ultimo è un codec decisamente efficiente per lo spazio, MP3 è
meglio supportato dai lettori da tavolo, anche se la situazione sta cambiando.
</p><p>
<span class="emphasis"><em>Non</em></span> usare <tt class="option">-nosound</tt> mentre codifichi un
file con dell'audio, anche se farai la codifica e il mux dell'audio
separatamente in seguito.
Anche se potesse andar bene in casi ideali, facilmente usare
<tt class="option">-nosound</tt> nasconderà alcuni problemi nelle tue impostazioni di
codifica sulla riga comando.
In altre parole mantenere la colonna sonora durante la codifica ti assicura,
a patto che tu non veda messaggi del tipo
<span class="quote">«<span class="quote">Troppi pacchetti audio nel buffer</span>»</span>, di ottenere un'adeguata
sincronizzazione.
</p><p>
Devi fare in modo che <span class="application">MEncoder</span> processi il suono.
Puoi per esempio copiare la colonna sonora originaria durante la codifica con
<tt class="option">-oac copy</tt>, o convertirla in un "leggero" PCM WAV mono a 4 kHz
con <tt class="option">-oac pcm -channels 1 -srate 4000</tt>.
In caso contrario in alcuni casi verrà generato un file video che sarà
desincronizzato con l'audio.
Casi del genere sono quelli in cui il numero dei fotogrammi video nel file di
origine non corrisponde alla lunghezza totale dei fotogrammi audio oppure
ogniqualvolta vi siano delle discontinuità/splice in cui mancano o ci sono
fotogrammi audio in più.
Il modo giusto di gestire questo tipo di problemi è inserire del silenzio o
tagliare l'audio in quei punti.
Tuttavia <span class="application">MPlayer</span> non è in grado di farlo, per cui se
fai il demux dell'audio AC-3 e lo codifichi con un'altro programma (o ne fai il
dump in PCM con <span class="application">MPlayer</span>), gli splice rimarranno
sbagliati e l'unico modo per correggerli è scartare/duplicare fotogrammi video
nel punto di splice.
Fintantochè <span class="application">MEncoder</span> vede l'audio mentre codifica il
video, può eseguire questo scarto/duplicazione (che solitamente è OK, dato che
capita con scene nere o cambi scena), ma se <span class="application">MEncoder</span>
non vede l'audio, processerà i fotogrammi così come sono e alla fine non
corrisponderanno al flusso audio finale quando per esempio inserirai i flussi
audio e video dentro a un file Matroska.
</p><p>
Prima di tutto dovrai convertire l'audio DVD in un file WAV che il codec audio
possa usare come ingresso.
Per esempio:
</p><pre class="screen">
mplayer <em class="replaceable"><code>file_sorgente.vob</code></em> -ao pcm:file=<em class="replaceable"><code>suono_destinazione.wav</code></em> \
    -vc dummy -aid 1 -vo null
</pre><p>
eseguirà il dump della seconda traccia audio dal file
<em class="replaceable"><code>file_sorgente.vob</code></em> sul file
<em class="replaceable"><code>suono_destinazione.wav</code></em>.
Potresti voler normalizzare il suono prima della codifica, visto che le tracce
audio dei DVD spesso sono registrate a volumi bassi.
Puoi usare per esempio lo strumento <span class="application">normalize</span>, che
è disponibile nella maggior parte delle distribuzioni.
Se stai usando Windows, lo stesso mestiere lo può fare uno strumento tipo
<span class="application">BeSweet</span>.
Effettuerai la compressione in Vorbis ovvero in MP3.

Per esempio:
</p><pre class="screen">oggenc -q1 <em class="replaceable"><code>suono_destinazione.wav</code></em></pre><p>
codificherà <em class="replaceable"><code>suono_destinazione.wav</code></em> con qualità
di codifica 1, che equivale circa a 80Kb/s, ed è la qualità minima in cui
dovresti codificare se ti interessa la qualità.
Fai per favore attenzione che attualmente <span class="application">MEncoder</span>
non è in grado di fare il mux di tracce audio Vorbis nel file di uscita,
perché gestisce solo contenitori AVI e MPEG in uscita, ognuno dei quali può
portare a problemi di sincronizzazione audio/video durante la riproduzione con
alcuni lettori quando il file AVI contiene flussi audio VBR come Vorbis.
Non preoccuparti, questa documentazione ti mostrerà come tu possa farlo
comunque con programmi di terze parti.
</p></div><div class="sect2" title="10.1.12. Muxing"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-muxing"></a>10.1.12. Muxing</h3></div></div></div><p>
Ora che hai codificato il tuo video, vorrai verosimilmente farne il mux in un
contenitore di filmati con una o più tracce audio, come AVI, MPEG, Matroska o
NUT.
<span class="application">MEncoder</span> è attualmente in grado di generare in modo
nativo solo video in formati contenitore MPEG o AVI.
Per esempio:
</p><pre class="screen">
mencoder -oac copy -ovc copy  -o <em class="replaceable"><code>film_in_uscita.avi</code></em> \
    -audiofile <em class="replaceable"><code>audio_in_ingresso.mp2</code></em> <em class="replaceable"><code>video_in_ingresso.avi</code></em>
</pre><p>
Questo miscelerà i file video <em class="replaceable"><code>video_in_ingresso.avi</code></em>
e audio <em class="replaceable"><code>audio_in_ingresso.mp2</code></em> nel file AVI
<em class="replaceable"><code>film_in_uscita.avi</code></em>.
Questo comando funziona con audio MPEG-1 layer I, II e III (più comunemente
conosciuto come MP3), WAV e qualche altro formato audio.
</p><p>
<span class="application">MEncoder</span> vanta un supporto sperimentale per
<code class="systemitem">libavformat</code>, che è una libreria del
progetto FFmpeg che può fare il mux e il demux di svariati contenitori.
Per esempio:
</p><pre class="screen">
mencoder -oac copy -ovc copy -o <em class="replaceable"><code>film_di_uscita.asf</code></em> -audiofile <em class="replaceable"><code>audio_in_ingresso.mp2</code></em> \
    <em class="replaceable"><code>video_in_ingresso.avi</code></em> -of lavf -lavfopts format=asf
</pre><p>
Questo farà la stessa cosa dell'esempio precedente, trannce che il contenitore
di uscita sarà ASF.
Per favore nota che questo supporto è altamente sperimentale (ma migliora di
giorno in giorno), e funzionerà solo se hai compilato
<span class="application">MPlayer</span> con il supporto per
<code class="systemitem">libavformat</code> abilitato (il che
significa che una versione precompilata nella maggior parte dei casi non
funzionerà).
</p><div class="sect3" title="10.1.12.1. Migliorare il mux e l'affidabilità di sincronizzazione A/V"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-dvd-mpeg4-muxing-filter-issues"></a>10.1.12.1. Migliorare il mux e l'affidabilità di sincronizzazione A/V</h4></div></div></div><p>
Potresti avere dei seri problemi di sincronizzazione cercando di fare il mux
del tuo video con alcune tracce audio, indipendentemente da come tu corregga il
ritardo audio, non otterrai mai una sincronia corretta.
Ciò potrebbe succedere quando usi un qualche filtro video che scarti o duplichi
alcuni fotogrammi, come il filtro di telecine inverso.
Si consiglia vivamente di appendere il filtro video <tt class="option">harddup</tt>
alla fine della catena dei filtri, per evitare questo tipo di problema.
</p><p>
Senza <tt class="option">harddup</tt>, se <span class="application">MEncoder</span> vuole
duplicare un fotogramma, chiede al muxer di mettere un segno sul contenitore
affinché l'ultimo fotogramma venga mostrato di nuovo per mantenere la
sincronia, senza scriverne effettivamente alcuno.
Con <tt class="option">harddup</tt>, <span class="application">MEncoder</span> farà
semplicemente passare di nuovo l'ultimo fotogramma nella catena di filtri.
Questo significa che il codificatore riceve <span class="emphasis"><em>esattamente</em></span> lo
stesso fotogramma due volte, e lo comprime.
Ciò genera un file leggermente più grosso, ma non causerà problemi
effettuando il demux o il remux in altri formati contenitore.
</p><p>
Potresti non avere altra scelta che usare <tt class="option">harddup</tt> con formati
contenitore che non siano così legati a <span class="application">MEncoder</span>
come quelli gestiti attraverso
<code class="systemitem">libavformat</code>, e che possano non gestire
la duplicazione fotogrammi a livello contenitore.
</p></div><div class="sect3" title="10.1.12.2. Limitazioni del contenitore AVI"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-dvd-mpeg4-muxing-avi-limitations"></a>10.1.12.2. Limitazioni del contenitore AVI</h4></div></div></div><p>
Anche se AVI è il formato contenitore più ampiamente gestito dopo MPEG-1, ha
anche molti gravi inconvenienti.
Forse il più ovvio è lo spreco di banda.
Per ogni blocco del file AVI, 24 byte sono sprecati per intestazione e indice.
Questo porta a poco più di 5 MB per ora, o 1-2.5% di dimensione supplementare
per un film da 700 MB. Potrebbe non sembrare poi così  tanto, ma potrebbe far
la differenza tra poter utilizzare 700 oppure 714 kbit/sec per il video, e ogni
bit è importante per la qualità.
</p><p>
Oltre a questa grave inefficenza, AVI ha anche le grandi limitazioni che
seguono:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
  Può essere immagazzinato solo contenuto a fps costanti. Questo è decisamente
  limitante se il materiale di origine che vuoi codificare è contenuto misto,
  per esempio un misto di video NTSC e film.
  Ci sono invero alcuni trucchi che possono essere usati per salvare negli AVI
  contenuto a frequenza di fotogrammi mista, ma aumentano il (già immenso)
  spreco di banda di cinque volte o giù di lì e quindi non sono pratici.
</p></li><li class="listitem"><p>
  L'audio nei file AVI deve essere a bitrate costante (CBR) o a dimensione di
  fotogramma fissa (per es. tutti i fotogrammi decodificano lo stesso numero di
  campioni).
  Sfortunatamente, il codec più efficente, Vorbis, non ha alcuna delle suddette
  caratteristiche.
  Se decidi di salvare il tuo film in AVI, dovrai perciò usare un codec meno
  efficente, come MP3 o AC-3.
</p></li></ol></div><p>
Detto tutto ciò, <span class="application">MEncoder</span> non gestisce attualmente
la codifica in uscita a fps variabile o la codifica in Vorbis.
Quindi non noterai le limitazioni su citate se
<span class="application">MEncoder</span> è l'unico strumento che userai per produrre
le tue codifiche.
Tuttavia è possibile usare <span class="application">MEncoder</span> solo per la
codifica del video, e poi utilizzare strumenti di terze parti per codificare
l'audio e farne il mux in un altro formato contenitore.
</p></div><div class="sect3" title="10.1.12.3. Mux nel contenitore Matroska"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-dvd-mpeg4-muxing-matroska"></a>10.1.12.3. Mux nel contenitore Matroska</h4></div></div></div><p>
Matroska è un formato contenitore libero, a standard aperti, che punta ad
offrire molte caratteristiche avanzate, che contenitori più vecchi come AVI non
sono in grado di manipolare.
Per esempio Matroska supporta contenuto audio a bitrate variabile (VBR),
frequenza fotogrammi variabile (VFR), capitoli, file allegati, codice di
gestione errori (EDC) e Codec A/V moderni come "Advanced Audio Coding" (AAC),
"Vorbis" or "MPEG-4 AVC" (H.264), comparato al nulla gestito da AVI.
</p><p>
Gli strumenti necessari per creare file Matroska sono chiamati nel loro insieme
<span class="application">mkvtoolnix</span> e sono disponibili per la maggior parte
delle piattaforme Unix, così  come per <span class="application">Windows</span>.
Dato che Matroska è uno standard aperto, potresti trovare altri strumenti che
ti tornino più utili, ma dato che mkvtoolnix è il più diffuso, ed è
supportato dal team stesso di Matroska, illustreremo il suo solo utilizzo.
</p><p>
Probabilmente il modo più semplice di avvicinarsi a Matroska è utilizzare
<span class="application">MMG</span>, il frontend grafico fornito con
<span class="application">mkvtoolnix</span>, e seguire la <a class="ulink" href="http://www.bunkus.org/videotools/mkvtoolnix/doc/mkvmerge-gui.html" target="_top">guida della GUI di mkvmerge (mmg)</a>.
</p><p>
Puoi anche fare il mux dei file audio e video usando la riga comando:
</p><pre class="screen">
mkvmerge -o <em class="replaceable"><code>destinazione.mkv</code></em> <em class="replaceable"><code>video_sorgente.avi</code></em> <em class="replaceable"><code>audio_sorgente1.mp3</code></em> <em class="replaceable"><code>audio_sorgente2.ac3</code></em>
</pre><p>
Questo unirà il file video <em class="replaceable"><code>video_sorgente.avi</code></em> e i
due file audio <em class="replaceable"><code>audio_sorgente1.mp3</code></em> e
<em class="replaceable"><code>audio_sorgente2.ac3</code></em> nel file Matroska
<em class="replaceable"><code>destinazione.mkv</code></em>.
Matroska, come detto precedentemente, è in grado di far molto più di questo,
come tracce audio multiple (inclusa una fine sincronia audio/video), capitoli,
sottotitoli, salti, etc...
Fai per favore riferimento alla documentazione di queste applicazioni per
maggiori delucidazioni.
</p></div></div></div><div class="sect1" title="10.2. Come trattare telecine e interlacciamento nei DVD NTSC"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-telecine"></a>10.2. Come trattare telecine e interlacciamento nei DVD NTSC</h2></div></div></div><div class="sect2" title="10.2.1. Introduzione"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-telecine-intro"></a>10.2.1. Introduzione</h3></div></div></div><p title="Cos'è telecine?"><b>Cos'è telecine? </b>
Se non comprendi molto quello che è scritto in questo documento, leggi la
<a class="ulink" href="http://en.wikipedia.org/wiki/Telecine" target="_top">definizione di telecine su Wikipedia</a>
(<a class="ulink" href="http://en.wikipedia.org/wiki/Telecine" target="_top">pagina inglese</a>).
E' una descrizione comprensibile e ragionevolmente completa di cosa si indichi
con telecine.
</p><p title="Una nota riguardo i numeri."><b>Una nota riguardo i numeri. </b>
Molti documenti, inclusa la guida su indicata, fanno riferimento al valore dei
campi per secondo del video NTSC come 59.94 e i valori corrispondenti di
fotogrammi al secondo come 29.97 (con telecine e interlacciamento) e 23.976
(per il progressivo). Per semplicità alcune documentazioni arrotondano tali
cifre a 60, 30 e 24.
</p><p>
Strettamente parlando, tutti questi numeri sono approssimati. Il video NTSC in
bianco e nero era esattamente 60 campi al secondo, ma successivamente venne
scelto 60000/1001 per incastrare i dati del colore e rimanere compatibili con
le televisioni bianco e nero contemporanee. Anche il video NTSC digitale (come
quello sui DVD) è a 60000/1001 campi al secondo. Da ciò discende che il video
interlacciato e telecine è 30000/1001 fotogrammi al secondo; il video
progressivo è 24000/1001 fotogrammi al secondo.
</p><p>
Precedenti versioni della documentazioni di <span class="application">MEncoder</span>
a molti post archiviati della mailig list fanno riferimento a 59.94, 29.97 e
23.976.
Tutta la documentazioni di <span class="application">MEncoder</span> è stata
aggiornata per usare i valori in frazione, e anche tu dovresti usare questi.
</p><p>
<tt class="option">-ofps 23.976</tt> è sbagliato.
<tt class="option">-ofps 24000/1001</tt> dovrebbe invece essere usato.
</p><p title="Come viene usato telecine."><b>Come viene usato telecine. </b>
Tutto il video pensato per essere riprodotto su televisione NTSC deve essere a
60000/1001 campi al secondo. I film per la TV e gli spettacoli sono spesso
registrati direttamente a 60000/1001 campi al secondo, ma la stragrande
maggioranzna dei film per cinema è filmata a 24 o 24000/1001 fotogrammi al
secondo. Quando i film da cinema vengono masterizzati su DVD, il video viene
quindi convertito per la televisione usando un processo chiamato telecine
(o telecinema).
</p><p>
Su un DVD il video non è praticamente mai memorizzato con 60000/1001 campi al
secondo. Per un video che originariamente era 60000/1001, ogni coppia di campi
viene combinata in un fotogramma, risultando in 30000/1001 fotogrammi al
secondo. I lettori DVD hardware leggono quindi un parametro codificato nel
flusso video pe rdeterminare se le linee pari o quelle dispari debbano formare
il primo campo.
</p><p>
Solitamente il contenuto a 24000/1001 fotogrammi per secondi resta così com'è
quando viene codificato per un DVD, e il lettore DVD deve eseguire il telecine
al momento. Alcune volte invece, il video subisce il telecine
<span class="emphasis"><em>prima</em></span> di essere scritto su DVD; anche se in origine era a
24000/1001 fotogrammi al secondi, diventa 60000/1001 campi al secondo. Quando
viene memorizzato su DVD, le coppie di campi vengono assemblate per formare
30000/1001 fotogrammi al secondo.
</p><p>
Guardando i singoli fotogrammi generati da video a 60000/1001 campi al secondo,
che sia telecine o no, l'interlacciamento è chiaramente visibile ovunque vi sia
del movimento, dato che un campo (diciamo le linee pari) rappresenta un istante
nel tempo 1/(60000/1001) secondi dopo l'altro. Riprodurre video interlacciato
su un computer risulta brutto sia perché il monitor ha una risoluzione maggiore
sia perché il video viene mostrato un fotogramma dopo l'altro invece che un
campo dopo l'altro.
</p><div class="itemizedlist" title="Note:"><p class="title"><b>Note:</b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Questa sezione si applica solo ai DVD NTSC, e non a quelli PAL.
</p></li><li class="listitem"><p>
  Le righe di esempio per <span class="application">MEncoder</span> proposte nella
  documentazione <span class="bold"><strong>non</strong></span> sono pensate per un
  utilizzo reale. Sono solo quelle minimali richieste per codificare la
  relativa categoria di video. Come fare buoni rip di DVD o configurare bene
  <code class="systemitem">libavcodec</code> per la massima qualità
  non è lo scopo di questa documentazione.
</p></li><li class="listitem"><p>
  Ci sono alcune note a piè di pagina specifiche di questa guida, così
  indicate:
  <a class="link" href="#menc-feat-telecine-footnotes" title="10.2.4. Note a pie' pagina">[1]</a>
</p></li></ul></div></div><div class="sect2" title="10.2.2. Come scoprire il tipo di video che possiedi"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-telecine-ident"></a>10.2.2. Come scoprire il tipo di video che possiedi</h3></div></div></div><div class="sect3" title="10.2.2.1. Progressivo"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-progressive"></a>10.2.2.1. Progressivo</h4></div></div></div><p>
Il video progressivo è stato originariamente filmato a 24000/1001 fps, e
memorizzato sul DVD senza modifica alcuna.
</p><p>
Quando riproduci un DVD progressivo con <span class="application">MPlayer</span>,
<span class="application">MPlayer</span> emette la riga seguente appena il video
inizia la riproduzione:
</p><pre class="screen">
demux_mpg: 24000/1001 fps progressive NTSC content detected, switching framerate.
</pre><p>
Da qui in poi, demux_mpg non dovrebbe mai comunicare di aver trovato
"30000/1001 fps NTSC content" (contenuto NTSC a 30000/1001 fps).
</p><p>
Quando guardi video progressivo, non dovresti mai vedere alcuna interlacciatura.
Fai tuttavia attenzione, poiché alcune volte c'è una piccola parte in telecine
infilata dove non te la aspetteresti. Ho trovato alcuni DVD di spettacoli
televisivi che hanno un secondo di telecine ad ogni cambio di scena, o anche in
momenti casuali. Una volta ho guardato un DVD che aveva una prima parte
progressiva e la seconda in telecine. Se vuoi esserne
<span class="emphasis"><em>davvero</em></span> certo, devi controllare tutto il video:
</p><pre class="screen">mplayer dvd://1 -nosound -vo null -benchmark</pre><p>
Using <tt class="option">-benchmark</tt> makes
L'utilizzo di <tt class="option">-benchmark</tt> fa sì che
<span class="application">MPlayer</span> riproduca il filmato il più velocemente
possibile; tuttavia, in dipendenza dal tuo hardware, può metterci un po'.
Ogni volta che demux_mpg segnala un cambio nella frequenza fotogrammi
(framerate), la linea immediatamente sopra ti dirà il tempo ove è cambiata.
</p><p>
Alcune volte il video progressivo sui DVD viene indicato come "soft-telecine"
perché è fatto in modo che il lettore DVD esegua il telecine.
</p></div><div class="sect3" title="10.2.2.2. Telecine"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-telecined"></a>10.2.2.2. Telecine</h4></div></div></div><p>
Il video in telecine è stato filmato in origine a 24000/1001, ma ha subito il
telecine <span class="emphasis"><em>prima</em></span> di essere scritto sul DVD.
</p><p>
Quando <span class="application">MPlayer</span> riproduce video in telecine non
segnala (mai) alcun cambio di framerate.
</p><p>
Guardado un video in telecine, noterai artefatti che sembrano "lampeggiare":
appaiono e scompaiono ripetutamente.
Puoi notarlo meglio facendo quello che segue
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><pre class="screen">mplayer dvd://1</pre></li><li class="listitem"><p>
  Ricerca una parte con movimento.
</p></li><li class="listitem"><p>
  Usa il tasto <span class="keycap"><b>.</b></span> per avanzare di un fotogramma per volta.
</p></li><li class="listitem"><p>
  Guarda il pattern dei fotogrammi che paiono interlacciati e di quelli
  progressivi. Se il pattern che vedi è PPPII,PPPII,PPPII,... allora il video
  è in telecine. Se vedi qualche altro pattern, allora il video può aver
  subito il telecine attraverso qualche metodo strano;
  <span class="application">MEncoder</span> può effettuare la conversione senza
  perdita da telecine non standard a progressivo. Se non vedi alcun pattern,
  allora molto probabilmente è interlacciato.
</p></li></ol></div><p>
</p><p>
Alcune volte il video in telecine sui DVD viene indicato come "hard-telecine".
Dato che l'hard-telecine è già a 60000/1001 campi al secondi, il lettore DVD
riproduce il video senza elaborazione alcuna.
</p><p>
Un altro modo per scoprire se la tua sorgente è in telecine o no è riprodurla
con le opzioni <tt class="option">-vf pullup</tt> e <tt class="option">-v</tt> da riga
comando per vedere come <tt class="option">pullup</tt> relaziona i fotogrammi.
Se la sorgente è in telecine, dovresti vedere sulla console un pattern 3:2 con
<code class="systemitem">0+.1.+2</code> e <code class="systemitem">0++1</code> che si
alternano.
Questa tecnica ha il vantaggio di evitare di guardare la sorgente per doverla
identificare, il che può tornare utile se vuoi automatizzare la procedura di
codifica ovvero se vuoi eseguire tale procedura in remoto su una connessione
lenta.
</p></div><div class="sect3" title="10.2.2.3. Interlacciato"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-interlaced"></a>10.2.2.3. Interlacciato</h4></div></div></div><p>
Il video interlacciato è stato filmato in origine a 60000/1001 campi al
secondo ed è memorizzato sul DVD a 30000/1001 fotogrammi al secondo. L'effetto
di interlacciatura (spesso chimato "combing") è un risultato di coppie di
campi che vengono combinate in fotogrammi. Ogni campo è spostato di
1/(60000/1001) secondi e quando vengono mostrati contemporaneamente la
differenza si nota.
</p><p>
Come per il video in telecine, <span class="application">MPlayer</span> non dovrebbe
mai segnalare alcun cambio di framerete, riproducendo contenuto interlacciato.
</p><p>
Quando guardi attentamente un video interlacciato avanzando fotogramma per
fotogramma col tasto <span class="keycap"><b>.</b></span>, noterai che ogni singolo fotogramma è
interlacciato.
</p></div><div class="sect3" title="10.2.2.4. Progressivo e telecine mescolati"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-mixedpt"></a>10.2.2.4. Progressivo e telecine mescolati</h4></div></div></div><p>
Tutto il contenuto di un video "progressivo e telecine mescolati" è stato
in origine filmato a 24000/1001 fotogrammi al secondo, ma alcune parti alla
fine hanno subito il telecine.
</p><p>
Quando <span class="application">MPlayer</span> riproduce questa tipologia di video
salta (spesso ripetutamente) avanti e indietro tra "30000/1001 fps NTSC" e
"24000/1001 fps progressive NTSC". Controlla le ultime righe dell'emissione di
<span class="application">MPlayer</span> per vedere questi messaggi.
</p><p>
Dovresti controllare le sezioni "30000/1001 fps NTSC" per assicurarti che siano
davvero in telecine e non solamente interlacciate.
</p></div><div class="sect3" title="10.2.2.5. Progressivo e interlacciato mescolati"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-mixedpi"></a>10.2.2.5. Progressivo e interlacciato mescolati</h4></div></div></div><p>
Nei contenuti con video "progressivo e interlacciato mescolati", il video
progressivo e interlacciato sono mescolati tra loro.
</p><p>
Questa categoria è decisamente simile a "progressivo e telecine mescolati",
fino a quando non controlli le parti a 30000/1001 fps e scopri che non hanno
il pattern del telecine.
</p></div></div><div class="sect2" title="10.2.3. Come codificare ciascuna categoria"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-telecine-encode"></a>10.2.3. Come codificare ciascuna categoria</h3></div></div></div><p>
Come menzionato all'inizio, le linee di esempio qui sotto per
<span class="application">MEncoder</span> <span class="bold"><strong>non</strong></span> sono
pensate per essere usate davvero; dimostrano solamente i parametri minimi per
codificare correttamente ciascuna categoria.
</p><div class="sect3" title="10.2.3.1. Progressivo"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-progressive"></a>10.2.3.1. Progressivo</h4></div></div></div><p>
Il video progressivo non richiede particolari filtri per la codifica. L'unico
parametrioche devi assicurarti di usare è <tt class="option">-ofps 24000/1001</tt>.
Se non lo usi, <span class="application">MEncoder</span> cercherà di codificare a
30000/1001 fps e duplicherà i fotogrammi.
</p><p>
</p><pre class="screen">mencoder dvd://1 -oac copy -ovc lavc -ofps 24000/1001</pre><p>
</p><p>
Spesso e volentieri capita che un video che sembra progressivo contenga anche
alcune brevi parti di telecine mescolate. A meno che tu non sia sicuro,
conviene trattare il video come
<a class="link" href="#menc-feat-telecine-encode-mixedpt" title="10.2.3.4. Progressivo e telecine mescolati">progressivo e telecine mescolati</a>.
Il calo di prestazioni è piccolo
<a class="link" href="#menc-feat-telecine-footnotes" title="10.2.4. Note a pie' pagina">[3]</a>.
</p></div><div class="sect3" title="10.2.3.2. Telecine"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-telecined"></a>10.2.3.2. Telecine</h4></div></div></div><p>
Il telecine può essere invertito per ricavare il contenuto originario a
24000/1001 usando un processo conosciuto come telecine-inverso.
<span class="application">MPlayer</span> include vari filtri per ottenere ciò;
il filtro migliore, <tt class="option">pullup</tt>, è descritto nella sezione
<a class="link" href="#menc-feat-telecine-encode-mixedpt" title="10.2.3.4. Progressivo e telecine mescolati">progressivo e telecine
mescolati</a>.
</p></div><div class="sect3" title="10.2.3.3. Interlacciato"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-interlaced"></a>10.2.3.3. Interlacciato</h4></div></div></div><p>
Nella maggior parte dei casi reali non è possibile ricavare un video
progressivo completo da contenuto interlacciato. L'unico modo di farlo senza
perdere metà della risoluzione verticale è raddoppiare il framerate e provare
ad "indovinare" quello che forma le linee corrispondenti per ogni campo
(questo ha delle controindicazioni - vedi il metodo 3).
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
  Codifica il video in forma interlacciata. Normalmente l'interlacciatura fa a
  pugni con l'abilità del codificatore di comprimere bene, ma
  <code class="systemitem">libavcodec</code> ha due parametri
  appositamente per gestire un pochino meglio il video interlacciato:
  <tt class="option">ildct</tt> e <tt class="option">ilme</tt>. Inoltre viene caldamente
  consigliato l'utilizzo di <tt class="option">mbd=2</tt>
  <a class="link" href="#menc-feat-telecine-footnotes" title="10.2.4. Note a pie' pagina">[2] </a> poiché
  codificherà i macroblocchi come non interlacciati in posti dove non c'è
  movimento. Nota che <tt class="option">-ofps</tt> qui NON serve.
  </p><pre class="screen">mencoder dvd://1 -oac copy -ovc lavc -lavcopts ildct:ilme:mbd=2</pre><p>
</p></li><li class="listitem"><p>
  Usa un filtro di de-interlacciatura prima della codifica. Ci sono vari filtri
  disponibili tra cui scegliere, ognuno dei quali con i suoi pro e i suoi
  contro. Controlla <tt class="option">mplayer -pphelp</tt> e
  <tt class="option">mplayer -vf help</tt> per vedere cosa c'è disponibile
  (fa in grep per "deint"), leggi il <a class="ulink" href="http://guru.multimedia.cx/deinterlacing-filters/" target="_top">confronto tra filtri di deinterlacciatura
  (Deinterlacing filters comparison)</a> di Michael Niedermayer, e cerca
  nelle <a class="ulink" href="http://www.mplayerhq.hu/design7/mailing_lists.html" target="_top">
  mailing list di MPlayer</a> per trovare discussioni riguardanti i vari
  filtri.
  Di nuovo il framerate non cambia, indi niente <tt class="option">-ofps</tt>.
  Inoltre, la deinterlacciatura dovrebbe essere eseguita dopo il ritaglio
  <a class="link" href="#menc-feat-telecine-footnotes" title="10.2.4. Note a pie' pagina">[1]</a> e prima del
  ridimensionamento.
  </p><pre class="screen">mencoder dvd://1 -oac copy -vf yadif -ovc lavc</pre><p>
</p></li><li class="listitem"><p>
  Sfortunatamente, quest'opzione non funziona bene con
  <span class="application">MEncoder</span>; dovrebbe funzionar bene con
  <span class="application">MEncoder G2</span>, ma ancora non esiste. Puoi subire
  dei crash. Tuttavia l'obiettivo di <tt class="option">-vf tfields</tt> è di
  generare un fotogramma completo da ogni campo, portando il framerate a
  60000/1001. Il vantaggio di questo approccio è che non viene mai perso alcun
  dato; d'altro canto, dato che ogni fotogramma deriva da un solo campo, le
  righe mancanti devono essere interpolate in qualche modo. Non ci sono metodi
  veramente validi per ricreare i dati mancanti, quindi il risultato apparirà
  molto simile a quando vengono usati dei filtri di deinterlacciatura.
  La generazione delle righe che mancano è foriera di altri problemi,
  solamente per il fatto che i dati sono raddoppiati. Conseguentemente per
  mantenere la qualità si rendono necessari bitrate più elevati e viene usata
  una maggior potenza di CPU sia per la codifica che la decodifica.
  tfields ha varie opzioni su come generare le righe mancanti di ogni
  fotogramma. Se usi questo metodo, fai riferimento al manuale, e scegli
  l'opzione che può andar meglio per il tuo materiale sorgente. Fai attenzione
  che usando <tt class="option">tfields</tt> <span class="bold"><strong>devi</strong></span>
  specificare sia <tt class="option">-fps</tt> che <tt class="option">-ofps</tt> pari al
  doppio della sorgente originaria.
  </p><pre class="screen">
mencoder dvd://1 -oac copy -vf tfields=2 -ovc lavc \
    -fps 60000/1001 -ofps 60000/1001</pre><p>
</p></li><li class="listitem"><p>
  Se conti di ridurre drasticamente le dimensioni puoi estrarre e decodificare
  sono uno dei due campi. Perderai di sicuro metà della risoluzione verticale,
  ma se pensi di ridurla almeno a 1/2 dell'originale, la perdità non sarà poi
  molta. Il risultato sarà un file progressivo a 30000/1001 fotogrammi per
  secondo. La procedura è utilizzare <tt class="option">-vf field</tt>, poi crop
  <a class="link" href="#menc-feat-telecine-footnotes" title="10.2.4. Note a pie' pagina">[1]</a> e scale in modo
  corretto. Ricorda che dovrai correggere scale per compensare la risoluzione
  verticale dimezzata.
  </p><pre class="screen">mencoder dvd://1 -oac copy -vf field=0 -ovc lavc</pre><p>
</p></li></ol></div></div><div class="sect3" title="10.2.3.4. Progressivo e telecine mescolati"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-mixedpt"></a>10.2.3.4. Progressivo e telecine mescolati</h4></div></div></div><p>
Per poter portare un video progressivo e telecine mescolati in un video
completamente progressivo, le parti in telecine devono essere passate in
telecine inverso. Ci son tre modi per ottenere ciò, e sono descritti qui sotto.
Nota che dovresti <span class="bold"><strong>sempre</strong></span> effettuare il
telecine inverso prima di ogni ridimensionamento; a meno che tu non sappia
davvero cosa tu stia facendo, applica il telecine inverso anche prima del ritaglio (crop)
<a class="link" href="#menc-feat-telecine-footnotes" title="10.2.4. Note a pie' pagina">[1]</a>.
In questo caso serve <tt class="option">-ofps 24000/1001</tt> perché il video in
uscita sarà a 24000/1001 fotogrammi al secondo.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <tt class="option">-vf pullup</tt> è studiata per togliere il telecine da materiale
  in telecine lasciando stare le parti in progressivo. Per poter funzionare
  correttamente, <tt class="option">pullup</tt> <span class="bold"><strong>deve</strong></span>
  essere seguita dal filtro <tt class="option">softskip</tt> altrimenti
  <span class="application">MEncoder</span> andrà in crash.
  <tt class="option">pullup</tt> è tuttavia il modo migliore e più preciso disponibile
  per codificare sia telecine che "progressivo e telecine mescolati".
  </p><pre class="screen">
mencoder dvd://1 -oac copy -vf pullup,softskip
    -ovc lavc -ofps 24000/1001</pre><p>
</p></li><li class="listitem"><p>
  Un metodo più vecchio, invece di togliere il telecine dove c'è, è portare
  in telecine le parti che non lo sono e dopo invertire il telecine su tutto il
  video. Sembra incasinato? softpulldown è un filtro che prende tutto il video
  e lo porta in telecine. Se facciamo seguire a softpulldown
  <tt class="option">detc</tt> oppure <tt class="option">ivtc</tt>, il risultato finale sarà
  completamente progressivo. Serve <tt class="option">-ofps 24000/1001</tt>.
  </p><pre class="screen">
mencoder dvd://1 -oac copy -vf softpulldown,ivtc=1 -ovc lavc -ofps 24000/1001
  </pre><p>
</p></li><li class="listitem"><p>
  Non ho usato <tt class="option">-vf filmdint</tt>, ma questa è l'opinione che ne ha
  D Richard Felker III:

  </p><div class="blockquote"><blockquote class="blockquote"><p>E' OK, ma IMO cerca troppo spesso di deinterlacciare
    piuttosto che invertire il telecine (come molti lettori DVD da tavolo &amp;
    televisioni progressive), il che porta orrendi sfarfallii e altri
    artefatti. Se vuoi utilizzarlo devi perlomeno spendere un po' di tempo ad
    impostare le opzioni e controllare i risultati prima di esser certo che non
    faccia danni.
  </p></blockquote></div><p>
</p></li></ul></div></div><div class="sect3" title="10.2.3.5. Progressivo e interlacciato mescolati"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-mixedpi"></a>10.2.3.5. Progressivo e interlacciato mescolati</h4></div></div></div><p>
Ci sono due opzioni per gestire questa categoria, ognuna delle quali è un
compromesso. Dovresti decidere basandoti sulla lunghezza/durata di uno dei due
tipi.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Trattarlo come progressivo. Le parti interlacciate sembreranno interlacciate,
  e alcuni dei campi interlacciati dovranno essere scartati, apportando un
  pelino di saltellamenti impari. Se vuoi puoi utilizzare un filtro di
  postelaborazione, ma potrebbe leggermente inficiare le parti progressive.
  </p><p>
  Questa opzione non sarebbe decisamente da usare se casomai ti interessi
  riprodurre il video su un dispositivo interlacciato (con una sche da TV, per
  esempio). Se hai fotogrammi interlacciati in un video a 24000/1001 fotogrammi
  al secondo, verranno messi in telecine con i fotogrammi progressivi.
  Metà dei "fotogrammi" interlacciati saranno mostrati per la durata di tre
  campi (3/(60000/1001) secondi), risultando in un effetto alla "salto indietro
  nel tempo" che è bruttino. Se solo provi a far in questo modo,
  <span class="bold"><strong>devi</strong></span> usare in filtro di deinterlacciamento
  come <tt class="option">lb</tt> o <tt class="option">l5</tt>.
  </p><p>
  Può anche essere una brutta idea per un display progressivo. Scarterà coppie
  di campi interlacciati consecutivi, dando una discontinuità che si vede
  maggiormente con il secondo metodo, che mostra per due volte alcuni
  fotogrammi progressivi. Il video interlacciato a 30000/1001 fotogrammi per
  secondo è di suo un pochino zoppo dato che sarebbe da mostrare a 60000/1001
  campi al secondo, quindi i fotogrammi duplicati non si notano così tanto.
  </p><p>
  In ogni modo è meglio tenere in considerazione il tuo contenuto e come
  intendi riprodurlo. Se il tuo video è al 90% progressivo e non pensi di
  riprodurlo mai su una TV, dovresti propendere per l'approccio progressivo.
  Se è progressivo solo per metà, probabilmente ti converrà codificarlo come
  se fosse interlacciato.
  </p></li><li class="listitem"><p>
  Trattarlo come interlacciato. Alcuni fotogrammi delle parti progressive
  verranno duplicati, portando saltelli impari. Ancora, i filtri di
  deinterlacciamento potrebbero inficiare le parti progressive.
</p></li></ul></div></div></div><div class="sect2" title="10.2.4. Note a pie' pagina"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-telecine-footnotes"></a>10.2.4. Note a pie' pagina</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p title="Riguardo il taglio (crop):"><b>Riguardo il taglio (crop): </b>
  I dati video sui DVD sono memorizzati in un formato conosciuto come YUV 4:2:0.
  In un video YUV, la luminosità ("luma") e il colore ("chroma") vengono
  salvati separatamente. Dato che l'occhio umano è in qualche modo meno
  sensibile al colore che alla luminosità, in un'immagine YUV 4:2:0 c'è solo
  un pixel chroma ogni quattro pixel luma. In un'immagine progressiva, ogni
  quadrato di quattro pixel luma (due per lato) ha in comune un pixel chroma.
  Devi prima ridimensionare lo YUV 4:2:0 progressivo a una risoluzione pari, e
  anche utilizzare lo scostamento. Per esempio,
  <tt class="option">crop=716:380:2:26</tt> è OK ma
  <tt class="option">crop=716:380:3:26 </tt> non lo è.
  </p><p>
  Quando gestisci YUV 4:2:0 interlacciato, la situazione è un pelo più
  complessa. Invece di avere quattro pixel luma nel
  <span class="emphasis"><em>fotogramma</em></span> che condividono un pixel chroma, quattro
  pixel in ogni <span class="emphasis"><em>campo</em></span> condividono un pixel chroma.
  Quando i campi vengono interlacciati per formare un fotogramma, ogni
  "scanline" è alta un pixel. Ora, invece di avere tutti i quattro pixel luma
  in un quadrato, ci sono due pixel affiancati, e gli altri due pixel sono
  affiancati due scanline più sotto. I due pixel luma nella scanline di mezzo
  sono di un altro campo, e quindi condividono un pixel chroma differente con
  due pixel due scanline dopo. Tutta questa confusione rende necessario avere
  dimensione verticale pari e lo scostamento deve essere un multiplo di quattro.
  La dimensione orizzontale può rimanere dispari.
  </p><p>
  Per video in telecine, si consiglia di effettuare il taglio dopo l'inversione
  del telecine. Una volta che il video è progressivo ti serve solo tagliare di
  numeri dispari. Se davvero vuoi ottenere il piccolo aumento di velocità che
  puoi avere tagliando prima, devi prima tagliare in verticale di multipli di
  quattro, altrimenti il filtro di telecine inverso non riceverà dati corretti.
  </p><p>
  Per video interlacciato (non in telecine), devi sempre tagliare
  verticalmente di multipli di quattro a meno che tu non stia usando
  <tt class="option">-vf field</tt> prima del taglio.
  </p></li><li class="listitem"><p title="About encoding parameters and quality:"><b>About encoding parameters and quality: </b>
  Just because I recommend <tt class="option">mbd=2</tt> here does not mean it
  should not be used elsewhere. Along with <tt class="option">trell</tt>,
  <tt class="option">mbd=2</tt> is one of the two
   <code class="systemitem">libavcodec</code> options that
  increases quality the most, and you should always use at least those
  two unless the drop in encoding speed is prohibitive (e.g. realtime
  encoding). There are many other options to
  <code class="systemitem">libavcodec</code> that increase
  encoding quality (and decrease encoding speed) but that is beyond
  the scope of this document.
  </p></li><li class="listitem"><p title="About the performance of pullup:"><b>About the performance of pullup: </b>
  It is safe to use <tt class="option">pullup</tt> (along with <tt class="option">softskip
  </tt>) on progressive video, and is usually a good idea unless
  the source has been definitively verified to be entirely progressive.
  The performace loss is small for most cases. On a bare-minimum encode,
  <tt class="option">pullup</tt> causes <span class="application">MEncoder</span> to
  be 50% slower. Adding sound processing and advanced <tt class="option">lavcopts
  </tt> overshadows that difference, bringing the performance
  decrease of using <tt class="option">pullup</tt> down to 2%.
  </p></li></ol></div></div></div><div class="sect1" title="10.3. Encoding with the libavcodec codec family"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-enc-libavcodec"></a>10.3. Encoding with the <code class="systemitem">libavcodec</code>
  codec family</h2></div></div></div><p>
<code class="systemitem">libavcodec</code>
provides simple encoding to a lot of interesting video and audio formats.
You can encode to the following codecs (more or less up to date):
</p><div class="sect2" title="10.3.1. libavcodec's video codecs"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-enc-libavcodec-video-codecs"></a>10.3.1. <code class="systemitem">libavcodec</code>'s
  video codecs</h3></div></div></div><p>
</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Video codec name</th><th>Description</th></tr></thead><tbody><tr><td>mjpeg</td><td>Motion JPEG</td></tr><tr><td>ljpeg</td><td>lossless JPEG</td></tr><tr><td>jpegls</td><td>JPEG LS</td></tr><tr><td>targa</td><td>Targa image</td></tr><tr><td>gif</td><td>GIF image</td></tr><tr><td>bmp</td><td>BMP image</td></tr><tr><td>png</td><td>PNG image</td></tr><tr><td>h261</td><td>H.261</td></tr><tr><td>h263</td><td>H.263 </td></tr><tr><td>h263p</td><td>H.263+</td></tr><tr><td>mpeg4</td><td>ISO standard MPEG-4 (DivX, Xvid compatible)</td></tr><tr><td>msmpeg4</td><td>pre-standard MPEG-4 variant by MS, v3 (AKA DivX3)</td></tr><tr><td>msmpeg4v2</td><td>pre-standard MPEG-4 by MS, v2 (used in old ASF files)</td></tr><tr><td>wmv1</td><td>Windows Media Video, version 1 (AKA WMV7)</td></tr><tr><td>wmv2</td><td>Windows Media Video, version 2 (AKA WMV8)</td></tr><tr><td>rv10</td><td>RealVideo 1.0</td></tr><tr><td>rv20</td><td>RealVideo 2.0</td></tr><tr><td>mpeg1video</td><td>MPEG-1 video</td></tr><tr><td>mpeg2video</td><td>MPEG-2 video</td></tr><tr><td>huffyuv</td><td>lossless compression</td></tr><tr><td>ffvhuff</td><td>FFmpeg modified huffyuv lossless</td></tr><tr><td>asv1</td><td>ASUS Video v1</td></tr><tr><td>asv2</td><td>ASUS Video v2</td></tr><tr><td>ffv1</td><td>FFmpeg's lossless video codec</td></tr><tr><td>svq1</td><td>Sorenson video 1</td></tr><tr><td>flv</td><td>Sorenson H.263 used in Flash Video</td></tr><tr><td>flashsv</td><td>Flash Screen Video</td></tr><tr><td>dvvideo</td><td>Sony Digital Video</td></tr><tr><td>snow</td><td>FFmpeg's experimental wavelet-based codec</td></tr><tr><td>zbmv</td><td>Zip Blocks Motion Video</td></tr></tbody></table></div><p>

The first column contains the codec names that should be passed after the
<code class="literal">vcodec</code> config,
like: <tt class="option">-lavcopts vcodec=msmpeg4</tt>
</p><div class="informalexample"><p>
An example with MJPEG compression:
</p><pre class="screen">
mencoder dvd://2 -o <em class="replaceable"><code>title2.avi</code></em> -ovc lavc -lavcopts vcodec=mjpeg -oac copy
</pre><p>
</p></div></div><div class="sect2" title="10.3.2. libavcodec's audio codecs"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-enc-libavcodec-audio-codecs"></a>10.3.2. <code class="systemitem">libavcodec</code>'s
  audio codecs</h3></div></div></div><p>
</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Audio codec name</th><th>Description</th></tr></thead><tbody><tr><td>mp2</td><td>MPEG Layer 2</td></tr><tr><td>ac3</td><td>AC-3, AKA Dolby Digital</td></tr><tr><td>adpcm_ima_wav</td><td>IMA adaptive PCM (4 bits per sample, 4:1 compression)</td></tr><tr><td>sonic</td><td>experimental FFmpeg lossy codec</td></tr><tr><td>sonicls</td><td>experimental FFmpeg lossless codec</td></tr><tr><td>vorbis</td><td>Xiph Ogg Vorbis codec</td></tr><tr><td>wmav1</td><td>Windows Media Audio v1 codec</td></tr><tr><td>wmav2</td><td>Windows Media Audio v2 codec</td></tr></tbody></table></div><p>

The first column contains the codec names that should be passed after the
<code class="literal">acodec</code> option, like: <tt class="option">-lavcopts acodec=ac3</tt>
</p><div class="informalexample"><p>
An example with AC-3 compression:
</p><pre class="screen">
mencoder dvd://2 -o <em class="replaceable"><code>title2.avi</code></em> -oac lavc -lavcopts acodec=ac3 -ovc copy
</pre><p>
</p></div><p>
Contrary to <code class="systemitem">libavcodec</code>'s video
codecs, its audio codecs do not make a wise usage of the bits they are
given as they lack some minimal psychoacoustic model (if at all)
which most other codec implementations feature.
However, note that all these audio codecs are very fast and work
out-of-the-box everywhere <span class="application">MEncoder</span> has been
compiled with <code class="systemitem">libavcodec</code> (which
is the case most of time), and do not depend on external libraries.
</p></div><div class="sect2" title="10.3.3. Encoding options of libavcodec"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-lavc-encoding-options"></a>10.3.3. Encoding options of libavcodec</h3></div></div></div><p>
Ideally, you would probably want to be able to just tell the encoder to switch
into "high quality" mode and move on.
That would probably be nice, but unfortunately hard to implement as different
encoding options yield different quality results depending on the source
material. That is because compression depends on the visual properties of the
video in question.
For example, anime and live action have very different properties and
thus require different options to obtain optimum encoding.
The good news is that some options should never be left out, like
<tt class="option">mbd=2</tt>, <tt class="option">trell</tt>, and <tt class="option">v4mv</tt>.
See below for a detailed description of common encoding options.
</p><div class="itemizedlist" title="Options to adjust:"><p class="title"><b>Options to adjust:</b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <span class="bold"><strong>vmax_b_frames</strong></span>: 1 or 2 is good, depending on
  the movie.
  Note that if you need to have your encode be decodable by DivX5, you
  need to activate closed GOP support, using
  <code class="systemitem">libavcodec</code>'s <tt class="option">cgop</tt>
  option, but you need to deactivate scene detection, which
  is not a good idea as it will hurt encode efficiency a bit.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>vb_strategy=1</strong></span>: helps in high-motion scenes.
  On some videos, vmax_b_frames may hurt quality, but vmax_b_frames=2 along
  with vb_strategy=1 helps.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>dia</strong></span>: motion search range. Bigger is better
  and slower.
  Negative values are a completely different scale.
  Good values are -1 for a fast encode, or 2-4 for slower.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>predia</strong></span>: motion search pre-pass.
  Not as important as dia. Good values are 1 (default) to 4. Requires preme=2
  to really be useful.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>cmp, subcmp, precmp</strong></span>: Comparison function for
  motion estimation.
  Experiment with values of 0 (default), 2 (hadamard), 3 (dct), and 6 (rate
  distortion).
  0 is fastest, and sufficient for precmp.
  For cmp and subcmp, 2 is good for anime, and 3 is good for live action.
  6 may or may not be slightly better, but is slow.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>last_pred</strong></span>: Number of motion predictors to
  take from the previous frame.
  1-3 or so help at little speed cost.
  Higher values are slow for no extra gain.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>cbp, mv0</strong></span>: Controls the selection of
  macroblocks. Small speed cost for small quality gain.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>qprd</strong></span>: adaptive quantization based on the
  macroblock's complexity.
  May help or hurt depending on the video and other options.
  This can cause artifacts unless you set vqmax to some reasonably small value
  (6 is good, maybe as low as 4); vqmin=1 should also help.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>qns</strong></span>: very slow, especially when combined
  with qprd.
  This option will make the encoder minimize noise due to compression
  artifacts instead of making the encoded video strictly match the source.
  Do not use this unless you have already tweaked everything else as far as it
  will go and the results still are not good enough.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>vqcomp</strong></span>: Tweak ratecontrol.
  What values are good depends on the movie.
  You can safely leave this alone if you want.
  Reducing vqcomp puts more bits on low-complexity scenes, increasing it puts
  them on high-complexity scenes (default: 0.5, range: 0-1. recommended range:
  0.5-0.7).
</p></li><li class="listitem"><p>
  <span class="bold"><strong>vlelim, vcelim</strong></span>: Sets the single coefficient
  elimination threshold for luminance and chroma planes.
  These are encoded separately in all MPEG-like algorithms.
  The idea behind these options is to use some good heuristics to determine
  when the change in a block is less than the threshold you specify, and in
  such a case, to just  encode the block as "no change".
  This saves bits and perhaps speeds up encoding. vlelim=-4 and vcelim=9
  seem to be good for live movies, but seem not to help with anime;
  when encoding animation, you should probably leave them unchanged.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>qpel</strong></span>: Quarter pixel motion estimation.
  MPEG-4 uses half pixel precision for its motion search by default,
  therefore this option comes with an overhead as more information will be
  stored in the encoded file.
  The compression gain/loss depends on the movie, but it is usually not very
  effective on anime.
  qpel always incurs a significant cost in CPU decode time (+25% in
  practice).
</p></li><li class="listitem"><p>
  <span class="bold"><strong>psnr</strong></span>: does not affect the actual encoding,
  but writes a log file giving the type/size/quality of each frame, and
  prints a summary of PSNR (Peak Signal to Noise Ratio) at the end.
</p></li></ul></div><div class="itemizedlist" title="Options not recommended to play with:"><p class="title"><b>Options not recommended to play with:</b></p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <span class="bold"><strong>vme</strong></span>: The default is best.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>lumi_mask, dark_mask</strong></span>: Psychovisual adaptive
  quantization.
  You do not want to play with those options if you care about quality.
  Reasonable values may be effective in your case, but be warned this is very
  subjective.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>scplx_mask</strong></span>: Tries to prevent blocky
  artifacts, but postprocessing is better.
</p></li></ul></div></div><div class="sect2" title="10.3.4. Encoding setting examples"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-mpeg4-lavc-example-settings"></a>10.3.4. Encoding setting examples</h3></div></div></div><p>
The following settings are examples of different encoding
option combinations that affect the speed vs quality tradeoff
at the same target bitrate.
</p><p>
All the encoding settings were tested on a 720x448 @30000/1001 fps
video sample, the target bitrate was 900kbps, and the machine was an
AMD-64 3400+ at 2400 MHz in 64 bits mode.
Each encoding setting features the measured encoding speed (in
frames per second) and the PSNR loss (in dB) compared to the "very
high quality" setting.
Please understand that depending on your source, your machine type
and development advancements, you may get very different results.
</p><p>
</p><div class="informaltable"><table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>Description</th><th>Encoding options</th><th>speed (in fps)</th><th>Relative PSNR loss (in dB)</th></tr></thead><tbody><tr><td>Very high quality</td><td><tt class="option">vcodec=mpeg4:mbd=2:mv0:trell:v4mv:cbp:last_pred=3:predia=2:dia=2:vmax_b_frames=2:vb_strategy=1:precmp=2:cmp=2:subcmp=2:preme=2:qns=2</tt></td><td>6fps</td><td>0dB</td></tr><tr><td>High quality</td><td><tt class="option">vcodec=mpeg4:mbd=2:trell:v4mv:last_pred=2:dia=-1:vmax_b_frames=2:vb_strategy=1:cmp=3:subcmp=3:precmp=0:vqcomp=0.6:turbo</tt></td><td>15fps</td><td>-0.5dB</td></tr><tr><td>Fast</td><td><tt class="option">vcodec=mpeg4:mbd=2:trell:v4mv:turbo</tt></td><td>42fps</td><td>-0.74dB</td></tr><tr><td>Realtime</td><td><tt class="option">vcodec=mpeg4:mbd=2:turbo</tt></td><td>54fps</td><td>-1.21dB</td></tr></tbody></table></div><p>
</p></div><div class="sect2" title="10.3.5. Custom inter/intra matrices"><div class="titlepage"><div><div><h3 class="title"><a name="custommatrices"></a>10.3.5. Custom inter/intra matrices</h3></div></div></div><p>
With this feature of
<code class="systemitem">libavcodec</code>
you are able to set custom inter (I-frames/keyframes) and intra
(P-frames/predicted frames) matrices. It is supported by many of the codecs:
<code class="systemitem">mpeg1video</code> and <code class="systemitem">mpeg2video</code>
are reported as working.
</p><p>
A typical usage of this feature is to set the matrices preferred by the
<a class="ulink" href="http://www.kvcd.net/" target="_top">KVCD</a> specifications.
</p><p>
The <span class="bold"><strong>KVCD "Notch" Quantization Matrix:</strong></span>
</p><p>
Intra:
</p><pre class="screen">
 8  9 12 22 26 27 29 34
 9 10 14 26 27 29 34 37
12 14 18 27 29 34 37 38
22 26 27 31 36 37 38 40
26 27 29 36 39 38 40 48
27 29 34 37 38 40 48 58
29 34 37 38 40 48 58 69
34 37 38 40 48 58 69 79
</pre><p>

Inter:
</p><pre class="screen">
16 18 20 22 24 26 28 30
18 20 22 24 26 28 30 32
20 22 24 26 28 30 32 34
22 24 26 30 32 32 34 36
24 26 28 32 34 34 36 38
26 28 30 32 34 36 38 40
28 30 32 34 36 38 42 42
30 32 34 36 38 40 42 44
</pre><p>
</p><p>
Usage:
</p><pre class="screen">
mencoder <em class="replaceable"><code>input.avi</code></em> -o <em class="replaceable"><code>output.avi</code></em> -oac copy -ovc lavc \
    -lavcopts inter_matrix=...:intra_matrix=...
</pre><p>
</p><p>
</p><pre class="screen">
mencoder <em class="replaceable"><code>input.avi</code></em> -ovc lavc -lavcopts \
vcodec=mpeg2video:intra_matrix=8,9,12,22,26,27,29,34,9,10,14,26,27,29,34,37,\
12,14,18,27,29,34,37,38,22,26,27,31,36,37,38,40,26,27,29,36,39,38,40,48,27,\
29,34,37,38,40,48,58,29,34,37,38,40,48,58,69,34,37,38,40,48,58,69,79\
:inter_matrix=16,18,20,22,24,26,28,30,18,20,22,24,26,28,30,32,20,22,24,26,\
28,30,32,34,22,24,26,30,32,32,34,36,24,26,28,32,34,34,36,38,26,28,30,32,34,\
36,38,40,28,30,32,34,36,38,42,42,30,32,34,36,38,40,42,44 -oac copy -o svcd.mpg
</pre><p>
</p></div><div class="sect2" title="10.3.6. Example"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-example"></a>10.3.6. Example</h3></div></div></div><p>
So, you have just bought your shiny new copy of Harry Potter and the Chamber
of Secrets (widescreen edition, of course), and you want to rip this DVD
so that you can add it to your Home Theatre PC. This is a region 1 DVD,
so it is NTSC. The example below will still apply to PAL, except you will
omit <tt class="option">-ofps 24000/1001</tt> (because the output framerate is the
same as the input framerate), and of course the crop dimensions will be
different.
</p><p>
After running <tt class="option">mplayer dvd://1</tt>, we follow the process
detailed in the section <a class="link" href="#menc-feat-telecine" title="10.2. Come trattare telecine e interlacciamento nei DVD NTSC">How to deal
with telecine and interlacing in NTSC DVDs</a> and discover that it is
24000/1001 fps progressive video, which means that we need not use an inverse
telecine filter, such as <tt class="option">pullup</tt> or
<tt class="option">filmdint</tt>.
</p><p><a name="menc-feat-dvd-mpeg4-example-crop"></a>
Next, we want to determine the appropriate crop rectangle, so we use the
cropdetect filter:
</p><pre class="screen">mplayer dvd://1 -vf cropdetect</pre><p>
Make sure you seek to a fully filled frame (such as a bright scene,
past the opening credits and logos), and
you will see in <span class="application">MPlayer</span>'s console output:
</p><pre class="screen">crop area: X: 0..719  Y: 57..419  (-vf crop=720:362:0:58)</pre><p>
We then play the movie back with this filter to test its correctness:
</p><pre class="screen">mplayer dvd://1 -vf crop=720:362:0:58</pre><p>
And we see that it looks perfectly fine. Next, we ensure the width and
height are a multiple of 16. The width is fine, however the height is
not. Since we did not fail 7th grade math, we know that the nearest
multiple of 16 lower than 362 is 352.
</p><p>
We could just use <tt class="option">crop=720:352:0:58</tt>, but it would be nice
to take a little off the top and a little off the bottom so that we
retain the center. We have shrunk the height by 10 pixels, but we do not
want to increase the y-offset by 5-pixels since that is an odd number and
will adversely affect quality. Instead, we will increase the y-offset by
4 pixels:
</p><pre class="screen">mplayer dvd://1 -vf crop=720:352:0:62</pre><p>
Another reason to shave pixels from both the top and the bottom is that we
ensure we have eliminated any half-black pixels if they exist. Note that if
your video is telecined, make sure the <tt class="option">pullup</tt> filter (or
whichever inverse telecine filter you decide to use) appears in the filter
chain before you crop. If it is interlaced, deinterlace before cropping.
(If you choose to preserve the interlaced video, then make sure your
vertical crop offset is a multiple of 4.)
</p><p>
If you are really concerned about losing those 10 pixels, you might
prefer instead to scale the dimensions down to the nearest multiple of 16.
The filter chain would look like:
</p><pre class="screen">-vf crop=720:362:0:58,scale=720:352</pre><p>
Scaling the video down like this will mean that some small amount of
detail is lost, though it probably will not be perceptible. Scaling up will
result in lower quality (unless you increase the bitrate). Cropping
discards those pixels altogether. It is a tradeoff that you will want to
consider for each circumstance. For example, if the DVD video was made
for television, you might want to avoid vertical scaling, since the line
sampling corresponds to the way the content was originally recorded.
</p><p>
On inspection, we see that our movie has a fair bit of action and high
amounts of detail, so we pick 2400Kbit for our bitrate.
</p><p>
We are now ready to do the two pass encode. Pass one:
</p><pre class="screen">
mencoder dvd://1 -ofps 24000/1001 -oac copy -o <em class="replaceable"><code>Harry_Potter_2.avi</code></em> -ovc lavc \
    -lavcopts vcodec=mpeg4:vbitrate=2400:v4mv:mbd=2:trell:cmp=3:subcmp=3:autoaspect:vpass=1 \
    -vf pullup,softskip,crop=720:352:0:62,hqdn3d=2:1:2
</pre><p>
And pass two is the same, except that we specify <tt class="option">vpass=2</tt>:
</p><pre class="screen">
mencoder dvd://1 -ofps 24000/1001 -oac copy -o <em class="replaceable"><code>Harry_Potter_2.avi</code></em> -ovc lavc \
    -lavcopts vcodec=mpeg4:vbitrate=2400:v4mv:mbd=2:trell:cmp=3:subcmp=3:autoaspect:vpass=2 \
    -vf pullup,softskip,crop=720:352:0:62,hqdn3d=2:1:2
</pre><p>
</p><p>
The options <tt class="option">v4mv:mbd=2:trell</tt> will greatly increase the
quality at the expense of encoding time. There is little reason to leave
these options out when the primary goal is quality. The options
<tt class="option">cmp=3:subcmp=3</tt> select a comparison function that
yields higher quality than the defaults. You might try experimenting with
this parameter (refer to the man page for the possible values) as
different functions can have a large impact on quality depending on the
source material. For example, if you find
<code class="systemitem">libavcodec</code> produces too much
blocky artifacting, you could try selecting the experimental NSSE as
comparison function via <tt class="option">*cmp=10</tt>.
</p><p>
For this movie, the resulting AVI will be 138 minutes long and nearly
3GB. And because you said that file size does not matter, this is a
perfectly acceptable size. However, if you had wanted it smaller, you
could try a lower bitrate. Increasing bitrates have diminishing
returns, so while we might clearly see an improvement from 1800Kbit to
2000Kbit, it might not be so noticeable above 2000Kbit. Feel
free to experiment until you are happy.
</p><p>
Because we passed the source video through a denoise filter, you may want
to add some of it back during playback. This, along with the
<tt class="option">spp</tt> post-processing filter, drastically improves the
perception of quality and helps eliminate blocky artifacts in the video.
With <span class="application">MPlayer</span>'s <tt class="option">autoq</tt> option,
you can vary the amount of post-processing done by the spp filter
depending on available CPU. Also, at this point, you may want to apply
gamma and/or color correction to best suit your display. For example:
</p><pre class="screen">
mplayer <em class="replaceable"><code>Harry_Potter_2.avi</code></em> -vf spp,noise=9ah:5ah,eq2=1.2 -autoq 3
</pre><p>
</p></div></div><div class="sect1" title="10.4. Encoding with the Xvid codec"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-xvid"></a>10.4. Encoding with the <code class="systemitem">Xvid</code>
  codec</h2></div></div></div><p>
<code class="systemitem">Xvid</code> is a free library for
encoding MPEG-4 ASP video streams.
Before starting to encode, you need to <a class="link" href="#xvid" title="2.5.1. Xvid">
set up <span class="application">MEncoder</span> to support it</a>.
</p><p>
This guide mainly aims at featuring the same kind of information
as x264's encoding guide.
Therefore, please begin by reading
<a class="link" href="#menc-feat-x264-encoding-options-intro" title="10.5.1.1. Introduction">the first part</a>
of that guide.
</p><div class="sect2" title="10.4.1. What options should I use to get the best results?"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-xvid-intro"></a>10.4.1. What options should I use to get the best results?</h3></div></div></div><p>
Please begin by reviewing the
<code class="systemitem">Xvid</code> section of
<span class="application">MPlayer</span>'s man page.
This section is intended to be a supplement to the man page.
</p><p>
The Xvid default settings are already a good tradeoff between
speed and quality, therefore you can safely stick to them if
the following section puzzles you.
</p></div><div class="sect2" title="10.4.2. Encoding options of Xvid"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-xvid-encoding-options"></a>10.4.2. Encoding options of <code class="systemitem">Xvid</code></h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <span class="bold"><strong>vhq</strong></span>
  This setting affects the macroblock decision algorithm, where the
  higher the setting, the wiser the decision.
  The default setting may be safely used for every encode, while
  higher settings always help PSNR but are significantly slower.
  Please note that a better PSNR does not necessarily mean
  that the picture will look better, but tells you that it is
  closer to the original.
  Turning it off will noticeably speed up encoding; if speed is
  critical for you, the tradeoff may be worth it.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>bvhq</strong></span>
  This does the same job as vhq, but does it on B-frames.
  It has a negligible impact on speed, and slightly improves quality
  (around +0.1dB PSNR).
</p></li><li class="listitem"><p>
  <span class="bold"><strong>max_bframes</strong></span>
  A higher number of consecutive allowed B-frames usually improves
  compressibility, although it may also lead to more blocking artifacts.
  The default setting is a good tradeoff between compressibility and
  quality, but you may increase it up to 3 if you are bitrate-starved.
  You may also decrease it to 1 or 0 if you are aiming at perfect
  quality, though in that case you should make sure your
  target bitrate is high enough to ensure that the encoder does not
  have to increase quantizers to reach it.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>bf_threshold</strong></span>
  This controls the B-frame sensitivity of the encoder, where a higher
  value leads to more B-frames being used (and vice versa).
  This setting is to be used together with <tt class="option">max_bframes</tt>;
  if you are bitrate-starved, you should increase both
  <tt class="option">max_bframes</tt> and <tt class="option">bf_threshold</tt>,
  while you may increase <tt class="option">max_bframes</tt> and reduce
  <tt class="option">bf_threshold</tt> so that the encoder may use more
  B-frames in places that only <span class="bold"><strong>really</strong></span>
  need them.
  A low number of <tt class="option">max_bframes</tt> and a high value of
  <tt class="option">bf_threshold</tt> is probably not a wise choice as it
  will force the encoder to put B-frames in places that would not
  benefit from them, therefore reducing visual quality.
  However, if you need to be compatible with standalone players that
  only support old DivX profiles (which only supports up to 1
  consecutive B-frame), this would be your only way to
  increase compressibility through using B-frames.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>trellis</strong></span>
  Optimizes the quantization process to get an optimal tradeoff
  between PSNR and bitrate, which allows significant bit saving.
  These bits will in return be spent elsewhere on the video,
  raising overall visual quality.
  You should always leave it on as its impact on quality is huge.
  Even if you are looking for speed, do not disable it until you
  have turned down <tt class="option">vhq</tt> and all other more
  CPU-hungry options to the minimum.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>hq_ac</strong></span>
  Activates a better coefficient cost estimation method, which slightly
  reduces filesize by around 0.15 to 0.19% (which corresponds to less
  than 0.01dB PSNR increase), while having a negligible impact on speed.
  It is therefore recommended to always leave it on.
</p></li><li class="listitem"><p>
 <span class="bold"><strong>cartoon</strong></span>
  Designed to better encode cartoon content, and has no impact on
  speed as it just tunes the mode decision heuristics for this type
  of content.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>me_quality</strong></span>
  This setting is to control the precision of the motion estimation.
  The higher <tt class="option">me_quality</tt>, the more
  precise the estimation of the original motion will be, and the
  better the resulting clip will capture the original motion.
  </p><p>
  The default setting is best in all cases;
  thus it is not recommended to turn it down unless you are
  really looking for speed, as all the bits saved by a good motion
  estimation would be spent elsewhere, raising overall quality.
  Therefore, do not go any lower than 5, and even that only as a last
  resort.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>chroma_me</strong></span>
  Improves motion estimation by also taking the chroma (color)
  information into account, whereas <tt class="option">me_quality</tt>
  alone only uses luma (grayscale).
  This slows down encoding by 5-10% but improves visual quality
  quite a bit by reducing blocking effects and reduces filesize by
  around 1.3%.
  If you are looking for speed, you should disable this option before
  starting to consider reducing <tt class="option">me_quality</tt>.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>chroma_opt</strong></span>
  Is intended to increase chroma image quality around pure
  white/black edges, rather than improving compression.
  This can help to reduce the "red stairs" effect.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>lumi_mask</strong></span>
  Tries to give less bitrate to part of the picture that the
  human eye cannot see very well, which should allow the encoder
  to spend the saved bits on more important parts of the picture.
  The quality of the encode yielded by this option highly depends
  on personal preferences and on the type and monitor settings
  used to watch it (typically, it will not look as good if it is
  bright or if it is a TFT monitor).
</p></li><li class="listitem"><p>
  <span class="bold"><strong>qpel</strong></span>
  Raise the number of candidate motion vectors by increasing
  the precision of the motion estimation from halfpel to
  quarterpel.
  The idea is to find better motion vectors which will in return
  reduce bitrate (hence increasing quality).
  However, motion vectors with quarterpel precision require a
  few extra bits to code, but the candidate vectors do not always
  give (much) better results.
  Quite often, the codec still spends bits on the extra precision,
  but little or no extra quality is gained in return.
  Unfortunately, there is no way to foresee the possible gains of
  <tt class="option">qpel</tt>, so you need to actually encode with and
  without it to know for sure.
  </p><p>
  <tt class="option">qpel</tt> can be almost double encoding time, and
  requires as much as 25% more processing power to decode.
  It is not supported by all standalone players.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>gmc</strong></span>
  Tries to save bits on panning scenes by using a single motion
  vector for the whole frame.
  This almost always raises PSNR, but significantly slows down
  encoding (as well as decoding).
  Therefore, you should only use it when you have turned
  <tt class="option">vhq</tt> to the maximum.
  <code class="systemitem">Xvid</code>'s GMC is more
  sophisticated than DivX's, but is only supported by few
  standalone players.
</p></li></ul></div></div><div class="sect2" title="10.4.3. Encoding profiles"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-xvid-encoding-profiles"></a>10.4.3. Encoding profiles</h3></div></div></div><p>
Xvid supports encoding profiles through the <tt class="option">profile</tt> option,
which are used to impose restrictions on the properties of the Xvid video
stream such that it will be playable on anything which supports the
chosen profile.
The restrictions relate to resolutions, bitrates and certain MPEG-4
features.
The following table shows what each profile supports.
</p><div class="informaltable"><table border="1"><colgroup><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"></colgroup><tbody><tr><td align="center"> </td><td colspan="4" align="center">Simple</td><td colspan="6" align="center">Advanced Simple</td><td colspan="6" align="center">DivX</td></tr><tr><td align="center">Profile name</td><td align="center">0</td><td align="center">1</td><td align="center">2</td><td align="center">3</td><td align="center">0</td><td align="center">1</td><td align="center">2</td><td align="center">3</td><td align="center">4</td><td align="center">5</td><td align="center">Handheld</td><td align="center">Portable NTSC</td><td align="center">Portable PAL</td><td align="center">Home Theater NTSC</td><td align="center">Home Theater PAL</td><td align="center">HDTV</td></tr><tr><td align="center">Width [pixels]</td><td align="center">176</td><td align="center">176</td><td align="center">352</td><td align="center">352</td><td align="center">176</td><td align="center">176</td><td align="center">352</td><td align="center">352</td><td align="center">352</td><td align="center">720</td><td align="center">176</td><td align="center">352</td><td align="center">352</td><td align="center">720</td><td align="center">720</td><td align="center">1280</td></tr><tr><td align="center">Height [pixels]</td><td align="center">144</td><td align="center">144</td><td align="center">288</td><td align="center">288</td><td align="center">144</td><td align="center">144</td><td align="center">288</td><td align="center">288</td><td align="center">576</td><td align="center">576</td><td align="center">144</td><td align="center">240</td><td align="center">288</td><td align="center">480</td><td align="center">576</td><td align="center">720</td></tr><tr><td align="center">Frame rate [fps]</td><td align="center">15</td><td align="center">15</td><td align="center">15</td><td align="center">15</td><td align="center">30</td><td align="center">30</td><td align="center">15</td><td align="center">30</td><td align="center">30</td><td align="center">30</td><td align="center">15</td><td align="center">30</td><td align="center">25</td><td align="center">30</td><td align="center">25</td><td align="center">30</td></tr><tr><td align="center">Max average bitrate [kbps]</td><td align="center">64</td><td align="center">64</td><td align="center">128</td><td align="center">384</td><td align="center">128</td><td align="center">128</td><td align="center">384</td><td align="center">768</td><td align="center">3000</td><td align="center">8000</td><td align="center">537.6</td><td align="center">4854</td><td align="center">4854</td><td align="center">4854</td><td align="center">4854</td><td align="center">9708.4</td></tr><tr><td align="center">Peak average bitrate over 3 secs [kbps]</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">800</td><td align="center">8000</td><td align="center">8000</td><td align="center">8000</td><td align="center">8000</td><td align="center">16000</td></tr><tr><td align="center">Max. B-frames</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">0</td><td align="center">1</td><td align="center">1</td><td align="center">1</td><td align="center">1</td><td align="center">2</td></tr><tr><td align="center">MPEG quantization</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td></tr><tr><td align="center">Adaptive quantization</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td></tr><tr><td align="center">Interlaced encoding</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">X</td><td align="center">X</td><td align="center">X</td></tr><tr><td align="center">Quaterpixel</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td></tr><tr><td align="center">Global motion compensation</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center">X</td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td><td align="center"> </td></tr></tbody></table></div></div><div class="sect2" title="10.4.4. Encoding setting examples"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-xvid-example-settings"></a>10.4.4. Encoding setting examples</h3></div></div></div><p>
The following settings are examples of different encoding
option combinations that affect the speed vs quality tradeoff
at the same target bitrate.
</p><p>
All the encoding settings were tested on a 720x448 @30000/1001 fps
video sample, the target bitrate was 900kbps, and the machine was an
AMD-64 3400+ at 2400 MHz in 64 bits mode.
Each encoding setting features the measured encoding speed (in
frames per second) and the PSNR loss (in dB) compared to the "very
high quality" setting.
Please understand that depending on your source, your machine type
and development advancements, you may get very different results.
</p><div class="informaltable"><table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>Description</th><th>Encoding options</th><th>speed (in fps)</th><th>Relative PSNR loss (in dB)</th></tr></thead><tbody><tr><td>Very high quality</td><td><tt class="option">chroma_opt:vhq=4:bvhq=1:quant_type=mpeg</tt></td><td>16fps</td><td>0dB</td></tr><tr><td>High quality</td><td><tt class="option">vhq=2:bvhq=1:chroma_opt:quant_type=mpeg</tt></td><td>18fps</td><td>-0.1dB</td></tr><tr><td>Fast</td><td><tt class="option">turbo:vhq=0</tt></td><td>28fps</td><td>-0.69dB</td></tr><tr><td>Realtime</td><td><tt class="option">turbo:nochroma_me:notrellis:max_bframes=0:vhq=0</tt></td><td>38fps</td><td>-1.48dB</td></tr></tbody></table></div></div></div><div class="sect1" title="10.5. Encoding with the x264 codec"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-x264"></a>10.5. Encoding with the
  <code class="systemitem">x264</code> codec</h2></div></div></div><p>
<code class="systemitem">x264</code> is a free library for
encoding H.264/AVC video streams.
Before starting to encode, you need to
<a class="link" href="#x264" title="2.5.2. x264">set up <span class="application">MEncoder</span> to support it</a>.
</p><div class="sect2" title="10.5.1. Encoding options of x264"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-x264-encoding-options"></a>10.5.1. Encoding options of x264</h3></div></div></div><p>
Please begin by reviewing the
<code class="systemitem">x264</code> section of
<span class="application">MPlayer</span>'s man page.
This section is intended to be a supplement to the man page.
Here you will find quick hints about which options are most
likely to interest most people. The man page is more terse,
but also more exhaustive, and it sometimes offers much better
technical detail.
</p><div class="sect3" title="10.5.1.1. Introduction"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-x264-encoding-options-intro"></a>10.5.1.1. Introduction</h4></div></div></div><p>
This guide considers two major categories of encoding options:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
  Options which mainly trade off encoding time vs. quality
</p></li><li class="listitem"><p>
  Options which may be useful for fulfilling various personal
  preferences and special requirements
</p></li></ol></div><p>
Ultimately, only you can decide which options are best for your
purposes. The decision for the first class of options is the simplest:
you only have to decide whether you think the quality differences
justify the speed differences. For the second class of options,
preferences may be far more subjective, and more factors may be
involved. Note that some of the "personal preferences and special
requirements" options can still have large impacts on speed or quality,
but that is not what they are primarily useful for. A couple of the
"personal preference" options may even cause changes that look better
to some people, but look worse to others.
</p><p>
Before continuing, you need to understand that this guide uses only one
quality metric: global PSNR.
For a brief explanation of what PSNR is, see
<a class="ulink" href="http://en.wikipedia.org/wiki/PSNR" target="_top">the Wikipedia article on PSNR</a>.
Global PSNR is the last PSNR number reported when you include
the <tt class="option">psnr</tt> option in <tt class="option">x264encopts</tt>.
Any time you read a claim about PSNR, one of the assumptions
behind the claim is that equal bitrates are used.
</p><p>
Nearly all of this guide's comments assume you are using two pass.
When comparing options, there are two major reasons for using
two pass encoding.
First, using two pass often gains around 1dB PSNR, which is a
very big difference.
Secondly, testing options by doing direct quality comparisons
with one pass encodes introduces a major confounding
factor: bitrate often varies significantly with each encode.
It is not always easy to tell whether quality changes are due
mainly to changed options, or if they mostly reflect essentially
random differences in the achieved bitrate.
</p></div><div class="sect3" title="10.5.1.2. Options which primarily affect speed and quality"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-x264-encoding-options-speedvquality"></a>10.5.1.2. Options which primarily affect speed and quality</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <span class="bold"><strong>subq</strong></span>:
  Of the options which allow you to trade off speed for quality,
  <tt class="option">subq</tt> and <tt class="option">frameref</tt> (see below) are usually
  by far the most important.
  If you are interested in tweaking either speed or quality, these
  are the first options you should consider.
  On the speed dimension, the <tt class="option">frameref</tt> and
  <tt class="option">subq</tt> options interact with each other fairly
  strongly.
  Experience shows that, with one reference frame,
  <tt class="option">subq=5</tt> (the default setting) takes about 35% more time than
  <tt class="option">subq=1</tt>.
  With 6 reference frames, the penalty grows to over 60%.
  <tt class="option">subq</tt>'s effect on PSNR seems fairly constant
  regardless of the number of reference frames.
  Typically, <tt class="option">subq=5</tt> achieves 0.2-0.5 dB higher global
  PSNR in comparison <tt class="option">subq=1</tt>.
  This is usually enough to be visible.
  </p><p>
  <tt class="option">subq=6</tt> is slower and yields better quality at a reasonable
  cost.
  In comparison to <tt class="option">subq=5</tt>, it usually gains 0.1-0.4 dB
  global PSNR with speed costs varying from 25%-100%.
  Unlike other levels of <tt class="option">subq</tt>, the behavior of
  <tt class="option">subq=6</tt> does not depend much on <tt class="option">frameref</tt>
  and <tt class="option">me</tt>.  Instead, the effectiveness of <tt class="option">subq=6
  </tt> depends mostly upon the number of B-frames used. In normal
  usage, this means <tt class="option">subq=6</tt> has a large impact on both speed
  and quality in complex, high motion scenes, but it may not have much effect
  in low-motion scenes. Note that it is still recommended to always set
  <tt class="option">bframes</tt> to something other than zero (see below).
  </p><p>
  <tt class="option">subq=7</tt> is the slowest, highest quality mode.
  In comparison to <tt class="option">subq=6</tt>, it usually gains 0.01-0.05 dB
  global PSNR with speed costs varying from 15%-33%.
  Since the tradeoff encoding time vs. quality is quite low, you should
  only use it if you are after every bit saving and if encoding time is
  not an issue.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>frameref</strong></span>:
  <tt class="option">frameref</tt> is set to 1 by default, but this
  should not be taken to imply that it is reasonable to set it to 1.
  Merely raising <tt class="option">frameref</tt> to 2 gains around
  0.15dB PSNR with a 5-10% speed penalty; this seems like a good tradeoff.
  <tt class="option">frameref=3</tt> gains around 0.25dB PSNR over
  <tt class="option">frameref=1</tt>, which should be a visible difference.
  <tt class="option">frameref=3</tt> is around 15% slower than
  <tt class="option">frameref=1</tt>.
  Unfortunately, diminishing returns set in rapidly.
  <tt class="option">frameref=6</tt> can be expected to gain only
  0.05-0.1 dB over <tt class="option">frameref=3</tt> at an additional
  15% speed penalty.
  Above <tt class="option">frameref=6</tt>, the quality gains are
  usually very small (although you should keep in mind throughout
  this whole discussion that it can vary quite a lot depending on your source).
  In a fairly typical case, <tt class="option">frameref=12</tt>
  will improve global PSNR by a tiny 0.02dB over
  <tt class="option">frameref=6</tt>, at a speed cost of 15%-20%.
  At such high <tt class="option">frameref</tt> values, the only really
  good thing that can be said is that increasing it even further will
  almost certainly never <span class="bold"><strong>harm</strong></span>
  PSNR, but the additional quality benefits are barely even
  measurable, let alone perceptible.
  </p><div class="note" title="Note:" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note:</h3><p>
  Raising <tt class="option">frameref</tt> to unnecessarily high values
  <span class="bold"><strong>can</strong></span> and
  <span class="bold"><strong>usually does</strong></span>
  hurt coding efficiency if you turn CABAC off.
  With CABAC on (the default behavior), the possibility of setting
  <tt class="option">frameref</tt> "too high" currently seems too remote
  to even worry about, and in the future, optimizations may remove
  the possibility altogether.
  </p></div><p>
  If you care about speed, a reasonable compromise is to use low
  <tt class="option">subq</tt> and <tt class="option">frameref</tt> values on
  the first pass, and then raise them on the second pass.
  Typically, this has a negligible negative effect on the final
  quality: You will probably lose well under 0.1dB PSNR, which
  should be much too small of a difference to see.
  However, different values of <tt class="option">frameref</tt> can
  occasionally affect frametype decision.
  Most likely, these are rare outlying cases, but if you want to
  be pretty sure, consider whether your video has either
  fullscreen repetitive flashing patterns or very large temporary
  occlusions which might force an I-frame.
  Adjust the first-pass <tt class="option">frameref</tt> so it is large
  enough to contain the duration of the flashing cycle (or occlusion).
  For example, if the scene flashes back and forth between two images
  over a duration of three frames, set the first pass
  <tt class="option">frameref</tt> to 3 or higher.
  This issue is probably extremely rare in live action video material,
  but it does sometimes come up in video game captures.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>me</strong></span>:
  This option is for choosing the motion estimation search method.
  Altering this option provides a straightforward quality-vs-speed
  tradeoff. <tt class="option">me=dia</tt> is only a few percent faster than
  the default search, at a cost of under 0.1dB global PSNR. The
  default setting (<tt class="option">me=hex</tt>) is a reasonable tradeoff
  between speed and quality. <tt class="option">me=umh</tt> gains a little under
  0.1dB global PSNR, with a speed penalty that varies depending on
  <tt class="option">frameref</tt>.  At high values of
  <tt class="option">frameref</tt> (e.g. 12 or so), <tt class="option">me=umh</tt>
  is about 40% slower than the default <tt class="option"> me=hex</tt>. With
  <tt class="option">frameref=3</tt>, the speed penalty incurred drops to
  25%-30%.
  </p><p>
  <tt class="option">me=esa</tt> uses an exhaustive search that is too slow for
  practical use.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>partitions=all</strong></span>:
  This option enables the use of 8x4, 4x8 and 4x4 subpartitions in
  predicted macroblocks (in addition to the default partitions).
  Enabling it results in a fairly consistent
  10%-15% loss of speed. This option is rather useless in source
  containing only low motion, however in some high-motion source,
  particularly source with lots of small moving objects, gains of
  about 0.1dB can be expected.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>bframes</strong></span>:
  If you are used to encoding with other codecs, you may have found
  that B-frames are not always useful.
  In H.264, this has changed: there are new techniques and block
  types that are possible in B-frames.
  Usually, even a naive B-frame choice algorithm can have a
  significant PSNR benefit.
  It is interesting to note that using B-frames usually speeds up
  the second pass somewhat, and may also speed up a single
  pass encode if adaptive B-frame decision is turned off.
  </p><p>
  With adaptive B-frame decision turned off
  (<tt class="option">x264encopts</tt>'s <tt class="option">nob_adapt</tt>),
  the optimal value for this setting is usually no more than
  <tt class="option">bframes=1</tt>, or else high-motion scenes can suffer.
  With adaptive B-frame decision on (the default behavior), it is
  safe to use higher values; the encoder will reduce the use of
  B-frames in scenes where they would hurt compression.
  The encoder rarely chooses to use more than 3 or 4 B-frames;
  setting this option any higher will have little effect.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>b_adapt</strong></span>:
  Note: This is on by default.
  </p><p>
  With this option enabled, the encoder will use a reasonably fast
  decision process to reduce the number of B-frames used in scenes that
  might not benefit from them as much.
  You can use <tt class="option">b_bias</tt> to tweak how B-frame-happy
  the encoder is.
  The speed penalty of adaptive B-frames is currently rather modest,
  but so is the potential quality gain.
  It usually does not hurt, however.
  Note that this only affects speed and frametype decision on the
  first pass.
  <tt class="option">b_adapt</tt> and <tt class="option">b_bias</tt> have no
  effect on subsequent passes.
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>b_pyramid</strong></span>:
  You might as well enable this option if you are using &gt;=2 B-frames;
  as the man page says, you get a little quality improvement at no
  speed cost.
  Note that these videos cannot be read by libavcodec-based decoders
  older than about March 5, 2005.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>weight_b</strong></span>:
  In typical cases, there is not much gain with this option.
  However, in crossfades or fade-to-black scenes, weighted
  prediction gives rather large bitrate savings.
  In MPEG-4 ASP, a fade-to-black is usually best coded as a series
  of expensive I-frames; using weighted prediction in B-frames
  makes it possible to turn at least some of these into much smaller
  B-frames.
  Encoding time cost is minimal, as no extra decisions need to be made.
  Also, contrary to what some people seem to guess, the decoder
  CPU requirements are not much affected by weighted prediction,
  all else being equal.
  </p><p>
  Unfortunately, the current adaptive B-frame decision algorithm
  has a strong tendency to avoid B-frames during fades.
  Until this changes, it may be a good idea to add
  <tt class="option">nob_adapt</tt> to your x264encopts, if you expect
  fades to have a large effect in your particular video
  clip.
  </p></li><li class="listitem"><p><a name="menc-feat-x264-encoding-options-speedvquality-threads"></a>
  <span class="bold"><strong>threads</strong></span>:
  This option allows to spawn threads to encode in parallel on multiple CPUs.
  You can manually select the number of threads to be created or, better, set
  <tt class="option">threads=auto</tt> and let
  <code class="systemitem">x264</code> detect how many CPUs are
  available and pick an appropriate number of threads.
  If you have a multi-processor machine, you should really consider using it
  as it can to increase encoding speed linearly with the number of CPU cores
  (about 94% per CPU core), with very little quality reduction (about 0.005dB
  for dual processor, about 0.01dB for a quad processor machine).
  </p></li></ul></div></div><div class="sect3" title="10.5.1.3. Options pertaining to miscellaneous preferences"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-x264-encoding-options-misc-preferences"></a>10.5.1.3. Options pertaining to miscellaneous preferences</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <span class="bold"><strong>Two pass encoding</strong></span>:
  Above, it was suggested to always use two pass encoding, but there
  are still reasons for not using it. For instance, if you are capturing
  live TV and encoding in realtime, you are forced to use single-pass.
  Also, one pass is obviously faster than two passes; if you use the
  exact same set of options on both passes, two pass encoding is almost
  twice as slow.
  </p><p>
  Still, there are very good reasons for using two pass encoding. For
  one thing, single pass ratecontrol is not psychic, and it often makes
  unreasonable choices because it cannot see the big picture. For example,
  suppose you have a two minute long video consisting of two distinct
  halves.  The first half is a very high-motion scene lasting 60 seconds
  which, in isolation, requires about 2500kbps in order to look decent.
  Immediately following it is a much less demanding 60-second scene
  that looks good at 300kbps. Suppose you ask for 1400kbps on the theory
  that this is enough to accomodate both scenes. Single pass ratecontrol
  will make a couple of "mistakes" in such a case. First of all, it
  will target 1400kbps in both segments. The first segment may end up
  heavily overquantized, causing it to look unacceptably and unreasonably
  blocky. The second segment will be heavily underquantized; it may look
  perfect, but the bitrate cost of that perfection will be completely
  unreasonable. What is even harder to avoid is the problem at the
  transition between the two scenes. The first seconds of the low motion
  half will be hugely over-quantized, because the ratecontrol is still
  expecting the kind of bitrate requirements it met in the first half
  of the video. This "error period" of heavily over-quantized low motion
  will look jarringly bad, and will actually use less than the 300kbps
  it would have taken to make it look decent. There are ways to
  mitigate the pitfalls of single-pass encoding, but they may tend to
  increase bitrate misprediction.
  </p><p>
  Multipass ratecontrol can offer huge advantages over a single pass.
  Using the statistics gathered from the first pass encode, the encoder
  can estimate, with reasonable accuracy, the "cost" (in bits) of
  encoding any given frame, at any given quantizer. This allows for
  a much more rational, better planned allocation of bits between the
  expensive (high-motion) and cheap (low-motion) scenes. See
  <tt class="option">qcomp</tt> below for some ideas on how to tweak this
  allocation to your liking.
  </p><p>
  Moreover, two passes need not take twice as long as one pass. You can
  tweak the options in the first pass for higher speed and lower quality.
  If you choose your options well, you can get a very fast first pass.
  The resulting quality in the second pass will be slightly lower because size
  prediction is less accurate, but the quality difference is normally much
  too small to be visible. Try, for example, adding
  <tt class="option">subq=1:frameref=1</tt> to the first pass
  <tt class="option">x264encopts</tt>. Then, on the second pass, use slower,
  higher-quality options:
  <tt class="option">subq=6:frameref=15:partitions=all:me=umh</tt>
  </p></li><li class="listitem"><p>
  <span class="bold"><strong>Three pass encoding</strong></span>?
  x264 offers the ability to make an arbitrary number of consecutive
  passes. If you specify <tt class="option">pass=1</tt> on the first pass,
  then use <tt class="option">pass=3</tt> on a subsequent pass, the subsequent
  pass will both read the statistics from the previous pass, and write
  its own statistics. An additional pass following this one will have
  a very good base from which to make highly accurate predictions of
  framesizes at a chosen quantizer. In practice, the overall quality
  gain from this is usually close to zero, and quite possibly a third
  pass will result in slightly worse global PSNR than the pass before
  it. In typical usage, three passes help if you get either bad bitrate
  prediction or bad looking scene transitions when using only two passes.
  This is somewhat likely to happen on extremely short clips. There are
  also a few special cases in which three (or more) passes are handy
  for advanced users, but for brevity, this guide omits discussing those
  special cases.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>qcomp</strong></span>:
  <tt class="option">qcomp</tt> trades off the number of bits allocated
  to "expensive" high-motion versus "cheap" low-motion frames. At
  one extreme, <tt class="option">qcomp=0</tt> aims for true constant
  bitrate. Typically this would make high-motion scenes look completely
  awful, while low-motion scenes would probably look absolutely
  perfect, but would also use many times more bitrate than they
  would need in order to look merely excellent. At the other extreme,
  <tt class="option">qcomp=1</tt> achieves nearly constant quantization parameter
  (QP). Constant QP does not look bad, but most people think it is more
  reasonable to shave some bitrate off of the extremely expensive scenes
  (where the loss of quality is not as noticeable) and reallocate it to
  the scenes that are easier to encode at excellent quality.
  <tt class="option">qcomp</tt> is set to 0.6 by default, which may be slightly
  low for many peoples' taste (0.7-0.8 are also commonly used).
</p></li><li class="listitem"><p>
  <span class="bold"><strong>keyint</strong></span>:
  <tt class="option">keyint</tt> is solely for trading off file seekability against
  coding efficiency. By default, <tt class="option">keyint</tt> is set to 250. In
  25fps material, this guarantees the ability to seek to within 10 seconds
  precision. If you think it would be important and useful to be able to
  seek within 5 seconds of precision, set <tt class="option">keyint=125</tt>;
  this will hurt quality/bitrate slightly. If you care only about quality
  and not about seekability, you can set it to much higher values
  (understanding that there are diminishing returns which may become
  vanishingly low, or even zero). The video stream will still have seekable
  points as long as there are some scene changes.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>deblock</strong></span>:
  This topic is going to be a bit controversial.
  </p><p>
  H.264 defines a simple deblocking procedure on I-blocks that uses
  pre-set strengths and thresholds depending on the QP of the block
  in question.
  By default, high QP blocks are filtered heavily, and low QP blocks
  are not deblocked at all.
  The pre-set strengths defined by the standard are well-chosen and
  the odds are very good that they are PSNR-optimal for whatever
  video you are trying to encode.
  The <tt class="option">deblock</tt> allow you to specify offsets to the preset
  deblocking thresholds.
  </p><p>
  Many people seem to think it is a good idea to lower the deblocking
  filter strength by large amounts (say, -3).
  This is however almost never a good idea, and in most cases,
  people who are doing this do not understand very well how
  deblocking works by default.
  </p><p>
  The first and most important thing to know about the in-loop
  deblocking filter is that the default thresholds are almost always
  PSNR-optimal.
  In the rare cases that they are not optimal, the ideal offset is
  plus or minus 1.
  Adjusting deblocking parameters by a larger amount is almost
  guaranteed to hurt PSNR.
  Strengthening the filter will smear more details; weakening the
  filter will increase the appearance of blockiness.
  </p><p>
  It is definitely a bad idea to lower the deblocking thresholds if
  your source is mainly low in spacial complexity (i.e., not a lot
  of detail or noise).
  The in-loop filter does a rather excellent job of concealing
  the artifacts that occur.
  If the source is high in spacial complexity, however, artifacts
  are less noticeable.
  This is because the ringing tends to look like detail or noise.
  Human visual perception easily notices when detail is removed,
  but it does not so easily notice when the noise is wrongly
  represented.
  When it comes to subjective quality, noise and detail are somewhat
  interchangeable.
  By lowering the deblocking filter strength, you are most likely
  increasing error by adding ringing artifacts, but the eye does
  not notice because it confuses the artifacts with detail.
  </p><p>
  This <span class="bold"><strong>still</strong></span> does not justify
  lowering the deblocking filter strength, however.
  You can generally get better quality noise from postprocessing.
  If your H.264 encodes look too blurry or smeared, try playing with
  <tt class="option">-vf noise</tt> when you play your encoded movie.
  <tt class="option">-vf noise=8a:4a</tt> should conceal most mild
  artifacting.
  It will almost certainly look better than the results you
  would have gotten just by fiddling with the deblocking filter.
  </p></li></ul></div></div></div><div class="sect2" title="10.5.2. Encoding setting examples"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-x264-example-settings"></a>10.5.2. Encoding setting examples</h3></div></div></div><p>
The following settings are examples of different encoding
option combinations that affect the speed vs quality tradeoff
at the same target bitrate.
</p><p>
All the encoding settings were tested on a 720x448 @30000/1001 fps
video sample, the target bitrate was 900kbps, and the machine was an
AMD-64 3400+ at 2400 MHz in 64 bits mode.
Each encoding setting features the measured encoding speed (in
frames per second) and the PSNR loss (in dB) compared to the "very
high quality" setting.
Please understand that depending on your source, your machine type
and development advancements, you may get very different results.
</p><div class="informaltable"><table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>Description</th><th>Encoding options</th><th>speed (in fps)</th><th>Relative PSNR loss (in dB)</th></tr></thead><tbody><tr><td>Very high quality</td><td><tt class="option">subq=6:partitions=all:8x8dct:me=umh:frameref=5:bframes=3:b_pyramid:weight_b</tt></td><td>6fps</td><td>0dB</td></tr><tr><td>High quality</td><td><tt class="option">subq=5:8x8dct:frameref=2:bframes=3:b_pyramid:weight_b</tt></td><td>13fps</td><td>-0.89dB</td></tr><tr><td>Fast</td><td><tt class="option">subq=4:bframes=2:b_pyramid:weight_b</tt></td><td>17fps</td><td>-1.48dB</td></tr></tbody></table></div></div></div><div class="sect1" title="10.6.  Encoding with the Video For Windows codec family"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-video-for-windows"></a>10.6. 
  Encoding with the <code class="systemitem">Video For Windows</code>
  codec family
</h2></div></div></div><p>
Video for Windows provides simple encoding by means of binary video codecs.
You can encode with the following codecs (if you have more, please tell us!)
</p><p>
Note that support for this is very experimental and some codecs may not work
correctly. Some codecs will only work in certain colorspaces, try
<tt class="option">-vf format=bgr24</tt> and <tt class="option">-vf format=yuy2</tt>
if a codec fails or gives wrong output.
</p><div class="sect2" title="10.6.1. Video for Windows supported codecs"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-enc-vfw-video-codecs"></a>10.6.1. Video for Windows supported codecs</h3></div></div></div><p>
</p><div class="informaltable"><table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>Video codec file name</th><th>Description (FourCC)</th><th>md5sum</th><th>Comment</th></tr></thead><tbody><tr><td>aslcodec_vfw.dll</td><td>Alparysoft lossless codec vfw (ASLC)</td><td>608af234a6ea4d90cdc7246af5f3f29a</td><td> </td></tr><tr><td>avimszh.dll</td><td>AVImszh (MSZH)</td><td>253118fe1eedea04a95ed6e5f4c28878</td><td>needs <tt class="option">-vf format</tt></td></tr><tr><td>avizlib.dll</td><td>AVIzlib (ZLIB)</td><td>2f1cc76bbcf6d77d40d0e23392fa8eda</td><td> </td></tr><tr><td>divx.dll</td><td>DivX4Windows-VFW</td><td>acf35b2fc004a89c829531555d73f1e6</td><td> </td></tr><tr><td>huffyuv.dll</td><td>HuffYUV (lossless) (HFYU)</td><td>b74695b50230be4a6ef2c4293a58ac3b</td><td> </td></tr><tr><td>iccvid.dll</td><td>Cinepak Video (cvid)</td><td>cb3b7ee47ba7dbb3d23d34e274895133</td><td> </td></tr><tr><td>icmw_32.dll</td><td>Motion Wavelets (MWV1)</td><td>c9618a8fc73ce219ba918e3e09e227f2</td><td> </td></tr><tr><td>jp2avi.dll</td><td>ImagePower MJPEG2000 (IPJ2)</td><td>d860a11766da0d0ea064672c6833768b</td><td><tt class="option">-vf flip</tt></td></tr><tr><td>m3jp2k32.dll</td><td>Morgan MJPEG2000 (MJ2C)</td><td>f3c174edcbaef7cb947d6357cdfde7ff</td><td> </td></tr><tr><td>m3jpeg32.dll</td><td>Morgan Motion JPEG Codec (MJPG)</td><td>1cd13fff5960aa2aae43790242c323b1</td><td> </td></tr><tr><td>mpg4c32.dll</td><td>Microsoft MPEG-4 v1/v2</td><td>b5791ea23f33010d37ab8314681f1256</td><td> </td></tr><tr><td>tsccvid.dll</td><td>TechSmith Camtasia Screen Codec (TSCC)</td><td>8230d8560c41d444f249802a2700d1d5</td><td>shareware error on windows</td></tr><tr><td>vp31vfw.dll</td><td>On2 Open Source VP3 Codec (VP31)</td><td>845f3590ea489e2e45e876ab107ee7d2</td><td> </td></tr><tr><td>vp4vfw.dll</td><td>On2 VP4 Personal Codec (VP40)</td><td>fc5480a482ccc594c2898dcc4188b58f</td><td> </td></tr><tr><td>vp6vfw.dll</td><td>On2 VP6 Personal Codec (VP60)</td><td>04d635a364243013898fd09484f913fb</td><td> </td></tr><tr><td>vp7vfw.dll</td><td>On2 VP7 Personal Codec (VP70)</td><td>cb4cc3d4ea7c94a35f1d81c3d750bc8d</td><td>wrong FourCC?</td></tr><tr><td>ViVD2.dll</td><td>SoftMedia ViVD V2 codec VfW (GXVE)</td><td>a7b4bf5cac630bb9262c3f80d8a773a1</td><td> </td></tr><tr><td>msulvc06.DLL</td><td>MSU Lossless codec (MSUD)</td><td>294bf9288f2f127bb86f00bfcc9ccdda</td><td>
  Decodable by <span class="application">Window Media Player</span>,
  not <span class="application">MPlayer</span> (yet).
  </td></tr><tr><td>camcodec.dll</td><td>CamStudio lossless video codec (CSCD)</td><td>0efe97ce08bb0e40162ab15ef3b45615</td><td>sf.net/projects/camstudio</td></tr></tbody></table></div><p>

The first column contains the codec names that should be passed after the
<code class="literal">codec</code> parameter,
like: <tt class="option">-xvfwopts codec=divx.dll</tt>
The FourCC code used by each codec is given in the parentheses.
</p><div class="informalexample"><p>
An example to convert an ISO DVD trailer to a VP6 flash video file
using compdata bitrate settings:
</p><pre class="screen">
mencoder -dvd-device <em class="replaceable"><code>zeiram.iso</code></em> dvd://7 -o <em class="replaceable"><code>trailer.flv</code></em> \
-ovc vfw -xvfwopts codec=vp6vfw.dll:compdata=onepass.mcf -oac mp3lame \
-lameopts cbr:br=64 -af lavcresample=22050 -vf yadif,scale=320:240,flip \
-of lavf -lavfopts i_certify_that_my_video_stream_does_not_use_b_frames
</pre><p>
</p></div></div><div class="sect2" title="10.6.2. Using vfw2menc to create a codec settings file."><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-video-for-windows-bitrate-settings"></a>10.6.2. Using vfw2menc to create a codec settings file.</h3></div></div></div><p>
To encode with the Video for Windows codecs, you will need to set bitrate
and other options. This is known to work on x86 on both *NIX and Windows.
</p><p>
First you must build the <span class="application">vfw2menc</span> program.
It is located in the <tt class="filename">TOOLS</tt> subdirectory
of the MPlayer source tree.
To build on Linux, this can be done using <span class="application">Wine</span>:
</p><pre class="screen">winegcc vfw2menc.c -o vfw2menc -lwinmm -lole32</pre><p>

To build on Windows in <span class="application">MinGW</span> or
<span class="application">Cygwin</span> use:
</p><pre class="screen">gcc vfw2menc.c -o vfw2menc.exe -lwinmm -lole32</pre><p>

To build on <span class="application">MSVC</span> you will need getopt.
Getopt can be found in the original <span class="application">vfw2menc</span>
archive available at:
The <a class="ulink" href="http://oss.netfarm.it/mplayer-win32.php" target="_top">MPlayer on win32</a> project.
</p><div class="informalexample"><p>
Below is an example with the VP6 codec.
</p><pre class="screen">
vfw2menc -f VP62 -d vp6vfw.dll -s firstpass.mcf
</pre><p>
This will open the VP6 codec dialog window.
Repeat this step for the second pass
and use <tt class="option">-s <em class="replaceable"><code>secondpass.mcf</code></em></tt>.
</p></div><p>
Windows users can use
<tt class="option">-xvfwopts codec=vp6vfw.dll:compdata=dialog</tt> to have
the codec dialog display before encoding starts.
</p></div></div><div class="sect1" title="10.7. Using MEncoder to create QuickTime-compatible files"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-quicktime-7"></a>10.7. Using <span class="application">MEncoder</span> to create
<span class="application">QuickTime</span>-compatible files</h2></div></div></div><div class="sect2" title="10.7.1. Why would one want to produce QuickTime-compatible Files?"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-quicktime-7-why-use-it"></a>10.7.1. Why would one want to produce <span class="application">QuickTime</span>-compatible Files?</h3></div></div></div><p>
  There are several reasons why producing
  <span class="application">QuickTime</span>-compatible files can be desirable.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  You want any computer illiterate to be able to watch your encode on
  any major platform (Windows, Mac OS X, Unices …).
</p></li><li class="listitem"><p>
  <span class="application">QuickTime</span> is able to take advantage of more
  hardware and software acceleration features of Mac OS X than
  platform-independent players like <span class="application">MPlayer</span>
  or <span class="application">VLC</span>.
  That means that your encodes have a chance to be played smoothly by older
  G4-powered machines.
</p></li><li class="listitem"><p>
  <span class="application">QuickTime</span> 7 supports the next-generation codec H.264,
  which yields significantly better picture quality than previous codec
  generations (MPEG-2, MPEG-4 …).
</p></li></ul></div></div><div class="sect2" title="10.7.2. QuickTime 7 limitations"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-quicktime-7-constraints"></a>10.7.2. <span class="application">QuickTime</span> 7 limitations</h3></div></div></div><p>
  <span class="application">QuickTime</span> 7 supports H.264 video and AAC audio,
  but it does not support them muxed in the AVI container format.
  However, you can use <span class="application">MEncoder</span> to encode
  the video and audio, and then use an external program such as
  <span class="application">mp4creator</span> (part of the
  <a class="ulink" href="http://mpeg4ip.sourceforge.net/" target="_top">MPEG4IP suite</a>)
  to remux the video and audio tracks into an MP4 container.
</p><p>
  <span class="application">QuickTime</span>'s support for H.264 is limited,
  so you will need to drop some advanced features.
  If you encode your video with features that
  <span class="application">QuickTime</span> 7 does not support,
  <span class="application">QuickTime</span>-based players will show you a pretty
  white screen instead of your expected video.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <span class="bold"><strong>B-frames</strong></span>:
  <span class="application">QuickTime</span> 7 supports a maximum of 1 B-frame, i.e.
  <tt class="option">-x264encopts bframes=1</tt>. This means that
  <tt class="option">b_pyramid</tt> and <tt class="option">weight_b</tt> will have no
  effect, since they require <tt class="option">bframes</tt> to be greater than 1.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Macroblocks</strong></span>:
  <span class="application">QuickTime</span> 7 does not support 8x8 DCT macroblocks.
  This option (<tt class="option">8x8dct</tt>) is off by default, so just be sure
  not to explicitly enable it. This also means that the <tt class="option">i8x8</tt>
  option will have no effect, since it requires <tt class="option">8x8dct</tt>.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>Aspect ratio</strong></span>:
  <span class="application">QuickTime</span> 7 does not support SAR (sample
  aspect ratio) information in MPEG-4 files; it assumes that SAR=1. Read
  <a class="link" href="#menc-feat-quicktime-7-scale" title="10.7.4. Scaling">the section on scaling</a>
  for a workaround.
</p></li></ul></div></div><div class="sect2" title="10.7.3. Cropping"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-quicktime-7-crop"></a>10.7.3. Cropping</h3></div></div></div><p>
  Suppose you want to rip your freshly bought copy of "The Chronicles of
  Narnia". Your DVD is region 1,
  which means it is NTSC. The example below would still apply to PAL,
  except you would omit <tt class="option">-ofps 24000/1001</tt> and use slightly
  different <tt class="option">crop</tt> and <tt class="option">scale</tt> dimensions.
</p><p>
  After running <tt class="option">mplayer dvd://1</tt>, you follow the process
  detailed in the section <a class="link" href="#menc-feat-telecine" title="10.2. Come trattare telecine e interlacciamento nei DVD NTSC">How to deal
  with telecine and interlacing in NTSC DVDs</a> and discover that it is
  24000/1001 fps progressive video. This simplifies the process somewhat,
  since you do not need to use an inverse telecine filter such as
  <tt class="option">pullup</tt> or a deinterlacing filter such as
  <tt class="option">yadif</tt>.
</p><p>
  Next, you need to crop out the black bars from the top and bottom of the
  video, as detailed in <a class="link" href="#menc-feat-dvd-mpeg4-example-crop">this</a>
  previous section.
</p></div><div class="sect2" title="10.7.4. Scaling"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-quicktime-7-scale"></a>10.7.4. Scaling</h3></div></div></div><p>
  The next step is truly heartbreaking.
  <span class="application">QuickTime</span> 7 does not support MPEG-4 videos
  with a sample aspect ratio other than 1, so you will need to upscale
  (which wastes a lot of disk space) or downscale (which loses some
  details of the source) the video to square pixels.
  Either way you do it, this is highly inefficient, but simply cannot
  be avoided if you want your video to be playable by
  <span class="application">QuickTime</span> 7.
  <span class="application">MEncoder</span> can apply the appropriate upscaling
  or downscaling by specifying respectively <tt class="option">-vf scale=-10:-1</tt>
  or <tt class="option">-vf scale=-1:-10</tt>.
  This will scale your video to the correct width for the cropped height,
  rounded to the closest multiple of 16 for optimal compression.
  Remember that if you are cropping, you should crop first, then scale:

  </p><pre class="screen">-vf crop=720:352:0:62,scale=-10:-1</pre><p>
</p></div><div class="sect2" title="10.7.5. A/V sync"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-quicktime-7-avsync"></a>10.7.5. A/V sync</h3></div></div></div><p>
  Because you will be remuxing into a different container, you should
  always use the <tt class="option">harddup</tt> option to ensure that duplicated
  frames are actually duplicated in the video output. Without this option,
  <span class="application">MEncoder</span> will simply put a marker in the video
  stream that a frame was duplicated, and rely on the client software to
  show the same frame twice. Unfortunately, this "soft duplication" does
  not survive remuxing, so the audio would slowly lose sync with the video.
</p><p>
  The final filter chain looks like this:
  </p><pre class="screen">-vf crop=720:352:0:62,scale=-10:-1,harddup</pre><p>
</p></div><div class="sect2" title="10.7.6. Bitrate"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-quicktime-7-bitrate"></a>10.7.6. Bitrate</h3></div></div></div><p>
  As always, the selection of bitrate is a matter of the technical properties
  of the source, as explained
  <a class="link" href="#menc-feat-dvd-mpeg4-resolution-bitrate" title="10.1.5. Scegliere la risoluzione e il bitrate">here</a>, as
  well as a matter of taste.
  This movie has a fair bit of action and lots of detail, but H.264 video
  looks good at much lower bitrates than XviD or other MPEG-4 codecs.
  After much experimentation, the author of this guide chose to encode
  this movie at 900kbps, and thought that it looked very good.
  You may decrease bitrate if you need to save more space, or increase
  it if you need to improve quality.
</p></div><div class="sect2" title="10.7.7. Encoding example"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-quicktime-7-example"></a>10.7.7. Encoding example</h3></div></div></div><p>
  You are now ready to encode the video. Since you care about
  quality, of course you will be doing a two-pass encode. To shave off
  some encoding time, you can specify the <tt class="option">turbo</tt> option
  on the first pass; this reduces <tt class="option">subq</tt> and
  <tt class="option">frameref</tt> to 1. To save some disk space, you can
  use the <tt class="option">ss</tt> option to strip off the first few seconds
  of the video. (I found that this particular movie has 32 seconds of
  credits and logos.)  <tt class="option">bframes</tt> can be 0 or 1.
  The other options are documented in <a class="link" href="#menc-feat-x264-encoding-options-speedvquality" title="10.5.1.2. Options which primarily affect speed and quality">Encoding with
  the <code class="systemitem">x264</code> codec</a> and
  the man page.

  </p><pre class="screen">mencoder dvd://1 -o /dev/null -ss 32 -ovc x264 \
-x264encopts pass=1:turbo:bitrate=900:bframes=1:\
me=umh:partitions=all:trellis=1:qp_step=4:qcomp=0.7:direct_pred=auto:keyint=300 \
-vf crop=720:352:0:62,scale=-10:-1,harddup \
-oac faac -faacopts br=192:mpeg=4:object=1 -channels 2 -srate 48000 \
-ofps 24000/1001</pre><p>

  If you have a multi-processor machine, don't miss the opportunity to
  dramatically speed-up encoding by enabling
  <a class="link" href="#menc-feat-x264-encoding-options-speedvquality-threads">
  <code class="systemitem">x264</code>'s multi-threading mode</a>
  by adding <tt class="option">threads=auto</tt> to your <tt class="option">x264encopts</tt>
  command-line.
</p><p>
  The second pass is the same, except that you specify the output file
  and set <tt class="option">pass=2</tt>.

  </p><pre class="screen">mencoder dvd://1 <span class="bold"><strong>-o narnia.avi</strong></span> -ss 32 -ovc x264 \
-x264encopts <span class="bold"><strong>pass=2</strong></span>:turbo:bitrate=900:frameref=5:bframes=1:\
me=umh:partitions=all:trellis=1:qp_step=4:qcomp=0.7:direct_pred=auto:keyint=300 \
-vf crop=720:352:0:62,scale=-10:-1,harddup \
-oac faac -faacopts br=192:mpeg=4:object=1 -channels 2 -srate 48000 \
-ofps 24000/1001</pre><p>
</p><p>
  The resulting AVI should play perfectly in
  <span class="application">MPlayer</span>, but of course
  <span class="application">QuickTime</span> can not play it because it does
  not support H.264 muxed in AVI.
  So the next step is to remux the video into an MP4 container.
</p></div><div class="sect2" title="10.7.8. Remuxing as MP4"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-quicktime-7-remux"></a>10.7.8. Remuxing as MP4</h3></div></div></div><p>
  There are several ways to remux AVI files to MP4. You can use
  <span class="application">mp4creator</span>, which is part of the
  <a class="ulink" href="http://mpeg4ip.sourceforge.net/" target="_top">MPEG4IP suite</a>.
</p><p>
  First, demux the AVI into separate audio and video streams using
  <span class="application">MPlayer</span>.

  </p><pre class="screen">mplayer narnia.avi -dumpaudio -dumpfile narnia.aac
mplayer narnia.avi -dumpvideo -dumpfile narnia.h264</pre><p>

  The filenames are important; <span class="application">mp4creator</span>
  requires that AAC audio streams be named <code class="systemitem">.aac</code>
  and H.264 video streams be named <code class="systemitem">.h264</code>.
</p><p>
  Now use <span class="application">mp4creator</span> to create a new
  MP4 file out of the audio and video streams.

  </p><pre class="screen">mp4creator -create=narnia.aac narnia.mp4
mp4creator -create=narnia.h264 -rate=23.976 narnia.mp4</pre><p>

  Unlike the encoding step, you must specify the framerate as a
  decimal (such as 23.976), not a fraction (such as 24000/1001).
</p><p>
  This <code class="systemitem">narnia.mp4</code> file should now be playable
  with any <span class="application">QuickTime</span> 7 application, such as
  <span class="application">QuickTime Player</span> or
  <span class="application">iTunes</span>. If you are planning to view the
  video in a web browser with the <span class="application">QuickTime</span>
  plugin, you should also hint the movie so that the
  <span class="application">QuickTime</span> plugin can start playing it
  while it is still downloading.  <span class="application">mp4creator</span>
  can create these hint tracks:

  </p><pre class="screen">mp4creator -hint=1 narnia.mp4
mp4creator -hint=2 narnia.mp4
mp4creator -optimize narnia.mp4</pre><p>

  You can check the final result to ensure that the hint tracks were
  created successfully:

  </p><pre class="screen">mp4creator -list narnia.mp4</pre><p>

  You should see a list of tracks: 1 audio, 1 video, and 2 hint tracks.

</p><pre class="screen">Track   Type    Info
1       audio   MPEG-4 AAC LC, 8548.714 secs, 190 kbps, 48000 Hz
2       video   H264 Main@5.1, 8549.132 secs, 899 kbps, 848x352 @ 23.976001 fps
3       hint    Payload mpeg4-generic for track 1
4       hint    Payload H264 for track 2
</pre><p>
</p></div><div class="sect2" title="10.7.9. Adding metadata tags"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-quicktime-7-metadata"></a>10.7.9. Adding metadata tags</h3></div></div></div><p>
  If you want to add tags to your video that show up in iTunes, you can use
  <a class="ulink" href="http://atomicparsley.sourceforge.net/" target="_top">AtomicParsley</a>.

  </p><pre class="screen">AtomicParsley narnia.mp4 --metaEnema --title "The Chronicles of Narnia" --year 2005 --stik Movie --freefree --overWrite</pre><p>

  The <tt class="option">--metaEnema</tt> option removes any existing metadata
  (<span class="application">mp4creator</span> inserts its name in the
  "encoding tool" tag), and <tt class="option">--freefree</tt> reclaims the
  space from the deleted metadata.
  The <tt class="option">--stik</tt> option sets the type of video (such as Movie
  or TV Show), which iTunes uses to group related video files.
  The <tt class="option">--overWrite</tt> option overwrites the original file;
  without it, <span class="application">AtomicParsley</span> creates a new
  auto-named file in the same directory and leaves the original file
  untouched.
</p></div></div><div class="sect1" title="10.8. Using MEncoder to create VCD/SVCD/DVD-compliant files"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-vcd-dvd"></a>10.8. Using <span class="application">MEncoder</span>
  to create VCD/SVCD/DVD-compliant files</h2></div></div></div><div class="sect2" title="10.8.1. Format Constraints"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-vcd-dvd-constraints"></a>10.8.1. Format Constraints</h3></div></div></div><p>
<span class="application">MEncoder</span> is capable of creating VCD, SCVD
and DVD format MPEG files using the
<code class="systemitem">libavcodec</code> library.
These files can then be used in conjunction with
<a class="ulink" href="http://www.gnu.org/software/vcdimager/vcdimager.html" target="_top">vcdimager</a>
or
<a class="ulink" href="http://dvdauthor.sourceforge.net/" target="_top">dvdauthor</a>
to create discs that will play on a standard set-top player.
</p><p>
The DVD, SVCD, and VCD formats are subject to heavy constraints.
Only a small selection of encoded picture sizes and aspect ratios are
available.
If your movie does not already meet these requirements, you may have
to scale, crop or add black borders to the picture to make it
compliant.
</p><div class="sect3" title="10.8.1.1. Format Constraints"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-constraints-resolution"></a>10.8.1.1. Format Constraints</h4></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col><col><col><col><col><col><col></colgroup><thead><tr><th>Format</th><th>Resolution</th><th>V. Codec</th><th>V. Bitrate</th><th>Sample Rate</th><th>A. Codec</th><th>A. Bitrate</th><th>FPS</th><th>Aspect</th></tr></thead><tbody><tr><td>NTSC DVD</td><td>720x480, 704x480, 352x480, 352x240</td><td>MPEG-2</td><td>9800 kbps</td><td>48000 Hz</td><td>AC-3,PCM</td><td>1536 kbps (max)</td><td>30000/1001, 24000/1001</td><td>4:3, 16:9 (only for 720x480)</td></tr><tr><td>NTSC DVD</td><td>352x240<sup>[<a name="fn-rare-resolutions" href="#ftn.fn-rare-resolutions" class="footnote">a</a>]</sup></td><td>MPEG-1</td><td>1856 kbps</td><td>48000 Hz</td><td>AC-3,PCM</td><td>1536 kbps (max)</td><td>30000/1001, 24000/1001</td><td>4:3, 16:9</td></tr><tr><td>NTSC SVCD</td><td>480x480</td><td>MPEG-2</td><td>2600 kbps</td><td>44100 Hz</td><td>MP2</td><td>384 kbps (max)</td><td>30000/1001</td><td>4:3</td></tr><tr><td>NTSC VCD</td><td>352x240</td><td>MPEG-1</td><td>1150 kbps</td><td>44100 Hz</td><td>MP2</td><td>224 kbps</td><td>24000/1001, 30000/1001</td><td>4:3</td></tr><tr><td>PAL DVD</td><td>720x576, 704x576, 352x576, 352x288</td><td>MPEG-2</td><td>9800 kbps</td><td>48000 Hz</td><td>MP2,AC-3,PCM</td><td>1536 kbps (max)</td><td>25</td><td>4:3, 16:9 (only for 720x576)</td></tr><tr><td>PAL DVD</td><td>352x288<sup>[<a href="#ftn.fn-rare-resolutions" class="footnoteref">a</a>]</sup></td><td>MPEG-1</td><td>1856 kbps</td><td>48000 Hz</td><td>MP2,AC-3,PCM</td><td>1536 kbps (max)</td><td>25</td><td>4:3, 16:9</td></tr><tr><td>PAL SVCD</td><td>480x576</td><td>MPEG-2</td><td>2600 kbps</td><td>44100 Hz</td><td>MP2</td><td>384 kbps (max)</td><td>25</td><td>4:3</td></tr><tr><td>PAL VCD</td><td>352x288</td><td>MPEG-1</td><td>1152 kbps</td><td>44100 Hz</td><td>MP2</td><td>224 kbps</td><td>25</td><td>4:3</td></tr></tbody><tbody class="footnotes"><tr><td colspan="9"><div class="footnote"><p><sup>[<a name="ftn.fn-rare-resolutions" href="#fn-rare-resolutions" class="para">a</a>] </sup>
  These resolutions are rarely used for DVDs because
  they are fairly low quality.</p></div></td></tr></tbody></table></div><p>
If your movie has 2.35:1 aspect (most recent action movies), you will
have to add black borders or crop the movie down to 16:9 to make a DVD or VCD.
If you add black borders, try to align them at 16-pixel boundaries in
order to minimize the impact on encoding performance.
Thankfully DVD has sufficiently excessive bitrate that you do not have
to worry too much about encoding efficiency, but SVCD and VCD are
highly bitrate-starved and require effort to obtain acceptable quality.
</p></div><div class="sect3" title="10.8.1.2. GOP Size Constraints"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-constraints-gop"></a>10.8.1.2. GOP Size Constraints</h4></div></div></div><p>
DVD, VCD, and SVCD also constrain you to relatively low
GOP (Group of Pictures) sizes.
For 30 fps material the largest allowed GOP size is 18.
For 25 or 24 fps, the maximum is 15.
The GOP size is set using the <tt class="option">keyint</tt> option.
</p></div><div class="sect3" title="10.8.1.3. Bitrate Constraints"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-constraints-bitrate"></a>10.8.1.3. Bitrate Constraints</h4></div></div></div><p>
VCD video is required to be CBR at 1152 kbps.
This highly limiting constraint also comes along with an extremly low vbv
buffer size of 327 kilobits.
SVCD allows varying video bitrates up to 2500 kbps, and a somewhat less
restrictive vbv buffer size of 917 kilobits is allowed.
DVD video bitrates may range anywhere up to 9800 kbps (though typical
bitrates are about half that), and the vbv buffer size is 1835 kilobits.
</p></div></div><div class="sect2" title="10.8.2. Output Options"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-vcd-dvd-output"></a>10.8.2. Output Options</h3></div></div></div><p>
<span class="application">MEncoder</span> has options to control the output
format.
Using these options we can instruct it to create the correct type of
file.
</p><p>
The options for VCD and SVCD are called xvcd and xsvcd, because they
are extended formats.
They are not strictly compliant, mainly because the output does not
contain scan offsets.
If you need to generate an SVCD image, you should pass the output file to
<a class="ulink" href="http://www.gnu.org/software/vcdimager/vcdimager.html" target="_top">vcdimager</a>.
</p><p>
VCD:
</p><pre class="screen">-of mpeg -mpegopts format=xvcd</pre><p>
</p><p>
SVCD:
</p><pre class="screen">-of mpeg -mpegopts format=xsvcd</pre><p>
</p><p>
DVD (with timestamps on every frame, if possible):
</p><pre class="screen">-of mpeg -mpegopts format=dvd:tsaf</pre><p>
</p><p>
DVD with NTSC Pullup:
</p><pre class="screen">-of mpeg -mpegopts format=dvd:tsaf:telecine -ofps 24000/1001</pre><p>
This allows 24000/1001 fps progressive content to be encoded at 30000/1001
fps whilst maintaing DVD-compliance.
</p><div class="sect3" title="10.8.2.1. Aspect Ratio"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-output-aspect"></a>10.8.2.1. Aspect Ratio</h4></div></div></div><p>
The aspect argument of <tt class="option">-lavcopts</tt> is used to encode
the aspect ratio of the file.
During playback the aspect ratio is used to restore the video to the
correct size.
</p><p>
16:9 or "Widescreen"
</p><pre class="screen">-lavcopts aspect=16/9</pre><p>
</p><p>
4:3 or "Fullscreen"
</p><pre class="screen">-lavcopts aspect=4/3</pre><p>
</p><p>
2.35:1 or "Cinemascope" NTSC
</p><pre class="screen">-vf scale=720:368,expand=720:480 -lavcopts aspect=16/9</pre><p>
To calculate the correct scaling size, use the expanded NTSC width of
854/2.35 = 368
</p><p>
2.35:1 or "Cinemascope" PAL
</p><pre class="screen">-vf scale=720:432,expand=720:576 -lavcopts aspect=16/9</pre><p>
To calculate the correct scaling size, use the expanded PAL width of
1024/2.35 = 432
</p></div><div class="sect3" title="10.8.2.2. Maintaining A/V sync"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-a-v-sync"></a>10.8.2.2. Maintaining A/V sync</h4></div></div></div><p>
In order to maintain audio/video synchronization throughout the encode,
<span class="application">MEncoder</span> has to drop or duplicate frames.
This works rather well when muxing into an AVI file, but is almost
guaranteed to fail to maintain A/V sync with other muxers such as MPEG.
This is why it is necessary to append the
<tt class="option">harddup</tt> video filter at the end of the filter chain
to avoid this kind of problem.
You can find more technical information about <tt class="option">harddup</tt>
in the section
<a class="link" href="#menc-feat-dvd-mpeg4-muxing-filter-issues" title="10.1.12.1. Migliorare il mux e l'affidabilità di sincronizzazione A/V">Improving muxing and A/V sync reliability</a>
or in the manual page.
</p></div><div class="sect3" title="10.8.2.3. Sample Rate Conversion"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-output-srate"></a>10.8.2.3. Sample Rate Conversion</h4></div></div></div><p>
If the audio sample rate in the original file is not the same as
required by the target format, sample rate conversion is required.
This is achieved using the <tt class="option">-srate</tt> option and
the <tt class="option">-af lavcresample</tt> audio filter together.
</p><p>
DVD:
</p><pre class="screen">-srate 48000 -af lavcresample=48000</pre><p>
</p><p>
VCD and SVCD:
</p><pre class="screen">-srate 44100 -af lavcresample=44100</pre><p>
</p></div></div><div class="sect2" title="10.8.3. Using libavcodec for VCD/SVCD/DVD Encoding"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-vcd-dvd-lavc"></a>10.8.3. Using libavcodec for VCD/SVCD/DVD Encoding</h3></div></div></div><div class="sect3" title="10.8.3.1. Introduction"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-lavc-intro"></a>10.8.3.1. Introduction</h4></div></div></div><p>
<code class="systemitem">libavcodec</code> can be used to
create VCD/SVCD/DVD compliant video by using the appropriate options.
</p></div><div class="sect3" title="10.8.3.2. lavcopts"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-lavc-options"></a>10.8.3.2. lavcopts</h4></div></div></div><p>
This is a list of fields in <tt class="option">-lavcopts</tt> that you may
be required to change in order to make a complaint movie for VCD, SVCD,
or DVD:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <span class="bold"><strong>acodec</strong></span>:
  <tt class="option">mp2</tt> for VCD, SVCD, or PAL DVD;
  <tt class="option">ac3</tt> is most commonly used for DVD.
  PCM audio may also be used for DVD, but this is mostly a big waste of
  space.
  Note that MP3 audio is not compliant for any of these formats, but
  players often have no problem playing it anyway.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>abitrate</strong></span>:
  224 for VCD; up to 384 for SVCD; up to 1536 for  DVD, but commonly
  used values range from 192 kbps for stereo to 384 kbps for 5.1 channel
  sound.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>vcodec</strong></span>:
  <tt class="option">mpeg1video</tt> for VCD;
  <tt class="option">mpeg2video</tt> for SVCD;
  <tt class="option">mpeg2video</tt> is usually used for DVD but you may also use
  <tt class="option">mpeg1video</tt> for CIF resolutions.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>keyint</strong></span>:
  Used to set the GOP size.
  18 for 30fps material, or 15 for 25/24 fps material.
  Commercial producers seem to prefer keyframe intervals of 12.
  It is possible to make this much larger and still retain compatibility
  with most players.
  A <tt class="option">keyint</tt> of 25 should never cause any problems.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>vrc_buf_size</strong></span>:
  327 for VCD, 917 for SVCD, and 1835 for DVD.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>vrc_minrate</strong></span>:
  1152, for VCD. May be left alone for SVCD and DVD.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>vrc_maxrate</strong></span>:
  1152 for VCD; 2500 for SVCD; 9800 for DVD.
  For SVCD and DVD, you might wish to use lower values depending on your
  own personal preferences and requirements.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>vbitrate</strong></span>:
  1152 for VCD;
  up to 2500 for SVCD;
  up to 9800 for DVD.
  For the latter two formats, vbitrate should be set based on personal
  preference.
  For instance, if you insist on fitting 20 or so hours on a DVD, you
  could use vbitrate=400.
  The resulting video quality would probably be quite bad.
  If you are trying to squeeze out the maximum possible quality on a DVD,
  use vbitrate=9800, but be warned that this could constrain you to less
  than an hour of video on a single-layer DVD.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>vstrict</strong></span>:
  <tt class="option">vstrict</tt>=0 should be used to create DVDs.
  Without this option, <span class="application">MEncoder</span> creates a
  stream that cannot be correctly decoded by some standalone DVD
  players.
</p></li></ul></div></div><div class="sect3" title="10.8.3.3. Examples"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-lavc-examples"></a>10.8.3.3. Examples</h4></div></div></div><p>
This is a typical minimum set of <tt class="option">-lavcopts</tt> for
encoding video:
</p><p>
VCD:
</p><pre class="screen">
-lavcopts vcodec=mpeg1video:vrc_buf_size=327:vrc_minrate=1152:\
vrc_maxrate=1152:vbitrate=1152:keyint=15:acodec=mp2
</pre><p>
</p><p>
SVCD:
</p><pre class="screen">
-lavcopts vcodec=mpeg2video:vrc_buf_size=917:vrc_maxrate=2500:vbitrate=1800:\
keyint=15:acodec=mp2
</pre><p>
</p><p>
DVD:
</p><pre class="screen">
-lavcopts vcodec=mpeg2video:vrc_buf_size=1835:vrc_maxrate=9800:vbitrate=5000:\
keyint=15:vstrict=0:acodec=ac3
</pre><p>
</p></div><div class="sect3" title="10.8.3.4. Advanced Options"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-lavc-advanced"></a>10.8.3.4. Advanced Options</h4></div></div></div><p>
For higher quality encoding, you may also wish to add quality-enhancing
options to lavcopts, such as <tt class="option">trell</tt>,
<tt class="option">mbd=2</tt>, and others.
Note that <tt class="option">qpel</tt> and <tt class="option">v4mv</tt>, while often
useful with MPEG-4, are not usable with MPEG-1 or MPEG-2.
Also, if you are trying to make a very high quality DVD encode, it may
be useful to add <tt class="option">dc=10</tt> to lavcopts.
Doing so may help reduce the appearance of blocks in flat-colored areas.
Putting it all together, this is an example of a set of lavcopts for a
higher quality DVD:
</p><p>
</p><pre class="screen">
-lavcopts vcodec=mpeg2video:vrc_buf_size=1835:vrc_maxrate=9800:vbitrate=8000:\
keyint=15:trell:mbd=2:precmp=2:subcmp=2:cmp=2:dia=-10:predia=-10:cbp:mv0:\
vqmin=1:lmin=1:dc=10:vstrict=0
</pre><p>
</p></div></div><div class="sect2" title="10.8.4. Encoding Audio"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-vcd-dvd-audio"></a>10.8.4. Encoding Audio</h3></div></div></div><p>
VCD and SVCD support MPEG-1 layer II audio, using one of
<code class="systemitem">toolame</code>,
<code class="systemitem">twolame</code>,
or <code class="systemitem">libavcodec</code>'s MP2 encoder.
The libavcodec MP2 is far from being as good as the other two libraries,
however it should always be available to use.
VCD only supports constant bitrate audio (CBR) whereas SVCD supports
variable bitrate (VBR), too.
Be careful when using VBR because some bad standalone players might not
support it too well.
</p><p>
For DVD audio, <code class="systemitem">libavcodec</code>'s
AC-3 codec is used.
</p><div class="sect3" title="10.8.4.1. toolame"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-audio-toolame"></a>10.8.4.1. toolame</h4></div></div></div><p>
For VCD and SVCD:
</p><pre class="screen">-oac toolame -toolameopts br=224</pre><p>
</p></div><div class="sect3" title="10.8.4.2. twolame"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-audio-twolame"></a>10.8.4.2. twolame</h4></div></div></div><p>
For VCD and SVCD:
</p><pre class="screen">-oac twolame -twolameopts br=224</pre><p>
</p></div><div class="sect3" title="10.8.4.3. libavcodec"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-audio-lavc"></a>10.8.4.3. libavcodec</h4></div></div></div><p>
For DVD with 2 channel sound:
</p><pre class="screen">-oac lavc -lavcopts acodec=ac3:abitrate=192</pre><p>
</p><p>
For DVD with 5.1 channel sound:
</p><pre class="screen">-channels 6 -oac lavc -lavcopts acodec=ac3:abitrate=384</pre><p>
</p><p>
For VCD and SVCD:
</p><pre class="screen">-oac lavc -lavcopts acodec=mp2:abitrate=224</pre><p>
</p></div></div><div class="sect2" title="10.8.5. Putting it all Together"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-vcd-dvd-all"></a>10.8.5. Putting it all Together</h3></div></div></div><p>
This section shows some complete commands for creating VCD/SVCD/DVD
compliant videos.
</p><div class="sect3" title="10.8.5.1. PAL DVD"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-pal-dvd"></a>10.8.5.1. PAL DVD</h4></div></div></div><p>
</p><pre class="screen">
mencoder -oac lavc -ovc lavc -of mpeg -mpegopts format=dvd:tsaf \
  -vf scale=720:576,harddup -srate 48000 -af lavcresample=48000 \
  -lavcopts vcodec=mpeg2video:vrc_buf_size=1835:vrc_maxrate=9800:vbitrate=5000:\
keyint=15:vstrict=0:acodec=ac3:abitrate=192:aspect=16/9 -ofps 25 \
  -o <em class="replaceable"><code>movie.mpg</code></em> <em class="replaceable"><code>movie.avi</code></em>
</pre><p>
</p></div><div class="sect3" title="10.8.5.2. NTSC DVD"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-ntsc-dvd"></a>10.8.5.2. NTSC DVD</h4></div></div></div><p>
</p><pre class="screen">
mencoder -oac lavc -ovc lavc -of mpeg -mpegopts format=dvd:tsaf \
  -vf scale=720:480,harddup -srate 48000 -af lavcresample=48000 \
  -lavcopts vcodec=mpeg2video:vrc_buf_size=1835:vrc_maxrate=9800:vbitrate=5000:\
keyint=18:vstrict=0:acodec=ac3:abitrate=192:aspect=16/9 -ofps 30000/1001 \
  -o <em class="replaceable"><code>movie.mpg</code></em> <em class="replaceable"><code>movie.avi</code></em>
</pre><p>
</p></div><div class="sect3" title="10.8.5.3. PAL AVI Containing AC-3 Audio to DVD"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-pal-ac3-copy"></a>10.8.5.3. PAL AVI Containing AC-3 Audio to DVD</h4></div></div></div><p>
If the source already has AC-3 audio, use -oac copy instead of re-encoding it.
</p><pre class="screen">
mencoder -oac copy -ovc lavc -of mpeg -mpegopts format=dvd:tsaf \
  -vf scale=720:576,harddup -ofps 25 \
  -lavcopts vcodec=mpeg2video:vrc_buf_size=1835:vrc_maxrate=9800:vbitrate=5000:\
keyint=15:vstrict=0:aspect=16/9 -o <em class="replaceable"><code>movie.mpg</code></em> <em class="replaceable"><code>movie.avi</code></em>
</pre><p>
</p></div><div class="sect3" title="10.8.5.4. NTSC AVI Containing AC-3 Audio to DVD"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-ntsc-ac3-copy"></a>10.8.5.4. NTSC AVI Containing AC-3 Audio to DVD</h4></div></div></div><p>
If the source already has AC-3 audio, and is NTSC @ 24000/1001 fps:
</p><pre class="screen">
mencoder -oac copy -ovc lavc -of mpeg -mpegopts format=dvd:tsaf:telecine \
  -vf scale=720:480,harddup -lavcopts vcodec=mpeg2video:vrc_buf_size=1835:\
  vrc_maxrate=9800:vbitrate=5000:keyint=15:vstrict=0:aspect=16/9 -ofps 24000/1001 \
  -o <em class="replaceable"><code>movie.mpg</code></em> <em class="replaceable"><code>movie.avi</code></em>
</pre><p>
</p></div><div class="sect3" title="10.8.5.5. PAL SVCD"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-pal-svcd"></a>10.8.5.5. PAL SVCD</h4></div></div></div><p>
</p><pre class="screen">
mencoder -oac lavc -ovc lavc -of mpeg -mpegopts format=xsvcd -vf \
    scale=480:576,harddup -srate 44100 -af lavcresample=44100 -lavcopts \
    vcodec=mpeg2video:mbd=2:keyint=15:vrc_buf_size=917:vrc_minrate=600:\
vbitrate=2500:vrc_maxrate=2500:acodec=mp2:abitrate=224 -ofps 25 \
    -o <em class="replaceable"><code>movie.mpg</code></em> <em class="replaceable"><code>movie.avi</code></em>
  </pre><p>
</p></div><div class="sect3" title="10.8.5.6. NTSC SVCD"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-ntsc-svcd"></a>10.8.5.6. NTSC SVCD</h4></div></div></div><p>
</p><pre class="screen">
mencoder -oac lavc -ovc lavc -of mpeg -mpegopts format=xsvcd  -vf \
    scale=480:480,harddup -srate 44100 -af lavcresample=44100 -lavcopts \
    vcodec=mpeg2video:mbd=2:keyint=18:vrc_buf_size=917:vrc_minrate=600:\
vbitrate=2500:vrc_maxrate=2500:acodec=mp2:abitrate=224 -ofps 30000/1001 \
    -o <em class="replaceable"><code>movie.mpg</code></em> <em class="replaceable"><code>movie.avi</code></em>
</pre><p>
</p></div><div class="sect3" title="10.8.5.7. PAL VCD"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-pal-vcd"></a>10.8.5.7. PAL VCD</h4></div></div></div><p>
</p><pre class="screen">
mencoder -oac lavc -ovc lavc -of mpeg -mpegopts format=xvcd -vf \
    scale=352:288,harddup -srate 44100 -af lavcresample=44100 -lavcopts \
    vcodec=mpeg1video:keyint=15:vrc_buf_size=327:vrc_minrate=1152:\
vbitrate=1152:vrc_maxrate=1152:acodec=mp2:abitrate=224 -ofps 25 \
    -o <em class="replaceable"><code>movie.mpg</code></em> <em class="replaceable"><code>movie.avi</code></em>
</pre><p>
</p></div><div class="sect3" title="10.8.5.8. NTSC VCD"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-ntsc-vcd"></a>10.8.5.8. NTSC VCD</h4></div></div></div><p>
</p><pre class="screen">
mencoder -oac lavc -ovc lavc -of mpeg -mpegopts format=xvcd -vf \
    scale=352:240,harddup -srate 44100 -af lavcresample=44100 -lavcopts \
    vcodec=mpeg1video:keyint=18:vrc_buf_size=327:vrc_minrate=1152:\
vbitrate=1152:vrc_maxrate=1152:acodec=mp2:abitrate=224 -ofps 30000/1001 \
    -o <em class="replaceable"><code>movie.mpg</code></em> <em class="replaceable"><code>movie.avi</code></em>
</pre><p>
</p></div></div></div><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p><sup>[<a name="ftn.fn-menc-feat-dvd-mpeg4-codec-cpu" href="#fn-menc-feat-dvd-mpeg4-codec-cpu" class="para">1</a>] </sup>
  Fai comunque attenzione: la decodifica di video MPEG-4 AVC a risoluzione DVD
  richiede una macchina veloce (per es. un Pentium 4 oltre 1.5GHz o un Pentium
  M superiore a 1GHz).
  </p></div><div class="footnote"><p><sup>[<a name="ftn.fn-menc-feat-dvd-mpeg4-codec-playback" href="#fn-menc-feat-dvd-mpeg4-codec-playback" class="para">2</a>] </sup>
  La stessa codifica potrebbe non apparire uguale sullo schermo di qualcun
  altro o se riprodotta con un decodificatore differente, perciò controlla
  i tuoi risultati riproducendoli in diverse condizioni.
  </p></div></div></div><div class="chapter" title="Capitolo 11. Frequently Asked Questions"><div class="titlepage"><div><div><h2 class="title"><a name="faq"></a>Capitolo 11. Frequently Asked Questions</h2></div></div></div><div class="qandaset" title="Domande ricorrenti"><a name="id2598163"></a><dl><dt>11.1.  <a href="#faq-development">Sviluppo</a></dt><dd><dl><dt>Domanda: <a href="#id2598176">
Come posso creare una patch adeguata per MPlayer?
</a></dt><dt>Domanda: <a href="#id2598769">
Come traduco MPlayer in una nuova lingua?
</a></dt><dt>Domanda: <a href="#id2598802">
Come posso supportare lo sviluppo di MPlayer?
</a></dt><dt>Domanda: <a href="#id2598835">
Come divento uno sviluppatore di MPlayer?
</a></dt><dt>Domanda: <a href="#id2598877">
Perché non usate autoconf/automake?
</a></dt></dl></dd><dt>11.2.  <a href="#faq-compilation-installation">Compilazione e installazione</a></dt><dd><dl><dt>Domanda: <a href="#id2598918">
La compilazione fallisce con un errore e gcc se ne
esce con qualche messaggio criptico contenente la frase
internal compiler error o
unable to find a register to spill o
can't find a register in class `GENERAL_REGS'
while reloading `asm'.
</a></dt><dt>Domanda: <a href="#id2598981">
Ci sono pacchetti binari (Debian/RPM) di MPlayer?
</a></dt><dt>Domanda: <a href="#id2599013">
Come posso compilare MPlayer a 32 bit su un Athlon a 64 bit?
</a></dt><dt>Domanda: <a href="#id2599040">
configure si ferma con questo testo, e MPlayer non compila!
Your gcc does not support even i386 for '-march' and '-mcpu'
</a></dt><dt>Domanda: <a href="#id2599074">
Ho una Matrox G200/G400/G450/G550, come compilo/uso il driver
mga_vid?
</a></dt><dt>Domanda: <a href="#id2599100">
Durante il 'make', MPlayer si lamenta che mancano le
librerie di X11. Non capisco, io ho X11 installato!?
</a></dt><dt>Domanda: <a href="#id2599162">
La compilazione sotto Mac OS 10.3 dà molti errori di link.
</a></dt></dl></dd><dt>11.3.  <a href="#faq-general">Domande generali</a></dt><dd><dl><dt>Domanda: <a href="#id2599293">
Ci sono mailing list su MPlayer?
</a></dt><dt>Domanda: <a href="#id2599318">
Ho trovato un brutto baco cercando di riprodurre il mio video preferito!
Chi dovrei informare?
</a></dt><dt>Domanda: <a href="#id2599341">
Ho dei problemi a leggere dei file col codec ... . Posso usarli?
</a></dt><dt>Domanda: <a href="#id2599368">
Quando avvio la riproduzione, esce questo messaggio, ma tutto sembra a posto:
Linux RTC init: ioctl (rtc_pie_on): Permission denied
</a></dt><dt>Domanda: <a href="#id2599398">
Come posso salvare un'istantanea (screenshot)?
</a></dt><dt>Domanda: <a href="#id2599447">
Qual'è il significato dei numeri sulla linea di stato?
</a></dt><dt>Domanda: <a href="#id2599684">
Ci sono dei messaggi di errore circa un file non trovato
/usr/local/lib/codecs/ ...
</a></dt><dt>Domanda: <a href="#id2599710">
Come posso far sì che MPlayer si ricordi le
opzioni che uso per un dato file, per es. filmato.avi?
</a></dt><dt>Domanda: <a href="#id2599752">
I sottotitoli sono molto belli, i migliori ch'io abbia mai visto, ma rallentano
la riproduzione! So che è strano ...
</a></dt><dt>Domanda: <a href="#id2599792">
Non riesco ad aprire il menu della GUI. Premo il tasto destro, ma non accedo
ad alcuna voce del menu!
</a></dt><dt>Domanda: <a href="#id2599865">
Come posso eseguire MPlayer in background?
</a></dt></dl></dd><dt>11.4.  <a href="#faq-playback">Problemi di riproduzione</a></dt><dd><dl><dt>Domanda: <a href="#id2599911">
Non riesco ad isolare la causa di qualche strano problema di riproduzione.
</a></dt><dt>Domanda: <a href="#id2599978">
Come faccio a far sì che i sottotitoli vengano visualizzati sui margini neri
esterni al film?
</a></dt><dt>Domanda: <a href="#id2600008">
Come seleziono le tracce audio/sottotitoli di un file DVD, OGM, Matroska o NUT?
</a></dt><dt>Domanda: <a href="#id2600067">
Sto cercando di riprodurre un qualche file da internet ma non ce la fa.
</a></dt><dt>Domanda: <a href="#id2600084">
Ho scaricato un film da una rete P2P e non funziona!
</a></dt><dt>Domanda: <a href="#id2600108">
Ho problemi con la visualizzazione dei miei sottotitoli, aiuto!!
</a></dt><dt>Domanda: <a href="#id2600142">
Perché MPlayer non funziona in Fedora Core?
</a></dt><dt>Domanda: <a href="#id2600303">
MPlayer muore con
MPlayer interrupted by signal 4 in module: decode_video
</a></dt><dt>Domanda: <a href="#id2600344">
Quando cerco di acquisire dal mio sintonizzatore, ci riesco, ma i colori sono
strani. Con altre applicazioni è OK.
</a></dt><dt>Domanda: <a href="#id2600373">
Ottengo dei valori percentuali molto strani (decisamente troppo alti)
riproducendo file sul mio portatile.
</a></dt><dt>Domanda: <a href="#id2600404">
Quando eseguo MPlayer da utente
root sul mio portatile,
l'audio e il video vanno totalmente fuori sincronia.
Funziona normalmente quando lo eseguo da utente normale.
</a></dt><dt>Domanda: <a href="#id2600446">
Riproducendo un film, questo di colpo diventa scattoso e ottengo il messaggio
seguente:
Badly interleaved AVI file detected - switching to -ni mode...
</a></dt></dl></dd><dt>11.5.  <a href="#faq-driver">Problemi dei driver video/audio (vo/ao)</a></dt><dd><dl><dt>Domanda: <a href="#id2600488">
Quando riproduco a schermo intero ottengo solo bordi neri intorno all'immagine e
nessun vero ridimensionamento in modalità a schermo intero.
</a></dt><dt>Domanda: <a href="#id2600546">
Ho appena installato MPlayer. Quando voglio aprire
un file video causa un errore fatale:
Errore aprendo/inizializzando il dispositivo uscita video (-vo) selezionato!
Come posso risovlere il mio problema?
</a></dt><dt>Domanda: <a href="#id2600615">
Ho dei problemi con [il tuo window manager]
e le modalità a schermo pieno di xv/xmga/sdl/x11 ...
</a></dt><dt>Domanda: <a href="#id2600646">
Riproducendo un file AVI, l'audio perde la sincronizzazione.
</a></dt><dt>Domanda: <a href="#id2600674">
Il mio computer riproduce gli AVI MS DivX a risoluzione ~ 640x300 e l'audio
MP3 stereo è troppo lento.
Quando uso l'opzione -nosound, tutto è OK (ma silenzioso).
</a></dt><dt>Domanda: <a href="#id2600700">
Come faccio ad usare dmix con
MPlayer?
</a></dt><dt>Domanda: <a href="#id2600736">
Riproducendo un video non sento alcun suono e ricevo messaggi di errore simili
a questo:

AO: [oss] 44100Hz 2ch Signed 16-bit (Little-Endian)
audio_setup: Can't open audio device /dev/dsp: Device or resource busy
couldn't open/init audio device -&gt; NOSOUND
Audio: no sound!!!
Start playing...

</a></dt><dt>Domanda: <a href="#id2600781">
Avviando MPlayer in KDE ottengo solo una schermata
nera e non succede nulla. Dopo circa un minuto inizia la riproduzione del video.
</a></dt><dt>Domanda: <a href="#id2600823">
Ho problemi di sincronia A/V.
Alcuni miei AVI vengono riprodotti bene, ma alcuni vanno a velocià doppia!
</a></dt><dt>Domanda: <a href="#id2600848">
Quando riproduco questo film ho desincronizzazione video-audio e/o
MPlayer va in crash con il seguente messaggio:

DEMUXER: Too many (945 in 8390980 bytes) video packets in the buffer!

</a></dt><dt>Domanda: <a href="#id2600947">
Come faccio ad eliminare la desincronizzazione A/V durante la
ricerca attraverso flussi RealMedia?
</a></dt></dl></dd><dt>11.6.  <a href="#faq-dvd">Riproduzione DVD</a></dt><dd><dl><dt>Domanda: <a href="#id2600978">
Circa la navigazione/menu del DVD?
</a></dt><dt>Domanda: <a href="#id2601027">
Non riesco a guardare alcun DVD recente di Sony Pictures/BMG.
</a></dt><dt>Domanda: <a href="#id2601063">
Riguardo i sottotitoli? MPlayer può mostrarli?
</a></dt><dt>Domanda: <a href="#id2601089">
Come posso impostare il codice di zona del mio lettore DVD? Non ho Windows!
</a></dt><dt>Domanda: <a href="#id2601109">
Non riesco a riprodurre un DVD, MPlayer si blocca o emette degli errori tipo
"Encrypted VOB file!".
</a></dt><dt>Domanda: <a href="#id2601126">
Devo essere (setuid) root per riuscire a riprodurre un DVD?
</a></dt><dt>Domanda: <a href="#id2601148">
E' possibile riprodurre/codificare solo dei capitoli voluti?
</a></dt><dt>Domanda: <a href="#id2601165">
La mia riproduzione DVD è fiacca!
</a></dt><dt>Domanda: <a href="#id2601198">
Ho copiato un DVD usando vobcopy. Come lo riproduco/codifico dal mio disco
fisso?
</a></dt></dl></dd><dt>11.7.  <a href="#faq-features">Richieste di funzionalità</a></dt><dd><dl><dt>Domanda: <a href="#id2601242">
Se MPlayer è in pausa e provo a fare una ricerca o
premo un qualsiasi tasto, MPlayer esce dalla pausa.
Mi piacerebbe poter fare la ricerca nel film in pausa.
</a></dt><dt>Domanda: <a href="#id2601274">
Mi piacerebbe fare la ricerca di +/- 1 fotogramma, invece che di 10 secondi.
</a></dt></dl></dd><dt>11.8.  <a href="#faq-encoding">Codifica</a></dt><dd><dl><dt>Domanda: <a href="#id2601312">
How can I encode?
Come posso codificare?
</a></dt><dt>Domanda: <a href="#id2601335">
Come posso fare un dump completo di un DVD su un file?
</a></dt><dt>Domanda: <a href="#id2601375">
Come posso creare automaticamente dei (S)VCD?
</a></dt><dt>Domanda: <a href="#id2601405">
Come posso creare dei (S)VCD?
</a></dt><dt>Domanda: <a href="#id2601437">
Come posso unire due file video?
</a></dt><dt>Domanda: <a href="#id2601497">
Come posso correggere file AVI con indice danneggiato o cattivo interleave?
</a></dt><dt>Domanda: <a href="#id2601540">
Come posso correggere il rapporto di aspetto di un file AVI?
</a></dt><dt>Domanda: <a href="#id2601580">
Come posso fare il backup e la codifica di un file VOB con un'inizio rovinato?
</a></dt><dt>Domanda: <a href="#id2601646">
Non riesco a codificare i sottotitoli DVD dentro all'AVI!
</a></dt><dt>Domanda: <a href="#id2601662">
Come posso codificare solo determinati capitoli di un DVD?
</a></dt><dt>Domanda: <a href="#id2601683">
Sto cercando di lavorare con file di 2GB+ su un filesystem VFAT. Funziona?
</a></dt><dt>Domanda: <a href="#id2601697">
Qual'è il significato dei numeri sulla linea di stato durante il processo
di codifica?
</a></dt><dt>Domanda: <a href="#id2601844">
Perché la frequenza consigliata emessa da MEncoder
ha un valore negativo?
</a></dt><dt>Domanda: <a href="#id2601869">
Non riesco a codificare un ASF in AVI/MPEG-4 (DivX) perché usa 1000 fps.
</a></dt><dt>Domanda: <a href="#id2601889">
Come posso mettere i sottotitoli nel file di destinazione?
</a></dt><dt>Domanda: <a href="#id2601917">
Come faccio a codificare solo l'audio da un video musicale?
</a></dt><dt>Domanda: <a href="#id2601987">
Perché riproduttori di terze parti non riescono a riprodurre filmati MPEG-4
codificati da MEncoder con versione superiore alla
1.0pre7?
</a></dt><dt>Domanda: <a href="#id2602122">
Come posso codificare un file solo audio?
</a></dt><dt>Domanda: <a href="#id2602149">
Come posso riprodurre sottotitoli impacchettati in un AVI?
</a></dt><dt>Domanda: <a href="#id2602177">
MPlayer non potrebbe...
</a></dt></dl></dd></dl><table border="0" width="100%" summary="Q and A Set"><col align="left" width="1%"><col><tbody><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq-development"></a>11.1. Sviluppo</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>Domanda: <a href="#id2598176">
Come posso creare una patch adeguata per MPlayer?
</a></dt><dt>Domanda: <a href="#id2598769">
Come traduco MPlayer in una nuova lingua?
</a></dt><dt>Domanda: <a href="#id2598802">
Come posso supportare lo sviluppo di MPlayer?
</a></dt><dt>Domanda: <a href="#id2598835">
Come divento uno sviluppatore di MPlayer?
</a></dt><dt>Domanda: <a href="#id2598877">
Perché non usate autoconf/automake?
</a></dt></dl></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2598176"></a><a name="id2598178"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come posso creare una patch adeguata per <span class="application">MPlayer</span>?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Abbiamo scritto un <a class="ulink" href="../../tech/patches.txt" target="_top">breve documento</a>
che descrive tutti i dettagli necessari. Per favore seguine le istruzioni.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2598769"></a><a name="id2598771"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come traduco <span class="application">MPlayer</span> in una nuova lingua?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Leggi l'<a class="ulink" href="../../tech/translations.txt" target="_top">HOWTO sulle traduzioni</a>,
dovrebbe spiegare tutto. Puoi ottenere maggior aiuto sulla mailing list
<a class="ulink" href="http://lists.mplayerhq.hu/mailman/listinfo/mplayer-translations" target="_top">MPlayer-translations</a>.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2598802"></a><a name="id2598804"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come posso supportare lo sviluppo di <span class="application">MPlayer</span>?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Siamo più che felici di accettare le vostre
<a class="ulink" href="http://www.mplayerhq.hu/donations.html" target="_top">donazioni</a> hardware
e software.
Ci aiutano a migliorare continuamente <span class="application">MPlayer</span>.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2598835"></a><a name="id2598837"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come divento uno sviluppatore di <span class="application">MPlayer</span>?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Sviluppatori e redattori della documentazione sono sempre i benvenuti.
Leggi la <a class="ulink" href="../../tech/" target="_top">documentazione tecnica</a> per un primo
approccio. Poi dovresti iscriverti alla mailing list
<a class="ulink" href="http://lists.mplayerhq.hu/mailman/listinfo/mplayer-dev-eng" target="_top">MPlayer-dev-eng</a>
e cominciare a scrivere codice. Se vuoi aiutarci con la documentazione,
iscriviti alla mailing list
<a class="ulink" href="http://lists.mplayerhq.hu/mailman/listinfo/mplayer-docs" target="_top">MPlayer-docs</a>.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2598877"></a><a name="id2598879"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Perché non usate autoconf/automake?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Abbiamo un nostro sistema di compilazione modulare, autoprodotto. Fa
un lavoro ragionevolmente buono, perciò, perché cambiarlo? E poi, non ci
piacciono gli auto* strumenti, proprio come ad
<a class="ulink" href="http://freshmeat.net/articles/view/889/" target="_top">altre persone</a>.
</p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq-compilation-installation"></a>11.2. Compilazione e installazione</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>Domanda: <a href="#id2598918">
La compilazione fallisce con un errore e gcc se ne
esce con qualche messaggio criptico contenente la frase
internal compiler error o
unable to find a register to spill o
can't find a register in class `GENERAL_REGS'
while reloading `asm'.
</a></dt><dt>Domanda: <a href="#id2598981">
Ci sono pacchetti binari (Debian/RPM) di MPlayer?
</a></dt><dt>Domanda: <a href="#id2599013">
Come posso compilare MPlayer a 32 bit su un Athlon a 64 bit?
</a></dt><dt>Domanda: <a href="#id2599040">
configure si ferma con questo testo, e MPlayer non compila!
Your gcc does not support even i386 for '-march' and '-mcpu'
</a></dt><dt>Domanda: <a href="#id2599074">
Ho una Matrox G200/G400/G450/G550, come compilo/uso il driver
mga_vid?
</a></dt><dt>Domanda: <a href="#id2599100">
Durante il 'make', MPlayer si lamenta che mancano le
librerie di X11. Non capisco, io ho X11 installato!?
</a></dt><dt>Domanda: <a href="#id2599162">
La compilazione sotto Mac OS 10.3 dà molti errori di link.
</a></dt></dl></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2598918"></a><a name="id2598920"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
La compilazione fallisce con un errore e <span class="application">gcc</span> se ne
esce con qualche messaggio criptico contenente la frase
<code class="systemitem">internal compiler error</code> o
<code class="systemitem">unable to find a register to spill</code> o
<code class="systemitem">can't find a register in class `GENERAL_REGS'
while reloading `asm'</code>.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Sei incappato un un baco di <span class="application">gcc</span>. Per favore
<a class="ulink" href="http://gcc.gnu.org/bugs.html" target="_top">riporta l'errore al gruppo di gcc</a>
e non a noi. Per qualche ragione <span class="application">MPlayer</span> pare
riuscire ad attivare bachi del compilatore frequentemente. Tuttavia non
possiamo correggerli e neanche aggiungere workaround nei nostri sorgenti per i
bachi nel compilatore. Per evitare questi problemi, o ti affidi a una versione
del compilatore ritenuta affidabile, o lo aggiorni spesso.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2598981"></a><a name="id2598983"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Ci sono pacchetti binari (Debian/RPM) di <span class="application">MPlayer</span>?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Vedi le sezioni <a class="link" href="#debian" title="8.1.1. Debian packaging">Debian</a> e
<a class="link" href="#rpm" title="8.1.2. RPM packaging">RPM</a> per i dettagli.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2599013"></a><a name="id2599015"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come posso compilare <span class="application">MPlayer</span> a 32 bit su un Athlon a 64 bit?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Prova le seguenti opzioni di configure:
</p><pre class="screen">
./configure --target=i386-linux --cc="gcc -m32" --as="as --32" --with-extralibdir=/usr/lib
</pre><p>
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2599040"></a><a name="id2599042"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
configure si ferma con questo testo, e <span class="application">MPlayer</span> non compila!
</p><pre class="screen">Your gcc does not support even i386 for '-march' and '-mcpu'</pre><p>
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Il tuo gcc non è installato correttamente, controlla il file
<tt class="filename">configure.log</tt>.log per i dettagli.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2599074"></a><a name="id2599076"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Ho una Matrox G200/G400/G450/G550, come compilo/uso il driver
<code class="systemitem">mga_vid</code>?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Leggi la sezione <a class="link" href="#mga_vid" title="7.7. Framebuffer Matrox (mga_vid)">mga_vid</a>.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2599100"></a><a name="id2599102"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Durante il 'make', <span class="application">MPlayer</span> si lamenta che mancano le
librerie di X11. Non capisco, io <span class="emphasis"><em>ho</em></span> X11 installato!?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
... ma non hai il pacchetto di sviluppo di X11 installato, o non è installato
correttamente.
Si chiama <tt class="filename">XFree86-devel*</tt> sotto Red Hat,
<tt class="filename">xlibs-dev</tt> in Debian Woody e
<tt class="filename">libx11-dev</tt> in Debian Sarge. Controlla anche se esistono i
collegamenti simbolici
<tt class="filename">/usr/X11</tt> e
<tt class="filename">/usr/include/X11</tt>.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2599162"></a><a name="id2599164"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
La compilazione sotto Mac OS 10.3 dà molti errori di link.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
L'errore che riscontri nella fase di link probabilmente è simile a questo:
</p><pre class="screen">
ld: Undefined symbols:
_LLCStyleInfoCheckForOpenTypeTables referenced from QuartzCore expected to be defined in ApplicationServices
_LLCStyleInfoGetUserRunFeatures referenced from QuartzCore expected to be defined in ApplicationServices
</pre><p>
Questo problema è dato dal fatto che gli sviluppatori di Apple usano 10.4 per
compilare il loro software e distribuiscono i binari per il 10.3 usando
Aggiornamento Software.
Gli 'undefined symbols' sono presenti in Mac OS 10.4, ma non in 10.3.
Una soluzione può essere retrocedere a QuickTime 7.0.1.
Qui c'è una soluzione migliore.
</p><p>
Scarica una
<a class="ulink" href="http://rapidshare.de/files/20281171/CompatFrameworks.tgz.html" target="_top">copia più vecchia dei framework</a>.
Questo ti farà avere un file compresso che contiene il Framework di QuickTime
7.0.1 e un Framework QuartzCore del 10.3.
</p><p>
Decomprimi da qualche parte i file tranne che nella tua cartella Sistema.
(per es. non installare questi framework nella tua
<tt class="filename">/System/Library/Frameworks</tt>!
Usare questa copia precedente serve solo ad aggirare i problemi di link!)
</p><pre class="screen">gunzip &lt; CompatFrameworks.tgz | tar xvf -</pre><p>
In config.mak, dovresti aggiungere
<code class="systemitem">-F/percorso/dove/hai/estratto</code>
alla variabile <code class="systemitem">OPTFLAGS</code>.
Se stai usando <span class="application">X-Code</span>, devi semplicemente
selezionare questi framework al posto di quelli di sistema.
</p><p>
Il binario di <span class="application">MPlayer</span> risultante userà
effettivamente il framework installato sul tuo sistema attraverso i link
dinamici risolti durante l'esecuzione
(Puoi verificarlo usando <code class="systemitem">otool -l</code>).
</p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq-general"></a>11.3. Domande generali</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>Domanda: <a href="#id2599293">
Ci sono mailing list su MPlayer?
</a></dt><dt>Domanda: <a href="#id2599318">
Ho trovato un brutto baco cercando di riprodurre il mio video preferito!
Chi dovrei informare?
</a></dt><dt>Domanda: <a href="#id2599341">
Ho dei problemi a leggere dei file col codec ... . Posso usarli?
</a></dt><dt>Domanda: <a href="#id2599368">
Quando avvio la riproduzione, esce questo messaggio, ma tutto sembra a posto:
Linux RTC init: ioctl (rtc_pie_on): Permission denied
</a></dt><dt>Domanda: <a href="#id2599398">
Come posso salvare un'istantanea (screenshot)?
</a></dt><dt>Domanda: <a href="#id2599447">
Qual'è il significato dei numeri sulla linea di stato?
</a></dt><dt>Domanda: <a href="#id2599684">
Ci sono dei messaggi di errore circa un file non trovato
/usr/local/lib/codecs/ ...
</a></dt><dt>Domanda: <a href="#id2599710">
Come posso far sì che MPlayer si ricordi le
opzioni che uso per un dato file, per es. filmato.avi?
</a></dt><dt>Domanda: <a href="#id2599752">
I sottotitoli sono molto belli, i migliori ch'io abbia mai visto, ma rallentano
la riproduzione! So che è strano ...
</a></dt><dt>Domanda: <a href="#id2599792">
Non riesco ad aprire il menu della GUI. Premo il tasto destro, ma non accedo
ad alcuna voce del menu!
</a></dt><dt>Domanda: <a href="#id2599865">
Come posso eseguire MPlayer in background?
</a></dt></dl></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2599293"></a><a name="id2599295"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Ci sono mailing list su <span class="application">MPlayer</span>?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Sì. Vedi la
<a class="ulink" href="http://www.mplayerhq.hu/design7/mailing_lists.html" target="_top">sezione mailing lists</a>
sul nostro sito.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2599318"></a><a name="id2599320"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Ho trovato un brutto baco cercando di riprodurre il mio video preferito!
Chi dovrei informare?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Leggi per favore le
<a class="link" href="#bugreports" title="Appendice A. Come segnalare i bug (errori)">linee guida per segnalare i bug</a> e segui le
istruzioni.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2599341"></a><a name="id2599343"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Ho dei problemi a leggere dei file col codec ... . Posso usarli?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Controlla la
<a class="ulink" href="../../codecs-status.html" target="_top">tabella di stato dei codec</a>, se
non contiene il tuo codec, leggi
l'HOWTO sull'<a class="ulink" href="../../tech/win32-codec-howto" target="_top">importazione codec Win32</a> e
contattaci.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2599368"></a><a name="id2599371"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Quando avvio la riproduzione, esce questo messaggio, ma tutto sembra a posto:
</p><pre class="screen">Linux RTC init: ioctl (rtc_pie_on): Permission denied</pre><p>
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Ti serve un kernel appositamente impostato per usare il codice di
temporizzazione per RTC.
Per i dettagli leggi la sezione della documentazione su
<a class="link" href="#rtc" title="2.6. RTC">RTC</a>.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2599398"></a><a name="id2599400"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come posso salvare un'istantanea (screenshot)?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Per poter salvare un'istananea devi usare un driver di uscita video che non
utilizzi un sistema di overlay. Sotto X11, <tt class="option">-vo x11</tt> fara ciò,
sotto Windows funziona <tt class="option">-vo directx:noaccel</tt>.
</p><p>
Alternativamente puoi eseguire <span class="application">MPlayer</span> con il filtro
video <code class="systemitem">screenshot</code> (<tt class="option">-vf screenshot</tt>),
e premere <span class="keycap"><b>s</b></span> per fare un'istantanea.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2599447"></a><a name="id2599449"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Qual'è il significato dei numeri sulla linea di stato?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Esempio:
</p><pre class="screen">
A: 2.1 V: 2.2 A-V: -0.167 ct: 0.042 57/57 41% 0% 2.6% 0 4 49% 1.00x
</pre><p>
</p><div class="variablelist"><dl><dt><span class="term"><code class="systemitem">A: 2.1</code></span></dt><dd><p>posizione audio in secondi</p></dd><dt><span class="term"><code class="systemitem">V: 2.2</code></span></dt><dd><p>posizione video in secondi</p></dd><dt><span class="term"><code class="systemitem">A-V: -0.167</code></span></dt><dd><p>differenza audio-video in secondi (ritardo)</p></dd><dt><span class="term"><code class="systemitem">ct: 0.042</code></span></dt><dd><p>sincronizzazione A/V totale eseguita</p></dd><dt><span class="term"><code class="systemitem">57/57</code></span></dt><dd><p>
  fotogrammi riprodotti/decodificati (contando dall'ultimo posizionamento)
  </p></dd><dt><span class="term"><code class="systemitem">41%</code></span></dt><dd><p>
  utilizzo di CPU da parte del codec video, in percentuale
  (per lo slice rendering e il direct rendering include video_out)
  </p></dd><dt><span class="term"><code class="systemitem">0%</code></span></dt><dd><p>utilizzo di CPU da parte del video_out</p></dd><dt><span class="term"><code class="systemitem">2.6%</code></span></dt><dd><p>
  utilizzo di CPU da parte del codec audio, in percentuale
  </p></dd><dt><span class="term"><code class="systemitem">0</code></span></dt><dd><p>
  fotogrammi scartati per mantenere la sincronizzazione A-V
  </p></dd><dt><span class="term"><code class="systemitem">4</code></span></dt><dd><p>
  livello corrente della post-elaborazione dell'immagine
  (quando si usa <tt class="option">-autoq</tt>)
  </p></dd><dt><span class="term"><code class="systemitem">49%</code></span></dt><dd><p>
  dimensione corrente della cache usata (intorno al 50% è normale)
  </p></dd><dt><span class="term"><code class="systemitem">1.00x</code></span></dt><dd><p>
  velocità di riproduzione come fattore della velocità originaria
  </p></dd></dl></div><p>
Molti di essi sono presenti per finalità di debug, usa l'opzione
<tt class="option">-quiet</tt> per farli sparire.
Potresti notare che l'utilizzo di CPU del video_out sia zero (0%) per alcuni
file. Questo perché viene invocato direttamente dal codec, perciò non può
venir misurato separatamente. Se vuoi sapere la velocità del video_out,
confronta la differenza riproducendo il file con <tt class="option">-vo null</tt> e
con il tuo driver di uscita video usuale.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2599684"></a><a name="id2599687"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Ci sono dei messaggi di errore circa un file non trovato
<tt class="filename">/usr/local/lib/codecs/</tt> ...
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Scarica e installa i codec binari dalla nostra
<a class="ulink" href="http://www.mplayerhq.hu/design7/dload.html" target="_top">pagina di download</a>.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2599710"></a><a name="id2599712"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come posso far sì che <span class="application">MPlayer</span> si ricordi le
opzioni che uso per un dato file, per es. <tt class="filename">filmato.avi</tt>?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Crea un file con nome <tt class="filename">filmato.avi.conf</tt> con le opzioni
specifiche per il file e mettilo in
<tt class="filename">~/.mplayer</tt> o nella stessa directory del
file stesso.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2599752"></a><a name="id2599754"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
I sottotitoli sono molto belli, i migliori ch'io abbia mai visto, ma rallentano
la riproduzione! So che è strano ...
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Dopo aver eseguito <tt class="filename">./configure</tt>,
modifica <tt class="filename">config.h</tt> e sostituisci
<code class="systemitem">#undef FAST_OSD</code> con
<code class="systemitem">#define FAST_OSD</code>. Poi ricompila.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2599792"></a><a name="id2599795"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Non riesco ad aprire il menu della GUI. Premo il tasto destro, ma non accedo
ad alcuna voce del menu!
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Stai usando FVWM? Prova a fare così:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
  <span class="guimenu">Start</span> → <span class="guisubmenu">Settings</span> → <span class="guisubmenu">Configuration</span> → <span class="guimenuitem">Base Configuration</span>
</p></li><li class="listitem"><p>
  Imposta <code class="systemitem">Use Applications position hints</code> a
  <code class="systemitem">Yes</code>
</p></li></ol></div><p>
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2599865"></a><a name="id2599867"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come posso eseguire <span class="application">MPlayer</span> in background?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Usa:
</p><pre class="screen">
mplayer <em class="replaceable"><code>opzioni</code></em> <em class="replaceable"><code>nomefile</code></em> &lt; /dev/null &amp;
</pre><p>
</p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq-playback"></a>11.4. Problemi di riproduzione</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>Domanda: <a href="#id2599911">
Non riesco ad isolare la causa di qualche strano problema di riproduzione.
</a></dt><dt>Domanda: <a href="#id2599978">
Come faccio a far sì che i sottotitoli vengano visualizzati sui margini neri
esterni al film?
</a></dt><dt>Domanda: <a href="#id2600008">
Come seleziono le tracce audio/sottotitoli di un file DVD, OGM, Matroska o NUT?
</a></dt><dt>Domanda: <a href="#id2600067">
Sto cercando di riprodurre un qualche file da internet ma non ce la fa.
</a></dt><dt>Domanda: <a href="#id2600084">
Ho scaricato un film da una rete P2P e non funziona!
</a></dt><dt>Domanda: <a href="#id2600108">
Ho problemi con la visualizzazione dei miei sottotitoli, aiuto!!
</a></dt><dt>Domanda: <a href="#id2600142">
Perché MPlayer non funziona in Fedora Core?
</a></dt><dt>Domanda: <a href="#id2600303">
MPlayer muore con
MPlayer interrupted by signal 4 in module: decode_video
</a></dt><dt>Domanda: <a href="#id2600344">
Quando cerco di acquisire dal mio sintonizzatore, ci riesco, ma i colori sono
strani. Con altre applicazioni è OK.
</a></dt><dt>Domanda: <a href="#id2600373">
Ottengo dei valori percentuali molto strani (decisamente troppo alti)
riproducendo file sul mio portatile.
</a></dt><dt>Domanda: <a href="#id2600404">
Quando eseguo MPlayer da utente
root sul mio portatile,
l'audio e il video vanno totalmente fuori sincronia.
Funziona normalmente quando lo eseguo da utente normale.
</a></dt><dt>Domanda: <a href="#id2600446">
Riproducendo un film, questo di colpo diventa scattoso e ottengo il messaggio
seguente:
Badly interleaved AVI file detected - switching to -ni mode...
</a></dt></dl></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2599911"></a><a name="id2599914"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Non riesco ad isolare la causa di qualche strano problema di riproduzione.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Hai un file randagio <tt class="filename">codecs.conf</tt> in
<tt class="filename">~/.mplayer/</tt>, <tt class="filename">/etc/</tt>,
<tt class="filename">/usr/local/etc/</tt> o in posti simili? Cancellalo,
un file <tt class="filename">codecs.conf</tt> non aggiornato può causare strani
problemi ed è usabile solo dagli sviluppatori che stanno lavorando sul
supporto codec. Ha più importanza delle impostazioni codec interne di
<span class="application">MPlayer</span>, il che crea macello se vengono fatte delle
modifiche incompatibili in nuove versioni del programma. A meno che non sia
usato da esperti, è la ricetta per il disastro, nella forma di crash e problemi
di riproduzione apparentemente casuali e difficili da localizzare. Se lo hai
ancora in qualche dove sul tuo sistema, dovresti cancellarlo.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2599978"></a><a name="id2599980"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come faccio a far sì che i sottotitoli vengano visualizzati sui margini neri
esterni al film?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Usa il filtro video <code class="systemitem">expand</code> per aumentare l'area
verticale su cui il film viene visualizzato, e posiziona il film stesso sul
bordo superiore, per esempio:
</p><pre class="screen">mplayer -vf expand=0:-100:0:0 -slang it dvd://1</pre><p>
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2600008"></a><a name="id2600010"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come seleziono le tracce audio/sottotitoli di un file DVD, OGM, Matroska o NUT?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Devi usare <tt class="option">-aid</tt> ("audio ID") o <tt class="option">-alang</tt>
("audio language"), <tt class="option">-sid</tt> ("subtitle ID") o
<tt class="option">-slang</tt> ("subtitle language"), per esempio:
</p><pre class="screen">
mplayer -alang eng -slang eng <em class="replaceable"><code>esempio.mkv</code></em>
mplayer -aid 1 -sid 1 <em class="replaceable"><code>esempio.mkv</code></em>
</pre><p>
Per vedere quelle disponibili:
</p><pre class="screen">
mplayer -vo null -ao null -frames 0 -v <em class="replaceable"><code>nomefile</code></em> | grep sid
mplayer -vo null -ao null -frames 0 -v <em class="replaceable"><code>nomefile</code></em> | grep aid
</pre><p>
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2600067"></a><a name="id2600069"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Sto cercando di riprodurre un qualche file da internet ma non ce la fa.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Prova a riprodurre il flusso con l'opzione <tt class="option">-playlist</tt>.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2600084"></a><a name="id2600086"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Ho scaricato un film da una rete P2P e non funziona!
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Il tuo file molto probabilmente è danneggiato o è un falso (fake). Se l'hai
avuto da un amico e lui dice che si vede, prova a confrontarne gli hash
<span class="application">md5sum</span>.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2600108"></a><a name="id2600110"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Ho problemi con la visualizzazione dei miei sottotitoli, aiuto!!
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Assicurati di avere i font correttamente installati. Ripeti di nuovo i passaggi
nella parte <a class="link" href="#fonts-osd" title="2.4. Font e OSD">Font e OSD</a> della sezione
installazione. Se stai usando dei font TrueType, controlla di avere la libreria
<code class="systemitem">FreeType</code> installata. Altre soluzioni
sono di controllare i tuoi sottotitoli con un editor di testo o con altri
riproduttori. Prova anche a convertirli in altri formati.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2600142"></a><a name="id2600144"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Perché <span class="application">MPlayer</span> non funziona in Fedora Core?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
C'è un brutto rapporto in Fedora tra exec-shield, prelink, e una qualsiasi
applicazione che usi le DLL di Windows
(proprio come <span class="application">MPlayer</span>).
</p><p>
Il problema è che exec-shield rende casuale l'indirizzo di caricamento di
tutte le librerie di sistema. Questa casualità è al livello di prelink
(una volta ogni due settimane).
</p><p>
Quando <span class="application">MPlayer</span> cerca di caricare una DLL di Windows
lo vuole fare ad un indirizzo specifico (0x400000). Se una libreria importante
di sistema è già lì, <span class="application">MPlayer</span> andrà in crash.
(Un tipico sintomo potrebbe essere un segmentation fault cercando di
riprodurre file Windows Media 9.)
</p><p>
Se hai questo problema hai due opzioni:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Aspetta due settimane. Potrebbe ricominciare a funzionare.
</p></li><li class="listitem"><p>
  Ri-linka tutti i binari sul sistema con diverse opzioni di prelink. Qui ci
  sono le istruzioni passo per passo:
  </p><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Passo 1"><p>
    Modifica il file <tt class="filename">/etc/syconfig/prelink</tt> e sostituisci
    </p><pre class="programlisting">PRELINK_OPTS=-mR</pre><p> con
    </p><pre class="programlisting">PRELINK_OPTS="-mR --no-exec-shield"</pre><p>
  </p></li><li class="step" title="Passo 2"><p>
    <span class="command"><strong>touch /var/lib/misc/prelink.force</strong></span>
  </p></li><li class="step" title="Passo 3"><p>
    <span class="command"><strong>/etc/cron.daily/prelink</strong></span>
    (Questo ri-linka tutte le applicazioni, e ci mette un po'.)
  </p></li><li class="step" title="Passo 4"><p>
    <span class="command"><strong>execstack -s <em class="replaceable"><code>/percorso/di/</code></em>mplayer</strong></span>
    (Questo disabilita exec-shield per il binario di
    <span class="application">MPlayer</span>.)
  </p></li></ol></div></li></ul></div><p>
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2600303"></a><a name="id2600306"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
<span class="application">MPlayer</span> muore con
</p><pre class="screen">MPlayer interrupted by signal 4 in module: decode_video</pre><p>
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Non utilizzare <span class="application">MPlayer</span> su una CPU diversa da quella
per cui è stato compilato, o ricompilalo con rilevamento della CPU durante
l'esecuzione (<span class="command"><strong>./configure --enable-runtime-cpudetection</strong></span>).
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2600344"></a><a name="id2600346"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Quando cerco di acquisire dal mio sintonizzatore, ci riesco, ma i colori sono
strani. Con altre applicazioni è OK.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Probabilmente la tua scheda riporta alcuni spazi colore come supportati mentre
in verità non li supporta. Prova con YUY2 al posto dello YV12 di default
(vedi la sezione <a class="link" href="#tv-input" title="5.1. Ingresso TV">TV</a>).
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2600373"></a><a name="id2600375"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Ottengo dei valori percentuali molto strani (decisamente troppo alti)
riproducendo file sul mio portatile.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
E' un effetto del sistema di gestione/risparmio energetico del tuo portatile
(del BIOS, non del kernel). Collega l'alimentazione esterna
<span class="bold"><strong>prima</strong></span> di accendere il tuo portatile. Puoi
anche provare se
<a class="ulink" href="http://www.kernel.org/pub/linux/utils/kernel/cpufreq/cpufreq.html" target="_top">cpufreq</a>
può esserti d'aiuto (un'interfaccia SpeedStep per Linux).
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2600404"></a><a name="id2600406"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Quando eseguo <span class="application">MPlayer</span> da utente
<code class="systemitem">root</code> sul mio portatile,
l'audio e il video vanno totalmente fuori sincronia.
Funziona normalmente quando lo eseguo da utente normale.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
C'è un altro effetto del sistema di risparmio energetico (vedi sopra). Collega
l'alimentazione esterna <span class="bold"><strong>prima</strong></span> di accendere il
tuo portatile o usa l'opzione <tt class="option">-nortc</tt>.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2600446"></a><a name="id2600448"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Riproducendo un film, questo di colpo diventa scattoso e ottengo il messaggio
seguente:
</p><pre class="screen">Badly interleaved AVI file detected - switching to -ni mode...</pre><p>
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
File con interleave errato e <tt class="option">-cache</tt> non funzionano bene
insieme. Prova con <tt class="option">-nocache</tt>.
</p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq-driver"></a>11.5. Problemi dei driver video/audio (vo/ao)</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>Domanda: <a href="#id2600488">
Quando riproduco a schermo intero ottengo solo bordi neri intorno all'immagine e
nessun vero ridimensionamento in modalità a schermo intero.
</a></dt><dt>Domanda: <a href="#id2600546">
Ho appena installato MPlayer. Quando voglio aprire
un file video causa un errore fatale:
Errore aprendo/inizializzando il dispositivo uscita video (-vo) selezionato!
Come posso risovlere il mio problema?
</a></dt><dt>Domanda: <a href="#id2600615">
Ho dei problemi con [il tuo window manager]
e le modalità a schermo pieno di xv/xmga/sdl/x11 ...
</a></dt><dt>Domanda: <a href="#id2600646">
Riproducendo un file AVI, l'audio perde la sincronizzazione.
</a></dt><dt>Domanda: <a href="#id2600674">
Il mio computer riproduce gli AVI MS DivX a risoluzione ~ 640x300 e l'audio
MP3 stereo è troppo lento.
Quando uso l'opzione -nosound, tutto è OK (ma silenzioso).
</a></dt><dt>Domanda: <a href="#id2600700">
Come faccio ad usare dmix con
MPlayer?
</a></dt><dt>Domanda: <a href="#id2600736">
Riproducendo un video non sento alcun suono e ricevo messaggi di errore simili
a questo:

AO: [oss] 44100Hz 2ch Signed 16-bit (Little-Endian)
audio_setup: Can't open audio device /dev/dsp: Device or resource busy
couldn't open/init audio device -&gt; NOSOUND
Audio: no sound!!!
Start playing...

</a></dt><dt>Domanda: <a href="#id2600781">
Avviando MPlayer in KDE ottengo solo una schermata
nera e non succede nulla. Dopo circa un minuto inizia la riproduzione del video.
</a></dt><dt>Domanda: <a href="#id2600823">
Ho problemi di sincronia A/V.
Alcuni miei AVI vengono riprodotti bene, ma alcuni vanno a velocià doppia!
</a></dt><dt>Domanda: <a href="#id2600848">
Quando riproduco questo film ho desincronizzazione video-audio e/o
MPlayer va in crash con il seguente messaggio:

DEMUXER: Too many (945 in 8390980 bytes) video packets in the buffer!

</a></dt><dt>Domanda: <a href="#id2600947">
Come faccio ad eliminare la desincronizzazione A/V durante la
ricerca attraverso flussi RealMedia?
</a></dt></dl></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2600488"></a><a name="id2600491"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Quando riproduco a schermo intero ottengo solo bordi neri intorno all'immagine e
nessun vero ridimensionamento in modalità a schermo intero.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Il tuo driver di uscita video non gestisce il ridimensionamento via hardware e
dato che il ridimensionamento software può essere incredibilmente lento,
<span class="application">MPlayer</span> non lo abilita in automatico. Molto
probabilmente stai usando il driver di uscita video
<code class="systemitem">x11</code> invece di <code class="systemitem">xv</code>.
Prova ad aggiungere <tt class="option">-vo xv</tt> alla riga comando oppure leggi la
<a class="link" href="#video" title="Capitolo 7. Dispositivi di uscita video">sezione video</a> per trovare driver di uscita video
alternativi. L'opzione <tt class="option">-zoom</tt> abilita esplicitamente il
ridimensionamento software.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2600546"></a><a name="id2600548"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Ho appena installato <span class="application">MPlayer</span>. Quando voglio aprire
un file video causa un errore fatale:
</p><pre class="screen">Errore aprendo/inizializzando il dispositivo uscita video (-vo) selezionato!</pre><p>
Come posso risovlere il mio problema?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Cambia semplicemente il dispositivo di uscita video. Lancia i comandi seguenti
per ottenere una lista dei driver di uscita video disponibili:
</p><pre class="screen">mplayer -vo help</pre><p>
Dopo aver scelto il driver di uscita video corretto, aggiungilo al tuo file di
configurazione. Aggiungi
</p><pre class="programlisting">
vo = <em class="replaceable"><code>selected_vo</code></em>
</pre><p>
in <tt class="filename">~/.mplayer/config</tt> e/o
</p><pre class="programlisting">
vo_driver = <em class="replaceable"><code>selected_vo</code></em>
</pre><p>
in <tt class="filename">~/.mplayer/gui.conf</tt>.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2600615"></a><a name="id2600617"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Ho dei problemi con <em class="replaceable"><code>[il tuo window manager]</code></em>
e le modalità a schermo pieno di xv/xmga/sdl/x11 ...
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Leggi le <a class="link" href="#bugreports" title="Appendice A. Come segnalare i bug (errori)">linee guida per segnalare i bug</a> e
mandaci un appropriato rapporto sul bug.
Prova anche facendo esperimenti con l'opzione <tt class="option">-fstype</tt>.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2600646"></a><a name="id2600648"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Riproducendo un file AVI, l'audio perde la sincronizzazione.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Prova le opzioni <tt class="option">-bps</tt> o <tt class="option">-nobps</tt>. Se non
migliora, leggi le
<a class="link" href="#bugreports" title="Appendice A. Come segnalare i bug (errori)">linee guida per segnalare i bug</a> e carica il
file sul sito FTP.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2600674"></a><a name="id2600677"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Il mio computer riproduce gli AVI MS DivX a risoluzione ~ 640x300 e l'audio
MP3 stereo è troppo lento.
Quando uso l'opzione <tt class="option">-nosound</tt>, tutto è OK (ma silenzioso).
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
La tua macchina è troppo lenta o il driver della tua scheda video è bucato.
Consulta la documentazione per scoprire se puoi migliorare le prestazioni.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2600700"></a><a name="id2600702"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come faccio ad usare <span class="application">dmix</span> con
<span class="application">MPlayer</span>?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Dopo aver configurato il tuo
<a class="ulink" href="http://alsa.opensrc.org/index.php?page=DmixPlugin" target="_top">asoundrc</a>
devi usare <tt class="option">-ao alsa:device=dmix</tt>.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2600736"></a><a name="id2600738"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Riproducendo un video non sento alcun suono e ricevo messaggi di errore simili
a questo:
</p><pre class="screen">
AO: [oss] 44100Hz 2ch Signed 16-bit (Little-Endian)
audio_setup: Can't open audio device /dev/dsp: Device or resource busy
couldn't open/init audio device -&gt; NOSOUND
Audio: no sound!!!
Start playing...
</pre><p>
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Stai usando KDE o GNOME con il demone audio aRts o ESD? Prova a disabilitare
il demone audio o usa le opzioni <tt class="option">-ao arts</tt> o
<tt class="option">-ao esd</tt> per far sì che <span class="application">MPlayer</span> usi
Arts o ESD.
Potresti anche star utilizzando ALSA senza l'emulazione OSS, prova a caricare i
moduli del kernel ALSA per OSS o ad aggiungere <tt class="option">-ao alsa</tt> alla
tua riga comando per usare direttamente il driver di uscita audio ALSA.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2600781"></a><a name="id2600783"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Avviando <span class="application">MPlayer</span> in KDE ottengo solo una schermata
nera e non succede nulla. Dopo circa un minuto inizia la riproduzione del video.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Il demone audio di KDE, aRts, blocca il dispositivo audio. O attendi fino a
quando il video parte oppure disabiliti il demone aRts nel centro di controllo.
Se vuoi utilizzare l'audio aRts, specifica l'uscita audio attraverso il nostro
driver aRts nativo(<tt class="option">-ao arts</tt>). Se va in errore o non è
compilato, prova con SDL (<tt class="option">-ao sdl</tt>) e assicurati che la tuo SDL
possa gestire l'audio aRts. Un'ulteriore possibilità è avviare
<span class="application">MPlayer</span> con artsdsp.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2600823"></a><a name="id2600826"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Ho problemi di sincronia A/V.
Alcuni miei AVI vengono riprodotti bene, ma alcuni vanno a velocià doppia!
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Hai una scheda/driver audio bacati. Molto probabilmente sono fissati a 44100Hz,
e stai cercando di riprodurre un file che ha un audio a 22050Hz. Prova il
filtro audio <code class="systemitem">resample</code>.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2600848"></a><a name="id2600850"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Quando riproduco questo film ho desincronizzazione video-audio e/o
<span class="application">MPlayer</span> va in crash con il seguente messaggio:
</p><pre class="screen">
DEMUXER: Too many (945 in 8390980 bytes) video packets in the buffer!
</pre><p>
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Questo può avere varie motivazioni.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  La tua CPU <span class="emphasis"><em>e/o</em></span> la tua scheda video
  <span class="emphasis"><em>e/o</em></span> il tuo bus sono troppo lenti.
  <span class="application">MPlayer</span> emette un messaggio se il caso è questo
  (e il contatore dei fotogrammi scartati sale velocemente)
</p></li><li class="listitem"><p>
  Se è un AVI, magari ha un cattivo interleave, prova l'opzione
  <tt class="option">-ni</tt> per aggirare il problema.
  Oppure potrebbe avere un'intestazione malformata, in questo caso possono
  aiutare <tt class="option">-nobps</tt> e/o <tt class="option">-mc 0</tt>.
</p></li><li class="listitem"><p>
  Molti file FLV saranno riprodotti correttamente solo con
  <tt class="option">-correct-pts</tt>.
  Sfortunatamente <span class="application">MEncoder</span> non ha questa opzione, ma
  puoi provare a specificare manualmente <tt class="option">-fps</tt> con il valore
  giusto, se lo conosci.
</p></li><li class="listitem"><p>
  Il tuo driver audio è bacato.
</p></li></ul></div><p>
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2600947"></a><a name="id2600949"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come faccio ad eliminare la desincronizzazione A/V durante la
ricerca attraverso flussi RealMedia?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
<tt class="option">-mc 0.1</tt> può aiutare.
</p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq-dvd"></a>11.6. Riproduzione DVD</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>Domanda: <a href="#id2600978">
Circa la navigazione/menu del DVD?
</a></dt><dt>Domanda: <a href="#id2601027">
Non riesco a guardare alcun DVD recente di Sony Pictures/BMG.
</a></dt><dt>Domanda: <a href="#id2601063">
Riguardo i sottotitoli? MPlayer può mostrarli?
</a></dt><dt>Domanda: <a href="#id2601089">
Come posso impostare il codice di zona del mio lettore DVD? Non ho Windows!
</a></dt><dt>Domanda: <a href="#id2601109">
Non riesco a riprodurre un DVD, MPlayer si blocca o emette degli errori tipo
"Encrypted VOB file!".
</a></dt><dt>Domanda: <a href="#id2601126">
Devo essere (setuid) root per riuscire a riprodurre un DVD?
</a></dt><dt>Domanda: <a href="#id2601148">
E' possibile riprodurre/codificare solo dei capitoli voluti?
</a></dt><dt>Domanda: <a href="#id2601165">
La mia riproduzione DVD è fiacca!
</a></dt><dt>Domanda: <a href="#id2601198">
Ho copiato un DVD usando vobcopy. Come lo riproduco/codifico dal mio disco
fisso?
</a></dt></dl></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2600978"></a><a name="id2600980"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Circa la navigazione/menu del DVD?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
<span class="application">MPlayer</span> non supporta i menu dei DVD a causa di
severe limitazioni architetturali che impediscono la gestione corretta di
fermi immagine e contenuto interattivo. Se vuoi avere degli attraenti menu,
dovrai usare un altro riproduttore come <span class="application">xine</span>,
<span class="application">vlc</span> o <span class="application">Ogle</span>.
Se vuoi vedere la navigazione del DVD in <span class="application">MPlayer</span>
dovrai implementarla tu stesso, ma fai attenzione che non è un'impresa da poco.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601027"></a><a name="id2601029"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Non riesco a guardare alcun DVD recente di Sony Pictures/BMG.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Questo è normale; sei stato fregato e ti hanno venduto un disco
intenzionalmente rovinato. L'unico modo di riprodurre questi DVD è aggirare i
blocchi rovinati del disco usando DVDnav al posto di mpdvdkit2.
Puoi farlo compilando <span class="application">MPlayer</span> col supporto DVDnav
a poi sostituendo dvdnav:// a dvd:// sulla riga comando.
DVDnav è mutualmente esclusivo rispetto a mpdvdkit2, perciò assicurati di
passare l'opzione <tt class="option">--disable-mpdvdkit</tt> allo script configure.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601063"></a><a name="id2601065"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Riguardo i sottotitoli? <span class="application">MPlayer</span> può mostrarli?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Sì. Vedi il <a class="link" href="#dvd" title="4.2. Riproduzione DVD">capitolo sui DVD</a>.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601089"></a><a name="id2601091"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come posso impostare il codice di zona del mio lettore DVD? Non ho Windows!
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Usa lo
<a class="ulink" href="http://linvdr.org/projects/regionset/" target="_top">strumento regionset</a>.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601109"></a><a name="id2601111"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Non riesco a riprodurre un DVD, MPlayer si blocca o emette degli errori tipo
"Encrypted VOB file!".
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Il codice di decrittazione CSS non funziona con alcuni lettori DVD a meno che
il codice di zona non sia correttamente impostato. Vedi la risposta alla
domanda precedente.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601126"></a><a name="id2601128"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Devo essere (setuid) root per riuscire a riprodurre un DVD?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
No. Tuttavia devi avere i diritti adeguati per la voce del dispositivo del DVD
(in <tt class="filename">/dev/</tt>).
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601148"></a><a name="id2601150"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
E' possibile riprodurre/codificare solo dei capitoli voluti?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Sì, prova l'opzione <tt class="option">-chapter</tt>.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601165"></a><a name="id2601168"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
La mia riproduzione DVD è fiacca!
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Usa l'opzione <tt class="option">-cache</tt> (descritta nella pagina man) e prova ad
abilitare il DMA per il DVD con lo strumento <span class="command"><strong>hdparm</strong></span>
(spiegato nel <a class="link" href="#drives" title="4.1. Lettori CD/DVD">capitolo sui CD</a>).
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601198"></a><a name="id2601200"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Ho copiato un DVD usando vobcopy. Come lo riproduco/codifico dal mio disco
fisso?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Use the <tt class="option">-dvd-device</tt> option to refer to the directory
that contains the files:
Usa l'opzione <tt class="option">-dvd-device</tt> per indicare la directory che
contiene i file:
</p><pre class="screen">
mplayer dvd://1 -dvd-device <em class="replaceable"><code>/percorso/della/directory</code></em>
</pre><p>
</p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq-features"></a>11.7. Richieste di funzionalità</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>Domanda: <a href="#id2601242">
Se MPlayer è in pausa e provo a fare una ricerca o
premo un qualsiasi tasto, MPlayer esce dalla pausa.
Mi piacerebbe poter fare la ricerca nel film in pausa.
</a></dt><dt>Domanda: <a href="#id2601274">
Mi piacerebbe fare la ricerca di +/- 1 fotogramma, invece che di 10 secondi.
</a></dt></dl></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601242"></a><a name="id2601244"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Se <span class="application">MPlayer</span> è in pausa e provo a fare una ricerca o
premo un qualsiasi tasto, <span class="application">MPlayer</span> esce dalla pausa.
Mi piacerebbe poter fare la ricerca nel film in pausa.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Questo è molto laborioso da implementare, senza perdere la sincronia A/V.
Tutti i tentativi finora sono falliti, ma le patch sono benvenute.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601274"></a><a name="id2601276"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Mi piacerebbe fare la ricerca di +/- 1 fotogramma, invece che di 10 secondi.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Puoi avanzare di un fotogramma premendo <span class="keycap"><b>.</b></span>.
Se il film non era in pausa, dopo lo rimarrà
(vedi la pagina man per i dettagli).
I passi all'indietro difficilmente saranno implementati nel breve termine.
</p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq-encoding"></a>11.8. Codifica</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>Domanda: <a href="#id2601312">
How can I encode?
Come posso codificare?
</a></dt><dt>Domanda: <a href="#id2601335">
Come posso fare un dump completo di un DVD su un file?
</a></dt><dt>Domanda: <a href="#id2601375">
Come posso creare automaticamente dei (S)VCD?
</a></dt><dt>Domanda: <a href="#id2601405">
Come posso creare dei (S)VCD?
</a></dt><dt>Domanda: <a href="#id2601437">
Come posso unire due file video?
</a></dt><dt>Domanda: <a href="#id2601497">
Come posso correggere file AVI con indice danneggiato o cattivo interleave?
</a></dt><dt>Domanda: <a href="#id2601540">
Come posso correggere il rapporto di aspetto di un file AVI?
</a></dt><dt>Domanda: <a href="#id2601580">
Come posso fare il backup e la codifica di un file VOB con un'inizio rovinato?
</a></dt><dt>Domanda: <a href="#id2601646">
Non riesco a codificare i sottotitoli DVD dentro all'AVI!
</a></dt><dt>Domanda: <a href="#id2601662">
Come posso codificare solo determinati capitoli di un DVD?
</a></dt><dt>Domanda: <a href="#id2601683">
Sto cercando di lavorare con file di 2GB+ su un filesystem VFAT. Funziona?
</a></dt><dt>Domanda: <a href="#id2601697">
Qual'è il significato dei numeri sulla linea di stato durante il processo
di codifica?
</a></dt><dt>Domanda: <a href="#id2601844">
Perché la frequenza consigliata emessa da MEncoder
ha un valore negativo?
</a></dt><dt>Domanda: <a href="#id2601869">
Non riesco a codificare un ASF in AVI/MPEG-4 (DivX) perché usa 1000 fps.
</a></dt><dt>Domanda: <a href="#id2601889">
Come posso mettere i sottotitoli nel file di destinazione?
</a></dt><dt>Domanda: <a href="#id2601917">
Come faccio a codificare solo l'audio da un video musicale?
</a></dt><dt>Domanda: <a href="#id2601987">
Perché riproduttori di terze parti non riescono a riprodurre filmati MPEG-4
codificati da MEncoder con versione superiore alla
1.0pre7?
</a></dt><dt>Domanda: <a href="#id2602122">
Come posso codificare un file solo audio?
</a></dt><dt>Domanda: <a href="#id2602149">
Come posso riprodurre sottotitoli impacchettati in un AVI?
</a></dt><dt>Domanda: <a href="#id2602177">
MPlayer non potrebbe...
</a></dt></dl></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601312"></a><a name="id2601315"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
How can I encode?
Come posso codificare?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Leggi la sezione su
<a class="link" href="#mencoder" title="Capitolo 9. Utilizzo base di MEncoder"><span class="application">MEncoder</span></a>.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601335"></a><a name="id2601337"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come posso fare un dump completo di un DVD su un file?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Una volta che hai scelto il tuo titolo, e ti sei assicurato che venga riprodotto
correttamente con <span class="application">MPlayer</span>, usa l'opzione
<tt class="option">-dumpstream</tt>.
Per esempio:
</p><pre class="screen">
mplayer dvd://5 -dumpstream -dumpfile <em class="replaceable"><code>dvd_dump.vob</code></em>
</pre><p>
farà il dump del quinto titolo del DVD sul file
<em class="replaceable"><code>dvd_dump.vob</code></em>
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601375"></a><a name="id2601377"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come posso creare automaticamente dei (S)VCD?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Prova lo script <tt class="filename">mencvcd.sh</tt> dalla sottodirectory
<tt class="filename">TOOLS</tt>.
Con quello puoi codificare DVD, o altri film, nel formato VCD o SVCD e anche
scriverli direttamente su CD.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601405"></a><a name="id2601407"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come posso creare dei (S)VCD?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Versioni recenti di <span class="application">MEncoder</span> possono generare
direttamente dei file MPEG-2 che possono essere utilizzati come base per creare
un VCD o un SVCD e sono probabilmente riproducibili al volo su tutte le
piattaforme (per esempio, per condividere un video dalla camera digitale con i
tuoi amici non avvezzi ai computer).
Leggi per favore
<a class="link" href="#menc-feat-vcd-dvd" title="10.8. Using MEncoder to create VCD/SVCD/DVD-compliant files">Usare MEncoder per creare file compatibili VCD/SVCD/DVD</a>
per ulteriori dettagli.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601437"></a><a name="id2601439"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come posso unire due file video?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
I file MPEG possono venir concatenati in un singolo file con fortuna.
Per il file AVI, devi usare il supporto di <span class="application">MEncoder</span>
per file multipli nel modo seguente:
</p><pre class="screen">
mencoder -ovc copy -oac copy -o <em class="replaceable"><code>out.avi</code></em> <em class="replaceable"><code>file1.avi</code></em> <em class="replaceable"><code>file2.avi</code></em>
</pre><p>
Questo funzionerà solo se i file hanno la stessa risoluzione e usano lo
stesso codec.
Puoi anche provare
<a class="ulink" href="http://fixounet.free.fr/avidemux/" target="_top">avidemux</a> e
<span class="application">avimerge</span> (parte del pacchetto di strumenti
<a class="ulink" href="http://www.transcoding.org/" target="_top">transcode</a>).
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601497"></a><a name="id2601499"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come posso correggere file AVI con indice danneggiato o cattivo interleave?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Per evitare di dover usare <tt class="option">-idx</tt> per essere in grado di fare la
ricerca in file AVI con indice danneggiato oppure <tt class="option">-ni</tt> per
riprodurre file AVI con un cattivo interleave, usa il comando
</p><pre class="screen">
mencoder <em class="replaceable"><code>origine.avi</code></em> -idx -ovc copy -oac copy -o <em class="replaceable"><code>destinazione.avi</code></em>
</pre><p>
per copiare i flussi video e audio su di un nuovo file AVI rigenerando l'indice
e facendo l'interleave corretto dei dati.
Di certo questo non può correggere possibili problemi nei flussi video e/o
audio.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601540"></a><a name="id2601543"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come posso correggere il rapporto di aspetto di un file AVI?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Puoi fare ciò grazie all'opzione <tt class="option">-force-avi-aspect</tt> di
<span class="application">MEncoder</span>, che sovrascrive l'aspetto memorizzato
nell'opzione vprp dell'intestazione AVI OpenDML. Per esempio:
</p><pre class="screen">
mencoder <em class="replaceable"><code>origine.avi</code></em> -ovc copy -oac copy -o <em class="replaceable"><code>destinazione.avi</code></em> -force-avi-aspect 4/3
</pre><p>
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601580"></a><a name="id2601582"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come posso fare il backup e la codifica di un file VOB con un'inizio rovinato?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Il problema principale di quando vuoi codificare un file VOB rovinato
<sup>[<a name="fn-corrupted-files-or-copy-protection" href="#ftn.fn-corrupted-files-or-copy-protection" class="footnote">3</a>]</sup>
è che sarà difficile ottenere una condifica con sincronia A/V perfetta.
Una soluzione è semplicemente tagliar via la parte rovinata e codificare solo
quella a posto.
Per prima cosa devi trovare dove inizia la parte a posto:
</p><pre class="screen">
mplayer <em class="replaceable"><code>origine.vob</code></em> -sb <em class="replaceable"><code>num_di_byte_da_saltare</code></em>
</pre><p>
Poi puoi creare un nuovo file che contiene solo la parte a posto:
</p><pre class="screen">
dd if=<em class="replaceable"><code>origine.vob</code></em> of=<em class="replaceable"><code>destinazione_tagliata.vob</code></em> skip=1 ibs=<em class="replaceable"><code>num_di_byte_da_saltare</code></em>
</pre><p>
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601646"></a><a name="id2601648"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Non riesco a codificare i sottotitoli DVD dentro all'AVI!
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Devi specificare correttamente l'opzione <tt class="option">-sid</tt>.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601662"></a><a name="id2601664"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come posso codificare solo determinati capitoli di un DVD?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Usa adeguatamente l'opzione <tt class="option">-chapter</tt>, così:
<tt class="option">-chapter 5-7</tt>.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601683"></a><a name="id2601685"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Sto cercando di lavorare con file di 2GB+ su un filesystem VFAT. Funziona?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
No, VFAT non supporta file di 2GB+.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601697"></a><a name="id2601699"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Qual'è il significato dei numeri sulla linea di stato durante il processo
di codifica?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Esempio:
</p><pre class="screen">
Pos: 264.5s   6612f ( 2%)  7.12fps Trem: 576min 2856mb  A-V:0.065 [2126:192]
</pre><p>
</p><div class="variablelist"><dl><dt><span class="term"><code class="systemitem">Pos: 264.5s</code></span></dt><dd><p>posizione temporale nel flusso codificato</p></dd><dt><span class="term"><code class="systemitem">6612f</code></span></dt><dd><p>numero di fotogrammi codificati</p></dd><dt><span class="term"><code class="systemitem">( 2%)</code></span></dt><dd><p>porzione del flusso in entrata codificato</p></dd><dt><span class="term"><code class="systemitem">7.12fps</code></span></dt><dd><p>velocità di codifica</p></dd><dt><span class="term"><code class="systemitem">Trem: 576min</code></span></dt><dd><p>tempo rimanente di codifica stimato</p></dd><dt><span class="term"><code class="systemitem">2856mb</code></span></dt><dd><p>dimensione stimata della codifica definitiva</p></dd><dt><span class="term"><code class="systemitem">A-V:0.065</code></span></dt><dd><p>ritardo corrente tra i flussi audio e video</p></dd><dt><span class="term"><code class="systemitem">[2126:192]</code></span></dt><dd><p>
  frequenza video media (in kb/s) e frequenza audio media (in kb/s)
  </p></dd></dl></div><p>
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601844"></a><a name="id2601846"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Perché la frequenza consigliata emessa da <span class="application">MEncoder</span>
ha un valore negativo?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Perché la frequenza (bitrate) in cui hai codificato l'audio è troppo grande
per poter far stare un film su un CD. Controlla di avere libmp3lame installata
correttamente.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601869"></a><a name="id2601871"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Non riesco a codificare un ASF in AVI/MPEG-4 (DivX) perché usa 1000 fps.
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Visto che ASF usa una frequenza dei fotogrammi variabile mentre AVI ne usa una
fissa, devi impostarla a mano con l'opzione <tt class="option">-ofps</tt>.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601889"></a><a name="id2601891"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come posso mettere i sottotitoli nel file di destinazione?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Passa semplicemente a <span class="application">MEncoder</span> l'opzione
<tt class="option">-sub &lt;filename&gt;</tt> (o <tt class="option">-sid</tt>,
rispettivamente).
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601917"></a><a name="id2601919"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come faccio a codificare solo l'audio da un video musicale?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Direttamente non è possibile, ma puoi provare questo (nota la
<span class="bold"><strong>&amp;</strong></span> alla fine del comando di
<span class="command"><strong>mplayer</strong></span>):
</p><pre class="screen">
mkfifo <em class="replaceable"><code>encode</code></em>
mplayer -ao pcm -aofile <em class="replaceable"><code>encode</code></em> dvd://1 &amp;
lame <em class="replaceable"><code>le_tue_opzioni</code></em> <em class="replaceable"><code>encode</code></em> <em class="replaceable"><code>musica.mp3</code></em>
rm <em class="replaceable"><code>encode</code></em>
</pre><p>
Questo ti permette di usare un qualsiasi codificatore, non solo
<span class="application">LAME</span>, nel comando suddetto sostituisci semplicemente
<span class="command"><strong>lame</strong></span> con il tuo codificatore audio preferito.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2601987"></a><a name="id2601989"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Perché riproduttori di terze parti non riescono a riprodurre filmati MPEG-4
codificati da <span class="application">MEncoder</span> con versione superiore alla
1.0pre7?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
<code class="systemitem">libavcodec</code>, la libreria nativa per la
codifica MPEG-4 distribuita usualmente con <span class="application">MEncoder</span>,
quando codificava video MPEG-4 era solita impostare il FourCC a 'DIVX'
(il FourCC è una tag AVI per identificare il software usato per la codifica e
il software relativo da usare per decodificare il video).
Ciò portava molte persone a pensare che
<code class="systemitem">libavcodec</code> fosse una libreria di
codifica DivX, mentre in realtà è una libreria di codifica completamente
diversa, che implementa lo standard MPEG-4 molto meglio di come faccia DivX.
Così, il nuovo FourCC di default usato da
<code class="systemitem">libavcodec</code> è 'FMP4', ma puoi
modificare questo comportamente usando l'opzione <tt class="option">-ffourcc</tt> di
<span class="application">MEncoder</span>.
Puoi anche cambiare allo stesso modo il FourCC di file esistenti:
</p><pre class="screen">
mencoder <em class="replaceable"><code>origine.avi</code></em> -o <em class="replaceable"><code>destinazione.avi</code></em> -ffourcc XVID
</pre><p>
Fai attenzione che questo imposterà il FourCC a XVID invece che a DIVX.
Si consiglia così, dato che DIVX significa DivX4, che è un codec MPEG-4 molto
basilare, mentre DX50 e XVID indicano entrambi un MPEG-4 completo (ASP).
Inoltre, se imposti il FourCC a DIVX, dei brutti software o lettori da tavolo
potrebbero annsapare su alcune caratteristiche avanzate che
<code class="systemitem">libavcodec</code> supporta, ma DivX no;
dall'altro lato <code class="systemitem">Xvid</code> è più simile a
<code class="systemitem">libavcodec</code> in termini di funzinalità,
ed è supportato da tutti i riproduttori decenti.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2602122"></a><a name="id2602124"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come posso codificare un file solo audio?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Usa <tt class="filename">aconvert.sh</tt> dalla sottodirectory
<tt class="filename">TOOLS</tt> dei sorgenti di MPlayer.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2602149"></a><a name="id2602152"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
Come posso riprodurre sottotitoli impacchettati in un AVI?
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Usa <tt class="filename">avisubdump.c</tt> dalla sottodirectory
<a class="ulink" href="http://xlife.zuavra.net/curse/0012/" target="_top">questa documentazione sull'estrazione/demultiplex dei sottotitoli impacchettati in file AVI OpenDML</a>.
</p></td></tr><tr class="question" title="Domanda:"><td align="left" valign="top"><a name="id2602177"></a><a name="id2602179"></a><p><b>Domanda:</b></p></td><td align="left" valign="top"><p>
MPlayer non potrebbe...
</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>Risposta:</b></p></td><td align="left" valign="top"><p>
Dai un'occhiata alla sottodirectory <tt class="filename">TOOLS</tt>
per una raccolta di vari script e hack.
<tt class="filename">TOOLS/README</tt> contiene la documentazione.
</p></td></tr></tbody></table></div><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p><sup>[<a name="ftn.fn-corrupted-files-or-copy-protection" href="#fn-corrupted-files-or-copy-protection" class="para">3</a>] </sup>
In parte, alcune forme di protezione di copia usate nei DVD possono esser
considerate contenuto rovinato.
</p></div></div></div><div class="appendix" title="Appendice A. Come segnalare i bug (errori)"><div class="titlepage"><div><div><h2 class="title"><a name="bugreports"></a>Appendice A. Come segnalare i bug (errori)</h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="#bugreports_security">A.1. Come segnalare i bug di sicurezza (errori)</a></span></dt><dt><span class="sect1"><a href="#bugreports_fix">A.2. Come correggere i bug</a></span></dt><dt><span class="sect1"><a href="#bugreports_regression_test">A.3. Come fare delle prove retroattive usando Subversion</a></span></dt><dt><span class="sect1"><a href="#bugreports_report">A.4. Come segnalare i bug</a></span></dt><dt><span class="sect1"><a href="#bugreports_where">A.5. Dove segnalare i bug</a></span></dt><dt><span class="sect1"><a href="#bugreports_what">A.6. Cosa riportare</a></span></dt><dd><dl><dt><span class="sect2"><a href="#bugreports_system">A.6.1. Informazioni di Sistema</a></span></dt><dt><span class="sect2"><a href="#bugreports_hardware">A.6.2. Hardware e driver</a></span></dt><dt><span class="sect2"><a href="#bugreports_configure">A.6.3. Problemi del configure</a></span></dt><dt><span class="sect2"><a href="#bugreports_compilation">A.6.4. Problemi di compilazione</a></span></dt><dt><span class="sect2"><a href="#bugreports_playback">A.6.5. Problemi in riproduzione</a></span></dt><dt><span class="sect2"><a href="#bugreports_crash">A.6.6. Crash</a></span></dt><dd><dl><dt><span class="sect3"><a href="#bugreports_debug">A.6.6.1. Come conservare le informazioni di un crash riproducibile</a></span></dt><dt><span class="sect3"><a href="#bugreports_core">A.6.6.2. Come ricavare informazioni significative da un core dump</a></span></dt></dl></dd></dl></dd><dt><span class="sect1"><a href="#bugreports_advusers">A.7. So quello che sto facendo...</a></span></dt></dl></div><p>
Buone segnalazioni di errori sono un contributo molto valido per lo sviluppo di
un qualsiasi progetto software. Ma proprio come nello scrivere un buon
software, scrivere buoni rapporti sui problemi richiede dell'impegno. Per favore
considera che molti sviluppatori sono estremamente impegnati e ricevono immensi
volumi di email. Perciò, mentre da un lato il tuo feedback è cruciale per
migliorare <span class="application">MPlayer</span> e molto apprezzato, per favore
cerca di capire che devi fornire <span class="bold"><strong>tutte</strong></span> le
informazioni che chiediamo e seguire fedelmente le istruzioni qui documentate.
</p><div class="sect1" title="A.1. Come segnalare i bug di sicurezza (errori)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="bugreports_security"></a>A.1. Come segnalare i bug di sicurezza (errori)</h2></div></div></div><p>
Nel caso in cui tu abbia trovato un bug pericoloso e vuoi fare la cosa giusta e
lasciarcelo correggere prima di sfruttarlo, saremmo felici di avere la tua
segnalazione di sicurezza a
<a class="ulink" href="mailto:security@mplayerhq.hu" target="_top">security@mplayerhq.hu</a>.
Per favore aggiungi nell'oggetto [SECURITY] o [ADVISORY].
Assicurati che il rapporto contenga l'analisi completa e dettagliata del bug.
L'invio di una correzione è decisamente apprezzato.
Per piacere non ritardare la segnalazione per scrivere un exploit che la provi,
puoi inviarlo eventualmente con un'altra mail.
</p></div><div class="sect1" title="A.2. Come correggere i bug"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="bugreports_fix"></a>A.2. Come correggere i bug</h2></div></div></div><p>
Se pensi di avere le capacità necessarie, sei esortato a provare a correggere
il bug per conto tuo. O forse lo hai già fatto? Leggi per favore
<a class="ulink" href="../../tech/patches.txt" target="_top">questo breve documento</a> per scoprire
come far sì che il tuo codice venga incluso in
<span class="application">MPlayer</span>. Le persone sulla mailing list
<a class="ulink" href="http://lists.mplayerhq.hu/mailman/listinfo/mplayer-dev-eng" target="_top">MPlayer-dev-eng</a>
ti aiuteranno se avrai dei dubbi.
</p></div><div class="sect1" title="A.3. Come fare delle prove retroattive usando Subversion"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="bugreports_regression_test"></a>A.3. Come fare delle prove retroattive usando Subversion</h2></div></div></div><p>
Un problema che può capitare delle volte è 'prima funzionava, ora non
funziona più...'.
C'è una procedura passo passo per cercare di scoprire dove il problema si sia
presentato. <span class="bold"><strong>Non</strong></span> è destinata agli utenti
casuali.
</p><p>
Per prima cosa, dovresti scaricare l'alberatura dei sorgenti di MPlayer da
Subversion. Le istruzioni si possono trovare nella
<a class="ulink" href="http://www.mplayerhq.hu/design7/dload.html#svn" target="_top">sezione su Subversion nella pagina dei download</a>.
</p><p>
Troverai ora un immagine dell'archivio Subversion dentro alla directory
mplayer/, dal lato client.
Ora aggiorna questa immagine alla data che desideri:
</p><pre class="screen">
cd mplayer/
svn update -r {"2004-08-23"}
</pre><p>
Il formato della data è YYYY-MM-DD HH:MM:SS.
Usando questo formato di data ti garantisce di essere in grado di estrarre le
path in base alla data in cui sono state applicate, come
nell'<a class="ulink" href="http://lists.mplayerhq.hu/pipermail/mplayer-cvslog/" target="_top">archivio
MPlayer-cvslog</a>.
</p><p>
Ora procedi come per un normale aggiornamento:
</p><pre class="screen">
./configure
make
</pre><p>
</p><p>
Per chi sta leggendo e non è un programmatore, il modo più veloce di trovare
il punto dove si è presentato il problema è effettuare una ricerca binaria
— che significa cercare la data della 'rottura' dividendo ripetutamente a
metà l'intervallo di ricerca.
Per esempio, se il problema si è presentato nel 2003, inizia da metà anno,
poi chiediti "C'è già il problema qui?".
Se sì, retrocedi fino al primo di aprile; se no, vai al primo di ottobre, e
così via.
</p><p>
Se hai tanto spazio libero sul disco rigido (una compilazione completa occupa
attualmente 100 MB, e circa 300-350 MB se si abilitano i simboli di debug),
copiati la versione funzionante più vecchia prima di aggiornarla; questo ti
farà risparmiare tempo se devi retrocedere.
(Solitamente bisogna eseguire 'make distclean' prima di ricompilare una versione
precedente, perciò se non ne hai una salvata, dovrai ricompilare tutto quanto
quando ritorni alla verisone attuale.)
</p><p>
Dopo aver trovato il giorno in cui è nato l'errore, continua a cercare usando
l'archivio mplayer-cvslog (ordinato per data) e un più preciso aggiornamento
su svn con ora, minuto e secondo:
</p><pre class="screen">
svn update -r {"2004-08-23 15:17:25"}
</pre><p>
Questo ti permetterà di trovare facilmente la patch esatta che lo ha generato.
</p><p>
Se trovi la patch che è stata la causa del problema, hai quasi vinto;
fai un rapporto su
<a class="ulink" href="http://bugzilla.mplayerhq.hu/" target="_top">MPlayer Bugzilla</a> o
iscriviti a
<a class="ulink" href="http://lists.mplayerhq.hu/mailman/listinfo/mplayer-users" target="_top">MPlayer-users</a>
e postalo là.
C'è anche la possibilità che l'autore intervenga consigliando una correzione.
Puoi anche controllare attentamente la patch fino a quando la costringi a
rivelarti dove stia il bug :-).
</p></div><div class="sect1" title="A.4. Come segnalare i bug"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="bugreports_report"></a>A.4. Come segnalare i bug</h2></div></div></div><p>
Per prima cosa per favore prova la versione Subversion di
<span class="application">MPlayer</span> più recente visto che in essa il tuo bug
potrebbe già essere stato risolto. Lo sviluppo avanza velocemente, la maggior
parte dei problemi nei rilasci ufficiali sono segnalati in pochi giorni o poche
ore, perciò parti <span class="bold"><strong>solo da Subversion</strong></span> per
segnalare i bug. Ciò include i pacchetti compilati di
<span class="application">MPlayer</span>. Le istruzioni per Subversion si possono
trovare in fondo a
<a class="ulink" href="http://www.mplayerhq.hu/dload.html" target="_top">questa pagina</a> o nel
README. Se ciò non ti è stato di aiuto, per favore fai riferimento
al resto della
documentazione. Se il tuo problema è sconosciuto oppure non risolvibile con le
nostre indicazioni, allora per favore segnala il bug.
</p><p>
Per piacere non inviare segnalazioni di bug ai singoli sviluppatori in privato.
Questo è un lavoro di comunità e quindi ci possono essere varie persone
interessate ad esso. Alcune volte altri utenti hanno già avuto i tuoi problemi
e sanno come aggirare un problema anche quando è un bug nel codice di
<span class="application">MPlayer</span>.
</p><p>
Per favore descrivi il tuo problema il più dettagliatamente possibile. Fai un
piccolo lavoro di ricerca per evidenziare le circostanze in cui succede il
problema. Il bug si presenta solo in alcune occasioni? E' specifico per certi
file o tipi di file? Capita solo con un codec e è indipendente dal codec? Puoi
riprodurlo con tutti i driver di uscita? Più informazioni fornisci, maggiori
sono le nostre possibilità di correggere il tuo problema. Per favore non
dimenticare di includere anche le importanti informazioni richieste qui sotto,
altrimenti non saremo in grado di diagnosticare il problema.
</p><p>
Una guida eccellente e ben scritta su come fare domande in forum pubblici è
<a class="ulink" href="http://www.catb.org/~esr/faqs/smart-questions.html" target="_top">How To Ask Questions The Smart Way</a>
(<a class="ulink" href="http://xoomer.virgilio.it/army1987k" target="_top">Come porre domande in modo intelligente</a>)
di <a class="ulink" href="http://www.catb.org/~esr/" target="_top">Eric S. Raymond</a>.
Ce n'è un'altra chiamata
<a class="ulink" href="http://www.chiark.greenend.org.uk/~sgtatham/bugs-it.html" target="_top">Come
segnalare bug efficacemente</a>
di <a class="ulink" href="http://www.chiark.greenend.org.uk/~sgtatham/" target="_top">Simon Tatham</a>.
Se segui queste linee guida dovresti poter ottenere aiuto.. Ma per favore tieni
conto che tutti noi seguiamo le mailing list volontariamente nel tempo libero.
Siamo molto occupati e non possiamo garantire che otterrai una soluzione per il
tuo problema o anche solo una risposta.
</p></div><div class="sect1" title="A.5. Dove segnalare i bug"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="bugreports_where"></a>A.5. Dove segnalare i bug</h2></div></div></div><p>
Iscriviti alla mailing list MPlayer-users:
<a class="ulink" href="http://lists.mplayerhq.hu/mailman/listinfo/mplayer-users" target="_top">http://lists.mplayerhq.hu/mailman/listinfo/mplayer-users</a>
e invia il tuo rapporto sul bug a
<a class="ulink" href="mailto:mplayer-users@mplayerhq.hu" target="_top">mailto:mplayer-users@mplayerhq.hu</a> dove puoi discuterlo.
</p><p>
Se preferisci puoi invece usare il nostro bel nuovo
<a class="ulink" href="http://bugzilla.mplayerhq.hu/" target="_top">Bugzilla</a>.
</p><p>
La lingua di questa lista è l'<span class="bold"><strong>inglese</strong></span>.
Per favore segui gli standard delle
<a class="ulink" href="http://www.ietf.org/rfc/rfc1855.txt" target="_top">Linee guida della Netiquette</a>
e <span class="bold"><strong>non inviare email in HTML</strong></span> ad alcuna delle
nostre mailing list. Verrai semplicemente ignorato bandito. Se non sai cosa sia
una mail in HTML o perché sia il male, leggi questo
<a class="ulink" href="http://efn.no/html-bad.html" target="_top">buon documento</a>.
Ti spiega tutto in dettaglio e contiene le istruzioni per disabilitare l'HTML.
Inoltre nota che non rispondiamo in CC (copia carbone) alle persone, quindi è
una buona idea iscriversi per poter effettivamente ricevere la risposta.
</p></div><div class="sect1" title="A.6. Cosa riportare"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="bugreports_what"></a>A.6. Cosa riportare</h2></div></div></div><p>
Potrebbe servire che tu includa nel tuo rapporto sul bug registrazioni,
configurazioni o file di esempio. Se alcune di queste cose sono abbastanza
grandi, è meglio caricarle sul nostro
<a class="ulink" href="ftp://upload.mplayerhq.hu/MPlayer/incoming/" target="_top">server FTP</a> in
un formato compresso (si preferiscono gzip e bzip2) e inserisci nel rapporto
solo il nome e il percorso del file. Le nostre mailing list hanno un limite
sulla dimensione di 80k, se hai qualcosa di più grande devi comprimerlo o
caricarlo.
</p><div class="sect2" title="A.6.1. Informazioni di Sistema"><div class="titlepage"><div><div><h3 class="title"><a name="bugreports_system"></a>A.6.1. Informazioni di Sistema</h3></div></div></div><p>
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  La tua distribuzione Linux o il sistema operativo e la versione, per es.:
  </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>Red Hat 7.1</p></li><li class="listitem"><p>Slackware 7.0 + pacchetti sviluppo dalla 7.1 ...</p></li></ul></div><p>
</p></li><li class="listitem"><p>
  La versione del kernel:
  </p><pre class="screen">uname -a</pre><p>
</p></li><li class="listitem"><p>
  La versione di libc:
  </p><pre class="screen">ls -l /lib/libc[.-]*</pre><p>
</p></li><li class="listitem"><p>
  Le versioni di gcc e di ld:
  </p><pre class="screen">
gcc -v
ld -v</pre><p>
</p></li><li class="listitem"><p>
  La versione di binutils:
  </p><pre class="screen">as --version</pre><p>
</p></li><li class="listitem"><p>
  Se hai dei problemi con la modalità a schermo intero:
  </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>Il tipo di gestore di finestre e la versione</p></li></ul></div><p>
</p></li><li class="listitem"><p>
  Se hai dei problemi con XVIDIX:
  </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>
    La profondità colore di X:
    </p><pre class="screen">xdpyinfo | grep "depth of root"</pre><p>
  </p></li></ul></div><p>
</p></li><li class="listitem"><p>
  Se i bug sono solo nella GUI:
  </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>La versione di GTK</p></li><li class="listitem"><p>La versione di GLIB</p></li><li class="listitem"><p>La situazione della GUI in cui il bug si presenta</p></li></ul></div><p>
</p></li></ul></div><p>
</p></div><div class="sect2" title="A.6.2. Hardware e driver"><div class="titlepage"><div><div><h3 class="title"><a name="bugreports_hardware"></a>A.6.2. Hardware e driver</h3></div></div></div><p>
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Informazioni CPU (questo funziona solo in Linux):
  </p><pre class="screen">cat /proc/cpuinfo</pre><p>
</p></li><li class="listitem"><p>
  La marca della scheda video ed il modello, per es.:
  </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>ASUS V3800U chip: nVidia TNT2 Ultra pro 32MB SDRAM</p></li><li class="listitem"><p>Matrox G400 DH 32MB SGRAM</p></li></ul></div><p>
</p></li><li class="listitem"><p>
  Il tipo di driver video &amp; la versione, per es.:
  </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>X built-in driver</p></li><li class="listitem"><p>nVidia 0.9.623</p></li><li class="listitem"><p>Utah-GLX CVS 2001-02-17</p></li><li class="listitem"><p>DRI from X 4.0.3</p></li></ul></div><p>
</p></li><li class="listitem"><p>
  Il tipo di scheda video &amp; driver, per es.:
  </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>Creative SBLive! Gold with OSS driver from oss.creative.com</p></li><li class="listitem"><p>Creative SB16 with kernel OSS drivers</p></li><li class="listitem"><p>GUS PnP with ALSA OSS emulation</p></li></ul></div><p>
</p></li><li class="listitem"><p>
  Se hai dei dubbi includi l'emissione di <span class="command"><strong>lspci -vv</strong></span> su
  sitemi Linux.
</p></li></ul></div><p>
</p></div><div class="sect2" title="A.6.3. Problemi del configure"><div class="titlepage"><div><div><h3 class="title"><a name="bugreports_configure"></a>A.6.3. Problemi del configure</h3></div></div></div><p>
Se ricevi degli errori eseguendo <span class="command"><strong>./configure</strong></span>, o se fallisce
la rilevazione automatica di qualcosa, leggi <tt class="filename">configure.log</tt>.
Puoi travarci la soluzione, per esempio varie versioni della stessa libreria
mescolate sul tuo sistema, o hai dimenticato di installare il pacchetto di
scviluppo (quelli con il suffisso -dev). Se pensi ci sia un bug, includi
<tt class="filename">configure.log</tt> nel tuo rapporto sul bug stesso.
</p></div><div class="sect2" title="A.6.4. Problemi di compilazione"><div class="titlepage"><div><div><h3 class="title"><a name="bugreports_compilation"></a>A.6.4. Problemi di compilazione</h3></div></div></div><p>
Per favore includi questi file:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>config.h</p></li><li class="listitem"><p>config.mak</p></li></ul></div><p>
</p></div><div class="sect2" title="A.6.5. Problemi in riproduzione"><div class="titlepage"><div><div><h3 class="title"><a name="bugreports_playback"></a>A.6.5. Problemi in riproduzione</h3></div></div></div><p>
Per favore includi l'output di <span class="application">MPlayer</span> al livello
di verbosità 1, ma ricorda di
<span class="bold"><strong>non troncare tale output</strong></span> quando lo incolli
nella tua mail. Agli sviluppatori servono tutti i messaggi per diagnosticare
correttamente un problema. Puoi redirigere l'output in un file in questo modo:
</p><pre class="screen">
mplayer -v <em class="replaceable"><code>options</code></em> <em class="replaceable"><code>filename</code></em> &gt; mplayer.log 2&gt;&amp;1
</pre><p>
</p><p>
Se il tuo problema è specifico per uno o più file,
allora per favore carica quello/i incriminato/i in:
<a class="ulink" href="ftp://upload.mplayerhq.hu/MPlayer/incoming/" target="_top">ftp://upload.mplayerhq.hu/MPlayer/incoming/</a>
</p><p>
Carica anche un piccolo file di testo con lo stesso nome di base del file, con
un'estensione .txt. Descrivi il problema che hai con quel particolare file e
includi il tuo indirizzo email così come ll'ouptut di
<span class="application">MPlayer</span> all livello 1 di verbosità.
Solitamente i primi 1-5 MB di un file sono abbastanza per riprodurre il
problema, ma per esserne certi ti chiediamo di fare:
</p><pre class="screen">
dd if=<em class="replaceable"><code>tuo_file</code></em> of=<em class="replaceable"><code>piccolo_file</code></em> bs=1024k count=5
</pre><p>
Questo copierà i primi 5 mega di '<span class="bold"><strong>tuo_file</strong></span>'
e li scriverà su '<span class="bold"><strong>piccolo_file</strong></span>'. Dopo prova
di nuovo con il file piccolo e se il problema si presenta ancora per noi è
sufficiente. Per piacere <span class="bold"><strong>non inviare mai</strong></span> questi
file via mail! Caricali sull'FTP, e manda solo il percorso/nome del file nel
server FTP. Se il file è raggiungibile in rete, allora è sufficiente inviare
l'URL <span class="bold"><strong>preciso</strong></span>.
</p></div><div class="sect2" title="A.6.6. Crash"><div class="titlepage"><div><div><h3 class="title"><a name="bugreports_crash"></a>A.6.6. Crash</h3></div></div></div><p>
Devi eseguire <span class="application">MPlayer</span> dentro a <span class="command"><strong>gdb</strong></span>
e mandarci l'output completo oppure se hai un <tt class="filename">core</tt> dump
del crash puoi ricavare informazioni utili dal Core file. Qui spiega come:
</p><div class="sect3" title="A.6.6.1. Come conservare le informazioni di un crash riproducibile"><div class="titlepage"><div><div><h4 class="title"><a name="bugreports_debug"></a>A.6.6.1. Come conservare le informazioni di un crash riproducibile</h4></div></div></div><p>
Ricompila <span class="application">MPlayer</span> con il codice di debug abilitato:
</p><pre class="screen">
./configure --enable-debug=3
make
</pre><p>
e poi esegui <span class="application">MPlayer</span> da dentro gdb usando:
</p><pre class="screen">gdb ./mplayer</pre><p>
Ora sei dentro gdb, Scrivi:
</p><pre class="screen">
run -v <em class="replaceable"><code>opzioni-per-mplayer</code></em> <em class="replaceable"><code>nomefile</code></em>
</pre><p>
e riproduci il tuo crash. Appena ci sei riuscito, gdb ti ripresenterà il
prompt dei comandi, dove devi digitare
</p><pre class="screen">
bt
disass $pc-32 $pc+32
info all-registers
</pre><p>
</p></div><div class="sect3" title="A.6.6.2. Come ricavare informazioni significative da un core dump"><div class="titlepage"><div><div><h4 class="title"><a name="bugreports_core"></a>A.6.6.2. Come ricavare informazioni significative da un core dump</h4></div></div></div><p>
Genera il file di comandi seguente:
</p><pre class="screen">
bt
disass $pc-32 $pc+32
info all-registers
</pre><p>
Poi lancia semplicemente questo comando:
</p><pre class="screen">
gdb mplayer --core=core -batch --command=file_comandi &gt; mplayer.bug
</pre><p>
</p></div></div></div><div class="sect1" title="A.7. So quello che sto facendo..."><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="bugreports_advusers"></a>A.7. So quello che sto facendo...</h2></div></div></div><p>
Se hai generato un rapporto adeguato sul bug seguendo i passi suddetti e sei
certo che sia un bug in <span class="application">MPlayer</span> e non un problema
del compilatore o di un file danneggiato, se hai già letto la documentazione
non sei riuscito a trovare una soluzione, i tuoi driver audio sono OK, allora
potresti voler iscriverti alla lista MPlayer-advusers e inviare lì il tuo
rapporto per ottenere una riposta migliore e più rapida.
</p><p>
Renditi per favore conto che se invii lì domande da niubbo o domande che hanno
già una risposta nel manuale, sarai ignorato o alimenterai un flame, invece
di ottenere una risposta adeguata. Non generare flame contro di noi e iscriviti
a -advusers solo se sai davvero cosa stai facendo e senti di essere un utente
avanzato di <span class="application">MPlayer</span> o uno sviuppatore. Se rientri in
questi ranghi non dovrebbe esserti difficile scoprire come iscriverti...
</p></div></div><div class="appendix" title="Appendice B. MPlayer skin format"><div class="titlepage"><div><div><h2 class="title"><a name="skin"></a>Appendice B. <span class="application">MPlayer</span> skin format</h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="#skin-overview">B.1. Overview</a></span></dt><dd><dl><dt><span class="sect2"><a href="#skin-overview-components">B.1.1. Skin components</a></span></dt><dt><span class="sect2"><a href="#skin-overview-formats">B.1.2. Image formats</a></span></dt><dt><span class="sect2"><a href="#skin-files">B.1.3. Files</a></span></dt></dl></dd><dt><span class="sect1"><a href="#skin-file">B.2. The skin file</a></span></dt><dd><dl><dt><span class="sect2"><a href="#skin-file-main">B.2.1. Main window and playbar</a></span></dt><dt><span class="sect2"><a href="#skin-file-subwindow">B.2.2. Subwindow</a></span></dt><dt><span class="sect2"><a href="#skin-file-menu">B.2.3. Skin menu</a></span></dt></dl></dd><dt><span class="sect1"><a href="#skin-fonts">B.3. Fonts</a></span></dt><dd><dl><dt><span class="sect2"><a href="#skin-fonts-symbols">B.3.1. Symbols</a></span></dt></dl></dd><dt><span class="sect1"><a href="#skin-gui">B.4. GUI messages</a></span></dt><dt><span class="sect1"><a href="#skin-quality">B.5. Creating quality skins</a></span></dt></dl></div><div class="sect1" title="B.1. Overview"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="skin-overview"></a>B.1. Overview</h2></div></div></div><div class="sect2" title="B.1.1. Skin components"><div class="titlepage"><div><div><h3 class="title"><a name="skin-overview-components"></a>B.1.1. Skin components</h3></div></div></div><p>
Skins are quite free-format (unlike the fixed-format skins of
<span class="application">Winamp</span>/<span class="application">XMMS</span>,
for example), so it is up to you to create something great.
</p><p>
Currently there are four windows to be decorated: the
<a class="link" href="#skin-file-main" title="B.2.1. Main window and playbar">main window</a>, the
<a class="link" href="#skin-file-subwindow" title="B.2.2. Subwindow">subwindow</a>, the
<a class="link" href="#skin-file-main" title="B.2.1. Main window and playbar">playbar</a>, and the
<a class="link" href="#skin-file-menu" title="B.2.3. Skin menu">skin menu</a> (which can be activated
by a right click).

</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  The <span class="bold"><strong>main window</strong></span> and/or the
  <span class="bold"><strong>playbar</strong></span> is where you can control
  <span class="application">MPlayer</span>. The background of the window is an image.
  Various items can (and must) be placed in the window:
  <span class="emphasis"><em>buttons</em></span>, <span class="emphasis"><em>potmeters</em></span> (sliders) and
  <span class="emphasis"><em>labels</em></span>.
  For every item, you must specify its position and size.
  </p><p>
  A <span class="bold"><strong>button</strong></span> has three states (pressed, released,
  disabled), thus its image must be divided into three parts vertically. See the
  <a class="link" href="#skin-button">button</a> item for details.
  </p><p>
  A <span class="bold"><strong>potmeter</strong></span> (mainly used for the seek bar and
  volume/balance control) can have any number of phases by dividing its image
  into different parts below each other. See
  <a class="link" href="#skin-hpotmeter">hpotmeter</a> and
  <a class="link" href="#skin-potmeter">potmeter</a> for details.
  </p><p>
  <span class="bold"><strong>Labels</strong></span> are a bit special: The characters
  needed to draw them are taken from an image file, and the characters in the
  image are described by a
  <a class="link" href="#skin-fonts" title="B.3. Fonts">font description file</a>.
  The latter is a plain text file which specifies the x,y position and size of
  each character in the image (the image file and its font description file
  form a font <span class="emphasis"><em>together</em></span>).
  See <a class="link" href="#skin-dlabel">dlabel</a>
  and <a class="link" href="#skin-slabel">slabel</a> for details.
  </p><div class="note" title="Nota" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
  All images can have full transparency as described in the section about
  <a class="link" href="#skin-overview-formats" title="B.1.2. Image formats">image formats</a>. If the X server
  doesn't support the XShape extension, the parts marked transparent will be
  black. If you'd like to use this feature, the width of the main window's
  background image must be dividable by 8.
  </p></div></li><li class="listitem"><p>
  The <span class="bold"><strong>subwindow</strong></span> is where the movie appears. It
  can display a specified image if there is no movie loaded (it is quite boring
  to have an empty window :-)) <span class="bold"><strong>Note:</strong></span>
  transparency is <span class="bold"><strong>not allowed</strong></span> here.
</p></li><li class="listitem"><p>
  The <span class="bold"><strong>skin menu</strong></span> is just a way to control
  <span class="application">MPlayer</span> by means of menu entries. Two images
  are required for the menu: one of them is the base image that shows the
  menu in its normal state, the other one is used to display the selected
  entries. When you pop up the menu, the first image is shown. If you move
  the mouse over the menu entries, the currently selected entry is copied
  from the second image over the menu entry below the mouse pointer
  (the second image is never shown as a whole).
  </p><p>
  A menu entry is defined by its position and size in the image (see the
  section about the <a class="link" href="#skin-file-menu" title="B.2.3. Skin menu">skin menu</a> for
  details).
  </p></li></ul></div><p>
</p><p>
There is an important thing not mentioned yet: For buttons, potmeters and
menu entries to work, <span class="application">MPlayer</span> must know what to
do if they are clicked. This is done by <a class="link" href="#skin-gui" title="B.4. GUI messages">messages</a>
(events). For these items you must define the messages to be generated when
they are clicked.
</p></div><div class="sect2" title="B.1.2. Image formats"><div class="titlepage"><div><div><h3 class="title"><a name="skin-overview-formats"></a>B.1.2. Image formats</h3></div></div></div><p>Images must be truecolor (24 or 32 bpp) PNGs.</p><p>
In the main window and in the playbar (see below) you can use images with
`transparency': Regions filled with the color #FF00FF (magenta) are fully
transparent when viewed by <span class="application">MPlayer</span>. This means
that you can even have shaped windows if your X server has the XShape extension.
</p></div><div class="sect2" title="B.1.3. Files"><div class="titlepage"><div><div><h3 class="title"><a name="skin-files"></a>B.1.3. Files</h3></div></div></div><p>
You need the following files to build a skin:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  The configuration file named <a class="link" href="#skin-file" title="B.2. The skin file">skin</a> tells
  <span class="application">MPlayer</span> how to put different parts of the skin
  together and what to do if you click somewhere in the window.
</p></li><li class="listitem"><p>
  The background image for the main window.
</p></li><li class="listitem"><p>
  Images for the items in the main window (including one or more font
  description files needed to draw labels).
</p></li><li class="listitem"><p>
  The image to be displayed in the subwindow (optional).
</p></li><li class="listitem"><p>
  Two images for the skin menu (they are needed only if you want to create
  a menu).
</p></li></ul></div><p>
  With the exception of the skin configuration file, you can name the other
  files whatever you want (but note that font description files must have
  a <tt class="filename">.fnt</tt> extension).
</p></div></div><div class="sect1" title="B.2. The skin file"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="skin-file"></a>B.2. The skin file</h2></div></div></div><p>
As mentioned above, this is the skin configuration file. It is line oriented;
comment lines start with a '<code class="literal">;</code>' character at the beginning of
the line (only spaces and tabs are allowed before the '<code class="literal">;</code>').
</p><p>
The file is made up of sections. Each section describes the skin for an
application and has the following form:
</p><pre class="programlisting">
section = <em class="replaceable"><code>section name</code></em>
.
.
.
end
</pre><p>
</p><p>
Currently there is only one application, so you need only one section: its name
is <span class="bold"><strong>movieplayer</strong></span>.
</p><p>
Within this section each window is described by a block of the following form:
</p><pre class="programlisting">
window = <em class="replaceable"><code>window name</code></em>
.
.
.
end
</pre><p>
</p><p>
where <em class="replaceable"><code>window name</code></em> can be one of these strings:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  <span class="bold"><strong>main</strong></span> - for the main window
</p></li><li class="listitem"><p>
  <span class="bold"><strong>sub</strong></span> - for the subwindow
</p></li><li class="listitem"><p>
  <span class="bold"><strong>menu</strong></span> - for the skin menu
</p></li><li class="listitem"><p>
  <span class="bold"><strong>playbar</strong></span> - playbar
</p></li></ul></div><p>
</p><p>
(The sub and menu blocks are optional - you do not need to create a menu or
decorate the subwindow.)
</p><p>
Within a window block, you can define each item for the window by a line in
this form:
</p><pre class="programlisting">item = parameter</pre><p>
Where <code class="literal">item</code> is a string that identifies the type of the GUI
item, <code class="literal">parameter</code> is a numeric or textual value (or a list of
values separated by commas).
</p><p>
Putting the above together, the whole file looks something like this:
</p><pre class="programlisting">
section = movieplayer
  window = main
  ; ... items for main window ...
  end

  window = sub
  ; ... items for subwindow ...
  end

  window = menu
  ; ... items for menu ...
  end

  window = playbar
  ; ... items for playbar ...
  end
end
</pre><p>
</p><p>
The name of an image file must be given without leading directories - images
are searched for in the <tt class="filename">skins</tt> directory.
You may (but you need not) specify the extension of the file. If the file does
not exist, <span class="application">MPlayer</span> tries to load the file
<tt class="filename">&lt;filename&gt;.&lt;ext&gt;</tt>, where <code class="literal">png</code>
and <code class="literal">PNG</code> are tried for <tt class="filename">&lt;ext&gt;</tt>
(in this order). The first matching file will be used.
</p><p>
Here is an example to make this clear. Suppose that you have an image called
<tt class="filename">main.png</tt> that you use for the main window:
</p><pre class="programlisting">base = main, -1, -1</pre><p>
<span class="application">MPlayer</span> tries to load <tt class="filename">main</tt>,
<tt class="filename">main.png</tt>, <tt class="filename">main.PNG</tt> files.
</p><p>
Finally some words about positioning. The main window and the subwindow can be
placed in the different corners of the screen by giving <code class="literal">X</code>
and <code class="literal">Y</code> coordinates. <code class="literal">0</code> is top or left,
<code class="literal">-1</code> is center and <code class="literal">-2</code> is right or bottom, as
shown in this illustration:
</p><div class="informalfigure"><pre class="screen">
(0, 0)----(-1, 0)----(-2, 0)
  |          |          |
  |          |          |
(0,-1)----(-1,-1)----(-2,-1)
  |          |          |
  |          |          |
(0,-2)----(-1,-2)----(-2,-2)
</pre></div><p>
</p><div class="sect2" title="B.2.1. Main window and playbar"><div class="titlepage"><div><div><h3 class="title"><a name="skin-file-main"></a>B.2.1. Main window and playbar</h3></div></div></div><p>
Below is the list of entries that can be used in the
'<code class="literal">window = main</code>' ... '<code class="literal">end</code>',
and the '<code class="literal">window = playbar</code>' ... '<code class="literal">end</code>'
blocks.
</p><div class="variablelist"><dl><dt><span class="term"><code class="literal">
  <a name="skin-main-base"></a>base = image, X, Y
  </code></span></dt><dd><p>
  Lets you specify the background image to be used for the main window.
  The window will appear at the given <code class="literal">X,Y</code> position on
  the screen The window will have the size of the image.
  </p><div class="note" title="Nota" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
  These coordinates do not currently work for the display window.
  </p></div><div class="warning" title="Avvertimento" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Avvertimento</h3><p>Transparent regions in the image (colored #FF00FF) appear black
  on X servers without the XShape extension. The image's width must be dividable
  by 8.</p></div></dd><dt><span class="term"><code class="literal">
  <a name="skin-button"></a>button = image, X, Y, width, height, message
  </code></span></dt><dd><p>
  Place a button of <code class="literal">width</code> * <code class="literal">height</code> size at
  position <code class="literal">X,Y</code>. The specified <code class="literal">message</code> is
  generated when the button is clicked. The image given by
  <code class="literal">image</code> must have three parts below each other (according to
  the possible states of the button), like this:
  </p><div class="informalfigure"><pre class="screen">
+------------+
|  pressed   |
+------------+
|  released  |
+------------+
|  disabled  |
+------------+</pre></div></dd><dt><span class="term"><code class="literal">
  <a name="skin-decoration"></a>decoration = enable|disable
  </code></span></dt><dd><p>
  Enable or disable window manager decoration of the main window. Default is
  <span class="bold"><strong>disable</strong></span>.
  </p><div class="note" title="Nota" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
  This doesn't work for the display window, there is no need to.
  </p></div></dd><dt><span class="term"><code class="literal">
  <a name="skin-hpotmeter"></a>hpotmeter = button, bwidth, bheight, phases, numphases, default, X, Y, width, height, message
  </code></span></dt><dd><p>
  </p></dd><dt><span class="term"><code class="literal">
  <a name="skin-vpotmeter"></a>vpotmeter = button, bwidth, bheight, phases, numphases, default, X, Y, width, height, message
  </code></span></dt><dd><p>
  Place a horizontal (hpotmeter) or vertical (vpotmeter) potmeter of
  <code class="literal">width</code> * <code class="literal">height</code> size at position
  <code class="literal">X,Y</code>. The image can be divided into different parts for the
  different phases of the potmeter (for example, you can have a pot for volume
  control that turns from green to red while its value changes from the minimum
  to the maximum.). <code class="literal">hpotmeter</code> can have a button that can be
  dragged horizontally. The parameters are:
  </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
    <code class="literal">button</code> - the image to be used for the
    button (must have three parts below each other, like in case of
    <a class="link" href="#skin-button">button</a>)
  </p></li><li class="listitem"><p>
    <code class="literal">bwidth</code>, <code class="literal">bheight</code> - size
    of the button
  </p></li><li class="listitem"><p>
    <code class="literal">phases</code> - the image to be used for the
    different phases of the hpotmeter. A special value of <code class="literal">NULL</code>
    can be used if you want no such image. The image must be divided into
    <code class="literal">numphases</code> parts vertically like this:
    </p><div class="informalfigure"><pre class="screen">
+------------+
|  phase #1  |
+------------+
|  phase #2  |
+------------+
     ...
+------------+
|  phase #n  |
+------------+</pre></div><p>
  </p></li><li class="listitem"><p>
    <code class="literal">numphases</code> - number of phases stored in the
    <code class="literal">phases</code> image
  </p></li><li class="listitem"><p>
    <code class="literal">default</code> - default value for hpotmeter
    (in the range <code class="literal">0</code> to <code class="literal">100</code>)
  </p></li><li class="listitem"><p>
    <code class="literal">X</code>, <code class="literal">Y</code> - position for the hpotmeter
  </p></li><li class="listitem"><p>
    <code class="literal">width</code>, <code class="literal">height</code> - width and height
    of the <code class="literal">hpotmeter</code>
  </p></li><li class="listitem"><p>
    <code class="literal">message</code> - the message to be generated when the
    value of <code class="literal">hpotmeter</code> is changed
  </p></li></ul></div><p>
  </p></dd><dt><span class="term"><code class="literal">
  <a name="skin-potmeter"></a>potmeter = phases, numphases, default, X, Y, width, height, message
  </code></span></dt><dd><p>
  A <code class="literal">hpotmeter</code> without a button. (I guess it is meant to be
  turned around, but it reacts to horizontal dragging only.) For the description
  of the parameters see <a class="link" href="#skin-hpotmeter">hpotmeter</a>.
  <code class="literal">phases</code> can be <code class="literal">NULL</code>, but it is quite
  useless, since you cannot see where the <code class="literal">potmeter</code> is set.
  </p></dd><dt><span class="term"><code class="literal">
  <a name="skin-font"></a>font = fontfile, fontid
  </code></span></dt><dd><p>
  Defines a font. <code class="literal">fontfile</code> is the name of a font description
  file with a <tt class="filename">.fnt</tt> extension (do not specify the extension
  here).  <code class="literal">fontid</code> is used to refer to the font
  (see <a class="link" href="#skin-dlabel">dlabel</a>
  and <a class="link" href="#skin-slabel">slabel</a>). Up to 25 fonts can be defined.
  </p></dd><dt><span class="term"><code class="literal">
  <a name="skin-slabel"></a>slabel = X, Y, fontid, "text"
  </code></span></dt><dd><p>
  Place a static label at the position <code class="literal">X,Y</code>.
  <code class="literal">text</code> is displayed using the font identified by
  <code class="literal">fontid</code>. The text is just a raw string
  (<code class="literal">$x</code> variables do not work) that must be enclosed between
  double quotes (but the " character cannot be part of the text). The
  label is displayed using the font identified by <code class="literal">fontid</code>.
  </p></dd><dt><span class="term"><code class="literal">
  <a name="skin-dlabel"></a>dlabel = X, Y, length, align, fontid, "text"
  </code></span></dt><dd><p>
  Place a dynamic label at the position <code class="literal">X,Y</code>. The label is
  called dynamic because its text is refreshed periodically. The maximum length
  of the label is given by <code class="literal">length</code> (its height is the height
  of a character). If the text to be displayed is wider than that, it will be
  scrolled,
  otherwise it is aligned within the specified space by the value of the
  <code class="literal">align</code> parameter: <code class="literal">0</code> is for right,
  <code class="literal">1</code> is for center, <code class="literal">2</code> is for left.
  </p><p>
  The text to be displayed is given by <code class="literal">text</code>: It must be
  written between double quotes (but the " character cannot be part of the
  text). The label is displayed using the font identified by
  <code class="literal">fontid</code>. You can use the following variables in the text:
  </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Variable</th><th>Meaning</th></tr></thead><tbody><tr><td>$1</td><td>play time in <span class="emphasis"><em>hh:mm:ss</em></span> format</td></tr><tr><td>$2</td><td>play time in <span class="emphasis"><em>mmmm:ss</em></span> format</td></tr><tr><td>$3</td><td>play time in <span class="emphasis"><em>hh</em></span> format (hours)</td></tr><tr><td>$4</td><td>play time in <span class="emphasis"><em>mm</em></span> format (minutes)</td></tr><tr><td>$5</td><td>play time in <span class="emphasis"><em>ss</em></span> format (seconds)</td></tr><tr><td>$6</td><td>movie length in <span class="emphasis"><em>hh:mm:ss</em></span> format</td></tr><tr><td>$7</td><td>movie length in <span class="emphasis"><em>mmmm:ss</em></span> format</td></tr><tr><td>$8</td><td>play time in <span class="emphasis"><em>h:mm:ss</em></span> format</td></tr><tr><td>$v</td><td>volume in <span class="emphasis"><em>xxx.xx</em></span>% format</td></tr><tr><td>$V</td><td>volume in <span class="emphasis"><em>xxx.xx</em></span> format</td></tr><tr><td>$b</td><td>balance in <span class="emphasis"><em>xxx.xx</em></span>% format</td></tr><tr><td>$B</td><td>balance in <span class="emphasis"><em>xxx.xx</em></span> format</td></tr><tr><td>$$</td><td>the $ character</td></tr><tr><td>$a</td><td>a character according to the audio type (none: <code class="literal">n</code>,
	mono: <code class="literal">m</code>, stereo: <code class="literal">t</code>)</td></tr><tr><td>$t</td><td>track number (in playlist)</td></tr><tr><td>$o</td><td>filename</td></tr><tr><td>$f</td><td>filename in lower case</td></tr><tr><td>$F</td><td>filename in upper case</td></tr><tr><td>$T</td><td>
	a character according to the stream type (file: <code class="literal">f</code>,
	Video CD: <code class="literal">v</code>, DVD: <code class="literal">d</code>,
	URL: <code class="literal">u</code>)
	</td></tr><tr><td>$p</td><td>the <span class="keycap"><b>p</b></span> character (if a movie is playing and the font
    has the <span class="keycap"><b>p</b></span> character)</td></tr><tr><td>$s</td><td>the <span class="keycap"><b>s</b></span> character (if the movie is stopped and the
    font has the <span class="keycap"><b>s</b></span> character)</td></tr><tr><td>$e</td><td>the <span class="keycap"><b>e</b></span> character (if playback is paused and the font
    has the <span class="keycap"><b>e</b></span> character)</td></tr><tr><td>$x</td><td>movie width</td></tr><tr><td>$y</td><td>movie height</td></tr><tr><td>$C</td><td>name of the codec used</td></tr></tbody></table></div><div class="note" title="Nota" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
  The <code class="literal">$a, $T, $p, $s</code> and <code class="literal">$e</code>
  variables all return characters that should be displayed as special symbols
  (for example, <span class="keycap"><b>e</b></span> is for the pause symbol that usually looks
  something like ||). You should have a font for normal characters and
  a different font for symbols. See the section about
  <a class="link" href="#skin-fonts-symbols" title="B.3.1. Symbols">symbols</a> for more information.
  </p></div></dd></dl></div></div><div class="sect2" title="B.2.2. Subwindow"><div class="titlepage"><div><div><h3 class="title"><a name="skin-file-subwindow"></a>B.2.2. Subwindow</h3></div></div></div><p>
The following entries can be used in the
'<code class="literal">window = sub</code>' . . . '<code class="literal">end</code>' block.
</p><div class="variablelist"><dl><dt><span class="term"><code class="literal">
  <a name="skin-sub-base"></a>base = image, X, Y, width, height
  </code></span></dt><dd><p>
  The image to be displayed in the window. The window will appear at the given
  <code class="literal">X,Y</code> position on the screen (<code class="literal">0,0</code> is the
  top left corner). You can specify <code class="literal">-1</code> for center and
  <code class="literal">-2</code> for right (<code class="literal">X</code>) and bottom
  (<code class="literal">Y</code>). The window will be as large as the image.
  <code class="literal">width</code> and <code class="literal">height</code>
  denote the size of the window; they are optional (if they are missing, the
  window is the same size as the image).
  </p></dd><dt><span class="term"><code class="literal">
  <a name="skin-background"></a>background = R, G, B
  </code></span></dt><dd><p>
  Lets you set the background color. It is useful if the image is smaller than
  the window. <code class="literal">R</code>, <code class="literal">G</code> and
  <code class="literal">B</code> specifies the red, green and blue component of the color
  (each of them is a decimal number from 0 to 255).
  </p></dd></dl></div></div><div class="sect2" title="B.2.3. Skin menu"><div class="titlepage"><div><div><h3 class="title"><a name="skin-file-menu"></a>B.2.3. Skin menu</h3></div></div></div><p>
As mentioned earlier, the menu is displayed using two images. Normal menu
entries are taken from the image specified by the <code class="literal">base</code> item,
while the currently selected entry is taken from the image specified by the
<code class="literal">selected</code> item. You must define the position and size of each
menu entry through the menu item.
</p><p>
The following entries can be used in the
'<code class="literal">window = menu</code>'. . .'<code class="literal">end</code>' block.
</p><div class="variablelist"><dl><dt><span class="term"><code class="literal">
  <a name="skin-menu-base"></a>base = image
  </code></span></dt><dd><p>
  The image for normal menu entries.
  </p></dd><dt><span class="term"><code class="literal">
  <a name="skin-selected"></a>selected = image
  </code></span></dt><dd><p>
  The image showing the menu with all entries selected.
  </p></dd><dt><span class="term"><code class="literal">
  <a name="skin-menu"></a>menu = X, Y, width, height, message
  </code></span></dt><dd><p>
  Defines the <code class="literal">X,Y</code> position and the size of a menu entry in
  the image. <code class="literal">message</code> is the message to be generated when the
  mouse button is released over the entry.
  </p></dd></dl></div></div></div><div class="sect1" title="B.3. Fonts"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="skin-fonts"></a>B.3. Fonts</h2></div></div></div><p>
As mentioned in the section about the parts of a skin, a font is defined by an
image and a description file. You can place the characters anywhere in the
image, but make sure that their position and size is given in the description
file exactly.
</p><p>
The font description file (with <tt class="filename">.fnt</tt> extension) can have
comment lines starting with '<code class="literal">;</code>'. The file must have a line
in the form
<a name="skin-font-image"></a>
</p><pre class="programlisting">image = <em class="replaceable"><code>image</code></em></pre><p>
Where <code class="literal"><em class="replaceable"><code>image</code></em></code> is the name of the
image file to be used for the font (you do not have to specify the extension).
<a name="skin-font-char"></a>
</p><pre class="programlisting">"char" = X, Y, width, height</pre><p>
Here <code class="literal">X</code> and <code class="literal">Y</code> specify the position of the
<code class="literal">char</code> character in the image (<code class="literal">0,0</code> is the
upper left corner). <code class="literal">width</code> and <code class="literal">height</code> are
the dimensions of the character in pixels.
</p><p>
This example defines the A, B, C characters using <tt class="filename">font.png</tt>.
</p><pre class="programlisting">
; Can be "font" instead of "font.png".
image = font.png

; Three characters are enough for demonstration purposes :-)
"A" =  0,0, 7,13
"B" =  7,0, 7,13
"C" = 14,0, 7,13
</pre><p>
</p><div class="sect2" title="B.3.1. Symbols"><div class="titlepage"><div><div><h3 class="title"><a name="skin-fonts-symbols"></a>B.3.1. Symbols</h3></div></div></div><p>
Some characters have special meanings when returned by some of the variables
used in <a class="link" href="#skin-dlabel">dlabel</a>. These characters are meant
to be shown as symbols so that things like a nice DVD logo can be displayed
instead of the character '<code class="literal">d</code>' for a DVD stream.
</p><p>
The following table lists all the characters that can be used to display
symbols (and thus require a different font).
</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Character</th><th>Symbol</th></tr></thead><tbody><tr><td><span class="keycap"><b>p</b></span></td><td>play</td></tr><tr><td><span class="keycap"><b>s</b></span></td><td>stop</td></tr><tr><td><span class="keycap"><b>e</b></span></td><td>pause</td></tr><tr><td><span class="keycap"><b>n</b></span></td><td>no sound</td></tr><tr><td><span class="keycap"><b>m</b></span></td><td>mono sound</td></tr><tr><td><span class="keycap"><b>t</b></span></td><td>stereo sound</td></tr><tr><td><span class="keycap"><b>f</b></span></td><td>stream is a file</td></tr><tr><td><span class="keycap"><b>v</b></span></td><td>stream is a Video CD</td></tr><tr><td><span class="keycap"><b>d</b></span></td><td>stream is a DVD</td></tr><tr><td><span class="keycap"><b>u</b></span></td><td>stream is a URL</td></tr></tbody></table></div></div></div><div class="sect1" title="B.4. GUI messages"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="skin-gui"></a>B.4. GUI messages</h2></div></div></div><p>
These are the messages that can be generated by buttons, potmeters and
menu entries.
</p><div class="variablelist" title="Playback control:"><p class="title"><b>Playback control:</b></p><dl><dt><span class="term"><span class="bold"><strong>evNext</strong></span></span></dt><dd><p>
  Jump to next track in the playlist.
  </p></dd><dt><span class="term"><span class="bold"><strong>evPause</strong></span></span></dt><dd><p>
  Forms a switch together with <code class="literal">evPlaySwitchToPause</code>. They can
  be used to have a common play/pause button. Both messages should be assigned
  to buttons displayed at the very same position in the window. This message
  pauses playing and the image for the <code class="literal">evPlaySwitchToPause</code>
  button is displayed (to indicate that the button can be pressed to continue
  playing).
  </p></dd><dt><span class="term"><span class="bold"><strong>evPlay</strong></span></span></dt><dd><p>
  Start playing.
  </p></dd><dt><span class="term"><span class="bold"><strong>evPlaySwitchToPause</strong></span></span></dt><dd><p>
  The opposite of <code class="literal">evPauseSwitchToPlay</code>. This message starts
  playing and the image for the <code class="literal">evPauseSwitchToPlay</code> button
  is displayed (to indicate that the button can be pressed to pause playing).
  </p></dd><dt><span class="term"><span class="bold"><strong>evPrev</strong></span></span></dt><dd><p>
  Jump to previous track in the playlist.
  </p></dd><dt><span class="term"><span class="bold"><strong>evStop</strong></span></span></dt><dd><p>
  Stop playing.
  </p></dd></dl></div><div class="variablelist" title="Seeking:"><p class="title"><b>Seeking:</b></p><dl><dt><span class="term"><span class="bold"><strong>evBackward10sec</strong></span></span></dt><dd><p>
  Seek backward 10 seconds.
  </p></dd><dt><span class="term"><span class="bold"><strong>evBackward1min</strong></span></span></dt><dd><p>
  Seek backward 1 minute.
  </p></dd><dt><span class="term"><span class="bold"><strong>evBackward10min</strong></span></span></dt><dd><p>
  Seek backward 10 minutes.
  </p></dd><dt><span class="term"><span class="bold"><strong>evForward10sec</strong></span></span></dt><dd><p>
  Seek forward 10 seconds.
  </p></dd><dt><span class="term"><span class="bold"><strong>evForward1min</strong></span></span></dt><dd><p>
  Seek forward 1 minute.
  </p></dd><dt><span class="term"><span class="bold"><strong>evForward10min</strong></span></span></dt><dd><p>
  Seek forward 10 minutes.
  </p></dd><dt><span class="term"><span class="bold"><strong>evSetMoviePosition</strong></span></span></dt><dd><p>
  Seek to position (can be used by a potmeter; the
  relative value (0-100%) of the potmeter is used).
  </p></dd></dl></div><div class="variablelist" title="Video control:"><p class="title"><b>Video control:</b></p><dl><dt><span class="term"><span class="bold"><strong>evHalfSize</strong></span></span></dt><dd><p>
  Set the movie window to half size.
  </p></dd><dt><span class="term"><span class="bold"><strong>evDoubleSize</strong></span></span></dt><dd><p>
  Set the movie window to double size.
  </p></dd><dt><span class="term"><span class="bold"><strong>evFullScreen</strong></span></span></dt><dd><p>
  Switch fullscreen mode on/off.
  </p></dd><dt><span class="term"><span class="bold"><strong>evNormalSize</strong></span></span></dt><dd><p>
  Set the movie window to its normal size.
  </p></dd></dl></div><div class="variablelist" title="Audio control:"><p class="title"><b>Audio control:</b></p><dl><dt><span class="term"><span class="bold"><strong>evDecAudioBufDelay</strong></span></span></dt><dd><p>
  Decrease audio buffer delay.
  </p></dd><dt><span class="term"><span class="bold"><strong>evDecBalance</strong></span></span></dt><dd><p>
  Decrease balance.
  </p></dd><dt><span class="term"><span class="bold"><strong>evDecVolume</strong></span></span></dt><dd><p>
  Decrease volume.
  </p></dd><dt><span class="term"><span class="bold"><strong>evIncAudioBufDelay</strong></span></span></dt><dd><p>
  Increase audio buffer delay.
  </p></dd><dt><span class="term"><span class="bold"><strong>evIncBalance</strong></span></span></dt><dd><p>
  Increase balance.
  </p></dd><dt><span class="term"><span class="bold"><strong>evIncVolume</strong></span></span></dt><dd><p>
  Increase volume.
  </p></dd><dt><span class="term"><span class="bold"><strong>evMute</strong></span></span></dt><dd><p>
  Mute/unmute the sound.
  </p></dd><dt><span class="term"><span class="bold"><strong>evSetBalance</strong></span></span></dt><dd><p>
  Set balance (can be used by a potmeter; the
  relative value (0-100%) of the potmeter is used).
  </p></dd><dt><span class="term"><span class="bold"><strong>evSetVolume</strong></span></span></dt><dd><p>
  Set volume (can be used by a potmeter; the relative
  value (0-100%) of the potmeter is used).
  </p></dd></dl></div><div class="variablelist" title="Miscellaneous:"><p class="title"><b>Miscellaneous:</b></p><dl><dt><span class="term"><span class="bold"><strong>evAbout</strong></span></span></dt><dd><p>
  Open the about window.
  </p></dd><dt><span class="term"><span class="bold"><strong>evDropSubtitle</strong></span></span></dt><dd><p>
  Disables the currently used subtitle.
  </p></dd><dt><span class="term"><span class="bold"><strong>evEqualizer</strong></span></span></dt><dd><p>
  Turn the equalizer on/off.
  </p></dd><dt><span class="term"><span class="bold"><strong>evExit</strong></span></span></dt><dd><p>
  Quit the program.
  </p></dd><dt><span class="term"><span class="bold"><strong>evIconify</strong></span></span></dt><dd><p>
  Iconify the window.
  </p></dd><dt><span class="term"><span class="bold"><strong>evLoad</strong></span></span></dt><dd><p>
  Load a file (by opening a file browser window, where you can choose a file).
  </p></dd><dt><span class="term"><span class="bold"><strong>evLoadPlay</strong></span></span></dt><dd><p>
  Does the same as <code class="literal">evLoad</code>, but it automatically starts
  playing after the file is loaded.
  </p></dd><dt><span class="term"><span class="bold"><strong>evLoadSubtitle</strong></span></span></dt><dd><p>
  Loads a subtitle file (with the file selector).
  </p></dd><dt><span class="term"><span class="bold"><strong>evLoadAudioFile</strong></span></span></dt><dd><p>
  Loads an audio file (with the file selector).
  </p></dd><dt><span class="term"><span class="bold"><strong>evNone</strong></span></span></dt><dd><p>
  Empty message, it has no effect (except maybe in Subversion versions :-)).
  </p></dd><dt><span class="term"><span class="bold"><strong>evPlaylist</strong></span></span></dt><dd><p>
  Open/close the playlist window.
  </p></dd><dt><span class="term"><span class="bold"><strong>evPlayDVD</strong></span></span></dt><dd><p>
  Tries to open the disc in the given DVD-ROM drive.
  </p></dd><dt><span class="term"><span class="bold"><strong>evPlayVCD</strong></span></span></dt><dd><p>
  Tries to open the disc in the given CD-ROM drive.
  </p></dd><dt><span class="term"><span class="bold"><strong>evPreferences</strong></span></span></dt><dd><p>
  Open the preferences window.
  </p></dd><dt><span class="term"><span class="bold"><strong>evSetAspect</strong></span></span></dt><dd><p>
  Sets displayed image aspect.
  </p></dd><dt><span class="term"><span class="bold"><strong>evSetURL</strong></span></span></dt><dd><p>
  Displays the URL dialog window.
  </p></dd><dt><span class="term"><span class="bold"><strong>evSkinBrowser</strong></span></span></dt><dd><p>
  Open the skin browser window.
  </p></dd></dl></div></div><div class="sect1" title="B.5. Creating quality skins"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="skin-quality"></a>B.5. Creating quality skins</h2></div></div></div><p>
So you have read up on creating skins for the
<span class="application">MPlayer</span> GUI, done your best with the
<span class="application">Gimp</span> and wish to submit your skin to us?
Read on for some guidelines to avoid common mistakes and produce
a high quality skin.
</p><p>
We want skins that we add to our repository to conform to certain
quality standards. There are also a number of things that you can do
to make our lives easier.
</p><p>
As an example you can look at the <code class="systemitem">Blue</code> skin,
it satisfies all the criteria listed below since version 1.5.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
  Each skin should come with a
  <tt class="filename">README</tt> file that contains information about
  you, the author, copyright and license notices and anything else
  you wish to add. If you wish to have a changelog, this file is a
  good place.
</p></li><li class="listitem"><p>
  There should be a file <tt class="filename">VERSION</tt>
  with nothing more than the version number of the skin on a single
  line (e.g. 1.0).
</p></li><li class="listitem"><p>
  Horizontal and vertical controls (sliders like volume
  or position) should have the center of the knob properly centered on
  the middle of the slider. It should be possible to move the knob to
  both ends of the slider, but not past it.
</p></li><li class="listitem"><p>
  Skin elements should have the right sizes declared
  in the skin file. If this is not the case you can click outside of
  e.g. a button and still trigger it or click inside its area and not
  trigger it.
</p></li><li class="listitem"><p>
  The <tt class="filename">skin</tt> file should be
  prettyprinted and not contain tabs. Prettyprinted means that the
  numbers should line up neatly in columns.
</p></li></ul></div></div></div></div></body></html>
